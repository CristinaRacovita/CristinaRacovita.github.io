(self.webpackChunkodin_ai=self.webpackChunkodin_ai||[]).push([[179],{8255:Ye=>{function Te(V){return Promise.resolve().then(()=>{var u=new Error("Cannot find module '"+V+"'");throw u.code="MODULE_NOT_FOUND",u})}Te.keys=()=>[],Te.resolve=Te,Te.id=8255,Ye.exports=Te},7716:(Ye,Te,V)=>{"use strict";V.d(Te,{deG:()=>nf,tb:()=>HA,AFp:()=>UA,ip1:()=>F0,CZH:()=>Fp,hGG:()=>fM,z2F:()=>Nh,sBO:()=>ai,Sil:()=>y_,_Vd:()=>bh,EJc:()=>GA,SBq:()=>Eo,qLn:()=>v,vpe:()=>ma,gxx:()=>Yt,tBr:()=>Xa,XFs:()=>Ze,OlP:()=>ln,zs3:()=>Qe,ZZ4:()=>Lu,aQg:()=>qm,soG:()=>pb,YKP:()=>Hv,v3s:()=>iM,h0i:()=>pa,PXZ:()=>yb,R0b:()=>$s,FiY:()=>Ms,Lbi:()=>V0,g9A:()=>jA,Qsj:()=>wI,FYo:()=>Fu,JOm:()=>ts,Tiy:()=>Fv,q3G:()=>En,tp0:()=>or,EAV:()=>lM,Rgc:()=>_p,dDg:()=>ZA,DyG:()=>wi,q4F:()=>kw,GfV:()=>xw,s_b:()=>Xm,ifc:()=>Ue,eFA:()=>Y0,G48:()=>TP,Gpc:()=>j,f3M:()=>Id,X6Q:()=>G0,_c5:()=>FP,VLi:()=>SP,c2e:()=>$A,zSh:()=>Nf,wAp:()=>it,vHH:()=>Ee,EiD:()=>hu,mCW:()=>$l,qzn:()=>lu,JVY:()=>Sg,pB0:()=>il,eBb:()=>cu,L6k:()=>df,LAX:()=>uo,cg1:()=>Ev,Tjo:()=>kP,kL8:()=>Lm,yhl:()=>ea,dqk:()=>Lt,sIi:()=>Hf,CqO:()=>Im,QGY:()=>Tm,F4k:()=>OE,RDi:()=>ad,AaK:()=>Q,z3N:()=>co,qOj:()=>wu,TTD:()=>Bo,_Bn:()=>Ow,xp6:()=>em,uIk:()=>Wy,ekj:()=>ip,Suo:()=>kh,Xpm:()=>bt,lG2:()=>Tl,Yz7:()=>jt,cJS:()=>Tt,oAB:()=>Ro,Yjl:()=>gs,Y36:()=>ch,_UZ:()=>ME,qZA:()=>rv,TgZ:()=>nv,EpF:()=>sv,n5z:()=>Jc,Ikx:()=>Cv,LFG:()=>on,$8M:()=>vd,NdJ:()=>uh,CRH:()=>D0,oxw:()=>ov,Hsn:()=>av,F$t:()=>kE,Q6J:()=>Sm,s9C:()=>ua,MGl:()=>Jf,VKq:()=>m0,iGM:()=>cb,CHM:()=>Lc,oJD:()=>yf,LSH:()=>Nd,kYT:()=>Sl,Udp:()=>rp,WFA:()=>Am,d8E:()=>fp,YNc:()=>zf,_uU:()=>qE,Oqu:()=>Ou,hij:()=>hh,Gf:()=>w0});var u=V(9765),ne=V(5319),L=V(7574),he=V(6682),le=V(8819);function ee(i){for(let s in i)if(i[s]===ee)return s;throw Error("Could not find renamed property on target object.")}function ie(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function Q(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Q).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function X(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const F=ee({__forward_ref__:ee});function j(i){return i.__forward_ref__=j,i.toString=function(){return Q(this())},i}function H(i){return ce(i)?i():i}function ce(i){return"function"==typeof i&&i.hasOwnProperty(F)&&i.__forward_ref__===j}class Ee extends Error{constructor(s,o){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,o)),this.code=s}}function se(i){return"string"==typeof i?i:null==i?"":String(i)}function we(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():se(i)}function Ot(i,s){const o=s?` in ${s}`:"";throw new Ee("201",`No provider for ${we(i)} found${o}`)}function kt(i,s){null==i&&function(i,s,o,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${o} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function jt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Tt(i){return{providers:i.providers||[],imports:i.imports||[]}}function Vn(i){return Cr(i,Ni)||Cr(i,Wr)}function Cr(i,s){return i.hasOwnProperty(s)?i[s]:null}function hs(i){return i&&(i.hasOwnProperty(dr)||i.hasOwnProperty(Ys))?i[dr]:null}const Ni=ee({\u0275prov:ee}),dr=ee({\u0275inj:ee}),Wr=ee({ngInjectableDef:ee}),Ys=ee({ngInjectorDef:ee});var Ze=(()=>((Ze=Ze||{})[Ze.Default=0]="Default",Ze[Ze.Host=1]="Host",Ze[Ze.Self=2]="Self",Ze[Ze.SkipSelf=4]="SkipSelf",Ze[Ze.Optional=8]="Optional",Ze))();let an;function hr(i){const s=an;return an=i,s}function Jn(i,s,o){const l=Vn(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&Ze.Optional?null:void 0!==s?s:void Ot(Q(i),"Injector")}function Sn(i){return{toString:i}.toString()}var tn=(()=>((tn=tn||{})[tn.OnPush=0]="OnPush",tn[tn.Default=1]="Default",tn))(),Ue=(()=>((Ue=Ue||{})[Ue.Emulated=0]="Emulated",Ue[Ue.None=2]="None",Ue[Ue.ShadowDom=3]="ShadowDom",Ue))();const st="undefined"!=typeof globalThis&&globalThis,Xn="undefined"!=typeof window&&window,Vr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Lt=st||"undefined"!=typeof global&&global||Xn||Vr,W={},G=[],K=ee({\u0275cmp:ee}),Ie=ee({\u0275dir:ee}),de=ee({\u0275pipe:ee}),ze=ee({\u0275mod:ee}),Me=ee({\u0275loc:ee}),be=ee({\u0275fac:ee}),Le=ee({__NG_ELEMENT_ID__:ee});let We=0;function bt(i){return Sn(()=>{const o={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===tn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||G,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Ue.Emulated,id:"c",styles:i.styles||G,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,h=i.features,m=i.pipes;return l.id+=We++,l.inputs=Ta(i.inputs,o),l.outputs=Ta(i.outputs),h&&h.forEach(y=>y(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(Ht):null,l.pipeDefs=m?()=>("function"==typeof m?m():m).map(dn):null,l})}function Ht(i){return Bn(i)||function(i){return i[Ie]||null}(i)}function dn(i){return function(i){return i[de]||null}(i)}const Sa={};function Ro(i){return Sn(()=>{const s={type:i.type,bootstrap:i.bootstrap||G,declarations:i.declarations||G,imports:i.imports||G,exports:i.exports||G,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Sa[i.id]=i.type),s})}function Sl(i,s){return Sn(()=>{const o=Yr(i,!0);o.declarations=s.declarations||G,o.imports=s.imports||G,o.exports=s.exports||G})}function Ta(i,s){if(null==i)return W;const o={};for(const l in i)if(i.hasOwnProperty(l)){let d=i[l],h=d;Array.isArray(d)&&(h=d[1],d=d[0]),o[d]=l,s&&(s[d]=h)}return o}const Tl=bt;function gs(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Bn(i){return i[K]||null}function Yr(i,s){const o=i[ze]||null;if(!o&&!0===s)throw new Error(`Type ${Q(i)} does not have '\u0275mod' property.`);return o}function fi(i){return Array.isArray(i)&&"object"==typeof i[1]}function nr(i){return Array.isArray(i)&&!0===i[1]}function Al(i){return 0!=(8&i.flags)}function Ml(i){return 2==(2&i.flags)}function ko(i){return 1==(1&i.flags)}function gr(i){return null!==i.template}function In(i){return 0!=(512&i[2])}function Bi(i,s){return i.hasOwnProperty(be)?i[be]:null}class sd{constructor(s,o,l){this.previousValue=s,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function Bo(){return bs}function bs(i){return i.type.prototype.ngOnChanges&&(i.setInput=Ui),hg}function hg(){const i=kc(this),s=null==i?void 0:i.current;if(s){const o=i.previous;if(o===W)i.previous=s;else for(let l in s)o[l]=s[l];i.current=null,this.ngOnChanges(s)}}function Ui(i,s,o,l){const d=kc(i)||function(i,s){return i[Kr]=s}(i,{previous:W,current:null}),h=d.current||(d.current={}),m=d.previous,y=this.declaredInputs[o],E=m[y];h[y]=new sd(E&&E.currentValue,s,m===W),i[l]=s}Bo.ngInherit=!0;const Kr="__ngSimpleChanges__";function kc(i){return i[Kr]||null}let Pa;function ad(i){Pa=i}function Cs(){return void 0!==Pa?Pa:"undefined"!=typeof document?document:void 0}function Qt(i){return!!i.listen}const Jr={createRenderer:(i,s)=>Cs()};function Jt(i){for(;Array.isArray(i);)i=i[0];return i}function Es(i,s){return Jt(s[i])}function rr(i,s){return Jt(s[i.index])}function Ol(i,s){return i.data[s]}function mr(i,s){const o=s[i];return fi(o)?o:o[0]}function Fa(i){return 4==(4&i[2])}function Fc(i){return 128==(128&i[2])}function ji(i,s){return null==s?null:i[s]}function Uo(i){i[18]=0}function Ds(i,s){i[5]+=s;let o=i,l=i[3];for(;null!==l&&(1===s&&1===o[5]||-1===s&&0===o[5]);)l[5]+=s,o=l,l=l[3]}const ot={lFrame:dd(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Va(){return ot.bindingsEnabled}function Re(){return ot.lFrame.lView}function Et(){return ot.lFrame.tView}function Lc(i){return ot.lFrame.contextLView=i,i[8]}function Zt(){let i=Vc();for(;null!==i&&64===i.type;)i=i.parent;return i}function Vc(){return ot.lFrame.currentTNode}function Br(i,s){const o=ot.lFrame;o.currentTNode=i,o.isParent=s}function xl(){return ot.lFrame.isParent}function jo(){ot.lFrame.isParent=!1}function Ho(){return ot.isInCheckNoChangesMode}function $o(i){ot.isInCheckNoChangesMode=i}function $i(){return ot.lFrame.bindingIndex++}function Bc(i,s){const o=ot.lFrame;o.bindingIndex=o.bindingRootIndex=i,Uc(s)}function Uc(i){ot.lFrame.currentDirectiveIndex=i}function Ks(i){const s=ot.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function ud(){return ot.lFrame.currentQueryIndex}function ja(i){ot.lFrame.currentQueryIndex=i}function Ha(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function $a(i,s,o){if(o&Ze.SkipSelf){let d=s,h=i;for(;!(d=d.parent,null!==d||o&Ze.Host||(d=Ha(h),null===d||(h=h[15],10&d.type))););if(null===d)return!1;s=d,i=h}const l=ot.lFrame=Qs();return l.currentTNode=s,l.lView=i,!0}function Ga(i){const s=Qs(),o=i[1];ot.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function Qs(){const i=ot.lFrame,s=null===i?null:i.child;return null===s?dd(i):s}function dd(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function hd(){const i=ot.lFrame;return ot.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const fd=hd;function Js(){const i=hd();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function sr(){return ot.lFrame.selectedIndex}function za(i){ot.lFrame.selectedIndex=i}function An(){const i=ot.lFrame;return Ol(i.tView,i.selectedIndex)}function zo(i,s){for(let o=s.directiveStart,l=s.directiveEnd;o<l;o++){const h=i.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:y,ngAfterViewInit:E,ngAfterViewChecked:S,ngOnDestroy:I}=h;m&&(i.contentHooks||(i.contentHooks=[])).push(-o,m),y&&((i.contentHooks||(i.contentHooks=[])).push(o,y),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(o,y)),E&&(i.viewHooks||(i.viewHooks=[])).push(-o,E),S&&((i.viewHooks||(i.viewHooks=[])).push(o,S),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(o,S)),null!=I&&(i.destroyHooks||(i.destroyHooks=[])).push(o,I)}}function Wo(i,s,o){Gc(i,s,3,o)}function Wa(i,s,o,l){(3&i[2])===o&&Gc(i,s,o,l)}function Mn(i,s){let o=i[2];(3&o)===s&&(o&=2047,o+=1,i[2]=o)}function Gc(i,s,o,l){const h=null!=l?l:-1,m=s.length-1;let y=0;for(let E=void 0!==l?65535&i[18]:0;E<m;E++)if("number"==typeof s[E+1]){if(y=s[E],null!=l&&y>=l)break}else s[E]<0&&(i[18]+=65536),(y<h||-1==h)&&(zc(i,o,s,E),i[18]=(4294901760&i[18])+E+2),E++}function zc(i,s,o,l){const d=o[l]<0,h=o[l+1],y=i[d?-o[l]:o[l]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{h.call(y)}finally{}}}else try{h.call(y)}finally{}}class kl{constructor(s,o,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function bi(i,s,o){const l=Qt(i);let d=0;for(;d<o.length;){const h=o[d];if("number"==typeof h){if(0!==h)break;d++;const m=o[d++],y=o[d++],E=o[d++];l?i.setAttribute(s,y,E,m):s.setAttributeNS(m,y,E)}else{const m=h,y=o[++d];Ci(m)?l&&i.setProperty(s,m,y):l?i.setAttribute(s,m,y):s.setAttribute(m,y),d++}}return d}function gd(i){return 3===i||4===i||6===i}function Ci(i){return 64===i.charCodeAt(0)}function Gi(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?o=d:0===o||md(i,o,d,null,-1===o||2===o?s[++l]:null)}}return i}function md(i,s,o,l,d){let h=0,m=i.length;if(-1===s)m=-1;else for(;h<i.length;){const y=i[h++];if("number"==typeof y){if(y===s){m=-1;break}if(y>s){m=h-1;break}}}for(;h<i.length;){const y=i[h];if("number"==typeof y)break;if(y===o){if(null===l)return void(null!==d&&(i[h+1]=d));if(l===i[h+1])return void(i[h+2]=d)}h++,null!==l&&h++,null!==d&&h++}-1!==m&&(i.splice(m,0,s),h=m+1),i.splice(h++,0,o),null!==l&&i.splice(h++,0,l),null!==d&&i.splice(h++,0,d)}function fn(i){return-1!==i}function zi(i){return 32767&i}function eo(i,s){let o=function(i){return i>>16}(i),l=s;for(;o>0;)l=l[15],o--;return l}let Za=!0;function Yo(i){const s=Za;return Za=i,s}let Kc=0;function Wi(i,s){const o=yn(i,s);if(-1!==o)return o;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,to(l.data,i),to(s,null),to(l.blueprint,null));const d=Ge(i,s),h=i.injectorIndex;if(fn(d)){const m=zi(d),y=eo(d,s),E=y[1].data;for(let S=0;S<8;S++)s[h+S]=y[m+S]|E[m+S]}return s[h+8]=d,h}function to(i,s){i.push(0,0,0,0,0,0,0,0,s)}function yn(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Ge(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,l=null,d=s;for(;null!==d;){const h=d[1],m=h.type;if(l=2===m?h.declTNode:1===m?d[6]:null,null===l)return-1;if(o++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function ht(i,s,o){!function(i,s,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(Le)&&(l=o[Le]),null==l&&(l=o[Le]=Kc++);const d=255&l;s.data[i+(d>>5)]|=1<<d}(i,s,o)}function zn(i,s,o){if(o&Ze.Optional)return i;Ot(s,"NodeInjector")}function Ss(i,s,o,l){if(o&Ze.Optional&&void 0===l&&(l=null),0==(o&(Ze.Self|Ze.Host))){const d=i[9],h=hr(void 0);try{return d?d.get(s,l,o&Ze.Optional):Jn(s,l,o&Ze.Optional)}finally{hr(h)}}return zn(l,s,o)}function no(i,s,o,l=Ze.Default,d){if(null!==i){const h=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Le)?i[Le]:void 0;return"number"==typeof s?s>=0?255&s:Nl:s}(o);if("function"==typeof h){if(!$a(s,i,l))return l&Ze.Host?zn(d,o,l):Ss(s,o,l,d);try{const m=h(l);if(null!=m||l&Ze.Optional)return m;Ot(o)}finally{fd()}}else if("number"==typeof h){let m=null,y=yn(i,s),E=-1,S=l&Ze.Host?s[16][6]:null;for((-1===y||l&Ze.SkipSelf)&&(E=-1===y?Ge(i,s):s[y+8],-1!==E&&Ka(l,!1)?(m=s[1],y=zi(E),s=eo(E,s)):y=-1);-1!==y;){const I=s[1];if(Fl(h,y,I.data)){const x=U_(y,s,o,m,l,S);if(x!==vn)return x}E=s[y+8],-1!==E&&Ka(l,s[1].data[y+8]===S)&&Fl(h,y,s)?(m=I,y=zi(E),s=eo(E,s)):y=-1}}}return Ss(s,o,l,d)}const vn={};function Nl(){return new Zi(Zt(),Re())}function U_(i,s,o,l,d,h){const m=s[1],y=m.data[i+8],I=Yi(y,m,o,null==l?Ml(y)&&Za:l!=m&&0!=(3&y.type),d&Ze.Host&&h===y);return null!==I?sn(s,m,I,y):vn}function Yi(i,s,o,l,d){const h=i.providerIndexes,m=s.data,y=1048575&h,E=i.directiveStart,I=h>>20,N=d?y+I:i.directiveEnd;for(let $=l?y:y+I;$<N;$++){const q=m[$];if($<E&&o===q||$>=E&&q.type===o)return $}if(d){const $=m[E];if($&&gr($)&&$.type===o)return E}return null}function sn(i,s,o,l){let d=i[o];const h=s.data;if(function(i){return i instanceof kl}(d)){const m=d;m.resolving&&function(i,s){throw new Ee("200",`Circular dependency in DI detected for ${i}`)}(we(h[o]));const y=Yo(m.canSeeViewProviders);m.resolving=!0;const E=m.injectImpl?hr(m.injectImpl):null;$a(i,l,Ze.Default);try{d=i[o]=m.factory(void 0,h,i,l),s.firstCreatePass&&o>=l.directiveStart&&function(i,s,o){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:h}=s.type.prototype;if(l){const m=bs(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(i,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,m)}d&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-i,d),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(i,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,h))}(o,h[o],s)}finally{null!==E&&hr(E),Yo(y),m.resolving=!1,fd()}}return d}function Fl(i,s,o){return!!(o[s+(i>>5)]&1<<i)}function Ka(i,s){return!(i&Ze.Self||i&Ze.Host&&s)}class Zi{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,l){return no(this._tNode,this._lView,s,l,o)}}function Jc(i){return Sn(()=>{const s=i.prototype.constructor,o=s[be]||Zo(s),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const h=d[be]||Zo(d);if(h&&h!==o)return h;d=Object.getPrototypeOf(d)}return h=>new h})}function Zo(i){return ce(i)?()=>{const s=Zo(H(i));return s&&s()}:Bi(i)}function vd(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const l=o.length;let d=0;for(;d<l;){const h=o[d];if(gd(h))break;if(0===h)d+=2;else if("number"==typeof h)for(d++;d<l&&"string"==typeof o[d];)d++;else{if(h===s)return o[d+1];d+=2}}}return null}(Zt(),i)}const jr="__parameters__";function ei(i,s,o){return Sn(()=>{const l=function(i){return function(...o){if(i){const l=i(...o);for(const d in l)this[d]=l[d]}}}(s);function d(...h){if(this instanceof d)return l.apply(this,h),this;const m=new d(...h);return y.annotation=m,y;function y(E,S,I){const x=E.hasOwnProperty(jr)?E[jr]:Object.defineProperty(E,jr,{value:[]})[jr];for(;x.length<=I;)x.push(null);return(x[I]=x[I]||[]).push(m),E}}return o&&(d.prototype=Object.create(o.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class ln{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=jt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const nf=new ln("AnalyzeForEntryComponents"),wi=Function;function ni(i,s){void 0===s&&(s=i);for(let o=0;o<i.length;o++){let l=i[o];Array.isArray(l)?(s===i&&(s=i.slice(0,o)),ni(l,s)):s!==i&&s.push(l)}return s}function Di(i,s){i.forEach(o=>Array.isArray(o)?Di(o,s):s(o))}function io(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function Ir(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Qi(i,s){const o=[];for(let l=0;l<i;l++)o.push(s);return o}function bn(i,s,o){let l=Ji(i,s);return l>=0?i[1|l]=o:(l=~l,function(i,s,o,l){let d=i.length;if(d==s)i.push(o,l);else if(1===d)i.push(l,i[0]),i[0]=o;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=o,i[s+1]=l}}(i,l,s,o)),l}function Zn(i,s){const o=Ji(i,s);if(o>=0)return i[1|o]}function Ji(i,s){return function(i,s,o){let l=0,d=i.length>>o;for(;d!==l;){const h=l+(d-l>>1),m=i[h<<o];if(s===m)return h<<o;m>s?d=h:l=h+1}return~(d<<o)}(i,s,1)}const Mt={},zt="__NG_DI_FLAG__",Cn="ngTempTokenPath",Nn=/\n/gm,Ja="__source",Hr=ee({provide:String,useValue:ee});let Mr;function ft(i){const s=Mr;return Mr=i,s}function sf(i,s=Ze.Default){if(void 0===Mr)throw new Error("inject() must be called from an injection context");return null===Mr?Jn(i,void 0,s):Mr.get(i,s&Ze.Optional?null:void 0,s)}function on(i,s=Ze.Default){return(an||sf)(H(i),s)}const Id=on;function Xo(i){const s=[];for(let o=0;o<i.length;o++){const l=H(i[o]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let d,h=Ze.Default;for(let m=0;m<l.length;m++){const y=l[m],E=yg(y);"number"==typeof E?-1===E?d=y.token:h|=E:d=y}s.push(on(d,h))}else s.push(on(l))}return s}function tu(i,s){return i[zt]=s,i.prototype[zt]=s,i}function yg(i){return i[zt]}function ri(i,s,o,l){const d=i[Cn];throw s[Ja]&&d.unshift(s[Ja]),i.message=function(i,s,o,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=Q(s);if(Array.isArray(s))d=s.map(Q).join(" -> ");else if("object"==typeof s){let h=[];for(let m in s)if(s.hasOwnProperty(m)){let y=s[m];h.push(m+":"+("string"==typeof y?JSON.stringify(y):Q(y)))}d=`{${h.join(", ")}}`}return`${o}${l?"("+l+")":""}[${d}]: ${i.replace(Nn,"\n  ")}`}("\n"+i.message,d,o,l),i.ngTokenPath=d,i[Cn]=null,i}const Xa=tu(ei("Inject",i=>({token:i})),-1),Ms=tu(ei("Optional"),8),or=tu(ei("SkipSelf"),4);let jl,Md;function ao(i){var s;return(null===(s=function(){if(void 0===jl&&(jl=null,Lt.trustedTypes))try{jl=Lt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return jl}())||void 0===s?void 0:s.createHTML(i))||i}function ou(i){var s;return(null===(s=function(){if(void 0===Md&&(Md=null,Lt.trustedTypes))try{Md=Lt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Md}())||void 0===s?void 0:s.createHTML(i))||i}class lo{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class G_ extends lo{getTypeName(){return"HTML"}}class Dg extends lo{getTypeName(){return"Style"}}class au extends lo{getTypeName(){return"Script"}}class z_ extends lo{getTypeName(){return"URL"}}class W_ extends lo{getTypeName(){return"ResourceURL"}}function co(i){return i instanceof lo?i.changingThisBreaksApplicationSecurity:i}function lu(i,s){const o=ea(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}function ea(i){return i instanceof lo&&i.getTypeName()||null}function Sg(i){return new G_(i)}function df(i){return new Dg(i)}function cu(i){return new au(i)}function uo(i){return new z_(i)}function il(i){return new W_(i)}class Tg{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(ao(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class ff{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const l=this.inertDocument.createElement("body");o.appendChild(l)}}getInertBodyElement(s){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=ao(s),o;const l=this.inertDocument.createElement("body");return l.innerHTML=ao(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const o=s.attributes;for(let d=o.length-1;0<d;d--){const m=o.item(d).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&s.removeAttribute(m)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const Ig=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Od=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function $l(i){return(i=String(i)).match(Ig)||i.match(Od)?i:"unsafe:"+i}function Xi(i){const s={};for(const o of i.split(","))s[o]=!0;return s}function sl(...i){const s={};for(const o of i)for(const l in o)o.hasOwnProperty(l)&&(s[l]=!0);return s}const uu=Xi("area,br,col,hr,img,wbr"),xd=Xi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),du=Xi("rp,rt"),pf=sl(uu,sl(xd,Xi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),sl(du,Xi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),sl(du,xd)),Gl=Xi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Rs=Xi("srcset"),gf=sl(Gl,Rs,Xi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Pg=Xi("script,style,template");class mf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,l=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?l=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,l&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let d=this.checkClobberedElement(o,o.nextSibling);if(d){o=d;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!pf.hasOwnProperty(o))return this.sanitizedSomething=!0,!Pg.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const l=s.attributes;for(let d=0;d<l.length;d++){const h=l.item(d),m=h.name,y=m.toLowerCase();if(!gf.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let E=h.value;Gl[y]&&(E=$l(E)),Rs[y]&&(i=E,E=(i=String(i)).split(",").map(s=>$l(s.trim())).join(", ")),this.buf.push(" ",m,'="',xg(E),'"')}var i;return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();pf.hasOwnProperty(o)&&!uu.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(xg(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const q_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,K_=/([^\#-~ |!])/g;function xg(i){return i.replace(/&/g,"&amp;").replace(q_,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(K_,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ta;function hu(i,s){let o=null;try{ta=ta||function(i){const s=new ff(i);return function(){try{return!!(new window.DOMParser).parseFromString(ao(""),"text/html")}catch(i){return!1}}()?new Tg(s):s}(i);let l=s?String(s):"";o=ta.getInertBodyElement(l);let d=5,h=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=h,h=o.innerHTML,o=ta.getInertBodyElement(l)}while(l!==h);return ao((new mf).sanitizeChildren(kd(o)||o))}finally{if(o){const l=kd(o)||o;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function kd(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var En=(()=>((En=En||{})[En.NONE=0]="NONE",En[En.HTML=1]="HTML",En[En.STYLE=2]="STYLE",En[En.SCRIPT=3]="SCRIPT",En[En.URL=4]="URL",En[En.RESOURCE_URL=5]="RESOURCE_URL",En))();function yf(i){const s=zl();return s?ou(s.sanitize(En.HTML,i)||""):lu(i,"HTML")?ou(co(i)):hu(Cs(),se(i))}function Nd(i){const s=zl();return s?s.sanitize(En.URL,i)||"":lu(i,"URL")?co(i):$l(se(i))}function zl(){const i=Re();return i&&i[12]}const Wl="__ngContext__";function Kn(i,s){i[Wl]=s}function Ps(i){const s=function(i){return i[Wl]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function ll(i){return i.ngOriginalError}function X_(i,...s){i.error(...s)}class v{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s),l=this._findContext(s),d=(i=s)&&i.ngErrorLogger||X_;var i;d(this._console,"ERROR",s),o&&d(this._console,"ORIGINAL ERROR",o),l&&d(this._console,"ERROR CONTEXT",l)}_findContext(s){return s?s.ngDebugContext||this._findContext(ll(s)):null}_findOriginalError(s){let o=s&&ll(s);for(;o&&ll(o);)o=ll(o);return o||null}}const Si=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Lt))();function es(i){return i instanceof Function?i():i}var ts=(()=>((ts=ts||{})[ts.Important=1]="Important",ts[ts.DashCase=2]="DashCase",ts))();function Ql(i,s){return undefined(i,s)}function Tf(i){const s=i[3];return nr(s)?s[3]:s}function Hg(i){return ny(i[13])}function dC(i){return ny(i[4])}function ny(i){for(;null!==i&&!nr(i);)i=i[4];return i}function pu(i,s,o,l,d){if(null!=l){let h,m=!1;nr(l)?h=l:fi(l)&&(m=!0,l=l[0]);const y=Jt(l);0===i&&null!==o?null==d?mC(s,o,y):Xl(s,o,y,d||null,!0):1===i&&null!==o?Xl(s,o,y,d||null,!0):2===i?function(i,s,o){const l=Wg(i,s);l&&function(i,s,o,l){Qt(i)?i.removeChild(s,o,l):s.removeChild(o)}(i,l,s,o)}(s,y,m):3===i&&s.destroyNode(y),null!=h&&function(i,s,o,l,d){const h=o[7];h!==Jt(o)&&pu(s,i,l,h,d);for(let y=10;y<o.length;y++){const E=o[y];mu(E[1],E,i,s,l,h)}}(s,i,h,o,d)}}function ry(i,s,o){return Qt(i)?i.createElement(s,o):null===o?i.createElement(s):i.createElementNS(o,s)}function Gg(i,s){const o=i[9],l=o.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,Ds(d,-1)),o.splice(l,1)}function zg(i,s){if(i.length<=10)return;const o=10+s,l=i[o];if(l){const d=l[17];null!==d&&d!==i&&Gg(d,l),s>0&&(i[o-1][4]=l[4]);const h=Ir(i,10+s);!function(i,s){mu(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const m=h[19];null!==m&&m.detachView(h[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function fC(i,s){if(!(256&s[2])){const o=s[11];Qt(o)&&o.destroyNode&&mu(i,s,o,3,null,null),function(i){let s=i[13];if(!s)return Jl(i[1],i);for(;s;){let o=null;if(fi(s))o=s[13];else{const l=s[10];l&&(o=l)}if(!o){for(;s&&!s[4]&&s!==i;)fi(s)&&Jl(s[1],s),s=s[3];null===s&&(s=i),fi(s)&&Jl(s[1],s),o=s&&s[4]}s=o}}(s)}}function Jl(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let l=0;l<o.length;l+=2){const d=s[o[l]];if(!(d instanceof kl)){const h=o[l+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const y=d[h[m]],E=h[m+1];try{E.call(y)}finally{}}else try{h.call(d)}finally{}}}}(i,s),function(i,s){const o=i.cleanup,l=s[7];let d=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+1],y="function"==typeof m?m(s):Jt(s[m]),E=l[d=o[h+2]],S=o[h+3];"boolean"==typeof S?y.removeEventListener(o[h],E,S):S>=0?l[d=S]():l[d=-S].unsubscribe(),h+=2}else{const m=l[d=o[h+1]];o[h].call(m)}if(null!==l){for(let h=d+1;h<l.length;h++)l[h]();s[7]=null}}(i,s),1===s[1].type&&Qt(s[11])&&s[11].destroy();const o=s[17];if(null!==o&&nr(s[3])){o!==s[3]&&Gg(o,s);const l=s[19];null!==l&&l.detachView(i)}}}function pC(i,s,o){return function(i,s,o){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return o[0];if(2&l.flags){const d=i.data[l.directiveStart].encapsulation;if(d===Ue.None||d===Ue.Emulated)return null}return rr(l,o)}(i,s.parent,o)}function Xl(i,s,o,l,d){Qt(i)?i.insertBefore(s,o,l,d):s.insertBefore(o,l,d)}function mC(i,s,o){Qt(i)?i.appendChild(s,o):s.appendChild(o)}function _C(i,s,o,l,d){null!==l?Xl(i,s,o,l,d):mC(i,s,o)}function Wg(i,s){return Qt(i)?i.parentNode(s):s.parentNode}function Zg(i,s,o){return gu(i,s,o)}let gu=function(i,s,o){return 40&i.type?rr(i,o):null};function If(i,s,o,l){const d=pC(i,l,s),h=s[11],y=Zg(l.parent||s[6],l,s);if(null!=d)if(Array.isArray(o))for(let E=0;E<o.length;E++)_C(h,d,o[E],y,!1);else _C(h,d,o,y,!1)}function Kg(i,s){if(null!==s){const o=s.type;if(3&o)return rr(s,i);if(4&o)return ay(-1,i[s.index]);if(8&o){const l=s.child;if(null!==l)return Kg(i,l);{const d=i[s.index];return nr(d)?ay(-1,d):Jt(d)}}if(32&o)return Ql(s,i)()||Jt(i[s.index]);{const l=oy(i,s);return null!==l?Array.isArray(l)?l[0]:Kg(Tf(i[16]),l):Kg(i,s.next)}}return null}function oy(i,s){return null!==s?i[16][6].projection[s.projection]:null}function ay(i,s){const o=10+i+1;if(o<s.length){const l=s[o],d=l[1].firstChild;if(null!==d)return Kg(l,d)}return s[7]}function Qg(i,s,o,l,d,h,m){for(;null!=o;){const y=l[o.index],E=o.type;if(m&&0===s&&(y&&Kn(Jt(y),l),o.flags|=4),64!=(64&o.flags))if(8&E)Qg(i,s,o.child,l,d,h,!1),pu(s,i,d,y,h);else if(32&E){const S=Ql(o,l);let I;for(;I=S();)pu(s,i,d,I,h);pu(s,i,d,y,h)}else 16&E?ec(i,s,l,o,d,h):pu(s,i,d,y,h);o=m?o.projectionNext:o.next}}function mu(i,s,o,l,d,h){Qg(o,l,i.firstChild,s,d,h,!1)}function ec(i,s,o,l,d,h){const m=o[16],E=m[6].projection[l.projection];if(Array.isArray(E))for(let S=0;S<E.length;S++)pu(s,i,d,E[S],h);else Qg(i,s,E,m[3],d,h,!0)}function bC(i,s,o){Qt(i)?i.setAttribute(s,"style",o):s.style.cssText=o}function cy(i,s,o){Qt(i)?""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o):s.className=o}function uy(i,s,o){let l=i.length;for(;;){const d=i.indexOf(s,o);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const h=s.length;if(d+h===l||i.charCodeAt(d+h)<=32)return d}o=d+1}}const CC="ng-template";function _S(i,s,o){let l=0;for(;l<i.length;){let d=i[l++];if(o&&"class"===d){if(d=i[l],-1!==uy(d.toLowerCase(),s,0))return!0}else if(1===d){for(;l<i.length&&"string"==typeof(d=i[l++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function dy(i){return 4===i.type&&i.value!==CC}function yS(i,s,o){return s===(4!==i.type||o?i.value:CC)}function vS(i,s,o){let l=4;const d=i.attrs||[],h=function(i){for(let s=0;s<i.length;s++)if(gd(i[s]))return s;return i.length}(d);let m=!1;for(let y=0;y<s.length;y++){const E=s[y];if("number"!=typeof E){if(!m)if(4&l){if(l=2|1&l,""!==E&&!yS(i,E,o)||""===E&&1===s.length){if(fo(l))return!1;m=!0}}else{const S=8&l?E:s[++y];if(8&l&&null!==i.attrs){if(!_S(i.attrs,S,o)){if(fo(l))return!1;m=!0}continue}const x=hy(8&l?"class":E,d,dy(i),o);if(-1===x){if(fo(l))return!1;m=!0;continue}if(""!==S){let N;N=x>h?"":d[x+1].toLowerCase();const $=8&l?N:null;if($&&-1!==uy($,S,0)||2&l&&S!==N){if(fo(l))return!1;m=!0}}}}else{if(!m&&!fo(l)&&!fo(E))return!1;if(m&&fo(E))continue;m=!1,l=E|1&l}}return fo(l)||m}function fo(i){return 0==(1&i)}function hy(i,s,o,l){if(null===s)return-1;let d=0;if(l||!o){let h=!1;for(;d<s.length;){const m=s[d];if(m===i)return d;if(3===m||6===m)h=!0;else{if(1===m||2===m){let y=s[++d];for(;"string"==typeof y;)y=s[++d];continue}if(4===m)break;if(0===m){d+=4;continue}}d+=h?1:2}return-1}return function(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const l=i[o];if("number"==typeof l)return-1;if(l===s)return o;o++}return-1}(s,i)}function EC(i,s,o=!1){for(let l=0;l<s.length;l++)if(vS(i,s[l],o))return!0;return!1}function YR(i,s){e:for(let o=0;o<s.length;o++){const l=s[o];if(i.length===l.length){for(let d=0;d<i.length;d++)if(i[d]!==l[d])continue e;return!0}}return!1}function DC(i,s){return i?":not("+s.trim()+")":s}function ES(i){let s=i[0],o=1,l=2,d="",h=!1;for(;o<i.length;){let m=i[o];if("string"==typeof m)if(2&l){const y=i[++o];d+="["+m+(y.length>0?'="'+y+'"':"")+"]"}else 8&l?d+="."+m:4&l&&(d+=" "+m);else""!==d&&!fo(m)&&(s+=DC(h,d),d=""),l=m,h=h||!fo(l);o++}return""!==d&&(s+=DC(h,d)),s}const Ct={};function em(i){SC(Et(),Re(),sr()+i,Ho())}function SC(i,s,o,l){if(!l)if(3==(3&s[2])){const h=i.preOrderCheckHooks;null!==h&&Wo(s,h,o)}else{const h=i.preOrderHooks;null!==h&&Wa(s,h,0,o)}za(o)}function tm(i,s){return i<<17|s<<2}function po(i){return i>>17&32767}function fy(i){return 2|i}function ul(i){return(131068&i)>>2}function py(i,s){return-131069&i|s<<2}function rs(i){return 1|i}function RC(i,s){const o=i.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const d=o[l],h=o[l+1];if(-1!==h){const m=i.data[h];ja(d),m.contentQueries(2,s[h],h)}}}function _u(i,s,o,l,d,h,m,y,E,S){const I=s.blueprint.slice();return I[0]=d,I[2]=140|l,Uo(I),I[3]=I[15]=i,I[8]=o,I[10]=m||i&&i[10],I[11]=y||i&&i[11],I[12]=E||i&&i[12]||null,I[9]=S||i&&i[9]||null,I[6]=h,I[16]=2==s.type?i[16]:I,I}function hl(i,s,o,l,d){let h=i.data[s];if(null===h)h=function(i,s,o,l,d){const h=Vc(),m=xl(),E=i.data[s]=function(i,s,o,l,d,h){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,s,l,d);return null===i.firstChild&&(i.firstChild=E),null!==h&&(m?null==h.child&&null!==E.parent&&(h.child=E):null===h.next&&(h.next=E)),E}(i,s,o,l,d),ot.lFrame.inI18n&&(h.flags|=64);else if(64&h.type){h.type=o,h.value=l,h.attrs=d;const m=function(){const i=ot.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return Br(h,!0),h}function Wd(i,s,o,l){if(0===o)return-1;const d=s.length;for(let h=0;h<o;h++)s.push(l),i.blueprint.push(l),i.data.push(null);return d}function fl(i,s,o){Ga(s);try{const l=i.viewQuery;null!==l&&dm(1,l,o);const d=i.template;null!==d&&Zd(i,s,d,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&RC(i,s),i.staticViewQueries&&dm(2,i.viewQuery,o);const h=i.components;null!==h&&function(i,s){for(let o=0;o<s.length;o++)$S(i,s[o])}(s,h)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,Js()}}function Yd(i,s,o,l){const d=s[2];if(256==(256&d))return;Ga(s);const h=Ho();try{Uo(s),function(i){ot.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&Zd(i,s,o,2,l);const m=3==(3&d);if(!h)if(m){const S=i.preOrderCheckHooks;null!==S&&Wo(s,S,null)}else{const S=i.preOrderHooks;null!==S&&Wa(s,S,0,null),Mn(s,0)}if(function(i){for(let s=Hg(i);null!==s;s=dC(s)){if(!s[2])continue;const o=s[9];for(let l=0;l<o.length;l++){const d=o[l],h=d[3];0==(1024&d[2])&&Ds(h,1),d[2]|=1024}}}(s),function(i){for(let s=Hg(i);null!==s;s=dC(s))for(let o=10;o<s.length;o++){const l=s[o],d=l[1];Fc(l)&&Yd(d,l,d.template,l[8])}}(s),null!==i.contentQueries&&RC(i,s),!h)if(m){const S=i.contentCheckHooks;null!==S&&Wo(s,S)}else{const S=i.contentHooks;null!==S&&Wa(s,S,1),Mn(s,1)}!function(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const d=o[l];if(d<0)za(~d);else{const h=d,m=o[++l],y=o[++l];Bc(m,h),y(2,s[h])}}}finally{za(-1)}}(i,s);const y=i.components;null!==y&&function(i,s){for(let o=0;o<s.length;o++)Ry(i,s[o])}(s,y);const E=i.viewQuery;if(null!==E&&dm(2,E,l),!h)if(m){const S=i.viewCheckHooks;null!==S&&Wo(s,S)}else{const S=i.viewHooks;null!==S&&Wa(s,S,2),Mn(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),h||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Ds(s[3],-1))}finally{Js()}}function NS(i,s,o,l){const d=s[10],h=!Ho(),m=Fa(s);try{h&&!m&&d.begin&&d.begin(),m&&fl(i,s,l),Yd(i,s,o,l)}finally{h&&!m&&d.end&&d.end()}}function Zd(i,s,o,l,d){const h=sr(),m=2&l;try{za(-1),m&&s.length>20&&SC(i,s,20,Ho()),o(l,d)}finally{za(h)}}function sm(i,s,o){!Va()||(function(i,s,o,l){const d=o.directiveStart,h=o.directiveEnd;i.firstCreatePass||Wi(o,s),Kn(l,s);const m=o.initialInputs;for(let y=d;y<h;y++){const E=i.data[y],S=gr(E);S&&HS(s,o,E);const I=sn(s,i,y,o);Kn(I,s),null!==m&&qd(0,y-d,I,E,0,m),S&&(mr(o.index,s)[8]=I)}}(i,s,o,rr(o,s)),128==(128&o.flags)&&function(i,s,o){const l=o.directiveStart,d=o.directiveEnd,m=o.index,y=ot.lFrame.currentDirectiveIndex;try{za(m);for(let E=l;E<d;E++){const S=i.data[E],I=s[E];Uc(E),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&jC(S,I)}}finally{za(-1),Uc(y)}}(i,s,o))}function om(i,s,o=rr){const l=s.localNames;if(null!==l){let d=s.index+1;for(let h=0;h<l.length;h+=2){const m=l[h+1],y=-1===m?o(s,i):i[m];i[d++]=y}}}function by(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Rf(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Rf(i,s,o,l,d,h,m,y,E,S){const I=20+l,x=I+d,N=function(i,s){const o=[];for(let l=0;l<s;l++)o.push(l<i?null:Ct);return o}(I,x),$="function"==typeof S?S():S;return N[1]={type:i,blueprint:N,template:o,queries:null,viewQuery:y,declTNode:s,data:N.slice().fill(null,I),bindingStartIndex:I,expandoStartIndex:x,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:E,consts:$,incompleteFirstPass:!1}}function Ey(i,s,o,l){const d=xy(s);null===o?d.push(l):(d.push(o),i.firstCreatePass&&ky(i).push(l,d.length-1))}function lm(i,s,o){for(let l in i)if(i.hasOwnProperty(l)){const d=i[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(s,d):o[l]=[s,d]}return o}function is(i,s,o,l,d,h,m,y){const E=rr(s,o);let I,S=s.inputs;!y&&null!=S&&(I=S[l])?(Fy(i,o,I,l,d),Ml(s)&&function(i,s){const o=mr(s,i);16&o[2]||(o[2]|=64)}(o,s.index)):3&s.type&&(l=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=m?m(d,s.value||"",l):d,Qt(h)?h.setProperty(E,l,d):Ci(l)||(E.setProperty?E.setProperty(l,d):E[l]=d))}function Sy(i,s,o,l){let d=!1;if(Va()){const h=function(i,s,o){const l=i.directiveRegistry;let d=null;if(l)for(let h=0;h<l.length;h++){const m=l[h];EC(o,m.selectors,!1)&&(d||(d=[]),ht(Wi(o,s),i,m.type),gr(m)?(HC(i,o),d.unshift(m)):d.push(m))}return d}(i,s,o),m=null===l?null:{"":-1};if(null!==h){d=!0,Ty(o,i.data.length,h.length);for(let I=0;I<h.length;I++){const x=h[I];x.providersResolver&&x.providersResolver(x)}let y=!1,E=!1,S=Wd(i,s,h.length,null);for(let I=0;I<h.length;I++){const x=h[I];o.mergedAttrs=Gi(o.mergedAttrs,x.hostAttrs),Iy(i,o,s,S,x),jS(S,x,m),null!==x.contentQueries&&(o.flags|=8),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(o.flags|=128);const N=x.type.prototype;!y&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(o.index),y=!0),!E&&(N.ngOnChanges||N.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(o.index),E=!0),S++}!function(i,s){const l=s.directiveEnd,d=i.data,h=s.attrs,m=[];let y=null,E=null;for(let S=s.directiveStart;S<l;S++){const I=d[S],x=I.inputs,N=null===h||dy(s)?null:My(x,h);m.push(N),y=lm(x,S,y),E=lm(I.outputs,S,E)}null!==y&&(y.hasOwnProperty("class")&&(s.flags|=16),y.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=m,s.inputs=y,s.outputs=E}(i,o)}m&&function(i,s,o){if(s){const l=i.localNames=[];for(let d=0;d<s.length;d+=2){const h=o[s[d+1]];if(null==h)throw new Ee("301",`Export of name '${s[d+1]}' not found!`);l.push(s[d],h)}}}(o,l,m)}return o.mergedAttrs=Gi(o.mergedAttrs,o.attrs),d}function LC(i,s,o,l,d,h){const m=h.hostBindings;if(m){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const E=~s.index;(function(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(y)!=E&&y.push(E),y.push(l,d,m)}}function jC(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function HC(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function jS(i,s,o){if(o){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)o[s.exportAs[l]]=i;gr(s)&&(o[""]=i)}}function Ty(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}function Iy(i,s,o,l,d){i.data[l]=d;const h=d.factory||(d.factory=Bi(d.type)),m=new kl(h,gr(d),null);i.blueprint[l]=m,o[l]=m,LC(i,s,0,l,Wd(i,o,d.hostVars,Ct),d)}function HS(i,s,o){const l=rr(s,i),d=by(o),h=i[10],m=cm(i,_u(i,d,null,o.onPush?64:16,l,s,h,h.createRenderer(l,o),null,null));i[s.index]=m}function oa(i,s,o,l,d,h){const m=rr(i,s);!function(i,s,o,l,d,h,m){if(null==h)Qt(i)?i.removeAttribute(s,d,o):s.removeAttribute(d);else{const y=null==m?se(h):m(h,l||"",d);Qt(i)?i.setAttribute(s,d,y,o):o?s.setAttributeNS(o,d,y):s.setAttribute(d,y)}}(s[11],m,h,i.value,o,l,d)}function qd(i,s,o,l,d,h){const m=h[s];if(null!==m){const y=l.setInput;for(let E=0;E<m.length;){const S=m[E++],I=m[E++],x=m[E++];null!==y?l.setInput(o,x,S,I):o[I]=x}}}function My(i,s){let o=null,l=0;for(;l<s.length;){const d=s[l];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===o&&(o=[]),o.push(d,i[d],s[l+1])),l+=2}else l+=2;else l+=4}return o}function $C(i,s,o,l){return new Array(i,!0,!1,s,null,0,l,o,null,null)}function Ry(i,s){const o=mr(s,i);if(Fc(o)){const l=o[1];80&o[2]?Yd(l,o,l.template,o[8]):o[5]>0&&Oy(o)}}function Oy(i){for(let l=Hg(i);null!==l;l=dC(l))for(let d=10;d<l.length;d++){const h=l[d];if(1024&h[2]){const m=h[1];Yd(m,h,m.template,h[8])}else h[5]>0&&Oy(h)}const o=i[1].components;if(null!==o)for(let l=0;l<o.length;l++){const d=mr(o[l],i);Fc(d)&&d[5]>0&&Oy(d)}}function $S(i,s){const o=mr(s,i),l=o[1];(function(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(l,o),fl(l,o,o[8])}function cm(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function xf(i){for(;i;){i[2]|=64;const s=Tf(i);if(In(i)&&!s)return i;i=s}return null}function um(i,s,o){const l=s[10];l.begin&&l.begin();try{Yd(i,s,i.template,o)}catch(d){throw kf(s,d),d}finally{l.end&&l.end()}}function zC(i){!function(i){for(let s=0;s<i.components.length;s++){const o=i.components[s],l=Ps(o),d=l[1];NS(d,l,d.template,o)}}(i[8])}function dm(i,s,o){ja(0),s(i,o)}const WS=(()=>Promise.resolve(null))();function xy(i){return i[7]||(i[7]=[])}function ky(i){return i.cleanup||(i.cleanup=[])}function Ny(i,s,o){return(null===i||gr(i))&&(o=function(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(o[s.index])),o[11]}function kf(i,s){const o=i[9],l=o?o.get(v,null):null;l&&l.handleError(s)}function Fy(i,s,o,l,d){for(let h=0;h<o.length;){const m=o[h++],y=o[h++],E=s[m],S=i.data[m];null!==S.setInput?S.setInput(E,d,l,y):E[y]=d}}function aa(i,s,o){const l=Es(s,i);!function(i,s,o){Qt(i)?i.setValue(s,o):s.textContent=o}(i[11],l,o)}function Gt(i,s,o){let l=o?i.styles:null,d=o?i.classes:null,h=0;if(null!==s)for(let m=0;m<s.length;m++){const y=s[m];"number"==typeof y?h=y:1==h?d=X(d,y):2==h&&(l=X(l,y+": "+s[++m]+";"))}o?i.styles=l:i.stylesWithoutHost=l,o?i.classes=d:i.classesWithoutHost=d}const Yt=new ln("INJECTOR",-1);class hm{get(s,o=Mt){if(o===Mt){const l=new Error(`NullInjectorError: No provider for ${Q(s)}!`);throw l.name="NullInjectorError",l}return o}}const Nf=new ln("Set Injector scope."),pl={},ZC={};let pn;function Pt(){return void 0===pn&&(pn=new hm),pn}function qC(i,s=null,o=null,l){return new Ly(i,o,s||Pt(),l)}class Ly{constructor(s,o,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];o&&Di(o,y=>this.processProvider(y,s,o)),Di([s],y=>this.processInjectorType(y,[],h)),this.records.set(Yt,vu(void 0,this));const m=this.records.get(Nf);this.scope=null!=m?m.value:null,this.source=d||("object"==typeof s?null:Q(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,o=Mt,l=Ze.Default){this.assertNotDestroyed();const d=ft(this),h=hr(void 0);try{if(!(l&Ze.SkipSelf)){let y=this.records.get(s);if(void 0===y){const E=("function"==typeof(i=s)||"object"==typeof i&&i instanceof ln)&&Vn(s);y=E&&this.injectableDefInScope(E)?vu(Ii(s),pl):null,this.records.set(s,y)}if(null!=y)return this.hydrate(s,y)}return(l&Ze.Self?Pt():this.parent).get(s,o=l&Ze.Optional&&o===Mt?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[Cn]=m[Cn]||[]).unshift(Q(s)),d)throw m;return ri(m,s,"R3InjectorError",this.source)}throw m}finally{hr(h),ft(d)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,d)=>s.push(Q(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,o,l){if(!(s=H(s)))return!1;let d=hs(s);const h=null==d&&s.ngModule||void 0,m=void 0===h?s:h,y=-1!==l.indexOf(m);if(void 0!==h&&(d=hs(h)),null==d)return!1;if(null!=d.imports&&!y){let I;l.push(m);try{Di(d.imports,x=>{this.processInjectorType(x,o,l)&&(void 0===I&&(I=[]),I.push(x))})}finally{}if(void 0!==I)for(let x=0;x<I.length;x++){const{ngModule:N,providers:$}=I[x];Di($,q=>this.processProvider(q,N,$||G))}}this.injectorDefTypes.add(m);const E=Bi(m)||(()=>new m);this.records.set(m,vu(E,pl));const S=d.providers;if(null!=S&&!y){const I=s;Di(S,x=>this.processProvider(x,I,S))}return void 0!==h&&void 0!==s.providers}processProvider(s,o,l){let d=Kd(s=H(s))?s:H(s&&s.provide);const h=oc(i=s)?vu(void 0,i.useValue):vu(KC(i),pl);var i;if(Kd(s)||!0!==s.multi)this.records.get(d);else{let m=this.records.get(d);m||(m=vu(void 0,pl,!0),m.factory=()=>Xo(m.multi),this.records.set(d,m)),d=s,m.multi.push(s)}this.records.set(d,h)}hydrate(s,o){return o.value===pl&&(o.value=ZC,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(i=o.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const o=H(s.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function Ii(i){const s=Vn(i),o=null!==s?s.factory:Bi(i);if(null!==o)return o;if(i instanceof ln)throw new Error(`Token ${Q(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const l=Qi(s,"?");throw new Error(`Can't resolve all parameters for ${Q(i)}: (${l.join(", ")}).`)}const o=function(i){const s=i&&(i[Ni]||i[Wr]);if(s){const o=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new Error("unreachable")}function KC(i,s,o){let l;if(Kd(i)){const d=H(i);return Bi(d)||Ii(d)}if(oc(i))l=()=>H(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...Xo(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))l=()=>on(H(i.useExisting));else{const d=H(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return Bi(d)||Ii(d);l=()=>new d(...Xo(i.deps))}return l}function vu(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function oc(i){return null!==i&&"object"==typeof i&&Hr in i}function Kd(i){return"function"==typeof i}const ac=function(i,s,o){return function(i,s=null,o=null,l){const d=qC(i,s,o,l);return d._resolveInjectorDefTypes(),d}({name:o},s,i,o)};let Qe=(()=>{class i{static create(o,l){return Array.isArray(o)?ac(o,l,""):ac(o.providers,o.parent,o.name||"")}}return i.THROW_IF_NOT_FOUND=Mt,i.NULL=new hm,i.\u0275prov=jt({token:i,providedIn:"any",factory:()=>on(Yt)}),i.__NG_ELEMENT_ID__=-1,i})();function lE(i,s){zo(Ps(i)[1],Zt())}function wu(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const l=[i];for(;s;){let d;if(gr(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");d=s.\u0275dir}if(d){if(o){l.push(d);const m=i;m.inputs=Gy(i.inputs),m.declaredInputs=Gy(i.declaredInputs),m.outputs=Gy(i.outputs);const y=d.hostBindings;y&&sT(i,y);const E=d.viewQuery,S=d.contentQueries;if(E&&zy(i,E),S&&jf(i,S),ie(i.inputs,d.inputs),ie(i.declaredInputs,d.declaredInputs),ie(i.outputs,d.outputs),gr(d)&&d.data.animation){const I=i.data;I.animation=(I.animation||[]).concat(d.data.animation)}}const h=d.features;if(h)for(let m=0;m<h.length;m++){const y=h[m];y&&y.ngInherit&&y(i),y===wu&&(o=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,o=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=s+=d.hostVars,d.hostAttrs=Gi(d.hostAttrs,o=Gi(o,d.hostAttrs))}}(l)}function Gy(i){return i===W?{}:i===G?[]:i}function zy(i,s){const o=i.viewQuery;i.viewQuery=o?(l,d)=>{s(l,d),o(l,d)}:s}function jf(i,s){const o=i.contentQueries;i.contentQueries=o?(l,d,h)=>{s(l,d,h),o(l,d,h)}:s}function sT(i,s){const o=i.hostBindings;i.hostBindings=o?(l,d)=>{s(l,d),o(l,d)}:s}let _m=null;function cc(){if(!_m){const i=Lt.Symbol;if(i&&i.iterator)_m=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const l=s[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(_m=l)}}}return _m}function Hf(i){return!!vm(i)&&(Array.isArray(i)||!(i instanceof Map)&&cc()in i)}function vm(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function lr(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function Wy(i,s,o,l){const d=Re();return lr(d,$i(),s)&&(Et(),oa(An(),d,i,s,o,l)),Wy}function Du(i,s,o,l){return lr(i,$i(),o)?s+se(o)+l:Ct}function zf(i,s,o,l,d,h,m,y){const E=Re(),S=Et(),I=i+20,x=S.firstCreatePass?function(i,s,o,l,d,h,m,y,E){const S=s.consts,I=hl(s,i,4,m||null,ji(S,y));Sy(s,o,I,ji(S,E)),zo(s,I);const x=I.tViews=Rf(2,I,l,d,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,S);return null!==s.queries&&(s.queries.template(s,I),x.queries=s.queries.embeddedTView(I)),I}(I,S,E,s,o,l,d,h,m):S.data[I];Br(x,!1);const N=E[11].createComment("");If(S,E,N,x),Kn(N,E),cm(E,E[I]=$C(N,E,N,x)),ko(x)&&sm(S,E,x),null!=m&&om(E,x,y)}function ch(i,s=Ze.Default){const o=Re();return null===o?on(i,s):no(Zt(),o,H(i),s)}function Sm(i,s,o){const l=Re();return lr(l,$i(),s)&&is(Et(),An(),l,i,s,l[11],o,!1),Sm}function Kf(i,s,o,l,d){const m=d?"class":"style";Fy(i,o,s.inputs[m],m,l)}function nv(i,s,o,l){const d=Re(),h=Et(),m=20+i,y=d[11],E=d[m]=ry(y,s,ot.lFrame.currentNamespace),S=h.firstCreatePass?function(i,s,o,l,d,h,m){const y=s.consts,S=hl(s,i,2,d,ji(y,h));return Sy(s,o,S,ji(y,m)),null!==S.attrs&&Gt(S,S.attrs,!1),null!==S.mergedAttrs&&Gt(S,S.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,S),S}(m,h,d,0,s,o,l):h.data[m];Br(S,!0);const I=S.mergedAttrs;null!==I&&bi(y,E,I);const x=S.classes;null!==x&&cy(y,E,x);const N=S.styles;null!==N&&bC(y,E,N),64!=(64&S.flags)&&If(h,d,E,S),0===ot.lFrame.elementDepthCount&&Kn(E,d),ot.lFrame.elementDepthCount++,ko(S)&&(sm(h,d,S),function(i,s,o){if(Al(s)){const d=s.directiveEnd;for(let h=s.directiveStart;h<d;h++){const m=i.data[h];m.contentQueries&&m.contentQueries(1,o[h],h)}}}(h,S,d)),null!==l&&om(d,S)}function rv(){let i=Zt();xl()?jo():(i=i.parent,Br(i,!1));const s=i;ot.lFrame.elementDepthCount--;const o=Et();o.firstCreatePass&&(zo(o,i),Al(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&Kf(o,s,Re(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&Kf(o,s,Re(),s.stylesWithoutHost,!1)}function ME(i,s,o,l){nv(i,s,o,l),rv()}function sv(){return Re()}function Tm(i){return!!i&&"function"==typeof i.then}function OE(i){return!!i&&"function"==typeof i.subscribe}const Im=OE;function uh(i,s,o,l){const d=Re(),h=Et(),m=Zt();return PE(h,d,d[11],m,i,s,!!o,l),uh}function Am(i,s){const o=Zt(),l=Re(),d=Et();return PE(d,l,Ny(Ks(d.data),o,l),o,i,s,!1),Am}function PE(i,s,o,l,d,h,m,y){const E=ko(l),I=i.firstCreatePass&&ky(i),x=s[8],N=xy(s);let $=!0;if(3&l.type||y){const re=rr(l,s),ke=y?y(re):re,Se=N.length,Xe=y?pt=>y(Jt(pt[l.index])):l.index;if(Qt(o)){let pt=null;if(!y&&E&&(pt=function(i,s,o,l){const d=i.cleanup;if(null!=d)for(let h=0;h<d.length-1;h+=2){const m=d[h];if(m===o&&d[h+1]===l){const y=s[7],E=d[h+2];return y.length>E?y[E]:null}"string"==typeof m&&(h+=2)}return null}(i,s,d,l.index)),null!==pt)(pt.__ngLastListenerFn__||pt).__ngNextListenerFn__=h,pt.__ngLastListenerFn__=h,$=!1;else{h=Qf(l,s,x,h,!1);const Ft=o.listen(ke,d,h);N.push(h,Ft),I&&I.push(d,Xe,Se,Se+1)}}else h=Qf(l,s,x,h,!0),ke.addEventListener(d,h,m),N.push(h),I&&I.push(d,Xe,Se,m)}else h=Qf(l,s,x,h,!1);const q=l.outputs;let ge;if($&&null!==q&&(ge=q[d])){const re=ge.length;if(re)for(let ke=0;ke<re;ke+=2){const ur=s[ge[ke]][ge[ke+1]].subscribe(h),zs=N.length;N.push(h,ur),I&&I.push(d,l.index,zs,-(zs+1))}}}function xE(i,s,o,l){try{return!1!==o(l)}catch(d){return kf(i,d),!1}}function Qf(i,s,o,l,d){return function h(m){if(m===Function)return l;const y=2&i.flags?mr(i.index,s):s;0==(32&s[2])&&xf(y);let E=xE(s,0,l,m),S=h.__ngNextListenerFn__;for(;S;)E=xE(s,0,S,m)&&E,S=S.__ngNextListenerFn__;return d&&!1===E&&(m.preventDefault(),m.returnValue=!1),E}}function ov(i=1){return function(i){return(ot.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,ot.lFrame.contextLView))[8]}(i)}function wT(i,s){let o=null;const l=function(i){const s=i.attrs;if(null!=s){const o=s.indexOf(5);if(0==(1&o))return s[o+1]}return null}(i);for(let d=0;d<s.length;d++){const h=s[d];if("*"!==h){if(null===l?EC(i,h,!0):YR(l,h))return d}else o=d}return o}function kE(i){const s=Re()[16][6];if(!s.projection){const l=s.projection=Qi(i?i.length:1,null),d=l.slice();let h=s.child;for(;null!==h;){const m=i?wT(h,i):0;null!==m&&(d[m]?d[m].projectionNext=h:l[m]=h,d[m]=h),h=h.next}}}function av(i,s=0,o){const l=Re(),d=Et(),h=hl(d,20+i,16,null,o||null);null===h.projection&&(h.projection=s),jo(),64!=(64&h.flags)&&function(i,s,o){ec(s[11],0,s,o,pC(i,o,s),Zg(o.parent||s[6],o,s))}(d,l,h)}function ua(i,s,o){return Jf(i,"",s,"",o),ua}function Jf(i,s,o,l,d){const h=Re(),m=Du(h,s,o,l);return m!==Ct&&is(Et(),An(),h,i,m,h[11],d,!1),Jf}function dh(i,s,o,l,d){const h=i[o+1],m=null===s;let y=l?po(h):ul(h),E=!1;for(;0!==y&&(!1===E||m);){const I=i[y+1];ST(i[y],s)&&(E=!0,i[y+1]=l?rs(I):fy(I)),y=l?po(I):ul(I)}E&&(i[o+1]=l?fy(h):rs(h))}function ST(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Ji(i,s)>=0}function rp(i,s,o){return _o(i,s,o,!1),rp}function ip(i,s){return _o(i,s,null,!0),ip}function _o(i,s,o,l){const d=Re(),h=Et(),m=function(i){const s=ot.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}(2);h.firstUpdatePass&&function(i,s,o,l){const d=i.data;if(null===d[o+1]){const h=d[sr()],m=function(i,s){return s>=i.expandoStartIndex}(i,o);(function(i,s){return 0!=(i.flags&(s?16:32))})(h,l)&&null===s&&!m&&(s=!1),s=function(i,s,o,l){const d=Ks(i);let h=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(o=Mu(o=op(null,i,s,o,l),s.attrs,l),h=null);else{const m=s.directiveStylingLast;if(-1===m||i[m]!==d)if(o=op(d,i,s,o,l),null===h){let E=function(i,s,o){const l=o?s.classBindings:s.styleBindings;if(0!==ul(l))return i[po(l)]}(i,s,l);void 0!==E&&Array.isArray(E)&&(E=op(null,i,s,E[1],l),E=Mu(E,s.attrs,l),function(i,s,o,l){i[po(o?s.classBindings:s.styleBindings)]=l}(i,s,l,E))}else h=function(i,s,o){let l;const d=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<d;h++)l=Mu(l,i[h].hostAttrs,o);return Mu(l,s.attrs,o)}(i,s,l)}return void 0!==h&&(l?s.residualClasses=h:s.residualStyles=h),o}(d,h,s,l),function(i,s,o,l,d,h){let m=h?s.classBindings:s.styleBindings,y=po(m),E=ul(m);i[l]=o;let I,S=!1;if(Array.isArray(o)){const x=o;I=x[1],(null===I||Ji(x,I)>0)&&(S=!0)}else I=o;if(d)if(0!==E){const N=po(i[y+1]);i[l+1]=tm(N,y),0!==N&&(i[N+1]=py(i[N+1],l)),i[y+1]=function(i,s){return 131071&i|s<<17}(i[y+1],l)}else i[l+1]=tm(y,0),0!==y&&(i[y+1]=py(i[y+1],l)),y=l;else i[l+1]=tm(E,0),0===y?y=l:i[E+1]=py(i[E+1],l),E=l;S&&(i[l+1]=fy(i[l+1])),dh(i,I,l,!0),dh(i,I,l,!1),function(i,s,o,l,d){const h=d?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof s&&Ji(h,s)>=0&&(o[l+1]=rs(o[l+1]))}(s,I,i,l,h),m=tm(y,E),h?s.classBindings=m:s.styleBindings=m}(d,h,s,o,m,l)}}(h,i,m,l),s!==Ct&&lr(d,m,s)&&function(i,s,o,l,d,h,m,y){if(!(3&s.type))return;const E=i.data,S=E[y+1];Pm(function(i){return 1==(1&i)}(S)?fv(E,s,o,d,ul(S),m):void 0)||(Pm(h)||function(i){return 2==(2&i)}(S)&&(h=fv(E,null,o,d,y,m)),function(i,s,o,l,d){const h=Qt(i);if(s)d?h?i.addClass(o,l):o.classList.add(l):h?i.removeClass(o,l):o.classList.remove(l);else{let m=-1===l.indexOf("-")?void 0:ts.DashCase;if(null==d)h?i.removeStyle(o,l,m):o.style.removeProperty(l);else{const y="string"==typeof d&&d.endsWith("!important");y&&(d=d.slice(0,-10),m|=ts.Important),h?i.setStyle(o,l,d,m):o.style.setProperty(l,d,y?"important":"")}}}(l,m,Es(sr(),o),d,h))}(h,h.data[sr()],d,d[11],i,d[m+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Q(co(i)))),i}(s,o),l,m)}function op(i,s,o,l,d){let h=null;const m=o.directiveEnd;let y=o.directiveStylingLast;for(-1===y?y=o.directiveStart:y++;y<m&&(h=s[y],l=Mu(l,h.hostAttrs,d),h!==i);)y++;return null!==i&&(o.directiveStylingLast=y),l}function Mu(i,s,o){const l=o?1:2;let d=-1;if(null!==s)for(let h=0;h<s.length;h++){const m=s[h];"number"==typeof m?d=m:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),bn(i,m,!!o||s[++h]))}return void 0===i?null:i}function fv(i,s,o,l,d,h){const m=null===s;let y;for(;d>0;){const E=i[d],S=Array.isArray(E),I=S?E[1]:E,x=null===I;let N=o[d+1];N===Ct&&(N=x?G:void 0);let $=x?Zn(N,l):I===l?N:void 0;if(S&&!Pm($)&&($=Zn(E,l)),Pm($)&&(y=$,m))return y;const q=i[d+1];d=m?po(q):ul(q)}if(null!==s){let E=h?s.residualClasses:s.residualStyles;null!=E&&(y=Zn(E,l))}return y}function Pm(i){return void 0!==i}function qE(i,s=""){const o=Re(),l=Et(),d=i+20,h=l.firstCreatePass?hl(l,d,1,s,null):l.data[d],m=o[d]=function(i,s){return Qt(i)?i.createText(s):i.createTextNode(s)}(o[11],s);If(l,o,m,h),Br(h,!1)}function Ou(i){return hh("",i,""),Ou}function hh(i,s,o){const l=Re(),d=Du(l,i,s,o);return d!==Ct&&aa(l,sr(),d),hh}function Cv(i,s,o){const l=Re();return lr(l,$i(),s)&&is(Et(),An(),l,i,s,l[11],o,!0),Cv}function fp(i,s,o){const l=Re();if(lr(l,$i(),s)){const h=Et(),m=An();is(h,m,l,i,s,Ny(Ks(h.data),m,l),o,!0)}return fp}const Pu=void 0;var FT=["en",[["a","p"],["AM","PM"],Pu],[["AM","PM"],Pu,Pu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pu,"{1} 'at' {0}",Pu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),o=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===o?1:5}];let xu={};function Ev(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=wv(s);if(o)return o;const l=s.split("-")[0];if(o=wv(l),o)return o;if("en"===l)return FT;throw new Error(`Missing locale data for the locale "${i}".`)}function Lm(i){return Ev(i)[it.PluralCase]}function wv(i){return i in xu||(xu[i]=Lt.ng&&Lt.ng.common&&Lt.ng.common.locales&&Lt.ng.common.locales[i]),xu[i]}var it=(()=>((it=it||{})[it.LocaleId=0]="LocaleId",it[it.DayPeriodsFormat=1]="DayPeriodsFormat",it[it.DayPeriodsStandalone=2]="DayPeriodsStandalone",it[it.DaysFormat=3]="DaysFormat",it[it.DaysStandalone=4]="DaysStandalone",it[it.MonthsFormat=5]="MonthsFormat",it[it.MonthsStandalone=6]="MonthsStandalone",it[it.Eras=7]="Eras",it[it.FirstDayOfWeek=8]="FirstDayOfWeek",it[it.WeekendRange=9]="WeekendRange",it[it.DateFormat=10]="DateFormat",it[it.TimeFormat=11]="TimeFormat",it[it.DateTimeFormat=12]="DateTimeFormat",it[it.NumberSymbols=13]="NumberSymbols",it[it.NumberFormats=14]="NumberFormats",it[it.CurrencyCode=15]="CurrencyCode",it[it.CurrencySymbol=16]="CurrencySymbol",it[it.CurrencyName=17]="CurrencyName",it[it.Currencies=18]="Currencies",it[it.Directionality=19]="Directionality",it[it.PluralCase=20]="PluralCase",it[it.ExtraData=21]="ExtraData",it))();const ku="en-US";let Sv=ku;function gh(i){kt(i,"Expected localeId to be defined"),"string"==typeof i&&(Sv=i.toLowerCase().replace(/_/g,"-"))}function Aw(i,s,o,l,d){if(i=H(i),Array.isArray(i))for(let h=0;h<i.length;h++)Aw(i[h],s,o,l,d);else{const h=Et(),m=Re();let y=Kd(i)?i:H(i.provide),E=KC(i);const S=Zt(),I=1048575&S.providerIndexes,x=S.directiveStart,N=S.providerIndexes>>20;if(Kd(i)||!i.multi){const $=new kl(E,d,ch),q=xv(y,s,d?I:I+N,x);-1===q?(ht(Wi(S,m),h,y),Pv(h,i,s.length),s.push(y),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),o.push($),m.push($)):(o[q]=$,m[q]=$)}else{const $=xv(y,s,I+N,x),q=xv(y,s,I,I+N),ge=$>=0&&o[$],re=q>=0&&o[q];if(d&&!re||!d&&!ge){ht(Wi(S,m),h,y);const ke=function(i,s,o,l,d){const h=new kl(i,o,ch);return h.multi=[],h.index=s,h.componentProviders=0,Mw(h,d,l&&!o),h}(d?mI:Rw,o.length,d,l,E);!d&&re&&(o[q].providerFactory=ke),Pv(h,i,s.length,0),s.push(y),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),o.push(ke),m.push(ke)}else Pv(h,i,$>-1?$:q,Mw(o[d?q:$],E,!d&&l));!d&&l&&re&&o[q].componentProviders++}}}function Pv(i,s,o,l){const d=Kd(s);if(d||function(i){return!!i.useClass}(s)){const m=(s.useClass||s).prototype.ngOnDestroy;if(m){const y=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const E=y.indexOf(o);-1===E?y.push(o,[l,m]):y[E+1].push(l,m)}else y.push(o,m)}}}function Mw(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function xv(i,s,o,l){for(let d=o;d<l;d++)if(s[d]===i)return d;return-1}function Rw(i,s,o,l){return kv(this.multi,[])}function mI(i,s,o,l){const d=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,y=sn(o,o[1],this.providerFactory.index,l);h=y.slice(0,m),kv(d,h);for(let E=m;E<y.length;E++)h.push(y[E])}else h=[],kv(d,h);return h}function kv(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function Ow(i,s=[]){return o=>{o.providersResolver=(l,d)=>function(i,s,o){const l=Et();if(l.firstCreatePass){const d=gr(i);Aw(o,l.data,l.blueprint,d,!0),Aw(s,l.data,l.blueprint,d,!1)}}(l,d?d(i):i,s)}}class yr{}const vh="ngComponent";class yI{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${Q(i)}. Did you add it to @NgModule.entryComponents?`);return s[vh]=i,s}(s)}}let bh=(()=>{class i{}return i.NULL=new yI,i})();function Ym(...i){}function Ch(i,s){return new Eo(rr(i,s))}const CI=function(){return Ch(Zt(),Re())};let Eo=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=CI,i})();function Zm(i){return i instanceof Eo?i.nativeElement:i}class Fu{}let wI=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>Nv(),i})();const Nv=function(){const i=Re(),o=mr(Zt().index,i);return function(i){return i[11]}(fi(o)?o:i)};let Fv=(()=>{class i{}return i.\u0275prov=jt({token:i,providedIn:"root",factory:()=>null}),i})();class xw{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const kw=new xw("12.2.16");class DI{constructor(){}supports(s){return Hf(s)}create(s){return new vO(s)}}const yO=(i,s)=>s;class vO{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||yO}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,l=this._removalsHead,d=0,h=null;for(;o||l;){const m=!l||o&&o.currentIndex<Lv(l,d,h)?o:l,y=Lv(m,d,h),E=m.currentIndex;if(m===l)d--,l=l._nextRemoved;else if(o=o._next,null==m.previousIndex)d++;else{h||(h=[]);const S=y-d,I=E-d;if(S!=I){for(let N=0;N<S;N++){const $=N<h.length?h[N]:h[N]=0,q=$+N;I<=q&&q<S&&(h[N]=$+1)}h[m.previousIndex]=I-S}}y!==E&&s(m,y,E)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!Hf(s))throw new Error(`Error trying to diff '${Q(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,h,m,o=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let y=0;y<this.length;y++)h=s[y],m=this._trackByFn(y,h),null!==o&&Object.is(o.trackById,m)?(l&&(o=this._verifyReinsertion(o,h,m,y)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,y),l=!0),o=o._next}else d=0,function(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[cc()]();let l;for(;!(l=o.next()).done;)s(l.value)}}(s,y=>{m=this._trackByFn(d,y),null!==o&&Object.is(o.trackById,m)?(l&&(o=this._verifyReinsertion(o,y,m,d)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,m,d),l=!0),o=o._next,d++}),this.length=d;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,l,d){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,h,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,h,d)):s=this._addAfter(new bO(o,l),h,d),s}_verifyReinsertion(s,o,l,d){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?s=this._reinsertAfter(h,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,h=s._nextRemoved;return null===d?this._removalsHead=h:d._nextRemoved=h,null===h?this._removalsTail=d:h._prevRemoved=d,this._insertAfter(s,o,l),this._addToMoves(s,l),s}_moveAfter(s,o,l){return this._unlink(s),this._insertAfter(s,o,l),this._addToMoves(s,l),s}_addAfter(s,o,l){return this._insertAfter(s,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,l){const d=null===o?this._itHead:o._next;return s._next=d,s._prev=o,null===d?this._itTail=s:d._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new SI),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,l=s._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new SI),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class bO{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CO{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const o=s._prevDup,l=s._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class SI{constructor(){this.map=new Map}put(s){const o=s.trackById;let l=this.map.get(o);l||(l=new CO,this.map.set(o,l)),l.add(s)}get(s,o){const d=this.map.get(s);return d?d.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Lv(i,s,o){const l=i.previousIndex;if(null===l)return l;let d=0;return o&&l<o.length&&(d=o[l]),l+s+d}class Nw{constructor(){}supports(s){return s instanceof Map||vm(s)}create(){return new TI}}class TI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||vm(s)))throw new Error(`Error trying to diff '${Q(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(o&&o.key===d)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(d,l);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const l=s._prev;return o._next=s,o._prev=l,s._prev=o,l&&(l._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,o);const h=d._prev,m=d._next;return h&&(h._next=m),m&&(m._prev=h),d._next=null,d._prev=null,d}const l=new vr(s);return this._records.set(s,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(l=>o(s[l],l))}}class vr{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Vs(){return new Lu([new DI])}let Lu=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(null!=l){const d=l.factories.slice();o=o.concat(d)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||Vs()),deps:[[i,new or,new Ms]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(i){return i.name||typeof i}(o)}'`)}}return i.\u0275prov=jt({token:i,providedIn:"root",factory:Vs}),i})();function Fw(){return new qm([new Nw])}let qm=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(l){const d=l.factories.slice();o=o.concat(d)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||Fw()),deps:[[i,new or,new Ms]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(l)return l;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return i.\u0275prov=jt({token:i,providedIn:"root",factory:Fw}),i})();function Km(i,s,o,l,d=!1){for(;null!==o;){const h=s[o.index];if(null!==h&&l.push(Jt(h)),nr(h))for(let y=10;y<h.length;y++){const E=h[y],S=E[1].firstChild;null!==S&&Km(E[1],E,S,l)}const m=o.type;if(8&m)Km(i,s,o.child,l);else if(32&m){const y=Ql(o,s);let E;for(;E=y();)l.push(E)}else if(16&m){const y=oy(s,o);if(Array.isArray(y))l.push(...y);else{const E=Tf(s[16]);Km(E[1],E,y,l,!0)}}o=d?o.projectionNext:o.next}return l}class Eh{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return Km(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(nr(s)){const o=s[8],l=o?o.indexOf(this):-1;l>-1&&(zg(s,l),Ir(o,l))}this._attachedToViewContainer=!1}fC(this._lView[1],this._lView)}onDestroy(s){Ey(this._lView[1],this._lView,null,s)}markForCheck(){xf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){um(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,o){$o(!0);try{um(i,s,o)}finally{$o(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,mu(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class II extends Eh{constructor(s){super(s),this._view=s}detectChanges(){zC(this._view)}checkNoChanges(){!function(i){$o(!0);try{zC(i)}finally{$o(!1)}}(this._view)}get context(){return null}}const MI=function(i){return function(i,s,o){if(Ml(i)&&!o){const l=mr(i.index,s);return new Eh(l,l)}return 47&i.type?new Eh(s[16],s):null}(Zt(),Re(),16==(16&i))};let ai=(()=>{class i{}return i.__NG_ELEMENT_ID__=MI,i})();const RI=[new Nw],Jm=new Lu([new DI]),Uv=new qm(RI),OI=function(){return vp(Zt(),Re())};let _p=(()=>{class i{}return i.__NG_ELEMENT_ID__=OI,i})();const PI=_p,xI=class extends PI{constructor(s,o,l){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(s){const o=this._declarationTContainer.tViews,l=_u(this._declarationLView,o,s,16,null,o.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(l[19]=h.createEmbeddedView(o)),fl(o,l,s),new Eh(l)}};function vp(i,s){return 4&i.type?new xI(s,i,Ch(i,s)):null}class pa{}class Hv{}const NI=function(){return wh(Zt(),Re())};let Xm=(()=>{class i{}return i.__NG_ELEMENT_ID__=NI,i})();const $v=Xm,Gv=class extends $v{constructor(s,o,l){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=l}get element(){return Ch(this._hostTNode,this._hostLView)}get injector(){return new Zi(this._hostTNode,this._hostLView)}get parentInjector(){const s=Ge(this._hostTNode,this._hostLView);if(fn(s)){const o=eo(s,this._hostLView),l=zi(s);return new Zi(o[1].data[l+8],o)}return new Zi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=e_(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,l){const d=s.createEmbeddedView(o||{});return this.insert(d,l),d}createComponent(s,o,l,d,h){const m=l||this.parentInjector;if(!h&&null==s.ngModule&&m){const E=m.get(pa,null);E&&(h=E)}const y=s.create(m,d,void 0,h);return this.insert(y.hostView,o),y}insert(s,o){const l=s._lView,d=l[1];if(nr(l[3])){const I=this.indexOf(s);if(-1!==I)this.detach(I);else{const x=l[3],N=new Gv(x,x[6],x[3]);N.detach(N.indexOf(s))}}const h=this._adjustIndex(o),m=this._lContainer;!function(i,s,o,l){const d=10+l,h=o.length;l>0&&(o[d-1][4]=s),l<h-10?(s[4]=o[d],io(o,10+l,s)):(o.push(s),s[4]=null),s[3]=o;const m=s[17];null!==m&&o!==m&&function(i,s){const o=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===o?i[9]=[s]:o.push(s)}(m,s);const y=s[19];null!==y&&y.insertView(i),s[2]|=128}(d,l,m,h);const y=ay(h,m),E=l[11],S=Wg(E,m[7]);return null!==S&&function(i,s,o,l,d,h){l[0]=d,l[6]=s,mu(i,l,o,1,d,h)}(d,m[6],E,l,S,y),s.attachToViewContainerRef(),io(t_(m),h,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=e_(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),l=zg(this._lContainer,o);l&&(Ir(t_(this._lContainer),o),fC(l[1],l))}detach(s){const o=this._adjustIndex(s,-1),l=zg(this._lContainer,o);return l&&null!=Ir(t_(this._lContainer),o)?new Eh(l):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function e_(i){return i[8]}function t_(i){return i[8]||(i[8]=[])}function wh(i,s){let o;const l=s[i.index];if(nr(l))o=l;else{let d;if(8&i.type)d=Jt(l);else{const h=s[11];d=h.createComment("");const m=rr(i,s);Xl(h,Wg(h,m),d,function(i,s){return Qt(i)?i.nextSibling(s):s.nextSibling}(h,m),!1)}s[i.index]=o=$C(l,s,d,i),cm(s,o)}return new Gv(o,i,s)}const Mh={};class h0 extends bh{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=Bn(s);return new lA(o,this.ngModule)}}function f0(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}const oA=new ln("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Si});class lA extends yr{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=s.selectors.map(ES).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return f0(this.componentDef.inputs)}get outputs(){return f0(this.componentDef.outputs)}create(s,o,l,d){const h=(d=d||this.ngModule)?function(i,s){return{get:(o,l,d)=>{const h=i.get(o,Mh,d);return h!==Mh||l===Mh?h:s.get(o,l,d)}}}(s,d.injector):s,m=h.get(Fu,Jr),y=h.get(Fv,null),E=m.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",I=l?function(i,s,o){if(Qt(i))return i.selectRootElement(s,o===Ue.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(E,l,this.componentDef.encapsulation):ry(m.createRenderer(null,this.componentDef),S,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(S)),x=this.componentDef.onPush?576:528,N=function(i,s){return{components:[],scheduler:i||Si,clean:WS,playerHandler:s||null,flags:0}}(),$=Rf(0,null,null,1,0,null,null,null,null,null),q=_u(null,$,N,x,null,null,m,E,y,h);let ge,re;Ga(q);try{const ke=function(i,s,o,l,d,h){const m=o[1];o[20]=i;const E=hl(m,20,2,"#host",null),S=E.mergedAttrs=s.hostAttrs;null!==S&&(Gt(E,S,!0),null!==i&&(bi(d,i,S),null!==E.classes&&cy(d,i,E.classes),null!==E.styles&&bC(d,i,E.styles)));const I=l.createRenderer(i,s),x=_u(o,by(s),null,s.onPush?64:16,o[20],E,l,I,h||null,null);return m.firstCreatePass&&(ht(Wi(E,o),m,s.type),HC(m,E),Ty(E,o.length,1)),cm(o,x),o[20]=x}(I,this.componentDef,q,m,E);if(I)if(l)bi(E,I,["ng-version",kw.full]);else{const{attrs:Se,classes:Xe}=function(i){const s=[],o=[];let l=1,d=2;for(;l<i.length;){let h=i[l];if("string"==typeof h)2===d?""!==h&&s.push(h,i[++l]):8===d&&o.push(h);else{if(!fo(d))break;d=h}l++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);Se&&bi(E,I,Se),Xe&&Xe.length>0&&cy(E,I,Xe.join(" "))}if(re=Ol($,20),void 0!==o){const Se=re.projection=[];for(let Xe=0;Xe<this.ngContentSelectors.length;Xe++){const pt=o[Xe];Se.push(null!=pt?Array.from(pt):null)}}ge=function(i,s,o,l,d){const h=o[1],m=function(i,s,o){const l=Zt();i.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Iy(i,l,s,Wd(i,s,1,null),o));const d=sn(s,i,l.directiveStart,l);Kn(d,s);const h=rr(l,s);return h&&Kn(h,s),d}(h,o,s);if(l.components.push(m),i[8]=m,d&&d.forEach(E=>E(m,s)),s.contentQueries){const E=Zt();s.contentQueries(1,m,E.directiveStart)}const y=Zt();return!h.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(za(y.index),LC(o[1],y,0,y.directiveStart,y.directiveEnd,s),jC(s,m)),m}(ke,this.componentDef,q,N,[lE]),fl($,q,null)}finally{Js()}return new dA(this.componentType,ge,Ch(re,q),q,re)}}class dA extends class{}{constructor(s,o,l,d,h){super(),this.location=l,this._rootLView=d,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new II(d),this.componentType=s}get injector(){return new Zi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const Rh=new Map;class gA extends pa{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new h0(this);const l=Yr(s),d=s[Me]||null;d&&gh(d),this._bootstrapComponents=es(l.bootstrap),this._r3Injector=qC(s,o,[{provide:pa,useValue:this},{provide:bh,useValue:this.componentFactoryResolver}],Q(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,o=Qe.THROW_IF_NOT_FOUND,l=Ze.Default){return s===Qe||s===pa||s===Yt?this:this._r3Injector.get(s,o,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class tb extends Hv{constructor(s){super(),this.moduleType=s,null!==Yr(s)&&function(i){const s=new Set;!function o(l){const d=Yr(l,!0),h=d.id;null!==h&&(function(i,s,o){if(s&&s!==o)throw new Error(`Duplicate module registered for ${i} - ${Q(s)} vs ${Q(s.name)}`)}(h,Rh.get(h),l),Rh.set(h,l));const m=es(d.imports);for(const y of m)s.has(y)||(s.add(y),o(y))}(i)}(s)}create(s){return new gA(this.moduleType,s)}}function m0(i,s,o,l){return function(i,s,o,l,d,h){const m=s+o;return lr(i,m,d)?function(i,s,o){return i[s]=o}(i,m+1,h?l.call(h,d):l(d)):function(i,s){const o=i[s];return o===Ct?void 0:o}(i,m+1)}(Re(),function(){const i=ot.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}(),i,s,o,l)}function ju(i){return s=>{setTimeout(i,void 0,s)}}const ma=class extends u.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,l){var d,h,m;let y=s,E=o||(()=>null),S=l;if(s&&"object"==typeof s){const x=s;y=null===(d=x.next)||void 0===d?void 0:d.bind(x),E=null===(h=x.error)||void 0===h?void 0:h.bind(x),S=null===(m=x.complete)||void 0===m?void 0:m.bind(x)}this.__isAsync&&(E=ju(E),y&&(y=ju(y)),S&&(S=ju(S)));const I=super.subscribe({next:y,error:E,complete:S});return s instanceof ne.w&&s.add(I),I}};function bA(){return this._results[cc()]()}class m_{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=cc(),l=m_.prototype;l[o]||(l[o]=bA)}get changes(){return this._changes||(this._changes=new ma)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const l=this;l.dirty=!1;const d=ni(s);(this._changesDetected=!function(i,s,o){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],h=s[l];if(o&&(d=o(d),h=o(h)),h!==d)return!1}return!0}(l._results,d,o))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class v0{constructor(s){this.queryList=s,this.matches=null}clone(){return new v0(this.queryList)}setDirty(){this.queryList.setDirty()}}class b0{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const l=null!==s.contentQueries?s.contentQueries[0]:o.length,d=[];for(let h=0;h<l;h++){const m=o.getByIndex(h);d.push(this.queries[m.indexInDeclarationView].clone())}return new b0(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==db(s,o).matches&&this.queries[o].setDirty()}}class ob{constructor(s,o,l=null){this.predicate=s,this.flags=o,this.read=l}}class ab{constructor(s=[]){this.queries=s}elementStart(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let l=0;l<this.length;l++){const d=null!==o?o.length:0,h=this.getByIndex(l).embeddedTView(s,d);h&&(h.indexInDeclarationView=l,null!==o?o.push(h):o=[h])}return null!==o?new ab(o):null}template(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class lb{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new lb(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const h=l[d];this.matchTNodeWithReadOption(s,o,C0(o,h)),this.matchTNodeWithReadOption(s,o,Yi(o,s,h,!1,!1))}else l===_p?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,Yi(o,s,l,!1,!1))}matchTNodeWithReadOption(s,o,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Eo||d===Xm||d===_p&&4&o.type)this.addMatch(o.index,-2);else{const h=Yi(o,s,d,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,l)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function C0(i,s){const o=i.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===s)return o[l+1];return null}function wA(i,s,o,l){return-1===o?function(i,s){return 11&i.type?Ch(i,s):4&i.type?vp(i,s):null}(s,i):-2===o?function(i,s,o){return o===Eo?Ch(s,i):o===_p?vp(s,i):o===Xm?wh(s,i):void 0}(i,s,l):sn(i,i[1],o,s)}function E0(i,s,o,l){const d=s[19].queries[l];if(null===d.matches){const h=i.data,m=o.matches,y=[];for(let E=0;E<m.length;E+=2){const S=m[E];y.push(S<0?null:wA(s,h[S],m[E+1],o.metadata.read))}d.matches=y}return d.matches}function xh(i,s,o,l){const d=i.queries.getByIndex(o),h=d.matches;if(null!==h){const m=E0(i,s,d,o);for(let y=0;y<h.length;y+=2){const E=h[y];if(E>0)l.push(m[y/2]);else{const S=h[y+1],I=s[-E];for(let x=10;x<I.length;x++){const N=I[x];N[17]===N[3]&&xh(N[1],N,S,l)}if(null!==I[9]){const x=I[9];for(let N=0;N<x.length;N++){const $=x[N];xh($[1],$,S,l)}}}}}return l}function cb(i){const s=Re(),o=Et(),l=ud();ja(l+1);const d=db(o,l);if(i.dirty&&Fa(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const h=d.crossesNgTemplate?xh(o,s,l,[]):E0(o,s,d,l);i.reset(h,Zm),i.notifyOnChanges()}return!0}return!1}function w0(i,s,o){const l=Et();l.firstCreatePass&&(ub(l,new ob(i,s,o),-1),2==(2&s)&&(l.staticViewQueries=!0)),S0(l,Re(),s)}function kh(i,s,o,l){const d=Et();if(d.firstCreatePass){const h=Zt();ub(d,new ob(s,o,l),h.index),function(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(d,i),2==(2&o)&&(d.staticContentQueries=!0)}S0(d,Re(),o)}function D0(){return i=Re(),s=ud(),i[19].queries[s].queryList;var i,s}function S0(i,s,o){const l=new m_(4==(4&o));Ey(i,s,l,l.destroy),null===s[19]&&(s[19]=new b0),s[19].queries.push(new v0(l))}function ub(i,s,o){null===i.queries&&(i.queries=new ab),i.queries.track(new lb(s,o))}function db(i,s){return i.queries.getByIndex(s)}const F0=new ln("Application Initializer");let Fp=(()=>{class i{constructor(o){this.appInits=o,this.resolve=Ym,this.reject=Ym,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const h=this.appInits[d]();if(Tm(h))o.push(h);else if(Im(h)){const m=new Promise((y,E)=>{h.subscribe({complete:y,error:E})});o.push(m)}}Promise.all(o).then(()=>{l()}).catch(d=>{this.reject(d)}),0===o.length&&l(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(on(F0,8))},i.\u0275prov=jt({token:i,factory:i.\u0275fac}),i})();const UA=new ln("AppId"),cP={provide:UA,useFactory:function(){return`${L0()}${L0()}${L0()}`},deps:[]};function L0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jA=new ln("Platform Initializer"),V0=new ln("Platform ID"),HA=new ln("appBootstrapListener");let $A=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=jt({token:i,factory:i.\u0275fac}),i})();const pb=new ln("LocaleId"),GA=new ln("DefaultCurrencyCode");class dP{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}const B0=function(i){return new tb(i)},hP=B0,fP=function(i){return Promise.resolve(B0(i))},zA=function(i){const s=B0(i),l=es(Yr(i).declarations).reduce((d,h)=>{const m=Bn(h);return m&&d.push(new lA(m)),d},[]);return new dP(s,l)},pP=zA,gP=function(i){return Promise.resolve(zA(i))};let y_=(()=>{class i{constructor(){this.compileModuleSync=hP,this.compileModuleAsync=fP,this.compileModuleAndAllComponentsSync=pP,this.compileModuleAndAllComponentsAsync=gP}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=jt({token:i,factory:i.\u0275fac}),i})();const yP=(()=>Promise.resolve(0))();function U0(i){"undefined"==typeof Zone?yP.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class $s{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ma(!1),this.onMicrotaskEmpty=new ma(!1),this.onStable=new ma(!1),this.onError=new ma(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&o,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let i=Lt.requestAnimationFrame,s=Lt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Lt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,H0(i),i.isCheckStableRunning=!0,j0(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),H0(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,d,h,m,y)=>{try{return WA(i),o.invokeTask(d,h,m,y)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&s(),YA(i)}},onInvoke:(o,l,d,h,m,y,E)=>{try{return WA(i),o.invoke(d,h,m,y,E)}finally{i.shouldCoalesceRunChangeDetection&&s(),YA(i)}},onHasTask:(o,l,d,h)=>{o.hasTask(d,h),l===d&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,H0(i),j0(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,l,d,h)=>(o.handleError(d,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$s.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if($s.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,o,l){return this._inner.run(s,o,l)}runTask(s,o,l,d){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+d,s,bP,Ym,Ym);try{return h.runTask(m,o,l)}finally{h.cancelTask(m)}}runGuarded(s,o,l){return this._inner.runGuarded(s,o,l)}runOutsideAngular(s){return this._outer.run(s)}}const bP={};function j0(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function H0(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function WA(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function YA(i){i._nesting--,j0(i)}class wP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ma,this.onMicrotaskEmpty=new ma,this.onStable=new ma,this.onError=new ma}run(s,o,l){return s.apply(o,l)}runGuarded(s,o,l){return s.apply(o,l)}runOutsideAngular(s){return s()}runTask(s,o,l,d){return s.apply(o,l)}}let ZA=(()=>{class i{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$s.assertNotInAngularZone(),U0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())U0(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,d){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:d})}whenStable(o,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,l,d){return[]}}return i.\u0275fac=function(o){return new(o||i)(on($s))},i.\u0275prov=jt({token:i,factory:i.\u0275fac}),i})(),qA=(()=>{class i{constructor(){this._applications=new Map,$0.addToWindow(this)}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return $0.findTestabilityInTree(this,o,l)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=jt({token:i,factory:i.\u0275fac}),i})();class DP{addToWindow(s){}findTestabilityInTree(s,o,l){return null}}function SP(i){$0=i}let $0=new DP,KA=!0,QA=!1;function G0(){return QA=!0,KA}function TP(){if(QA)throw new Error("Cannot enable prod mode after platform setup.");KA=!1}let _a;const _b=new ln("AllowMultipleToken");class yb{constructor(s,o){this.name=s,this.token=o}}function Y0(i,s,o=[]){const l=`Platform: ${s}`,d=new ln(l);return(h=[])=>{let m=Z0();if(!m||m.injector.get(_b,!1))if(i)i(o.concat(h).concat({provide:d,useValue:!0}));else{const y=o.concat(h).concat({provide:d,useValue:!0},{provide:Nf,useValue:"platform"});!function(i){if(_a&&!_a.destroyed&&!_a.injector.get(_b,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");_a=i.get(tM);const s=i.get(jA,null);s&&s.forEach(o=>o())}(Qe.create({providers:y,name:l}))}return function(i){const s=Z0();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(d)}}function Z0(){return _a&&!_a.destroyed?_a:null}let tM=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const y=function(i,s){let o;return o="noop"===i?new wP:("zone.js"===i?void 0:i)||new $s({enableLongStackTrace:G0(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),o}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),E=[{provide:$s,useValue:y}];return y.run(()=>{const S=Qe.create({providers:E,parent:this.injector,name:o.moduleType.name}),I=o.create(S),x=I.injector.get(v,null);if(!x)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const N=y.onError.subscribe({next:$=>{x.handleError($)}});I.onDestroy(()=>{bb(this._modules,I),N.unsubscribe()})}),function(i,s,o){try{const l=o();return Tm(l)?l.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(x,y,()=>{const N=I.injector.get(Fp);return N.runInitializers(),N.donePromise.then(()=>(gh(I.injector.get(pb,ku)||ku),this._moduleDoBootstrap(I),I))})})}bootstrapModule(o,l=[]){const d=rM({},l);return function(i,s,o){const l=new tb(o);return Promise.resolve(l)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,d))}_moduleDoBootstrap(o){const l=o.injector.get(Nh);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${Q(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(on(Qe))},i.\u0275prov=jt({token:i,factory:i.\u0275fac}),i})();function rM(i,s){return Array.isArray(s)?s.reduce(rM,i):Object.assign(Object.assign({},i),s)}let Nh=(()=>{class i{constructor(o,l,d,h,m){this._zone=o,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=h,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new L.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),E=new L.y(S=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{$s.assertNotInAngularZone(),U0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{$s.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{I.unsubscribe(),x.unsubscribe()}});this.isStable=(0,he.T)(y,E.pipe((0,le.B)()))}bootstrap(o,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=o instanceof yr?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(d.componentType);const h=function(i){return i.isBoundToModule}(d)?void 0:this._injector.get(pa),y=d.create(Qe.NULL,[],l||d.selector,h),E=y.location.nativeElement,S=y.injector.get(ZA,null),I=S&&y.injector.get(qA);return S&&I&&I.registerApplication(E,S),y.onDestroy(()=>{this.detachView(y.hostView),bb(this.components,y),I&&I.unregisterApplication(E)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;bb(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(HA,[]).concat(this._bootstrapListeners).forEach(d=>d(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(o){return new(o||i)(on($s),on(Qe),on(v),on(bh),on(Fp))},i.\u0275prov=jt({token:i,factory:i.\u0275fac}),i})();function bb(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}class iM{}class aM{}const Q0={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let lM=(()=>{class i{constructor(o,l){this._compiler=o,this._config=l||Q0}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[l,d]=o.split("#");return void 0===d&&(d="default"),V(8255)(l).then(h=>h[d]).then(h=>J0(h,l,d)).then(h=>this._compiler.compileModuleAsync(h))}loadFactory(o){let[l,d]=o.split("#"),h="NgFactory";return void 0===d&&(d="default",h=""),V(8255)(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then(m=>m[d+h]).then(m=>J0(m,l,d))}}return i.\u0275fac=function(o){return new(o||i)(on(y_),on(aM,8))},i.\u0275prov=jt({token:i,factory:i.\u0275fac}),i})();function J0(i,s,o){if(!i)throw new Error(`Cannot find '${o}' in '${s}'`);return i}const kP=function(i){return null},FP=Y0(null,"core",[{provide:V0,useValue:"unknown"},{provide:tM,deps:[Qe]},{provide:qA,deps:[]},{provide:$A,deps:[]}]),oD=[{provide:Nh,useClass:Nh,deps:[$s,Qe,v,bh,Fp]},{provide:oA,deps:[$s],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(o){s.push(o)}}},{provide:Fp,useClass:Fp,deps:[[new Ms,F0]]},{provide:y_,useClass:y_,deps:[]},cP,{provide:Lu,useFactory:function(){return Jm},deps:[]},{provide:qm,useFactory:function(){return Uv},deps:[]},{provide:pb,useFactory:function(i){return gh(i=i||"undefined"!=typeof $localize&&$localize.locale||ku),i},deps:[[new Xa(pb),new Ms,new or]]},{provide:GA,useValue:"USD"}];let fM=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(on(Nh))},i.\u0275mod=Ro({type:i}),i.\u0275inj=Tt({providers:oD}),i})()},8939:(Ye,Te,V)=>{"use strict";V.d(Te,{hO:()=>ce,xv:()=>X,Dh:()=>Q,GT:()=>ee,cc:()=>oe,on:()=>F,pX:()=>le});var u=V(7716),ne=V(7841),L=V(4784);Ye=V.hmd(Ye);const he=["ngOnDestroy"],le=(se,we,Ne,Fe={})=>new Proxy(se,{get:(et,Ot)=>Ne.runOutsideAngular(()=>{var St;if(se[Ot])return(null===(St=null==Fe?void 0:Fe.spy)||void 0===St?void 0:St.get)&&Fe.spy.get(Ot,se[Ot]),se[Ot];if(he.indexOf(Ot)>-1)return()=>{};const mt=we.toPromise().then(Ae=>{const ue=Ae&&Ae[Ot];return"function"==typeof ue?ue.bind(Ae):ue&&ue.then?ue.then(fe=>Ne.run(()=>fe)):Ne.run(()=>ue)});return new Proxy(()=>{},{get:(Ae,ue)=>mt[ue],apply:(Ae,ue,fe)=>mt.then(De=>{var ye;const xe=De&&De(...fe);return(null===(ye=null==Fe?void 0:Fe.spy)||void 0===ye?void 0:ye.apply)&&Fe.spy.apply(Ot,fe,xe),xe})})})}),ee=(se,we)=>{we.forEach(Ne=>{Object.getOwnPropertyNames(Ne.prototype||Ne).forEach(Fe=>{Object.defineProperty(se.prototype,Fe,Object.getOwnPropertyDescriptor(Ne.prototype||Ne,Fe))})})};class ie{constructor(we){return we}}const Q=new u.OlP("angularfire2.app.options"),X=new u.OlP("angularfire2.app.name");function F(se,we,Ne){const et="object"==typeof Ne&&Ne||{};et.name=et.name||"string"==typeof Ne&&Ne||"[DEFAULT]";const St=ne.Z.apps.filter(mt=>mt&&mt.name===et.name)[0]||we.runOutsideAngular(()=>ne.Z.initializeApp(se,et));try{JSON.stringify(se)!==JSON.stringify(St.options)&&j("error",`${St.name} Firebase App already initialized with different options${Ye.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(mt){}return new ie(St)}const j=(se,...we)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[se](...we)},H={provide:ie,useFactory:F,deps:[Q,u.R0b,[new u.FiY,X]]};let ce=(()=>{class se{constructor(Ne){ne.Z.registerVersion("angularfire",L.q4.full,"core"),ne.Z.registerVersion("angularfire",L.q4.full,"app-compat"),ne.Z.registerVersion("angular",u.q4F.full,Ne.toString())}static initializeApp(Ne,Fe){return{ngModule:se,providers:[{provide:Q,useValue:Ne},{provide:X,useValue:Fe}]}}}return se.\u0275fac=function(Ne){return new(Ne||se)(u.LFG(u.Lbi))},se.\u0275mod=u.oAB({type:se}),se.\u0275inj=u.cJS({providers:[H]}),se})();function oe(se,we,Ne,Fe,et){const[,Ot,St]=globalThis.\u0275AngularfireInstanceCache.find(mt=>mt[0]===se)||[];if(Ot)return function(se,we){try{return se.toString()===we.toString()}catch(Ne){return se===we}}(et,St)||(_e("error",`${we} was already initialized on the ${Ne} Firebase App with different settings.${Ce?" You may need to reload as Firebase is not HMR aware.":""}`),_e("warn",{is:et,was:St})),Ot;{const mt=Fe();return globalThis.\u0275AngularfireInstanceCache.push([se,mt,et]),mt}}const Ce=!!Ye.hot,_e=(se,...we)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[se](...we)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4784:(Ye,Te,V)=>{"use strict";V.d(Te,{q4:()=>_g,iC:()=>Zn,HU:()=>Vl,vb:()=>io,JM:()=>Di});var u=V(7716),ne=V(2329),L=V(8239),he=V(8026),le=V(3854),ee=V(3910),ie=V(5422),Q=V(6676);const X="@firebase/installations",F="0.5.5",H=`w:${F}`,ce="FIS_v2",we=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ne(D){return D instanceof le.ZR&&D.code.includes("request-failed")}function Fe({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function et(D){return{token:D.token,requestStatus:2,expiresIn:De(D.expiresIn),creationTime:Date.now()}}function Ot(D,T){return St.apply(this,arguments)}function St(){return(St=(0,L.Z)(function*(D,T){const U=(yield T.json()).error;return we.create("request-failed",{requestName:D,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function mt({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Ae(D,{refreshToken:T}){const O=mt(D);return O.append("Authorization",function(D){return`${ce} ${D}`}(T)),O}function ue(D){return fe.apply(this,arguments)}function fe(){return(fe=(0,L.Z)(function*(D){const T=yield D();return T.status>=500&&T.status<600?D():T})).apply(this,arguments)}function De(D){return Number(D.replace("s","000"))}function xe(D,T){return ve.apply(this,arguments)}function ve(){return(ve=(0,L.Z)(function*(D,{fid:T}){const O=Fe(D),pe={method:"POST",headers:mt(D),body:JSON.stringify({fid:T,authVersion:ce,appId:D.appId,sdkVersion:H})},Pe=yield ue(()=>fetch(O,pe));if(Pe.ok){const He=yield Pe.json();return{fid:He.fid||T,registrationStatus:2,refreshToken:He.refreshToken,authToken:et(He.authToken)}}throw yield Ot("Create Installation",Pe)})).apply(this,arguments)}function ct(D){return new Promise(T=>{setTimeout(T,D)})}const xn=/^[cdef][\w-]{21}$/;function kt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const O=function(D){return function(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return xn.test(O)?O:""}catch(D){return""}}function Vt(D){return`${D.appName}!${D.appId}`}const Ln=new Map;function Lr(D,T){const O=Vt(D);Tt(O,T),function(D,T){const O=(!Cr&&"BroadcastChannel"in self&&(Cr=new BroadcastChannel("[Firebase] FID Change"),Cr.onmessage=D=>{Tt(D.data.key,D.data.fid)}),Cr);O&&O.postMessage({key:D,fid:T}),0===Ln.size&&Cr&&(Cr.close(),Cr=null)}(O,T)}function Tt(D,T){const O=Ln.get(D);if(O)for(const U of O)U(T)}let Cr=null;const dr="firebase-installations-store";let Wr=null;function Ys(){return Wr||(Wr=(0,Q.openDb)("firebase-installations-database",1,D=>{switch(D.oldVersion){case 0:D.createObjectStore(dr)}})),Wr}function Ze(D,T){return an.apply(this,arguments)}function an(){return(an=(0,L.Z)(function*(D,T){const O=Vt(D),te=(yield Ys()).transaction(dr,"readwrite"),pe=te.objectStore(dr),Pe=yield pe.get(O);return yield pe.put(T,O),yield te.complete,(!Pe||Pe.fid!==T.fid)&&Lr(D,T.fid),T})).apply(this,arguments)}function wr(D){return hr.apply(this,arguments)}function hr(){return(hr=(0,L.Z)(function*(D){const T=Vt(D),U=(yield Ys()).transaction(dr,"readwrite");yield U.objectStore(dr).delete(T),yield U.complete})).apply(this,arguments)}function Jn(D,T){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,L.Z)(function*(D,T){const O=Vt(D),te=(yield Ys()).transaction(dr,"readwrite"),pe=te.objectStore(dr),Pe=yield pe.get(O),He=T(Pe);return void 0===He?yield pe.delete(O):yield pe.put(He,O),yield te.complete,He&&(!Pe||Pe.fid!==He.fid)&&Lr(D,He.fid),He})).apply(this,arguments)}function Sn(D){return tn.apply(this,arguments)}function tn(){return(tn=(0,L.Z)(function*(D){let T;const O=yield Jn(D,U=>{const te=fs(U),pe=nn(D,te);return T=pe.registrationPromise,pe.installationEntry});return""===O.fid?{installationEntry:yield T}:{installationEntry:O,registrationPromise:T}})).apply(this,arguments)}function fs(D){return Lt(D||{fid:kt(),registrationStatus:0})}function nn(D,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(we.create("app-offline"))};const O={fid:T.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:O,registrationPromise:function(D,T){return st.apply(this,arguments)}(D,O)}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Xn(D)}:{installationEntry:T}}function st(){return(st=(0,L.Z)(function*(D,T){try{return Ze(D,yield xe(D,T))}catch(O){throw Ne(O)&&409===O.customData.serverCode?yield wr(D):yield Ze(D,{fid:T.fid,registrationStatus:0}),O}})).apply(this,arguments)}function Xn(D){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,L.Z)(function*(D){let T=yield er(D);for(;1===T.registrationStatus;)yield ct(100),T=yield er(D);if(0===T.registrationStatus){const{installationEntry:O,registrationPromise:U}=yield Sn(D);return U||O}return T})).apply(this,arguments)}function er(D){return Jn(D,T=>{if(!T)throw we.create("installation-not-found");return Lt(T)})}function Lt(D){return function(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function ps(D,T){return W.apply(this,arguments)}function W(){return(W=(0,L.Z)(function*({appConfig:D,platformLoggerProvider:T},O){const U=G(D,O),te=Ae(D,O),pe=T.getImmediate({optional:!0});pe&&te.append("x-firebase-client",pe.getPlatformInfoString());const He={method:"POST",headers:te,body:JSON.stringify({installation:{sdkVersion:H}})},$e=yield ue(()=>fetch(U,He));if($e.ok)return et(yield $e.json());throw yield Ot("Generate Auth Token",$e)})).apply(this,arguments)}function G(D,{fid:T}){return`${Fe(D)}/${T}/authTokens:generate`}function K(D){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,L.Z)(function*(D,T=!1){let O;const U=yield Jn(D.appConfig,pe=>{if(!We(pe))throw we.create("not-registered");const Pe=pe.authToken;if(!T&&bt(Pe))return pe;if(1===Pe.requestStatus)return O=de(D,T),pe;{if(!navigator.onLine)throw we.create("app-offline");const He=Ht(pe);return O=be(D,He),He}});return O?yield O:U.authToken})).apply(this,arguments)}function de(D,T){return ze.apply(this,arguments)}function ze(){return(ze=(0,L.Z)(function*(D,T){let O=yield Me(D.appConfig);for(;1===O.authToken.requestStatus;)yield ct(100),O=yield Me(D.appConfig);const U=O.authToken;return 0===U.requestStatus?K(D,T):U})).apply(this,arguments)}function Me(D){return Jn(D,T=>{if(!We(T))throw we.create("not-registered");return function(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function be(D,T){return Le.apply(this,arguments)}function Le(){return(Le=(0,L.Z)(function*(D,T){try{const O=yield ps(D,T),U=Object.assign(Object.assign({},T),{authToken:O});return yield Ze(D.appConfig,U),O}catch(O){if(!Ne(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const U=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Ze(D.appConfig,U)}else yield wr(D.appConfig);throw O}})).apply(this,arguments)}function We(D){return void 0!==D&&2===D.registrationStatus}function bt(D){return 2===D.requestStatus&&!function(D){const T=Date.now();return T<D.creationTime||D.creationTime+D.expiresIn<T+36e5}(D)}function Ht(D){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:T})}function Ro(){return(Ro=(0,L.Z)(function*(D){const T=D,{installationEntry:O,registrationPromise:U}=yield Sn(T.appConfig);return U?U.catch(console.error):K(T).catch(console.error),O.fid})).apply(this,arguments)}function Ta(){return(Ta=(0,L.Z)(function*(D,T=!1){const O=D;return yield Tl(O.appConfig),(yield K(O,T)).token})).apply(this,arguments)}function Tl(D){return gs.apply(this,arguments)}function gs(){return(gs=(0,L.Z)(function*(D){const{registrationPromise:T}=yield Sn(D);T&&(yield T)})).apply(this,arguments)}function $t(D){return we.create("missing-app-config-values",{valueName:D})}const pr="installations";(0,he._registerComponent)(new ee.wA(pr,D=>{const T=D.getProvider("app").getImmediate();return{app:T,appConfig:function(D){if(!D||!D.options)throw $t("App Configuration");if(!D.name)throw $t("App Name");const T=["projectId","apiKey","appId"];for(const O of T)if(!D.options[O])throw $t(O);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(T),platformLoggerProvider:(0,he._getProvider)(T,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,he._registerComponent)(new ee.wA("installations-internal",D=>{const T=D.getProvider("app").getImmediate(),O=(0,he._getProvider)(T,pr).getImmediate();return{getId:()=>function(D){return Ro.apply(this,arguments)}(O),getToken:te=>function(D){return Ta.apply(this,arguments)}(O,te)}},"PRIVATE")),(0,he.registerVersion)(X,F),(0,he.registerVersion)(X,F,"esm2017");const Zs="@firebase/remote-config",kn=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ko{constructor(T,O,U,te){this.client=T,this.storage=O,this.storageCache=U,this.logger=te}isCachedDataFresh(T,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-O,te=U<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${te}.`),te}fetch(T){var O=this;return(0,L.Z)(function*(){const[U,te]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(te&&O.isCachedDataFresh(T.cacheMaxAgeMillis,U))return te;T.eTag=te&&te.eTag;const pe=yield O.client.fetch(T),Pe=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===pe.status&&Pe.push(O.storage.setLastSuccessfulFetchResponse(pe)),yield Promise.all(Pe),pe})()}}function gr(D=navigator){return D.languages&&D.languages[0]||D.language}class In{constructor(T,O,U,te,pe,Pe){this.firebaseInstallations=T,this.sdkVersion=O,this.namespace=U,this.projectId=te,this.apiKey=pe,this.appId=Pe}fetch(T){var O=this;return(0,L.Z)(function*(){const[U,te]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Pe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,He={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},$e={sdk_version:O.sdkVersion,app_instance_id:U,app_instance_id_token:te,app_id:O.appId,language_code:gr()},Mt={method:"POST",headers:He,body:JSON.stringify($e)},zt=fetch(Pe,Mt),Cn=new Promise((Hr,Mr)=>{T.signal.addEventListener(()=>{const ft=new Error("The operation was aborted.");ft.name="AbortError",Mr(ft)})});let Ar;try{yield Promise.race([zt,Cn]),Ar=yield zt}catch(Hr){let Mr="fetch-client-network";throw"AbortError"===Hr.name&&(Mr="fetch-timeout"),kn.create(Mr,{originalErrorMessage:Hr.message})}let Nn=Ar.status;const Qo=Ar.headers.get("ETag")||void 0;let Ja,Jo;if(200===Ar.status){let Hr;try{Hr=yield Ar.json()}catch(Mr){throw kn.create("fetch-client-parse",{originalErrorMessage:Mr.message})}Ja=Hr.entries,Jo=Hr.state}if("INSTANCE_STATE_UNSPECIFIED"===Jo?Nn=500:"NO_CHANGE"===Jo?Nn=304:("NO_TEMPLATE"===Jo||"EMPTY_CONFIG"===Jo)&&(Ja={}),304!==Nn&&200!==Nn)throw kn.create("fetch-status",{httpStatus:Nn});return{status:Nn,eTag:Qo,config:Ja}})()}}class pi{constructor(T,O){this.client=T,this.storage=O}fetch(T){var O=this;return(0,L.Z)(function*(){const U=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(T,U)})()}attemptFetch(T,{throttleEndTimeMillis:O,backoffCount:U}){var te=this;return(0,L.Z)(function*(){yield function(D,T){return new Promise((O,U)=>{const te=Math.max(T-Date.now(),0),pe=setTimeout(O,te);D.addEventListener(()=>{clearTimeout(pe),U(kn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,O);try{const pe=yield te.client.fetch(T);return yield te.storage.deleteThrottleMetadata(),pe}catch(pe){if(!function(D){if(!(D instanceof le.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}(pe))throw pe;const Pe={throttleEndTimeMillis:Date.now()+(0,le.$s)(U),backoffCount:U+1};return yield te.storage.setThrottleMetadata(Pe),te.attemptFetch(T,Pe)}})()}}class ag{constructor(T,O,U,te,pe){this.app=T,this._client=O,this._storageCache=U,this._storage=te,this._logger=pe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Aa(D,T){const O=D.target.error||void 0;return kn.create(T,{originalErrorMessage:O&&O.message})}const No="app_namespace_store";class id{constructor(T,O,U,te=function(){return new Promise((D,T)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=U=>{T(Aa(U,"storage-open"))},O.onsuccess=U=>{D(U.target.result)},O.onupgradeneeded=U=>{const te=U.target.result;switch(U.oldVersion){case 0:te.createObjectStore(No,{keyPath:"compositeKey"})}}}catch(O){T(kn.create("storage-open",{originalErrorMessage:O}))}})}()){this.appId=T,this.appName=O,this.namespace=U,this.openDbPromise=te}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var O=this;return(0,L.Z)(function*(){const U=yield O.openDbPromise;return new Promise((te,pe)=>{const He=U.transaction([No],"readonly").objectStore(No),$e=O.createCompositeKey(T);try{const Mt=He.get($e);Mt.onerror=zt=>{pe(Aa(zt,"storage-get"))},Mt.onsuccess=zt=>{const Cn=zt.target.result;te(Cn?Cn.value:void 0)}}catch(Mt){pe(kn.create("storage-get",{originalErrorMessage:Mt&&Mt.message}))}})})()}set(T,O){var U=this;return(0,L.Z)(function*(){const te=yield U.openDbPromise;return new Promise((pe,Pe)=>{const $e=te.transaction([No],"readwrite").objectStore(No),Mt=U.createCompositeKey(T);try{const zt=$e.put({compositeKey:Mt,value:O});zt.onerror=Cn=>{Pe(Aa(Cn,"storage-set"))},zt.onsuccess=()=>{pe()}}catch(zt){Pe(kn.create("storage-set",{originalErrorMessage:zt&&zt.message}))}})})()}delete(T){var O=this;return(0,L.Z)(function*(){const U=yield O.openDbPromise;return new Promise((te,pe)=>{const He=U.transaction([No],"readwrite").objectStore(No),$e=O.createCompositeKey(T);try{const Mt=He.delete($e);Mt.onerror=zt=>{pe(Aa(zt,"storage-delete"))},Mt.onsuccess=()=>{te()}}catch(Mt){pe(kn.create("storage-delete",{originalErrorMessage:Mt&&Mt.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Fo{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,L.Z)(function*(){const O=T.storage.getLastFetchStatus(),U=T.storage.getLastSuccessfulFetchTimestampMillis(),te=T.storage.getActiveConfig(),pe=yield O;pe&&(T.lastFetchStatus=pe);const Pe=yield U;Pe&&(T.lastSuccessfulFetchTimestampMillis=Pe);const He=yield te;He&&(T.activeConfig=He)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function dg(){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,L.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch(D){return!1}})).apply(this,arguments)}(0,he._registerComponent)(new ee.wA("remote-config",function(T,{instanceIdentifier:O}){const U=T.getProvider("app").getImmediate(),te=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw kn.create("registration-window");if(!(0,le.hl)())throw kn.create("indexed-db-unavailable");const{projectId:pe,apiKey:Pe,appId:He}=U.options;if(!pe)throw kn.create("registration-project-id");if(!Pe)throw kn.create("registration-api-key");if(!He)throw kn.create("registration-app-id");const $e=new id(He,U.name,O=O||"firebase"),Mt=new Fo($e),zt=new ie.Yd(Zs);zt.logLevel=ie.in.ERROR;const Cn=new In(te,he.SDK_VERSION,O,pe,Pe,He),Ar=new pi(Cn,$e),Nn=new ko(Ar,$e,Mt,zt),Qo=new ag(U,Nn,Mt,$e,zt);return function(D){const T=(0,le.m9)(D);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Qo),Qo},"PUBLIC").setMultipleInstances(!0)),(0,he.registerVersion)(Zs,"0.3.4"),(0,he.registerVersion)(Zs,"0.3.4","esm2017");const qr="/firebase-messaging-sw.js",Ma="/firebase-cloud-messaging-push-scope",vs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Bi="google.c.a.c_id",sd="google.c.a.c_l",Bo="google.c.a.ts",bs="google.c.a.e";var Ui=(()=>{return(D=Ui||(Ui={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Ui;var D})();function Kr(D){const T=new Uint8Array(D);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function kc(D){const O=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(O),te=new Uint8Array(U.length);for(let pe=0;pe<U.length;++pe)te[pe]=U.charCodeAt(pe);return te}const Ra="fcm_token_details_db",od="fcm_token_object_Store";function Qr(D){return qs.apply(this,arguments)}function qs(){return(qs=(0,L.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(pe=>pe.name).includes(Ra))return null;let T=null;return(yield(0,Q.openDb)(Ra,5,function(){var U=(0,L.Z)(function*(te){var pe;if(te.oldVersion<2||!te.objectStoreNames.contains(od))return;const Pe=te.transaction.objectStore(od),He=yield Pe.index("fcmSenderId").get(D);if(yield Pe.clear(),He)if(2===te.oldVersion){const $e=He;if(!$e.auth||!$e.p256dh||!$e.endpoint)return;T={token:$e.fcmToken,createTime:null!==(pe=$e.createTime)&&void 0!==pe?pe:Date.now(),subscriptionOptions:{auth:$e.auth,p256dh:$e.p256dh,endpoint:$e.endpoint,swScope:$e.swScope,vapidKey:"string"==typeof $e.vapidKey?$e.vapidKey:Kr($e.vapidKey)}}}else if(3===te.oldVersion){const $e=He;T={token:$e.fcmToken,createTime:$e.createTime,subscriptionOptions:{auth:Kr($e.auth),p256dh:Kr($e.p256dh),endpoint:$e.endpoint,swScope:$e.swScope,vapidKey:Kr($e.vapidKey)}}}else if(4===te.oldVersion){const $e=He;T={token:$e.fcmToken,createTime:$e.createTime,subscriptionOptions:{auth:Kr($e.auth),p256dh:Kr($e.p256dh),endpoint:$e.endpoint,swScope:$e.swScope,vapidKey:Kr($e.vapidKey)}}}});return function(te){return U.apply(this,arguments)}}())).close(),yield(0,Q.deleteDb)(Ra),yield(0,Q.deleteDb)("fcm_vapid_details_db"),yield(0,Q.deleteDb)("undefined"),Oa(T)?T:null})).apply(this,arguments)}function Oa(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:T}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const Cs="firebase-messaging-store";let xa=null;function Qt(){return xa||(xa=(0,Q.openDb)("firebase-messaging-database",1,D=>{switch(D.oldVersion){case 0:D.createObjectStore(Cs)}})),xa}function ka(D){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,L.Z)(function*(D){const T=Es(D),U=yield(yield Qt()).transaction(Cs).objectStore(Cs).get(T);if(U)return U;{const te=yield Qr(D.appConfig.senderId);if(te)return yield Na(D,te),te}})).apply(this,arguments)}function Na(D,T){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,L.Z)(function*(D,T){const O=Es(D),te=(yield Qt()).transaction(Cs,"readwrite");return yield te.objectStore(Cs).put(T,O),yield te.complete,T})).apply(this,arguments)}function Nc(D){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,L.Z)(function*(D){const T=Es(D),U=(yield Qt()).transaction(Cs,"readwrite");yield U.objectStore(Cs).delete(T),yield U.complete})).apply(this,arguments)}function Es({appConfig:D}){return D.appId}const mn=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ol(D,T){return gi.apply(this,arguments)}function gi(){return(gi=(0,L.Z)(function*(D,T){const O=yield Uo(D),U=ot(T),te={method:"POST",headers:O,body:JSON.stringify(U)};let pe;try{pe=yield(yield fetch(ji(D.appConfig),te)).json()}catch(Pe){throw mn.create("token-subscribe-failed",{errorInfo:Pe})}if(pe.error)throw mn.create("token-subscribe-failed",{errorInfo:pe.error.message});if(!pe.token)throw mn.create("token-subscribe-no-token");return pe.token})).apply(this,arguments)}function mr(D,T){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,L.Z)(function*(D,T){const O=yield Uo(D),U=ot(T.subscriptionOptions),te={method:"PATCH",headers:O,body:JSON.stringify(U)};let pe;try{pe=yield(yield fetch(`${ji(D.appConfig)}/${T.token}`,te)).json()}catch(Pe){throw mn.create("token-update-failed",{errorInfo:Pe})}if(pe.error)throw mn.create("token-update-failed",{errorInfo:pe.error.message});if(!pe.token)throw mn.create("token-update-no-token");return pe.token})).apply(this,arguments)}function Fc(D,T){return ws.apply(this,arguments)}function ws(){return(ws=(0,L.Z)(function*(D,T){const U={method:"DELETE",headers:yield Uo(D)};try{const pe=yield(yield fetch(`${ji(D.appConfig)}/${T}`,U)).json();if(pe.error)throw mn.create("token-unsubscribe-failed",{errorInfo:pe.error.message})}catch(te){throw mn.create("token-unsubscribe-failed",{errorInfo:te})}})).apply(this,arguments)}function ji({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Uo(D){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,L.Z)(function*({appConfig:D,installations:T}){const O=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function ot({p256dh:D,auth:T,endpoint:O,vapidKey:U}){const te={web:{endpoint:O,auth:T,p256dh:D}};return U!==vs&&(te.web.applicationPubKey=U),te}const Pl=6048e5;function Qh(D){return La.apply(this,arguments)}function La(){return(La=(0,L.Z)(function*(D){const T=yield Lc(D.swRegistration,D.vapidKey),O={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:T.endpoint,auth:Kr(T.getKey("auth")),p256dh:Kr(T.getKey("p256dh"))},U=yield ka(D.firebaseDependencies);if(U){if(Vc(U.subscriptionOptions,O))return Date.now()>=U.createTime+Pl?Jh(D,{token:U.token,createTime:Date.now(),subscriptionOptions:O}):U.token;try{yield Fc(D.firebaseDependencies,U.token)}catch(te){console.warn(te)}return Re(D.firebaseDependencies,O)}return Re(D.firebaseDependencies,O)})).apply(this,arguments)}function ld(D){return Va.apply(this,arguments)}function Va(){return(Va=(0,L.Z)(function*(D){const T=yield ka(D.firebaseDependencies);T&&(yield Fc(D.firebaseDependencies,T.token),yield Nc(D.firebaseDependencies));const O=yield D.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function Jh(D,T){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,L.Z)(function*(D,T){try{const O=yield mr(D.firebaseDependencies,T),U=Object.assign(Object.assign({},T),{token:O,createTime:Date.now()});return yield Na(D.firebaseDependencies,U),O}catch(O){throw yield ld(D),O}})).apply(this,arguments)}function Re(D,T){return Et.apply(this,arguments)}function Et(){return(Et=(0,L.Z)(function*(D,T){const U={token:yield Ol(D,T),createTime:Date.now(),subscriptionOptions:T};return yield Na(D,U),U.token})).apply(this,arguments)}function Lc(D,T){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,L.Z)(function*(D,T){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:kc(T)})})).apply(this,arguments)}function Vc(D,T){return T.vapidKey===D.vapidKey&&T.endpoint===D.endpoint&&T.auth===D.auth&&T.p256dh===D.p256dh}function mi(D){const T={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function(D,T){if(!T.notification)return;D.notification={};const O=T.notification.title;O&&(D.notification.title=O);const U=T.notification.body;U&&(D.notification.body=U);const te=T.notification.image;te&&(D.notification.image=te)}(T,D),function(D,T){!T.data||(D.data=T.data)}(T,D),function(D,T){if(!T.fcmOptions)return;D.fcmOptions={};const O=T.fcmOptions.link;O&&(D.fcmOptions.link=O);const U=T.fcmOptions.analytics_label;U&&(D.fcmOptions.analyticsLabel=U)}(T,D),T}function fg(D){return"object"==typeof D&&!!D&&Bi in D}function cd(D,T){const O=[];for(let U=0;U<D.length;U++)O.push(D.charAt(U)),U<T.length&&O.push(T.charAt(U));return O.join("")}function $o(D){return mn.create("missing-app-config-values",{valueName:D})}cd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),cd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class _n{constructor(T,O,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const te=function(D){if(!D||!D.options)throw $o("App Configuration Object");if(!D.name)throw $o("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:O}=D;for(const U of T)if(!O[U])throw $o(U);return{appName:D.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:te,installations:O,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Ur(D){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,L.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(qr,{scope:Ma}),D.swRegistration.update().catch(()=>{})}catch(T){throw mn.create("failed-service-worker-registration",{browserErrorMessage:T.message})}})).apply(this,arguments)}function $i(D,T){return ir.apply(this,arguments)}function ir(){return(ir=(0,L.Z)(function*(D,T){if(!T&&!D.swRegistration&&(yield Ur(D)),T||!D.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw mn.create("invalid-sw-registration");D.swRegistration=T}})).apply(this,arguments)}function pg(D,T){return Go.apply(this,arguments)}function Go(){return(Go=(0,L.Z)(function*(D,T){T?D.vapidKey=T:D.vapidKey||(D.vapidKey=vs)})).apply(this,arguments)}function Ua(){return(Ua=(0,L.Z)(function*(D,T){if(!navigator)throw mn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw mn.create("permission-blocked");return yield pg(D,null==T?void 0:T.vapidKey),yield $i(D,null==T?void 0:T.serviceWorkerRegistration),Qh(D)})).apply(this,arguments)}function Uc(D,T,O){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,L.Z)(function*(D,T,O){const U=ud(T);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:O[Bi],message_name:O[sd],message_time:O[Bo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ud(D){switch(D){case Ui.NOTIFICATION_CLICKED:return"notification_open";case Ui.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ha(){return(Ha=(0,L.Z)(function*(D,T){const O=T.data;if(!O.isFirebaseMessaging)return;D.onMessageHandler&&O.messageType===Ui.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(mi(O)):D.onMessageHandler.next(mi(O)));const U=O.data;fg(U)&&"1"===U[bs]&&(yield Uc(D,O.messageType,U))})).apply(this,arguments)}const $a="@firebase/messaging";function fd(){return Js.apply(this,arguments)}function Js(){return(Js=(0,L.Z)(function*(){try{yield(0,le.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,he._registerComponent)(new ee.wA("messaging",D=>{const T=new _n(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function(D,T){return Ha.apply(this,arguments)}(T,O)),T},"PUBLIC")),(0,he._registerComponent)(new ee.wA("messaging-internal",D=>{const T=D.getProvider("messaging").getImmediate();return{getToken:U=>function(D,T){return Ua.apply(this,arguments)}(T,U)}},"PRIVATE")),(0,he.registerVersion)($a,"0.9.9"),(0,he.registerVersion)($a,"0.9.9","esm2017");const Hc="analytics",$c="firebase_id",Wo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wa="https://www.googletagmanager.com/gtag/js",Mn=new ie.Yd("@firebase/analytics");function Gc(D){return Promise.all(D.map(T=>T.catch(O=>O)))}function zc(D,T){const O=document.createElement("script");O.src=`${Wa}?l=${D}&id=${T}`,O.async=!0,document.head.appendChild(O)}function kl(D,T,O,U,te,pe){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,L.Z)(function*(D,T,O,U,te,pe){const Pe=U[te];try{if(Pe)yield T[Pe];else{const $e=(yield Gc(O)).find(Mt=>Mt.measurementId===te);$e&&(yield T[$e.appId])}}catch(He){Mn.error(He)}D("config",te,pe)})).apply(this,arguments)}function pd(D,T,O,U,te){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,L.Z)(function*(D,T,O,U,te){try{let pe=[];if(te&&te.send_to){let Pe=te.send_to;Array.isArray(Pe)||(Pe=[Pe]);const He=yield Gc(O);for(const $e of Pe){const Mt=He.find(Cn=>Cn.measurementId===$e),zt=Mt&&T[Mt.appId];if(!zt){pe=[];break}pe.push(zt)}}0===pe.length&&(pe=Object.values(T)),yield Promise.all(pe),D("event",U,te||{})}catch(pe){Mn.error(pe)}})).apply(this,arguments)}function V_(){const D=window.document.getElementsByTagName("script");for(const T of Object.values(D))if(T.src&&T.src.includes(Wa))return T;return null}const vi=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Gi=new class{constructor(T={},O=1e3){this.throttleMetadata=T,this.intervalMillis=O}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,O){this.throttleMetadata[T]=O}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function md(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function fn(D){return zi.apply(this,arguments)}function zi(){return(zi=(0,L.Z)(function*(D){var T;const{appId:O,apiKey:U}=D,te={method:"GET",headers:md(U)},pe=Wo.replace("{app-id}",O),Pe=yield fetch(pe,te);if(200!==Pe.status&&304!==Pe.status){let He="";try{const $e=yield Pe.json();(null===(T=$e.error)||void 0===T?void 0:T.message)&&(He=$e.error.message)}catch($e){}throw vi.create("config-fetch-failed",{httpStatus:Pe.status,responseMessage:He})}return Pe.json()})).apply(this,arguments)}function _d(D){return eo.apply(this,arguments)}function eo(){return(eo=(0,L.Z)(function*(D,T=Gi,O){const{appId:U,apiKey:te,measurementId:pe}=D.options;if(!U)throw vi.create("no-app-id");if(!te){if(pe)return{measurementId:pe,appId:U};throw vi.create("no-api-key")}const Pe=T.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},He=new tf;return setTimeout((0,L.Z)(function*(){He.abort()}),void 0!==O?O:6e4),Za({appId:U,apiKey:te,measurementId:pe},Pe,He,T)})).apply(this,arguments)}function Za(D,T,O){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,L.Z)(function*(D,{throttleEndTimeMillis:T,backoffCount:O},U,te=Gi){const{appId:pe,measurementId:Pe}=D;try{yield B_(U,T)}catch(He){if(Pe)return Mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pe} provided in the "measurementId" field in the local Firebase config. [${He.message}]`),{appId:pe,measurementId:Pe};throw He}try{const He=yield fn(D);return te.deleteThrottleMetadata(pe),He}catch(He){if(!qc(He)){if(te.deleteThrottleMetadata(pe),Pe)return Mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pe} provided in the "measurementId" field in the local Firebase config. [${He.message}]`),{appId:pe,measurementId:Pe};throw He}const $e=503===Number(He.customData.httpStatus)?(0,le.$s)(O,te.intervalMillis,30):(0,le.$s)(O,te.intervalMillis),Mt={throttleEndTimeMillis:Date.now()+$e,backoffCount:O+1};return te.setThrottleMetadata(pe,Mt),Mn.debug(`Calling attemptFetch again in ${$e} millis`),Za(D,Mt,U,te)}})).apply(this,arguments)}function B_(D,T){return new Promise((O,U)=>{const te=Math.max(T-Date.now(),0),pe=setTimeout(O,te);D.addEventListener(()=>{clearTimeout(pe),U(vi.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function qc(D){if(!(D instanceof le.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}class tf{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function Kc(){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,L.Z)(function*(){if(!(0,le.hl)())return Mn.warn(vi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(D){return Mn.warn(vi.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function to(){return(to=(0,L.Z)(function*(D,T,O,U,te,pe,Pe){var He;const $e=_d(D);$e.then(Nn=>{O[Nn.measurementId]=Nn.appId,D.options.measurementId&&Nn.measurementId!==D.options.measurementId&&Mn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Nn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Nn=>Mn.error(Nn)),T.push($e);const Mt=Kc().then(Nn=>{if(Nn)return U.getId()}),[zt,Cn]=yield Promise.all([$e,Mt]);V_()||zc(pe,zt.measurementId),te("js",new Date);const Ar=null!==(He=null==Pe?void 0:Pe.config)&&void 0!==He?He:{};return Ar.origin="firebase",Ar.update=!0,null!=Cn&&(Ar[$c]=Cn),te("config",zt.measurementId,Ar),zt.measurementId})).apply(this,arguments)}class yn{constructor(T){this.app=T}_delete(){return delete Ge[this.app.options.appId],Promise.resolve()}}let Ge={},ht=[];const qa={};let no,vn,zn="dataLayer",Nl=!1;function sn(D,T,O){!function(){const D=[];if((0,le.ru)()&&D.push("This is a browser extension environment."),(0,le.zI)()||D.push("Cookies are not available."),D.length>0){const T=D.map((U,te)=>`(${te+1}) ${U}`).join(" "),O=vi.create("invalid-analytics-context",{errorInfo:T});Mn.warn(O.message)}}();const U=D.options.appId;if(!U)throw vi.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw vi.create("no-api-key");Mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ge[U])throw vi.create("already-exists",{id:U});if(!Nl){!function(D){let T=[];Array.isArray(window[D])?T=window[D]:window[D]=T}(zn);const{wrappedGtag:pe,gtagCore:Pe}=function(D,T,O,U,te){let pe=function(...Pe){window[U].push(arguments)};return window[te]&&"function"==typeof window[te]&&(pe=window[te]),window[te]=function(D,T,O,U){function pe(){return(pe=(0,L.Z)(function*(Pe,He,$e){try{"event"===Pe?yield pd(D,T,O,He,$e):"config"===Pe?yield kl(D,T,O,U,He,$e):D("set",He)}catch(Mt){Mn.error(Mt)}})).apply(this,arguments)}return function(Pe,He,$e){return pe.apply(this,arguments)}}(pe,D,T,O),{gtagCore:pe,wrappedGtag:window[te]}}(Ge,ht,qa,zn,"gtag");vn=pe,no=Pe,Nl=!0}return Ge[U]=function(D,T,O,U,te,pe,Pe){return to.apply(this,arguments)}(D,ht,qa,T,no,zn,O),new yn(D)}function Fl(){return(Fl=(0,L.Z)(function*(D,T,O,U,te){if(te&&te.global)D("event",O,U);else{const pe=yield T;D("event",O,Object.assign(Object.assign({},U),{send_to:pe}))}})).apply(this,arguments)}function ei(){return bd.apply(this,arguments)}function bd(){return(bd=(0,L.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch(D){return!1}})).apply(this,arguments)}const nf="@firebase/analytics";(0,he._registerComponent)(new ee.wA(Hc,(T,{options:O})=>sn(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,he._registerComponent)(new ee.wA("analytics-internal",function(T){try{const O=T.getProvider(Hc).getImmediate();return{logEvent:(U,te,pe)=>function(D,T,O,U){D=(0,le.m9)(D),function(D,T,O,U,te){return Fl.apply(this,arguments)}(vn,Ge[D.app.options.appId],T,O,U).catch(te=>Mn.error(te))}(O,U,te,pe)}}catch(O){throw vi.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,he.registerVersion)(nf,"0.7.5"),(0,he.registerVersion)(nf,"0.7.5","esm2017");var Cd=V(7771),mg=V(3637),qo=V(3342),Xc=V(9673),Ed=V(309);const _g=new u.GfV("7.2.1"),Yn="__angularfire_symbol__analyticsIsSupportedValue",Qa="__angularfire_symbol__analyticsIsSupported",Ki="__angularfire_symbol__remoteConfigIsSupportedValue",Is="__angularfire_symbol__remoteConfigIsSupported",cn="__angularfire_symbol__messagingIsSupportedValue",wi="__angularfire_symbol__messagingIsSupported";function Di(D,T,O){if(T){if(1===T.length)return T[0];const pe=T.filter(Pe=>Pe.app===O);if(1===pe.length)return pe[0]}return O.container.getProvider(D).getImmediate({optional:!0})}globalThis[Qa]||(globalThis[Qa]=ei().then(D=>globalThis[Yn]=D).catch(()=>globalThis[Yn]=!1)),globalThis[wi]||(globalThis[wi]=fd().then(D=>globalThis[cn]=D).catch(()=>globalThis[cn]=!1)),globalThis[Is]||(globalThis[Is]=dg().then(D=>globalThis[Ki]=D).catch(()=>globalThis[Ki]=!1));const io=(D,T)=>{const O=T?[T]:(0,ne.C6)(),U=[];return O.forEach(te=>{te.container.getProvider(D).instances.forEach(Pe=>{U.includes(Pe)||U.push(Pe)})}),U};function Ir(){}class Qi{constructor(T,O=Cd.N){this.zone=T,this.delegate=O}now(){return this.delegate.now()}schedule(T,O,U){const te=this.zone;return this.delegate.schedule(function(Pe){te.runGuarded(()=>{T.apply(this,[Pe])})},O,U)}}class Dd{constructor(T){this.zone=T,this.task=null}call(T,O){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ir,{},Ir,Ir)),O.pipe((0,qo.b)({next:U,complete:U,error:U})).subscribe(T).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Vl=(()=>{class D{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new Qi(Zone.current)),this.insideAngular=O.run(()=>new Qi(Zone.current,mg.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(O){return new(O||D)(u.LFG(u.R0b))},D.\u0275prov=u.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function so(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Zn(D){return so(),function(D){return function(O){return(O=O.lift(new Dd(D.ngZone))).pipe((0,Xc.R)(D.outsideAngular),(0,Ed.QV)(D.insideAngular))}}(so())(D)}},3854:(Ye,Te,V)=>{"use strict";V.d(Te,{BH:()=>ce,LL:()=>ve,ZR:()=>xe,gQ:()=>dr,zI:()=>fe,hu:()=>ne,g5:()=>L,US:()=>ee,tV:()=>X,h$:()=>ie,$s:()=>er,r3:()=>jt,Sg:()=>oe,ne:()=>Wr,p$:()=>F,vZ:()=>Cr,ZB:()=>j,gK:()=>Jn,pd:()=>Ni,m9:()=>ps,z$:()=>Ee,GJ:()=>Lr,jU:()=>se,ru:()=>we,xb:()=>Tt,w1:()=>et,hl:()=>Ae,uI:()=>Ce,UG:()=>_e,Yr:()=>St,b$:()=>Ne,w9:()=>Ln,cI:()=>xn,UI:()=>Vn,xO:()=>Er,zd:()=>hs,DV:()=>Kt,ug:()=>nn,dS:()=>fs,Pz:()=>ut,Dv:()=>hr,Wj:()=>Sn,lb:()=>tn,eu:()=>ue});const ne=function(W,G){if(!W)throw L(G)},L=function(W){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+W)},he=function(W){const G=[];let K=0;for(let Ie=0;Ie<W.length;Ie++){let de=W.charCodeAt(Ie);de<128?G[K++]=de:de<2048?(G[K++]=de>>6|192,G[K++]=63&de|128):55296==(64512&de)&&Ie+1<W.length&&56320==(64512&W.charCodeAt(Ie+1))?(de=65536+((1023&de)<<10)+(1023&W.charCodeAt(++Ie)),G[K++]=de>>18|240,G[K++]=de>>12&63|128,G[K++]=de>>6&63|128,G[K++]=63&de|128):(G[K++]=de>>12|224,G[K++]=de>>6&63|128,G[K++]=63&de|128)}return G},ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,G){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ie=[];for(let de=0;de<W.length;de+=3){const ze=W[de],Me=de+1<W.length,be=Me?W[de+1]:0,Le=de+2<W.length,We=Le?W[de+2]:0;let Ht=(15&be)<<2|We>>6,dn=63&We;Le||(dn=64,Me||(Ht=64)),Ie.push(K[ze>>2],K[(3&ze)<<4|be>>4],K[Ht],K[dn])}return Ie.join("")},encodeString(W,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(W):this.encodeByteArray(he(W),G)},decodeString(W,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(W):function(W){const G=[];let K=0,Ie=0;for(;K<W.length;){const de=W[K++];if(de<128)G[Ie++]=String.fromCharCode(de);else if(de>191&&de<224){const ze=W[K++];G[Ie++]=String.fromCharCode((31&de)<<6|63&ze)}else if(de>239&&de<365){const Le=((7&de)<<18|(63&W[K++])<<12|(63&W[K++])<<6|63&W[K++])-65536;G[Ie++]=String.fromCharCode(55296+(Le>>10)),G[Ie++]=String.fromCharCode(56320+(1023&Le))}else{const ze=W[K++],Me=W[K++];G[Ie++]=String.fromCharCode((15&de)<<12|(63&ze)<<6|63&Me)}}return G.join("")}(this.decodeStringToByteArray(W,G))},decodeStringToByteArray(W,G){this.init_();const K=G?this.charToByteMapWebSafe_:this.charToByteMap_,Ie=[];for(let de=0;de<W.length;){const ze=K[W.charAt(de++)],be=de<W.length?K[W.charAt(de)]:0;++de;const We=de<W.length?K[W.charAt(de)]:64;++de;const tt=de<W.length?K[W.charAt(de)]:64;if(++de,null==ze||null==be||null==We||null==tt)throw Error();Ie.push(ze<<2|be>>4),64!==We&&(Ie.push(be<<4&240|We>>2),64!==tt&&Ie.push(We<<6&192|tt))}return Ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},ie=function(W){const G=he(W);return ee.encodeByteArray(G,!0)},Q=function(W){return ie(W).replace(/\./g,"")},X=function(W){try{return ee.decodeString(W,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function F(W){return j(void 0,W)}function j(W,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return G}for(const K in G)!G.hasOwnProperty(K)||!H(K)||(W[K]=j(W[K],G[K]));return W}function H(W){return"__proto__"!==W}class ce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,K)=>{this.resolve=G,this.reject=K})}wrapCallback(G){return(K,Ie)=>{K?this.reject(K):this.resolve(Ie),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(K):G(K,Ie))}}}function oe(W,G){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ie=G||"demo-project",de=W.iat||0,ze=W.sub||W.user_id;if(!ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Me=Object.assign({iss:`https://securetoken.google.com/${Ie}`,aud:Ie,iat:de,exp:de+3600,auth_time:de,sub:ze,user_id:ze,firebase:{sign_in_provider:"custom",identities:{}}},W);return[Q(JSON.stringify({alg:"none",type:"JWT"})),Q(JSON.stringify(Me)),""].join(".")}function Ee(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ce(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ee())}function _e(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(W){return!1}}function se(){return"object"==typeof self&&self.self===self}function we(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function Ne(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function et(){const W=Ee();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function St(){return!1}function Ae(){return"object"==typeof indexedDB}function ue(){return new Promise((W,G)=>{try{let K=!0;const Ie="validate-browser-context-for-indexeddb-analytics-module",de=self.indexedDB.open(Ie);de.onsuccess=()=>{de.result.close(),K||self.indexedDB.deleteDatabase(Ie),W(!0)},de.onupgradeneeded=()=>{K=!1},de.onerror=()=>{var ze;G((null===(ze=de.error)||void 0===ze?void 0:ze.message)||"")}}catch(K){G(K)}})}function fe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class xe extends Error{constructor(G,K,Ie){super(K),this.code=G,this.customData=Ie,this.name="FirebaseError",Object.setPrototypeOf(this,xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ve.prototype.create)}}class ve{constructor(G,K,Ie){this.service=G,this.serviceName=K,this.errors=Ie}create(G,...K){const Ie=K[0]||{},de=`${this.service}/${G}`,ze=this.errors[G],Me=ze?function(W,G){return W.replace(Ut,(K,Ie)=>{const de=G[Ie];return null!=de?String(de):`<${Ie}?>`})}(ze,Ie):"Error";return new xe(de,`${this.serviceName}: ${Me} (${de}).`,Ie)}}const Ut=/\{\$([^}]+)}/g;function xn(W){return JSON.parse(W)}function ut(W){return JSON.stringify(W)}const kt=function(W){let G={},K={},Ie={},de="";try{const ze=W.split(".");G=xn(X(ze[0])||""),K=xn(X(ze[1])||""),de=ze[2],Ie=K.d||{},delete K.d}catch(ze){}return{header:G,claims:K,data:Ie,signature:de}},Ln=function(W){const K=kt(W).claims;return!!K&&"object"==typeof K&&K.hasOwnProperty("iat")},Lr=function(W){const G=kt(W).claims;return"object"==typeof G&&!0===G.admin};function jt(W,G){return Object.prototype.hasOwnProperty.call(W,G)}function Kt(W,G){if(Object.prototype.hasOwnProperty.call(W,G))return W[G]}function Tt(W){for(const G in W)if(Object.prototype.hasOwnProperty.call(W,G))return!1;return!0}function Vn(W,G,K){const Ie={};for(const de in W)Object.prototype.hasOwnProperty.call(W,de)&&(Ie[de]=G.call(K,W[de],de,W));return Ie}function Cr(W,G){if(W===G)return!0;const K=Object.keys(W),Ie=Object.keys(G);for(const de of K){if(!Ie.includes(de))return!1;const ze=W[de],Me=G[de];if($n(ze)&&$n(Me)){if(!Cr(ze,Me))return!1}else if(ze!==Me)return!1}for(const de of Ie)if(!K.includes(de))return!1;return!0}function $n(W){return null!==W&&"object"==typeof W}function Er(W){const G=[];for(const[K,Ie]of Object.entries(W))Array.isArray(Ie)?Ie.forEach(de=>{G.push(encodeURIComponent(K)+"="+encodeURIComponent(de))}):G.push(encodeURIComponent(K)+"="+encodeURIComponent(Ie));return G.length?"&"+G.join("&"):""}function hs(W){const G={};return W.replace(/^\?/,"").split("&").forEach(Ie=>{if(Ie){const[de,ze]=Ie.split("=");G[decodeURIComponent(de)]=decodeURIComponent(ze)}}),G}function Ni(W){const G=W.indexOf("?");if(!G)return"";const K=W.indexOf("#",G);return W.substring(G,K>0?K:void 0)}class dr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let G=1;G<this.blockSize;++G)this.pad_[G]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(G,K){K||(K=0);const Ie=this.W_;if("string"==typeof G)for(let tt=0;tt<16;tt++)Ie[tt]=G.charCodeAt(K)<<24|G.charCodeAt(K+1)<<16|G.charCodeAt(K+2)<<8|G.charCodeAt(K+3),K+=4;else for(let tt=0;tt<16;tt++)Ie[tt]=G[K]<<24|G[K+1]<<16|G[K+2]<<8|G[K+3],K+=4;for(let tt=16;tt<80;tt++){const Ht=Ie[tt-3]^Ie[tt-8]^Ie[tt-14]^Ie[tt-16];Ie[tt]=4294967295&(Ht<<1|Ht>>>31)}let We,bt,de=this.chain_[0],ze=this.chain_[1],Me=this.chain_[2],be=this.chain_[3],Le=this.chain_[4];for(let tt=0;tt<80;tt++){tt<40?tt<20?(We=be^ze&(Me^be),bt=1518500249):(We=ze^Me^be,bt=1859775393):tt<60?(We=ze&Me|be&(ze|Me),bt=2400959708):(We=ze^Me^be,bt=3395469782);const Ht=(de<<5|de>>>27)+We+Le+bt+Ie[tt]&4294967295;Le=be,be=Me,Me=4294967295&(ze<<30|ze>>>2),ze=de,de=Ht}this.chain_[0]=this.chain_[0]+de&4294967295,this.chain_[1]=this.chain_[1]+ze&4294967295,this.chain_[2]=this.chain_[2]+Me&4294967295,this.chain_[3]=this.chain_[3]+be&4294967295,this.chain_[4]=this.chain_[4]+Le&4294967295}update(G,K){if(null==G)return;void 0===K&&(K=G.length);const Ie=K-this.blockSize;let de=0;const ze=this.buf_;let Me=this.inbuf_;for(;de<K;){if(0===Me)for(;de<=Ie;)this.compress_(G,de),de+=this.blockSize;if("string"==typeof G){for(;de<K;)if(ze[Me]=G.charCodeAt(de),++Me,++de,Me===this.blockSize){this.compress_(ze),Me=0;break}}else for(;de<K;)if(ze[Me]=G[de],++Me,++de,Me===this.blockSize){this.compress_(ze),Me=0;break}}this.inbuf_=Me,this.total_+=K}digest(){const G=[];let K=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let de=this.blockSize-1;de>=56;de--)this.buf_[de]=255&K,K/=256;this.compress_(this.buf_);let Ie=0;for(let de=0;de<5;de++)for(let ze=24;ze>=0;ze-=8)G[Ie]=this.chain_[de]>>ze&255,++Ie;return G}}function Wr(W,G){const K=new Ys(W,G);return K.subscribe.bind(K)}class Ys{constructor(G,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{G(this)}).catch(Ie=>{this.error(Ie)})}next(G){this.forEachObserver(K=>{K.next(G)})}error(G){this.forEachObserver(K=>{K.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,K,Ie){let de;if(void 0===G&&void 0===K&&void 0===Ie)throw new Error("Missing Observer.");de=function(W,G){if("object"!=typeof W||null===W)return!1;for(const K of["next","error","complete"])if(K in W&&"function"==typeof W[K])return!0;return!1}(G)?G:{next:G,error:K,complete:Ie},void 0===de.next&&(de.next=wr),void 0===de.error&&(de.error=wr),void 0===de.complete&&(de.complete=wr);const ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?de.error(this.finalError):de.complete()}catch(Me){}}),this.observers.push(de),ze}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,G)}sendOne(G,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{K(this.observers[G])}catch(Ie){"undefined"!=typeof console&&console.error&&console.error(Ie)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wr(){}const hr=function(W,G,K,Ie){let de;if(Ie<G?de="at least "+G:Ie>K&&(de=0===K?"none":"no more than "+K),de)throw new Error(W+" failed: Was called with "+Ie+(1===Ie?" argument.":" arguments.")+" Expects "+de+".")};function Jn(W,G){return`${W} failed: ${G} argument `}function Sn(W,G,K,Ie){if((!Ie||K)&&"function"!=typeof K)throw new Error(Jn(W,G)+"must be a valid function.")}function tn(W,G,K,Ie){if((!Ie||K)&&("object"!=typeof K||null===K))throw new Error(Jn(W,G)+"must be a valid context object.")}const fs=function(W){const G=[];let K=0;for(let Ie=0;Ie<W.length;Ie++){let de=W.charCodeAt(Ie);if(de>=55296&&de<=56319){const ze=de-55296;Ie++,ne(Ie<W.length,"Surrogate pair missing trail surrogate."),de=65536+(ze<<10)+(W.charCodeAt(Ie)-56320)}de<128?G[K++]=de:de<2048?(G[K++]=de>>6|192,G[K++]=63&de|128):de<65536?(G[K++]=de>>12|224,G[K++]=de>>6&63|128,G[K++]=63&de|128):(G[K++]=de>>18|240,G[K++]=de>>12&63|128,G[K++]=de>>6&63|128,G[K++]=63&de|128)}return G},nn=function(W){let G=0;for(let K=0;K<W.length;K++){const Ie=W.charCodeAt(K);Ie<128?G++:Ie<2048?G+=2:Ie>=55296&&Ie<=56319?(G+=4,K++):G+=3}return G};function er(W,G=1e3,K=2){const Ie=G*Math.pow(K,W),de=Math.round(.5*Ie*(Math.random()-.5)*2);return Math.min(144e5,Ie+de)}function ps(W){return W&&W._delegate?W._delegate:W}},2329:(Ye,Te,V)=>{"use strict";V.d(Te,{Mq:()=>u.getApp,C6:()=>u.getApps});var u=V(8026);(0,u.registerVersion)("firebase","9.6.8","app")},7841:(Ye,Te,V)=>{"use strict";V.d(Te,{Z:()=>u.Z});var u=V(3394);u.Z.registerVersion("firebase","9.6.8","app-compat")},1352:(Ye,Te,V)=>{"use strict";V.r(Te);var u=V(8239),ne=V(3394),L=V(3854),he=V(8026),le=V(4762),ee=V(5422),ie=V(3910);const Ee=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ce=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_e=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),we=new ee.Yd("@firebase/auth");function Ne(v,...p){we.logLevel<=ee.in.ERROR&&we.error(`Auth (${he.SDK_VERSION}): ${v}`,...p)}function Fe(v,...p){throw mt(v,...p)}function et(v,...p){return mt(v,...p)}function Ot(v,p,g){const C=Object.assign(Object.assign({},Ce()),{[p]:g});return new L.LL("auth","Firebase",C).create(p,{appName:v.name})}function St(v,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Fe(v,"argument-error"),Ot(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mt(v,...p){if("string"!=typeof v){const g=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=v.name),v._errorFactory.create(g,...C)}return _e.create(v,...p)}function Ae(v,p,...g){if(!v)throw mt(p,...g)}function ue(v){const p="INTERNAL ASSERTION FAILED: "+v;throw Ne(p),new Error(p)}function fe(v,p){v||ue(p)}const De=new Map;function ye(v){fe(v instanceof Function,"Expected a class definition");let p=De.get(v);return p?(fe(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,De.set(v,p),p)}function ct(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Ut(){return"http:"===xn()||"https:"===xn()}function xn(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class dt{constructor(p,g){this.shortDelay=p,this.longDelay=g,fe(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ut()||(0,L.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Vt(v,p){fe(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Ln{static initialize(p,g,C){this.fetchImpl=p,g&&(this.headersImpl=g),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ue("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ue("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ue("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Lr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},jt=new dt(3e4,6e4);function Kt(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function Tt(v,p,g,C){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,u.Z)(function*(v,p,g,C,M={}){return Cr(v,M,(0,u.Z)(function*(){let k={},J={};C&&("GET"===p?J=C:k={body:JSON.stringify(C)});const me=(0,L.xO)(Object.assign({key:v.config.apiKey},J)).slice(1),Be=yield v._getAdditionalHeaders();return Be["Content-Type"]="application/json",v.languageCode&&(Be["X-Firebase-Locale"]=v.languageCode),Ln.fetch()(Ni(v,v.config.apiHost,g,me),Object.assign({method:p,headers:Be,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function Cr(v,p,g){return $n.apply(this,arguments)}function $n(){return($n=(0,u.Z)(function*(v,p,g){v._canInitEmulator=!1;const C=Object.assign(Object.assign({},Lr),p);try{const M=new dr(v),k=yield Promise.race([g(),M.promise]);M.clearNetworkTimeout();const J=yield k.json();if("needConfirmation"in J)throw Wr(v,"account-exists-with-different-credential",J);if(k.ok&&!("errorMessage"in J))return J;{const me=k.ok?J.errorMessage:J.error.message,[Be,Ke]=me.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Be)throw Wr(v,"credential-already-in-use",J);if("EMAIL_EXISTS"===Be)throw Wr(v,"email-already-in-use",J);const at=C[Be]||Be.toLowerCase().replace(/[_\s]+/g,"-");if(Ke)throw Ot(v,at,Ke);Fe(v,at)}}catch(M){if(M instanceof L.ZR)throw M;Fe(v,"network-request-failed")}})).apply(this,arguments)}function Er(v,p,g,C){return hs.apply(this,arguments)}function hs(){return(hs=(0,u.Z)(function*(v,p,g,C,M={}){const k=yield Tt(v,p,g,C,M);return"mfaPendingCredential"in k&&Fe(v,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function Ni(v,p,g,C){const M=`${p}${g}?${C}`;return v.config.emulator?Vt(v.config,M):`${v.config.apiScheme}://${M}`}class dr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,C)=>{this.timer=setTimeout(()=>C(et(this.auth,"network-request-failed")),jt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wr(v,p,g){const C={appName:v.name};g.email&&(C.email=g.email),g.phoneNumber&&(C.phoneNumber=g.phoneNumber);const M=et(v,p,C);return M.customData._tokenResponse=g,M}function Ze(){return(Ze=(0,u.Z)(function*(v,p){return Tt(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function an(v,p){return wr.apply(this,arguments)}function wr(){return(wr=(0,u.Z)(function*(v,p){return Tt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function hr(v,p){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,u.Z)(function*(v,p){return Tt(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Fi(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function fs(){return(fs=(0,u.Z)(function*(v,p=!1){const g=(0,L.m9)(v),C=yield g.getIdToken(p),M=Ue(C);Ae(M&&M.exp&&M.auth_time&&M.iat,g.auth,"internal-error");const k="object"==typeof M.firebase?M.firebase:void 0,J=null==k?void 0:k.sign_in_provider;return{claims:M,token:C,authTime:Fi(nn(M.auth_time)),issuedAtTime:Fi(nn(M.iat)),expirationTime:Fi(nn(M.exp)),signInProvider:J||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function nn(v){return 1e3*Number(v)}function Ue(v){const[p,g,C]=v.split(".");if(void 0===p||void 0===g||void 0===C)return Ne("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,L.tV)(g);return M?JSON.parse(M):(Ne("Failed to decode base64 JWT payload"),null)}catch(M){return Ne("Caught error parsing JWT payload as JSON",M),null}}function Xn(v,p){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,u.Z)(function*(v,p,g=!1){if(g)return p;try{return yield p}catch(C){throw C instanceof L.ZR&&er(C)&&v.auth.currentUser===v&&(yield v.auth.signOut()),C}})).apply(this,arguments)}function er({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Lt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const M=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),C)}iteration(){var p=this;return(0,u.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class tr{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fi(this.lastLoginAt),this.creationTime=Fi(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ps(v){return W.apply(this,arguments)}function W(){return(W=(0,u.Z)(function*(v){var p;const g=v.auth,C=yield v.getIdToken(),M=yield Xn(v,hr(g,{idToken:C}));Ae(null==M?void 0:M.users.length,g,"internal-error");const k=M.users[0];v._notifyReloadListener(k);const J=(null===(p=k.providerUserInfo)||void 0===p?void 0:p.length)?de(k.providerUserInfo):[],me=Ie(v.providerData,J),at=!!v.isAnonymous&&!(v.email&&k.passwordHash||(null==me?void 0:me.length)),nt={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:me,metadata:new tr(k.createdAt,k.lastLoginAt),isAnonymous:at};Object.assign(v,nt)})).apply(this,arguments)}function K(){return(K=(0,u.Z)(function*(v){const p=(0,L.m9)(v);yield ps(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ie(v,p){return[...v.filter(C=>!p.some(M=>M.providerId===C.providerId)),...p]}function de(v){return v.map(p=>{var{providerId:g}=p,C=(0,le._T)(p,["providerId"]);return{providerId:g,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Me(){return(Me=(0,u.Z)(function*(v,p){const g=yield Cr(v,{},(0,u.Z)(function*(){const C=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:k}=v.config,J=Ni(v,M,"/v1/token",`key=${k}`),me=yield v._getAdditionalHeaders();return me["Content-Type"]="application/x-www-form-urlencoded",Ln.fetch()(J,{method:"POST",headers:me,body:C})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class be{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Ae(p.idToken,"internal-error"),Ae(void 0!==p.idToken,"internal-error"),Ae(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(v){const p=Ue(v);return Ae(p,"internal-error"),Ae(void 0!==p.exp,"internal-error"),Ae(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var C=this;return(0,u.Z)(function*(){return Ae(!C.accessToken||C.refreshToken,p,"user-token-expired"),g||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var C=this;return(0,u.Z)(function*(){const{accessToken:M,refreshToken:k,expiresIn:J}=yield function(v,p){return Me.apply(this,arguments)}(p,g);C.updateTokensAndExpiration(M,k,Number(J))})()}updateTokensAndExpiration(p,g,C){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,g){const{refreshToken:C,accessToken:M,expirationTime:k}=g,J=new be;return C&&(Ae("string"==typeof C,"internal-error",{appName:p}),J.refreshToken=C),M&&(Ae("string"==typeof M,"internal-error",{appName:p}),J.accessToken=M),k&&(Ae("number"==typeof k,"internal-error",{appName:p}),J.expirationTime=k),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new be,this.toJSON())}_performRefresh(){return ue("not implemented")}}function Le(v,p){Ae("string"==typeof v||void 0===v,"internal-error",{appName:p})}class We{constructor(p){var{uid:g,auth:C,stsTokenManager:M}=p,k=(0,le._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=C,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new tr(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,u.Z)(function*(){const C=yield Xn(g,g.stsTokenManager.getToken(g.auth,p));return Ae(C,g.auth,"internal-error"),g.accessToken!==C&&(g.accessToken=C,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),C})()}getIdTokenResult(p){return function(v){return fs.apply(this,arguments)}(this,p)}reload(){return function(v){return K.apply(this,arguments)}(this)}_assign(p){this!==p&&(Ae(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new We(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var C=this;return(0,u.Z)(function*(){let M=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),M=!0),g&&(yield ps(C)),yield C.auth._persistUserIfCurrent(C),M&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,u.Z)(function*(){const g=yield p.getIdToken();return yield Xn(p,function(v,p){return Ze.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var C,M,k,J,me,Be,Ke,at;const nt=null!==(C=g.displayName)&&void 0!==C?C:void 0,wn=null!==(M=g.email)&&void 0!==M?M:void 0,Si=null!==(k=g.phoneNumber)&&void 0!==k?k:void 0,jd=null!==(J=g.photoURL)&&void 0!==J?J:void 0,Kl=null!==(me=g.tenantId)&&void 0!==me?me:void 0,wf=null!==(Be=g._redirectEventId)&&void 0!==Be?Be:void 0,cl=null!==(Ke=g.createdAt)&&void 0!==Ke?Ke:void 0,es=null!==(at=g.lastLoginAt)&&void 0!==at?at:void 0,{uid:Ug,emailVerified:ey,isAnonymous:Df,providerData:jg,stsTokenManager:ts}=g;Ae(Ug&&ts,p,"internal-error");const Sf=be.fromJSON(this.name,ts);Ae("string"==typeof Ug,p,"internal-error"),Le(nt,p.name),Le(wn,p.name),Ae("boolean"==typeof ey,p,"internal-error"),Ae("boolean"==typeof Df,p,"internal-error"),Le(Si,p.name),Le(jd,p.name),Le(Kl,p.name),Le(wf,p.name),Le(cl,p.name),Le(es,p.name);const Ql=new We({uid:Ug,auth:p,email:wn,emailVerified:ey,displayName:nt,isAnonymous:Df,photoURL:jd,phoneNumber:Si,tenantId:Kl,stsTokenManager:Sf,createdAt:cl,lastLoginAt:es});return jg&&Array.isArray(jg)&&(Ql.providerData=jg.map(ty=>Object.assign({},ty))),wf&&(Ql._redirectEventId=wf),Ql}static _fromIdTokenResponse(p,g,C=!1){return(0,u.Z)(function*(){const M=new be;M.updateFromServerResponse(g);const k=new We({uid:g.localId,auth:p,stsTokenManager:M,isAnonymous:C});return yield ps(k),k})()}}const tt=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,C){var M=this;return(0,u.Z)(function*(){M.storage[g]=C})()}_get(g){var C=this;return(0,u.Z)(function*(){const M=C.storage[g];return void 0===M?null:M})()}_remove(g){var C=this;return(0,u.Z)(function*(){delete C.storage[g]})()}_addListener(g,C){}_removeListener(g,C){}}return v.type="NONE",v})();function Ht(v,p,g){return`firebase:${v}:${p}:${g}`}class dn{constructor(p,g,C){this.persistence=p,this.auth=g,this.userKey=C;const{config:M,name:k}=this.auth;this.fullUserKey=Ht(this.userKey,M.apiKey,k),this.fullPersistenceKey=Ht("persistence",M.apiKey,k),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?We._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,u.Z)(function*(){if(g.persistence===p)return;const C=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,C?g.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,C="authUser"){return(0,u.Z)(function*(){if(!g.length)return new dn(ye(tt),p,C);const M=(yield Promise.all(g.map(function(){var Ke=(0,u.Z)(function*(at){if(yield at._isAvailable())return at});return function(at){return Ke.apply(this,arguments)}}()))).filter(Ke=>Ke);let k=M[0]||ye(tt);const J=Ht(C,p.config.apiKey,p.name);let me=null;for(const Ke of g)try{const at=yield Ke._get(J);if(at){const nt=We._fromJSON(p,at);Ke!==k&&(me=nt),k=Ke;break}}catch(at){}const Be=M.filter(Ke=>Ke._shouldAllowMigration);return k._shouldAllowMigration&&Be.length?(k=Be[0],me&&(yield k._set(J,me.toJSON())),yield Promise.all(g.map(function(){var Ke=(0,u.Z)(function*(at){if(at!==k)try{yield at._remove(J)}catch(nt){}});return function(at){return Ke.apply(this,arguments)}}())),new dn(k,p,C)):new dn(k,p,C)})()}}function Sa(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Tl(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Ro(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Bn(p))return"Blackberry";if(fr(p))return"Webos";if(Sl(p))return"Safari";if((p.includes("chrome/")||Ta(p))&&!p.includes("edge/"))return"Chrome";if(gs(p))return"Android";{const C=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function Ro(v=(0,L.z$)()){return/firefox\//i.test(v)}function Sl(v=(0,L.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ta(v=(0,L.z$)()){return/crios\//i.test(v)}function Tl(v=(0,L.z$)()){return/iemobile/i.test(v)}function gs(v=(0,L.z$)()){return/android/i.test(v)}function Bn(v=(0,L.z$)()){return/blackberry/i.test(v)}function fr(v=(0,L.z$)()){return/webos/i.test(v)}function Gn(v=(0,L.z$)()){return/iphone|ipad|ipod/i.test(v)}function je(v=(0,L.z$)()){return Gn(v)||gs(v)||fr(v)||Bn(v)||/windows phone/i.test(v)||Tl(v)}function $t(v,p=[]){let g;switch(v){case"Browser":g=Sa((0,L.z$)());break;case"Worker":g=`${Sa((0,L.z$)())}-${v}`;break;default:g=v}const C=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${he.SDK_VERSION}/${C}`}class pr{constructor(p,g){this.app=p,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tn(this),this.idTokenSubscription=new Tn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_e,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(p,g){var C=this;return g&&(this._popupRedirectResolver=ye(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var M,k;if(!C._deleted&&(C.persistenceManager=yield dn.create(C,p),!C._deleted)){if(null===(M=C._popupRedirectResolver)||void 0===M?void 0:M._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch(J){}yield C.initializeCurrentUser(g),C.lastNotifiedUid=(null===(k=C.currentUser)||void 0===k?void 0:k.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,u.Z)(function*(){var C;let M=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const k=null===(C=g.redirectUser)||void 0===C?void 0:C._redirectEventId,J=null==M?void 0:M._redirectEventId,me=yield g.tryRedirectSignIn(p);(!k||k===J)&&(null==me?void 0:me.user)&&(M=me.user)}return M?M._redirectEventId?(Ae(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===M._redirectEventId?g.directlySetCurrentUser(M):g.reloadAndSetCurrentUserOrClear(M)):g.reloadAndSetCurrentUserOrClear(M):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,u.Z)(function*(){let C=null;try{C=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(M){yield g._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,u.Z)(function*(){try{yield ps(p)}catch(C){if("auth/network-request-failed"!==C.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,u.Z)(function*(){const C=p?(0,L.m9)(p):null;return C&&Ae(C.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(C&&C._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,u.Z)(function*(){if(!g._deleted)return p&&Ae(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,u.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(ye(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,g,C){return this.registerStateListener(this.authStateSubscription,p,g,C)}onIdTokenChanged(p,g,C){return this.registerStateListener(this.idTokenSubscription,p,g,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var C=this;return(0,u.Z)(function*(){const M=yield C.getOrInitRedirectPersistenceManager(g);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const C=p&&ye(p)||g._popupRedirectResolver;Ae(C,g,"argument-error"),g.redirectPersistenceManager=yield dn.create(g,[ye(C._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,u.Z)(function*(){var C,M;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(C=g._currentUser)||void 0===C?void 0:C._redirectEventId)===p?g._currentUser:(null===(M=g.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,u.Z)(function*(){if(p===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,C,M){if(this._deleted)return()=>{};const k="function"==typeof g?g:g.next.bind(g),J=this._isInitialized?Promise.resolve():this._initializationPromise;return Ae(J,this,"internal-error"),J.then(()=>k(this.currentUser)),"function"==typeof g?p.addObserver(g,C,M):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=$t(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,u.Z)(function*(){const g={"X-Client-Version":p.clientVersion};return p.app.options.appId&&(g["X-Firebase-gmpid"]=p.app.options.appId),g})()}}function rn(v){return(0,L.m9)(v)}class Tn{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(g=>this.observer=g)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function hn(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function ms(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Sr{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return ue("not implemented")}_getIdTokenResponse(p){return ue("not implemented")}_linkToIdToken(p,g){return ue("not implemented")}_getReauthenticationResolver(p){return ue("not implemented")}}function _s(v,p){return kn.apply(this,arguments)}function kn(){return(kn=(0,u.Z)(function*(v,p){return Tt(v,"POST","/v1/accounts:resetPassword",Kt(v,p))})).apply(this,arguments)}function Oo(v,p){return Un.apply(this,arguments)}function Un(){return(Un=(0,u.Z)(function*(v,p){return Tt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Po(v,p){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,u.Z)(function*(v,p){return Tt(v,"POST","/v1/accounts:update",Kt(v,p))})).apply(this,arguments)}function Bt(){return(Bt=(0,u.Z)(function*(v,p){return Er(v,"POST","/v1/accounts:signInWithPassword",Kt(v,p))})).apply(this,arguments)}function Il(v,p){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,u.Z)(function*(v,p){return Tt(v,"POST","/v1/accounts:sendOobCode",Kt(v,p))})).apply(this,arguments)}function di(v,p){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,u.Z)(function*(v,p){return Il(v,p)})).apply(this,arguments)}function xo(v,p){return hi.apply(this,arguments)}function hi(){return(hi=(0,u.Z)(function*(v,p){return Il(v,p)})).apply(this,arguments)}function ys(v,p){return jn.apply(this,arguments)}function jn(){return(jn=(0,u.Z)(function*(v,p){return Il(v,p)})).apply(this,arguments)}function sg(v,p){return fi.apply(this,arguments)}function fi(){return(fi=(0,u.Z)(function*(v,p){return Il(v,p)})).apply(this,arguments)}function Al(){return(Al=(0,u.Z)(function*(v,p){return Er(v,"POST","/v1/accounts:signInWithEmailLink",Kt(v,p))})).apply(this,arguments)}function ko(){return(ko=(0,u.Z)(function*(v,p){return Er(v,"POST","/v1/accounts:signInWithEmailLink",Kt(v,p))})).apply(this,arguments)}class gr extends Sr{constructor(p,g,C,M=null){super("password",C),this._email=p,this._password=g,this._tenantId=M}static _fromEmailAndPassword(p,g){return new gr(p,g,"password")}static _fromEmailAndCode(p,g,C=null){return new gr(p,g,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,u.Z)(function*(){switch(g.signInMethod){case"password":return function(v,p){return Bt.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(v,p){return Al.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Fe(p,"internal-error")}})()}_linkToIdToken(p,g){var C=this;return(0,u.Z)(function*(){switch(C.signInMethod){case"password":return Oo(p,{idToken:g,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function(v,p){return ko.apply(this,arguments)}(p,{idToken:g,email:C._email,oobCode:C._password});default:Fe(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function In(v,p){return td.apply(this,arguments)}function td(){return(td=(0,u.Z)(function*(v,p){return Er(v,"POST","/v1/accounts:signInWithIdp",Kt(v,p))})).apply(this,arguments)}class pi extends Sr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new pi(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Fe("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:M}=g,k=(0,le._T)(g,["providerId","signInMethod"]);if(!C||!M)return null;const J=new pi(C,M);return J.idToken=k.idToken||void 0,J.accessToken=k.accessToken||void 0,J.secret=k.secret,J.nonce=k.nonce,J.pendingToken=k.pendingToken||null,J}_getIdTokenResponse(p){return In(p,this.buildRequest())}_linkToIdToken(p,g){const C=this.buildRequest();return C.idToken=g,In(p,C)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,In(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,L.xO)(g)}return p}}function og(v,p){return nd.apply(this,arguments)}function nd(){return(nd=(0,u.Z)(function*(v,p){return Tt(v,"POST","/v1/accounts:sendVerificationCode",Kt(v,p))})).apply(this,arguments)}function Aa(){return(Aa=(0,u.Z)(function*(v,p){return Er(v,"POST","/v1/accounts:signInWithPhoneNumber",Kt(v,p))})).apply(this,arguments)}function rd(){return(rd=(0,u.Z)(function*(v,p){const g=yield Er(v,"POST","/v1/accounts:signInWithPhoneNumber",Kt(v,p));if(g.temporaryProof)throw Wr(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const lg={USER_NOT_FOUND:"user-not-found"};function id(){return(id=(0,u.Z)(function*(v,p){return Er(v,"POST","/v1/accounts:signInWithPhoneNumber",Kt(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),lg)})).apply(this,arguments)}class Fo extends Sr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Fo({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Fo({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function(v,p){return Aa.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function(v,p){return rd.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(v,p){return id.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:C,verificationCode:M}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:C,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:C,phoneNumber:M,temporaryProof:k}=p;return C||g||M||k?new Fo({verificationId:g,verificationCode:C,phoneNumber:M,temporaryProof:k}):null}}class Lo{constructor(p){var g,C,M,k,J,me;const Be=(0,L.zd)((0,L.pd)(p)),Ke=null!==(g=Be.apiKey)&&void 0!==g?g:null,at=null!==(C=Be.oobCode)&&void 0!==C?C:null,nt=function(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Be.mode)&&void 0!==M?M:null);Ae(Ke&&at&&nt,"argument-error"),this.apiKey=Ke,this.operation=nt,this.code=at,this.continueUrl=null!==(k=Be.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(J=Be.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(me=Be.tenantId)&&void 0!==me?me:null}static parseLink(p){const g=function(v){const p=(0,L.zd)((0,L.pd)(v)).link,g=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,C=(0,L.zd)((0,L.pd)(v)).deep_link_id;return(C?(0,L.zd)((0,L.pd)(C)).link:null)||C||g||p||v}(p);try{return new Lo(g)}catch(C){return null}}}let Vo=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,C){return gr._fromEmailAndPassword(g,C)}static credentialWithLink(g,C){const M=Lo.parseLink(C);return Ae(M,"argument-error"),gr._fromEmailAndCode(g,M.code,M.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class qr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ma extends qr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class vs extends Ma{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return Ae("providerId"in g&&"signInMethod"in g,"argument-error"),pi._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Ae(p.idToken||p.accessToken,"argument-error"),pi._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return vs.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return vs.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:C,oauthTokenSecret:M,pendingToken:k,nonce:J,providerId:me}=p;if(!C&&!M&&!g&&!k||!me)return null;try{return new vs(me)._credential({idToken:g,accessToken:C,nonce:J,pendingToken:k})}catch(Be){return null}}}let xc=(()=>{class v extends Ma{constructor(){super("facebook.com")}static credential(g){return pi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch(C){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Bi=(()=>{class v extends Ma{constructor(){super("google.com"),this.addScope("profile")}static credential(g,C){return pi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:C})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:C,oauthAccessToken:M}=g;if(!C&&!M)return null;try{return v.credential(C,M)}catch(k){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),sd=(()=>{class v extends Ma{constructor(){super("github.com")}static credential(g){return pi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch(C){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class bs extends Sr{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return In(p,this.buildRequest())}_linkToIdToken(p,g){const C=this.buildRequest();return C.idToken=g,In(p,C)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,In(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:M,pendingToken:k}=g;return C&&M&&k&&C===M?new bs(C,k):null}static _create(p,g){return new bs(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ui extends qr{constructor(p){Ae(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Ui.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Ui.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=bs.fromJSON(p);return Ae(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:C}=p;if(!g||!C)return null;try{return bs._create(C,g)}catch(M){return null}}}let Kr=(()=>{class v extends Ma{constructor(){super("twitter.com")}static credential(g,C){return pi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:C})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:C,oauthTokenSecret:M}=g;if(!C||!M)return null;try{return v.credential(C,M)}catch(k){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function kc(v,p){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,u.Z)(function*(v,p){return Er(v,"POST","/v1/accounts:signUp",Kt(v,p))})).apply(this,arguments)}class Tr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,C,M=!1){return(0,u.Z)(function*(){const k=yield We._fromIdTokenResponse(p,C,M),J=od(C);return new Tr({user:k,providerId:J,_tokenResponse:C,operationType:g})})()}static _forOperation(p,g,C){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const M=od(C);return new Tr({user:p,providerId:M,_tokenResponse:C,operationType:g})})()}}function od(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function qs(){return(qs=(0,u.Z)(function*(v){var p;const g=rn(v);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new Tr({user:g.currentUser,providerId:null,operationType:"signIn"});const C=yield kc(g,{returnSecureToken:!0}),M=yield Tr._fromIdTokenResponse(g,"signIn",C,!0);return yield g._updateCurrentUser(M.user),M})).apply(this,arguments)}class Oa extends L.ZR{constructor(p,g,C,M){var k;super(g.code,g.message),this.operationType=C,this.user=M,Object.setPrototypeOf(this,Oa.prototype),this.customData={appName:p.name,tenantId:null!==(k=p.tenantId)&&void 0!==k?k:void 0,_serverResponse:g.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,g,C,M){return new Oa(p,g,C,M)}}function Pa(v,p,g,C){return("reauthenticate"===p?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?Oa._fromErrorAndOperation(v,k,p,C):k})}function ad(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function xa(){return(xa=(0,u.Z)(function*(v,p){const g=(0,L.m9)(v);yield Jr(!0,g,p);const{providerUserInfo:C}=yield an(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),M=ad(C||[]);return g.providerData=g.providerData.filter(k=>M.has(k.providerId)),M.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Qt(v,p){return ka.apply(this,arguments)}function ka(){return(ka=(0,u.Z)(function*(v,p,g=!1){const C=yield Xn(v,p._linkToIdToken(v.auth,yield v.getIdToken()),g);return Tr._forOperation(v,"link",C)})).apply(this,arguments)}function Jr(v,p,g){return Na.apply(this,arguments)}function Na(){return(Na=(0,u.Z)(function*(v,p,g){yield ps(p);const M=!1===v?"provider-already-linked":"no-such-provider";Ae(ad(p.providerData).has(g)===v,p.auth,M)})).apply(this,arguments)}function Jt(v,p){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,u.Z)(function*(v,p,g=!1){const{auth:C}=v,M="reauthenticate";try{const k=yield Xn(v,Pa(C,M,p,v),g);Ae(k.idToken,C,"internal-error");const J=Ue(k.idToken);Ae(J,C,"internal-error");const{sub:me}=J;return Ae(v.uid===me,C,"user-mismatch"),Tr._forOperation(v,M,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&Fe(C,"user-mismatch"),k}})).apply(this,arguments)}function Rl(v,p){return Es.apply(this,arguments)}function Es(){return(Es=(0,u.Z)(function*(v,p,g=!1){const C="signIn",M=yield Pa(v,C,p),k=yield Tr._fromIdTokenResponse(v,C,M);return g||(yield v._updateCurrentUser(k.user)),k})).apply(this,arguments)}function rr(v,p){return mn.apply(this,arguments)}function mn(){return(mn=(0,u.Z)(function*(v,p){return Rl(rn(v),p)})).apply(this,arguments)}function Ol(v,p){return gi.apply(this,arguments)}function gi(){return(gi=(0,u.Z)(function*(v,p){const g=(0,L.m9)(v);return yield Jr(!1,g,p.providerId),Qt(g,p)})).apply(this,arguments)}function mr(v,p){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,u.Z)(function*(v,p){return Jt((0,L.m9)(v),p)})).apply(this,arguments)}function Fc(v,p){return ws.apply(this,arguments)}function ws(){return(ws=(0,u.Z)(function*(v,p){return Er(v,"POST","/v1/accounts:signInWithCustomToken",Kt(v,p))})).apply(this,arguments)}function Uo(){return(Uo=(0,u.Z)(function*(v,p){const g=rn(v),C=yield Fc(g,{token:p,returnSecureToken:!0}),M=yield Tr._fromIdTokenResponse(g,"signIn",C);return yield g._updateCurrentUser(M.user),M})).apply(this,arguments)}class Ds{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?ot._fromServerResponse(p,g):Fe(p,"internal-error")}}class ot extends Ds{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new ot(g)}}function Pl(v,p,g){var C;Ae((null===(C=g.url)||void 0===C?void 0:C.length)>0,v,"invalid-continue-uri"),Ae(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Ae(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(Ae(g.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function La(){return(La=(0,u.Z)(function*(v,p,g){const C=(0,L.m9)(v),M={requestType:"PASSWORD_RESET",email:p};g&&Pl(C,M,g),yield xo(C,M)})).apply(this,arguments)}function Va(){return(Va=(0,u.Z)(function*(v,p,g){yield _s((0,L.m9)(v),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Hi(){return(Hi=(0,u.Z)(function*(v,p){yield Po((0,L.m9)(v),{oobCode:p})})).apply(this,arguments)}function Re(v,p){return Et.apply(this,arguments)}function Et(){return(Et=(0,u.Z)(function*(v,p){const g=(0,L.m9)(v),C=yield _s(g,{oobCode:p}),M=C.requestType;switch(Ae(M,g,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ae(C.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ae(C.mfaInfo,g,"internal-error");default:Ae(C.email,g,"internal-error")}let k=null;return C.mfaInfo&&(k=Ds._fromServerResponse(rn(g),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:k},operation:M}})).apply(this,arguments)}function Zt(){return(Zt=(0,u.Z)(function*(v,p){const{data:g}=yield Re((0,L.m9)(v),p);return g.email})).apply(this,arguments)}function mi(){return(mi=(0,u.Z)(function*(v,p,g){const C=rn(v),M=yield kc(C,{returnSecureToken:!0,email:p,password:g}),k=yield Tr._fromIdTokenResponse(C,"signIn",M);return yield C._updateCurrentUser(k.user),k})).apply(this,arguments)}function jo(){return(jo=(0,u.Z)(function*(v,p,g){const C=(0,L.m9)(v),M={requestType:"EMAIL_SIGNIN",email:p};Ae(g.handleCodeInApp,C,"argument-error"),g&&Pl(C,M,g),yield ys(C,M)})).apply(this,arguments)}function Ho(){return(Ho=(0,u.Z)(function*(v,p,g){const C=(0,L.m9)(v),M=Vo.credentialWithLink(p,g||ct());return Ae(M._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),rr(C,M)})).apply(this,arguments)}function $o(v,p){return _n.apply(this,arguments)}function _n(){return(_n=(0,u.Z)(function*(v,p){return Tt(v,"POST","/v1/accounts:createAuthUri",Kt(v,p))})).apply(this,arguments)}function Ba(){return(Ba=(0,u.Z)(function*(v,p){const C={identifier:p,continueUri:Ut()?ct():"http://localhost"},{signinMethods:M}=yield $o((0,L.m9)(v),C);return M||[]})).apply(this,arguments)}function ir(){return(ir=(0,u.Z)(function*(v,p){const g=(0,L.m9)(v),M={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Pl(g.auth,M,p);const{email:k}=yield di(g.auth,M);k!==v.email&&(yield v.reload())})).apply(this,arguments)}function Go(){return(Go=(0,u.Z)(function*(v,p,g){const C=(0,L.m9)(v),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};g&&Pl(C.auth,k,g);const{email:J}=yield sg(C.auth,k);J!==v.email&&(yield v.reload())})).apply(this,arguments)}function Bc(v,p){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,u.Z)(function*(v,p){return Tt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ks(){return(Ks=(0,u.Z)(function*(v,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const C=(0,L.m9)(v),k={idToken:yield C.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},J=yield Xn(C,Bc(C.auth,k));C.displayName=J.displayName||null,C.photoURL=J.photoUrl||null;const me=C.providerData.find(({providerId:Be})=>"password"===Be);me&&(me.displayName=C.displayName,me.photoURL=C.photoURL),yield C._updateTokensIfNecessary(J)})).apply(this,arguments)}function Ha(v,p,g){return $a.apply(this,arguments)}function $a(){return($a=(0,u.Z)(function*(v,p,g){const{auth:C}=v,k={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(k.email=p),g&&(k.password=g);const J=yield Xn(v,Oo(C,k));yield v._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class Qs{constructor(p,g,C={}){this.isNewUser=p,this.providerId=g,this.profile=C}}class dd extends Qs{constructor(p,g,C,M){super(p,g,C),this.username=M}}class hd extends Qs{constructor(p,g){super(p,"facebook.com",g)}}class fd extends dd{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Js extends Qs{constructor(p,g){super(p,"google.com",g)}}class Xh extends dd{constructor(p,g,C){super(p,"twitter.com",g,C)}}function jc(v){const{user:p,_tokenResponse:g}=v;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(v){var p,g;if(!v)return null;const{providerId:C}=v,M=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},k=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!C&&(null==v?void 0:v.idToken)){const J=null===(g=null===(p=Ue(v.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(J)return new Qs(k,"anonymous"!==J&&"custom"!==J?J:null)}if(!C)return null;switch(C){case"facebook.com":return new hd(k,M);case"github.com":return new fd(k,M);case"google.com":return new Js(k,M);case"twitter.com":return new Xh(k,M,v.screenName||null);case"custom":case"anonymous":return new Qs(k,null);default:return new Qs(k,C,M)}}(g)}class _i{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new _i("enroll",p)}static _fromMfaPendingCredential(p){return new _i("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,C;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return _i._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(C=p.multiFactorSession)||void 0===C?void 0:C.idToken)return _i._fromIdtoken(p.multiFactorSession.idToken)}return null}}class zo{constructor(p,g,C){this.session=p,this.hints=g,this.signInResolver=C}static _fromError(p,g){const C=rn(p),M=g.customData._serverResponse,k=(M.mfaInfo||[]).map(me=>Ds._fromServerResponse(C,me));Ae(M.mfaPendingCredential,C,"internal-error");const J=_i._fromMfaPendingCredential(M.mfaPendingCredential);return new zo(J,k,function(){var me=(0,u.Z)(function*(Be){const Ke=yield Be._process(C,J);delete M.mfaInfo,delete M.mfaPendingCredential;const at=Object.assign(Object.assign({},M),{idToken:Ke.idToken,refreshToken:Ke.refreshToken});switch(g.operationType){case"signIn":const nt=yield Tr._fromIdTokenResponse(C,g.operationType,at);return yield C._updateCurrentUser(nt.user),nt;case"reauthenticate":return Ae(g.user,C,"internal-error"),Tr._forOperation(g.user,g.operationType,at);default:Fe(C,"internal-error")}});return function(Be){return me.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,u.Z)(function*(){return g.signInResolver(p)})()}}function Wa(v,p){return Tt(v,"POST","/v2/accounts/mfaEnrollment:start",Kt(v,p))}class zc{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(C=>Ds._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new zc(p)}getSession(){var p=this;return(0,u.Z)(function*(){return _i._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var C=this;return(0,u.Z)(function*(){const M=p,k=yield C.getSession(),J=yield Xn(C.user,M._process(C.user.auth,k,g));return yield C.user._updateTokensIfNecessary(J),C.user.reload()})()}unenroll(p){var g=this;return(0,u.Z)(function*(){const C="string"==typeof p?p:p.uid,M=yield g.user.getIdToken(),k=yield Xn(g.user,function(v,p){return Tt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Kt(v,p))}(g.user.auth,{idToken:M,mfaEnrollmentId:C}));g.enrolledFactors=g.enrolledFactors.filter(({uid:J})=>J!==C),yield g.user._updateTokensIfNecessary(k);try{yield g.user.reload()}catch(J){if("auth/user-token-expired"!==J.code)throw J}})()}}const yi=new WeakMap,Ya="__sak";class pd{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Ya,"1"),this.storage.removeItem(Ya),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Zc=(()=>{class v extends pd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,C)=>this.onStorageEvent(g,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const v=(0,L.z$)();return Sl(v)||Gn(v)}()&&function(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=je(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const C of Object.keys(this.listeners)){const M=this.storage.getItem(C),k=this.localCache[C];M!==k&&g(C,k,M)}}onStorageEvent(g,C=!1){if(!g.key)return void this.forAllChangedKeys((me,Be,Ke)=>{this.notifyListeners(me,Ke)});const M=g.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const me=this.storage.getItem(M);if(g.newValue!==me)null!==g.newValue?this.storage.setItem(M,g.newValue):this.storage.removeItem(M);else if(this.localCache[M]===g.newValue&&!C)return}const k=()=>{const me=this.storage.getItem(M);!C&&this.localCache[M]===me||this.notifyListeners(M,me)},J=this.storage.getItem(M);(0,L.w1)()&&10===document.documentMode&&J!==g.newValue&&g.newValue!==g.oldValue?setTimeout(k,10):k()}notifyListeners(g,C){this.localCache[g]=C;const M=this.listeners[g];if(M)for(const k of Array.from(M))k(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,C,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:C,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,C){var M=()=>super._set,k=this;return(0,u.Z)(function*(){yield M().call(k,g,C),k.localCache[g]=JSON.stringify(C)})()}_get(g){var C=()=>super._get,M=this;return(0,u.Z)(function*(){const k=yield C().call(M,g);return M.localCache[g]=JSON.stringify(k),k})()}_remove(g){var C=()=>super._remove,M=this;return(0,u.Z)(function*(){yield C().call(M,g),delete M.localCache[g]})()}}return v.type="LOCAL",v})(),bi=(()=>{class v extends pd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,C){}_removeListener(g,C){}}return v.type="SESSION",v})();let Ci=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const C=this.receivers.find(k=>k.isListeningto(g));if(C)return C;const M=new v(g);return this.receivers.push(M),M}isListeningto(g){return this.eventTarget===g}handleEvent(g){var C=this;return(0,u.Z)(function*(){const M=g,{eventId:k,eventType:J,data:me}=M.data,Be=C.handlersMap[J];if(!(null==Be?void 0:Be.size))return;M.ports[0].postMessage({status:"ack",eventId:k,eventType:J});const Ke=Array.from(Be).map(function(){var nt=(0,u.Z)(function*(wn){return wn(M.origin,me)});return function(wn){return nt.apply(this,arguments)}}()),at=yield function(v){return Promise.all(v.map(function(){var p=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(C){return{fulfilled:!1,reason:C}}});return function(g){return p.apply(this,arguments)}}()))}(Ke);M.ports[0].postMessage({status:"done",eventId:k,eventType:J,response:at})})()}_subscribe(g,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(C)}_unsubscribe(g,C){this.handlersMap[g]&&C&&this.handlersMap[g].delete(C),(!C||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Gi(v="",p=10){let g="";for(let C=0;C<p;C++)g+=Math.floor(10*Math.random());return v+g}class md{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,C=50){var M=this;return(0,u.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let J,me;return new Promise((Be,Ke)=>{const at=Gi("",20);k.port1.start();const nt=setTimeout(()=>{Ke(new Error("unsupported_event"))},C);me={messageChannel:k,onMessage(wn){const Si=wn;if(Si.data.eventId===at)switch(Si.data.status){case"ack":clearTimeout(nt),J=setTimeout(()=>{Ke(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),Be(Si.data.response);break;default:clearTimeout(nt),clearTimeout(J),Ke(new Error("invalid_response"))}}},M.handlers.add(me),k.port1.addEventListener("message",me.onMessage),M.target.postMessage({eventType:p,eventId:at,data:g},[k.port2])}).finally(()=>{me&&M.removeMessageHandler(me)})})()}}function fn(){return window}function _d(){return void 0!==fn().WorkerGlobalScope&&"function"==typeof fn().importScripts}function Za(){return(Za=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const qc="firebaseLocalStorageDb",Kc="firebaseLocalStorage",Qc="fbase_key";class Wi{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function to(v,p){return v.transaction([Kc],p?"readwrite":"readonly").objectStore(Kc)}function Ge(){const v=indexedDB.open(qc,1);return new Promise((p,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const C=v.result;try{C.createObjectStore(Kc,{keyPath:Qc})}catch(M){g(M)}}),v.addEventListener("success",(0,u.Z)(function*(){const C=v.result;C.objectStoreNames.contains(Kc)?p(C):(C.close(),yield function(){const v=indexedDB.deleteDatabase(qc);return new Wi(v).toPromise()}(),p(yield Ge()))}))})}function ht(v,p,g){return qa.apply(this,arguments)}function qa(){return(qa=(0,u.Z)(function*(v,p,g){const C=to(v,!0).put({[Qc]:p,value:g});return new Wi(C).toPromise()})).apply(this,arguments)}function Ss(){return(Ss=(0,u.Z)(function*(v,p){const g=to(v,!1).get(p),C=yield new Wi(g).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function no(v,p){const g=to(v,!0).delete(p);return new Wi(g).toPromise()}const Yi=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield Ge()),g.db})()}_withRetries(g){var C=this;return(0,u.Z)(function*(){let M=0;for(;;)try{const k=yield C._openDb();return yield g(k)}catch(k){if(M++>3)throw k;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return _d()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=Ci._getInstance(_d()?self:null),g.receiver._subscribe("keyChanged",function(){var C=(0,u.Z)(function*(M,k){return{keyProcessed:(yield g._poll()).includes(k.key)}});return function(M,k){return C.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var C=(0,u.Z)(function*(M,k){return["keyChanged"]});return function(M,k){return C.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var C,M;if(g.activeServiceWorker=yield function(){return Za.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new md(g.activeServiceWorker);const k=yield g.sender._send("ping",{},800);!k||(null===(C=k[0])||void 0===C?void 0:C.fulfilled)&&(null===(M=k[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var C=this;return(0,u.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:g},C.serviceWorkerReceiverAvailable?800:50)}catch(M){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Ge();return yield ht(g,Ya,"1"),yield no(g,Ya),!0}catch(g){}return!1})()}_withPendingWrite(g){var C=this;return(0,u.Z)(function*(){C.pendingWrites++;try{yield g()}finally{C.pendingWrites--}})()}_set(g,C){var M=this;return(0,u.Z)(function*(){return M._withPendingWrite((0,u.Z)(function*(){return yield M._withRetries(k=>ht(k,g,C)),M.localCache[g]=C,M.notifyServiceWorker(g)}))})()}_get(g){var C=this;return(0,u.Z)(function*(){const M=yield C._withRetries(k=>function(v,p){return Ss.apply(this,arguments)}(k,g));return C.localCache[g]=M,M})()}_remove(g){var C=this;return(0,u.Z)(function*(){return C._withPendingWrite((0,u.Z)(function*(){return yield C._withRetries(M=>no(M,g)),delete C.localCache[g],C.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const C=yield g._withRetries(J=>{const me=to(J,!1).getAll();return new Wi(me).toPromise()});if(!C)return[];if(0!==g.pendingWrites)return[];const M=[],k=new Set;for(const{fbase_key:J,value:me}of C)k.add(J),JSON.stringify(g.localCache[J])!==JSON.stringify(me)&&(g.notifyListeners(J,me),M.push(J));for(const J of Object.keys(g.localCache))g.localCache[J]&&!k.has(J)&&(g.notifyListeners(J,null),M.push(J));return M})()}notifyListeners(g,C){this.localCache[g]=C;const M=this.listeners[g];if(M)for(const k of Array.from(M))k(C)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function sn(v,p){return Tt(v,"POST","/v2/accounts/mfaSignIn:start",Kt(v,p))}function Ka(){return(Ka=(0,u.Z)(function*(v){return(yield Tt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Jc(v){return new Promise((p,g)=>{const C=document.createElement("script");C.setAttribute("src",v),C.onload=p,C.onerror=M=>{const k=et("internal-error");k.customData=M,g(k)},C.type="text/javascript",C.charset="UTF-8",function(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(C)})}function Zo(v){return`__${v}${Math.floor(1e6*Math.random())}`}const jr=1e12;class Ts{constructor(p){this.auth=p,this.counter=jr,this._widgets=new Map}render(p,g){const C=this.counter;return this._widgets.set(C,new ro(p,this.auth.name,g||{})),this.counter++,C}reset(p){var g;const C=p||jr;null===(g=this._widgets.get(C))||void 0===g||g.delete(),this._widgets.delete(C)}getResponse(p){var g;return(null===(g=this._widgets.get(p||jr))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,u.Z)(function*(){var C;return null===(C=g._widgets.get(p||jr))||void 0===C||C.execute(),""})()}}class ro{constructor(p,g,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;Ae(M,"argument-error",{appName:g}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(v){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<50;C++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}();const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ei=Zo("rcb"),bd=new dt(3e4,6e4);class ti{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!fn().grecaptcha}load(p,g=""){return Ae((v=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(fn().grecaptcha):new Promise((C,M)=>{const k=fn().setTimeout(()=>{M(et(p,"network-request-failed"))},bd.get());fn()[ei]=()=>{fn().clearTimeout(k),delete fn()[ei];const me=fn().grecaptcha;if(!me)return void M(et(p,"internal-error"));const Be=me.render;me.render=(Ke,at)=>{const nt=Be(Ke,at);return this.counter++,nt},this.hostLanguage=g,C(me)},Jc(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:ei,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(k),M(et(p,"internal-error"))})});var v}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!fn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class gg{load(p){return(0,u.Z)(function*(){return new Ts(p)})()}clearedOneInstance(){}}const ln="recaptcha",nf={theme:"light",type:"image"};class Ll{constructor(p,g=Object.assign({},nf),C){this.parameters=g,this.type=ln,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=rn(C),this.isInvisible="invisible"===this.parameters.size,Ae("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;Ae(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gg:new ti,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(g)||new Promise(k=>{const J=me=>{!me||(p.tokenChangeListeners.delete(J),k(me))};p.tokenChangeListeners.add(J),p.isInvisible&&C.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Ae(!this.parameters.sitekey,this.auth,"argument-error"),Ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ae("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(C=>C(g)),"function"==typeof p)p(g);else if("string"==typeof p){const C=fn()[p];"function"==typeof C&&C(g)}}}assertNotDestroyed(){Ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const C=document.createElement("div");g.appendChild(C),g=C}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){Ae(Ut()&&!_d(),p.auth,"internal-error"),yield function(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function(v){return Ka.apply(this,arguments)}(p.auth);Ae(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return Ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Cd{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Fo._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function qo(){return(qo=(0,u.Z)(function*(v,p,g){const C=rn(v),M=yield Qa(C,p,(0,L.m9)(g));return new Cd(M,k=>rr(C,k))})).apply(this,arguments)}function Ed(){return(Ed=(0,u.Z)(function*(v,p,g){const C=(0,L.m9)(v);yield Jr(!1,C,"phone");const M=yield Qa(C.auth,p,(0,L.m9)(g));return new Cd(M,k=>Ol(C,k))})).apply(this,arguments)}function Yn(){return(Yn=(0,u.Z)(function*(v,p,g){const C=(0,L.m9)(v),M=yield Qa(C.auth,p,(0,L.m9)(g));return new Cd(M,k=>mr(C,k))})).apply(this,arguments)}function Qa(v,p,g){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,u.Z)(function*(v,p,g){var C;const M=yield g.verify();try{let k;if(Ae("string"==typeof M,v,"argument-error"),Ae(g.type===ln,v,"argument-error"),k="string"==typeof p?{phoneNumber:p}:p,"session"in k){const J=k.session;if("phoneNumber"in k)return Ae("enroll"===J.type,v,"internal-error"),(yield Wa(v,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{Ae("signin"===J.type,v,"internal-error");const me=(null===(C=k.multiFactorHint)||void 0===C?void 0:C.uid)||k.multiFactorUid;return Ae(me,v,"missing-multi-factor-info"),(yield sn(v,{mfaPendingCredential:J.credential,mfaEnrollmentId:me,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield og(v,{phoneNumber:k.phoneNumber,recaptchaToken:M});return J}}finally{g._reset()}})).apply(this,arguments)}function cn(){return(cn=(0,u.Z)(function*(v,p){yield Qt((0,L.m9)(v),p)})).apply(this,arguments)}let wi=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=rn(g)}verifyPhoneNumber(g,C){return Qa(this.auth,g,(0,L.m9)(C))}static credential(g,C){return Fo._fromVerification(g,C)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:C,temporaryProof:M}=g;return C&&M?Fo._fromTokenResponse(C,M):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Xt(v,p){return p?ye(p):(Ae(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Ko extends Sr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return In(p,this._buildIdpRequest())}_linkToIdToken(p,g){return In(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return In(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function wd(v){return Rl(v.auth,new Ko(v),v.bypassAuthState)}function ni(v){const{auth:p,user:g}=v;return Ae(g,p,"internal-error"),Jt(g,new Ko(v),v.bypassAuthState)}function Di(v){return io.apply(this,arguments)}function io(){return(io=(0,u.Z)(function*(v){const{auth:p,user:g}=v;return Ae(g,p,"internal-error"),Qt(g,new Ko(v),v.bypassAuthState)})).apply(this,arguments)}class Ir{constructor(p,g,C,M,k=!1){this.auth=p,this.resolver=C,this.user=M,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,u.Z)(function*(C,M){p.pendingPromise={resolve:C,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(k){p.reject(k)}});return function(C,M){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,u.Z)(function*(){const{urlResponse:C,sessionId:M,postBody:k,tenantId:J,error:me,type:Be}=p;if(me)return void g.reject(me);const Ke={auth:g.auth,requestUri:C,sessionId:M,tenantId:J||void 0,postBody:k||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Be)(Ke))}catch(at){g.reject(at)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return wd;case"linkViaPopup":case"linkViaRedirect":return Di;case"reauthViaPopup":case"reauthViaRedirect":return ni;default:Fe(this.auth,"internal-error")}}resolve(p){fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qi=new dt(2e3,1e4);function Vl(){return(Vl=(0,u.Z)(function*(v,p,g){const C=rn(v);St(v,p,qr);const M=Xt(C,g);return new bn(C,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function Sd(){return(Sd=(0,u.Z)(function*(v,p,g){const C=(0,L.m9)(v);St(C.auth,p,qr);const M=Xt(C.auth,g);return new bn(C.auth,"reauthViaPopup",p,M,C).executeNotNull()})).apply(this,arguments)}function eu(){return(eu=(0,u.Z)(function*(v,p,g){const C=(0,L.m9)(v);St(C.auth,p,qr);const M=Xt(C.auth,g);return new bn(C.auth,"linkViaPopup",p,M,C).executeNotNull()})).apply(this,arguments)}let bn=(()=>{class v extends Ir{constructor(g,C,M,k,J){super(g,C,k,J),this.provider=M,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const C=yield g.execute();return Ae(C,g.auth,"internal-error"),C})()}onExecution(){var g=this;return(0,u.Z)(function*(){fe(1===g.filter.length,"Popup operations only handle one event");const C=Gi();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],C),g.authWindow.associatedEvent=C,g.resolver._originValidation(g.auth).catch(M=>{g.reject(M)}),g.resolver._isIframeWebStorageSupported(g.auth,M=>{M||g.reject(et(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(et(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var C,M;this.pollId=(null===(M=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===M?void 0:M.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(et(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Qi.get())};g()}}return v.currentPopupAction=null,v})();const Ji=new Map;class As extends Ir{constructor(p,g,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,u.Z)(function*(){let C=Ji.get(g.auth._key());if(!C){try{const k=(yield function(v,p){return D.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;C=()=>Promise.resolve(k)}catch(M){C=()=>Promise.reject(M)}Ji.set(g.auth._key(),C)}return g.bypassAuthState||Ji.set(g.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,C=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(C,p);if("unknown"!==p.type){if(p.eventId){const M=yield C.auth._redirectUserForId(p.eventId);if(M)return C.user=M,g().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function D(){return(D=(0,u.Z)(function*(v,p){const g=pe(p),C=te(v);if(!(yield C._isAvailable()))return!1;const M="true"===(yield C._get(g));return yield C._remove(g),M})).apply(this,arguments)}function T(v,p){return O.apply(this,arguments)}function O(){return(O=(0,u.Z)(function*(v,p){return te(v)._set(pe(p),"true")})).apply(this,arguments)}function te(v){return ye(v._redirectPersistence)}function pe(v){return Ht("pendingRedirect",v.config.apiKey,v.name)}function $e(){return($e=(0,u.Z)(function*(v,p,g){const C=rn(v);St(v,p,qr);const M=Xt(C,g);return yield T(M,C),M._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function Cn(){return(Cn=(0,u.Z)(function*(v,p,g){const C=(0,L.m9)(v);St(C.auth,p,qr);const M=Xt(C.auth,g);yield T(M,C.auth);const k=yield ft(C);return M._openRedirect(C.auth,p,"reauthViaRedirect",k)})).apply(this,arguments)}function Qo(){return(Qo=(0,u.Z)(function*(v,p,g){const C=(0,L.m9)(v);St(C.auth,p,qr);const M=Xt(C.auth,g);yield Jr(!1,C,p.providerId),yield T(M,C.auth);const k=yield ft(C);return M._openRedirect(C.auth,p,"linkViaRedirect",k)})).apply(this,arguments)}function Jo(){return(Jo=(0,u.Z)(function*(v,p){return yield rn(v)._initializationPromise,Hr(v,p,!1)})).apply(this,arguments)}function Hr(v,p){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,u.Z)(function*(v,p,g=!1){const C=rn(v),M=Xt(C,p),J=yield new As(C,M,g).execute();return J&&!g&&(delete J.user._redirectEventId,yield C._persistUserIfCurrent(J.user),yield C._setRedirectUser(null,p)),J})).apply(this,arguments)}function ft(v){return sf.apply(this,arguments)}function sf(){return(sf=(0,u.Z)(function*(v){const p=Gi(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class Td{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(g=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xo(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var C;if(p.error&&!Xo(p)){const M=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";g.onError(et(this.auth,M))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const C=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Id(p))}saveEventToCache(p){this.cachedEventUids.add(Id(p)),this.lastProcessedEventTime=Date.now()}}function Id(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function Xo({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===(null==p?void 0:p.code)}function yg(v){return ri.apply(this,arguments)}function ri(){return(ri=(0,u.Z)(function*(v,p={}){return Tt(v,"GET","/v1/projects",p)})).apply(this,arguments)}const af=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,j_=/^https?/;function Ms(){return(Ms=(0,u.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield yg(v);for(const g of p)try{if(Fn(g))return}catch(C){}Fe(v,"unauthorized-domain")})).apply(this,arguments)}function Fn(v){const p=ct(),{protocol:g,hostname:C}=new URL(p);if(v.startsWith("chrome-extension://")){const J=new URL(v);return""===J.hostname&&""===C?"chrome-extension:"===g&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&J.hostname===C}if(!j_.test(g))return!1;if(af.test(v))return C===v;const M=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(C)}const or=new dt(3e4,6e4);function vg(){const v=fn().___jsl;if(null==v?void 0:v.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let el=null;function nu(v){return el=el||function(v){return new Promise((p,g)=>{var C,M,k;function J(){vg(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{vg(),g(et(v,"network-request-failed"))},timeout:or.get()})}if(null===(M=null===(C=fn().gapi)||void 0===C?void 0:C.iframes)||void 0===M?void 0:M.Iframe)p(gapi.iframes.getContext());else{if(!(null===(k=fn().gapi)||void 0===k?void 0:k.load)){const me=Zo("iframefcb");return fn()[me]=()=>{gapi.load?J():g(et(v,"network-request-failed"))},Jc(`https://apis.google.com/js/api.js?onload=${me}`).catch(Be=>g(Be))}J()}}).catch(p=>{throw el=null,p})}(v),el}const Cg=new dt(5e3,15e3),tl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ad(v){const p=v.config;Ae(p.authDomain,v,"auth-domain-config-required");const g=p.emulator?Vt(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,C={apiKey:p.apiKey,appName:v.name,v:he.SDK_VERSION},M=Bl.get(v.config.apiHost);M&&(C.eid=M);const k=v._getFrameworks();return k.length&&(C.fw=k.join(",")),`${g}?${(0,L.xO)(C).slice(1)}`}function Rt(){return(Rt=(0,u.Z)(function*(v){const p=yield nu(v),g=fn().gapi;return Ae(g,v,"internal-error"),p.open({where:document.body,url:Ad(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tl,dontclear:!0},C=>new Promise(function(){var M=(0,u.Z)(function*(k,J){yield C.restyle({setHideOnLeave:!1});const me=et(v,"network-request-failed"),Be=fn().setTimeout(()=>{J(me)},Cg.get());function Ke(){fn().clearTimeout(Be),k(C)}C.ping(Ke).then(Ke,()=>{J(me)})});return function(k,J){return M.apply(this,arguments)}}()))})).apply(this,arguments)}const ru={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class jl{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function su(v,p,g,C,M,k){Ae(v.config.authDomain,v,"auth-domain-config-required"),Ae(v.config.apiKey,v,"invalid-api-key");const J={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:C,v:he.SDK_VERSION,eventId:M};if(p instanceof qr){p.setDefaultLanguage(v.languageCode),J.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||(J.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Be,Ke]of Object.entries(k||{}))J[Be]=Ke}if(p instanceof Ma){const Be=p.getScopes().filter(Ke=>""!==Ke);Be.length>0&&(J.scopes=Be.join(","))}v.tenantId&&(J.tid=v.tenantId);const me=J;for(const Be of Object.keys(me))void 0===me[Be]&&delete me[Be];return`${function({config:v}){return v.emulator?Vt(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,L.xO)(me).slice(1)}`}const rl="webStorageSupport";class lo extends class{constructor(p){this.factorId=p}_process(p,g,C){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,C);case"signin":return this._finalizeSignIn(p,g.credential);default:return ue("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new lo(p)}_finalizeEnroll(p,g,C){return function(v,p){return Tt(v,"POST","/v2/accounts/mfaEnrollment:finalize",Kt(v,p))}(p,{idToken:g,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function(v,p){return Tt(v,"POST","/v2/accounts/mfaSignIn:finalize",Kt(v,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let G_=(()=>{class v{constructor(){}static assertion(g){return lo._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var v,Dg="@firebase/auth";class z_{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(C=>{var M;p((null===(M=C)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ea(){return window}function cu(){return(cu=(0,u.Z)(function*(v,p,g){var C;const{BuildInfo:M}=ea();fe(p.sessionId,"AuthEvent did not contain a session ID");const k=yield Ig(p.sessionId),J={};return Gn()?J.ibi=M.packageName:gs()?J.apn=M.packageName:Fe(v,"operation-not-supported-in-this-environment"),M.displayName&&(J.appDisplayName=M.displayName),J.sessionId=k,su(v,g,p.type,void 0,null!==(C=p.eventId)&&void 0!==C?C:void 0,J)})).apply(this,arguments)}function il(){return(il=(0,u.Z)(function*(v){const{BuildInfo:p}=ea(),g={};Gn()?g.iosBundleId=p.packageName:gs()?g.androidPackageName=p.packageName:Fe(v,"operation-not-supported-in-this-environment"),yield yg(v,g)})).apply(this,arguments)}function ff(){return(ff=(0,u.Z)(function*(v,p,g){const{cordova:C}=ea();let M=()=>{};try{yield new Promise((k,J)=>{let me=null;function Be(){var nt;k();const wn=null===(nt=C.plugins.browsertab)||void 0===nt?void 0:nt.close;"function"==typeof wn&&wn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Ke(){me||(me=window.setTimeout(()=>{J(et(v,"redirect-cancelled-by-user"))},2e3))}function at(){"visible"===(null==document?void 0:document.visibilityState)&&Ke()}p.addPassiveListener(Be),document.addEventListener("resume",Ke,!1),gs()&&document.addEventListener("visibilitychange",at,!1),M=()=>{p.removePassiveListener(Be),document.removeEventListener("resume",Ke,!1),document.removeEventListener("visibilitychange",at,!1),me&&window.clearTimeout(me)}})}finally{M()}})).apply(this,arguments)}function Ig(v){return Ag.apply(this,arguments)}function Ag(){return(Ag=(0,u.Z)(function*(v){const p=Od(v),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Od(v){if(fe(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const p=new ArrayBuffer(v.length),g=new Uint8Array(p);for(let C=0;C<v.length;C++)g[C]=v.charCodeAt(C);return g}v="Browser",(0,he._registerComponent)(new ie.wA("auth",(p,{options:g})=>{const C=p.getProvider("app").getImmediate(),{apiKey:M,authDomain:k}=C.options;return(J=>{Ae(M&&!M.includes(":"),"invalid-api-key",{appName:J.name}),Ae(!(null==k?void 0:k.includes(":")),"argument-error",{appName:J.name});const me={apiKey:M,authDomain:k,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$t(v)},Be=new pr(J,me);return function(v,p){const g=(null==p?void 0:p.persistence)||[],C=(Array.isArray(g)?g:[g]).map(ye);(null==p?void 0:p.errorMap)&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(C,null==p?void 0:p.popupRedirectResolver)}(Be,g),Be})(C)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,C)=>{p.getProvider("auth-internal").initialize()})),(0,he._registerComponent)(new ie.wA("auth-internal",p=>{const g=rn(p.getProvider("auth").getImmediate());return new z_(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,he.registerVersion)(Dg,"0.19.9",void 0),(0,he.registerVersion)(Dg,"0.19.9","esm2017");class Pd extends Td{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,u.Z)(function*(){yield p.initPromise})()}}function uu(v){return xd.apply(this,arguments)}function xd(){return(xd=(0,u.Z)(function*(v){const p=yield Mg()._get(Rg(v));return p&&(yield Mg()._remove(Rg(v))),p})).apply(this,arguments)}function Y_(){const v=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const C=Math.floor(Math.random()*p.length);v.push(p.charAt(C))}return v.join("")}function Mg(){return ye(Zc)}function Rg(v){return Ht("authEvent",v.config.apiKey,v.name)}function Rs(v){if(!(null==v?void 0:v.includes("?")))return{};const[p,...g]=v.split("?");return(0,L.zd)(g.join("?"))}function Pg(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:et("no-auth-event")}}function ta(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function kd(v=(0,L.z$)()){return!("file:"!==ta()&&"ionic:"!==ta()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Nd(){try{const v=self.localStorage,p=Gi();if(v)return v.setItem(p,"1"),v.removeItem(p),!function(v=(0,L.z$)()){return(0,L.w1)()&&11===(null==document?void 0:document.documentMode)||function(v=(0,L.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,L.hl)()}catch(v){return Fd()&&(0,L.hl)()}return!1}function Fd(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ld(){return("http:"===ta()||"https:"===ta()||(0,L.ru)()||kd())&&!((0,L.b$)()||(0,L.UG)())&&Nd()&&!Fd()}function Ng(){return kd()&&"undefined"!=typeof document}function Os(){return(Os=(0,u.Z)(function*(){return!!Ng()&&new Promise(v=>{const p=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),v(!0)})})})).apply(this,arguments)}const qn={LOCAL:"local",NONE:"none",SESSION:"session"},Vd=Ae,zl="persistence";function fu(v){return na.apply(this,arguments)}function na(){return(na=(0,u.Z)(function*(v){yield v._initializationPromise;const p=Kn(),g=Ht(zl,v.config.apiKey,v.name);p&&p.setItem(g,v._getPersistence())})).apply(this,arguments)}function Kn(){var v;try{return(null===(v="undefined"!=typeof window?window:null)||void 0===v?void 0:v.sessionStorage)||null}catch(p){return null}}const Yl=Ae;class Ps{constructor(){this.browserResolver=ye(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bi,this._completeRedirectFn=Hr}_openPopup(p,g,C,M){var k=this;return(0,u.Z)(function*(){var J;fe(null===(J=k.eventManagers[p._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const me=su(p,g,C,ct(),M);return function(v,p,g,C=500,M=600){const k=Math.max((window.screen.availHeight-M)/2,0).toString(),J=Math.max((window.screen.availWidth-C)/2,0).toString();let me="";const Be=Object.assign(Object.assign({},ru),{width:C.toString(),height:M.toString(),top:k,left:J}),Ke=(0,L.z$)().toLowerCase();g&&(me=Ta(Ke)?"_blank":g),Ro(Ke)&&(p=p||"http://localhost",Be.scrollbars="yes");const at=Object.entries(Be).reduce((wn,[Si,jd])=>`${wn}${Si}=${jd},`,"");if(function(v=(0,L.z$)()){var p;return Gn(v)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Ke)&&"_self"!==me)return function(v,p){const g=document.createElement("a");g.href=v,g.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(C)}(p||"",me),new jl(null);const nt=window.open(p||"",me,at);Ae(nt,v,"popup-blocked");try{nt.focus()}catch(wn){}return new jl(nt)}(p,me,Gi())})()}_openRedirect(p,g,C,M){var k=this;return(0,u.Z)(function*(){return yield k._originValidation(p),v=su(p,g,C,ct(),M),fn().location.href=v,new Promise(()=>{});var v})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:M,promise:k}=this.eventManagers[g];return M?Promise.resolve(M):(fe(k,"If manager is not set, promise should be"),k)}const C=this.initAndGetManager(p);return this.eventManagers[g]={promise:C},C.catch(()=>{delete this.eventManagers[g]}),C}initAndGetManager(p){var g=this;return(0,u.Z)(function*(){const C=yield function(v){return Rt.apply(this,arguments)}(p),M=new Td(p);return C.register("authEvent",k=>(Ae(null==k?void 0:k.authEvent,p,"invalid-auth-event"),{status:M.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:M},g.iframes[p._key()]=C,M})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(rl,{type:rl},M=>{var k;const J=null===(k=null==M?void 0:M[0])||void 0===k?void 0:k[rl];void 0!==J&&g(!!J),Fe(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(v){return Ms.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return je()||Sl()||Gn()}}),this.cordovaResolver=ye(class{constructor(){this._redirectPersistence=bi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Hr}_initialize(p){var g=this;return(0,u.Z)(function*(){const C=p._key();let M=g.eventManagers.get(C);return M||(M=new Pd(p),g.eventManagers.set(C,M),g.attachCallbackListeners(p,M)),M})()}_openPopup(p){Fe(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,C,M){var k=this;return(0,u.Z)(function*(){!function(v){var p,g,C,M,k,J,me,Be,Ke,at;const nt=ea();Ae("function"==typeof(null===(p=null==nt?void 0:nt.universalLinks)||void 0===p?void 0:p.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ae(void 0!==(null===(g=null==nt?void 0:nt.BuildInfo)||void 0===g?void 0:g.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ae("function"==typeof(null===(k=null===(M=null===(C=null==nt?void 0:nt.cordova)||void 0===C?void 0:C.plugins)||void 0===M?void 0:M.browsertab)||void 0===k?void 0:k.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ae("function"==typeof(null===(Be=null===(me=null===(J=null==nt?void 0:nt.cordova)||void 0===J?void 0:J.plugins)||void 0===me?void 0:me.browsertab)||void 0===Be?void 0:Be.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ae("function"==typeof(null===(at=null===(Ke=null==nt?void 0:nt.cordova)||void 0===Ke?void 0:Ke.InAppBrowser)||void 0===at?void 0:at.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const J=yield k._initialize(p);yield J.initialized(),J.resetRedirect(),Ji.clear(),yield k._originValidation(p);const me=function(v,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Y_(),postBody:null,tenantId:v.tenantId,error:et(v,"no-auth-event")}}(p,C,M);yield function(v,p){return Mg()._set(Rg(v),p)}(p,me);const Be=yield function(v,p,g){return cu.apply(this,arguments)}(p,me,g),Ke=yield function(v){const{cordova:p}=ea();return new Promise(g=>{p.plugins.browsertab.isAvailable(C=>{let M=null;C?p.plugins.browsertab.openUrl(v):M=p.InAppBrowser.open(v,function(v=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),g(M)})})}(Be);return function(v,p,g){return ff.apply(this,arguments)}(p,J,Ke)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(v){return il.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:C,handleOpenURL:M,BuildInfo:k}=ea(),J=setTimeout((0,u.Z)(function*(){yield uu(p),g.onEvent(Pg())}),500),me=function(){var at=(0,u.Z)(function*(nt){clearTimeout(J);const wn=yield uu(p);let Si=null;wn&&(null==nt?void 0:nt.url)&&(Si=function(v,p){var g,C;const M=function(v){const p=Rs(v),g=p.link?decodeURIComponent(p.link):void 0,C=Rs(g).link,M=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Rs(M).link||M||C||g||v}(p);if(M.includes("/__/auth/callback")){const k=Rs(M),J=k.firebaseError?function(v){try{return JSON.parse(v)}catch(p){return null}}(decodeURIComponent(k.firebaseError)):null,me=null===(C=null===(g=null==J?void 0:J.code)||void 0===g?void 0:g.split("auth/"))||void 0===C?void 0:C[1],Be=me?et(me):null;return Be?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Be,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:M,postBody:null}}return null}(wn,nt.url)),g.onEvent(Si||Pg())});return function(wn){return at.apply(this,arguments)}}();void 0!==C&&"function"==typeof C.subscribe&&C.subscribe(null,me);const Be=M,Ke=`${k.packageName.toLowerCase()}://`;ea().handleOpenURL=function(){var at=(0,u.Z)(function*(nt){if(nt.toLowerCase().startsWith(Ke)&&me({url:nt}),"function"==typeof Be)try{Be(nt)}catch(wn){console.error(wn)}});return function(nt){return at.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=bi,this._completeRedirectFn=Hr}_initialize(p){var g=this;return(0,u.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,C,M){var k=this;return(0,u.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(p,g,C,M)})()}_openRedirect(p,g,C,M){var k=this;return(0,u.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(p,g,C,M)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Ng()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Yl(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,u.Z)(function*(){if(p.underlyingResolver)return;const g=yield function(){return Os.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Fg(v){return v.unwrap()}function ii(v){return Bd(v)}function Bd(v){const{_tokenResponse:p}=v instanceof L.ZR?v.customData:v;if(!p)return null;if(!(v instanceof L.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return wi.credentialFromResult(v);const g=p.providerId;if(!g||"password"===g)return null;let C;switch(g){case"google.com":C=Bi;break;case"facebook.com":C=xc;break;case"github.com":C=sd;break;case"twitter.com":C=Kr;break;default:const{oauthIdToken:M,oauthAccessToken:k,oauthTokenSecret:J,pendingToken:me,nonce:Be}=p;return k||J||M||me?me?g.startsWith("saml.")?bs._create(g,me):pi._fromParams({providerId:g,signInMethod:g,pendingToken:me,idToken:M,accessToken:k}):new vs(g).credential({idToken:M,accessToken:k,rawNonce:Be}):null}return v instanceof L.ZR?C.credentialFromError(v):C.credentialFromResult(v)}function ar(v,p){return p.catch(g=>{throw g instanceof L.ZR&&function(v,p){var g;const C=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new J_(v,function(v,p){var g;const C=(0,L.m9)(v),M=p;return Ae(p.customData.operationType,C,"argument-error"),Ae(null===(g=M.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,C,"argument-error"),zo._fromError(C,M)}(v,p));else if(C){const M=Bd(p),k=p;M&&(k.credential=M,k.tenantId=C.tenantId||void 0,k.email=C.email||void 0,k.phoneNumber=C.phoneNumber||void 0)}}(v,g),g}).then(g=>{const M=g.user;return{operationType:g.operationType,credential:ii(g),additionalUserInfo:jc(g),user:ho.getOrCreate(M)}})}function ol(v,p){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,u.Z)(function*(v,p){const g=yield p;return{verificationId:g.verificationId,confirm:C=>ar(v,g.confirm(C))}})).apply(this,arguments)}class J_{constructor(p,g){this.resolver=g,this.auth=function(v){return v.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return ar(Fg(this.auth),this.resolver.resolveSignIn(p))}}class ho{constructor(p){this._delegate=p,this.multiFactor=function(v){const p=(0,L.m9)(v);return yi.has(p)||yi.set(p,zc._fromUser(p)),yi.get(p)}(p)}static getOrCreate(p){return ho.USER_MAP.has(p)||ho.USER_MAP.set(p,new ho(p)),ho.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,u.Z)(function*(){return ar(g.auth,Ol(g._delegate,p))})()}linkWithPhoneNumber(p,g){var C=this;return(0,u.Z)(function*(){return ol(C.auth,function(v,p,g){return Ed.apply(this,arguments)}(C._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,u.Z)(function*(){return ar(g.auth,function(v,p,g){return eu.apply(this,arguments)}(g._delegate,p,Ps))})()}linkWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield fu(rn(g.auth)),function(v,p,g){return function(v,p,g){return Qo.apply(this,arguments)}(v,p,g)}(g._delegate,p,Ps)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,u.Z)(function*(){return ar(g.auth,mr(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return ol(this.auth,function(v,p,g){return Yn.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return ar(this.auth,function(v,p,g){return Sd.apply(this,arguments)}(this._delegate,p,Ps))}reauthenticateWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield fu(rn(g.auth)),function(v,p,g){return function(v,p,g){return Cn.apply(this,arguments)}(v,p,g)}(g._delegate,p,Ps)})()}sendEmailVerification(p){return function(v,p){return ir.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,u.Z)(function*(){return yield function(v,p){return xa.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function(v,p){return Ha((0,L.m9)(v),p,null)}(this._delegate,p)}updatePassword(p){return function(v,p){return Ha((0,L.m9)(v),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function(v,p){return cn.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function(v,p){return Ks.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function(v,p,g){return Go.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ho.USER_MAP=new WeakMap;const Zl=Ae;let al=(()=>{class v{constructor(g,C){if(this.app=g,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=g.options;Zl(M,"invalid-api-key",{appName:g.name}),Zl(M,"invalid-api-key",{appName:g.name});const k="undefined"!=typeof window?Ps:void 0;this._delegate=C.initialize({options:{persistence:Vg(M,g.name),popupRedirectResolver:k}}),this._delegate._updateErrorMap(Ee),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ho.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,C){!function(v,p,g){const C=rn(v);Ae(C._canInitEmulator,C,"emulator-config-failed"),Ae(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const M=!!(null==g?void 0:g.disableWarnings),k=hn(p),{host:J,port:me}=function(v){const p=hn(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!g)return{host:"",port:null};const C=g[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(C);if(M){const k=M[1];return{host:k,port:ms(C.substr(k.length+1))}}{const[k,J]=C.split(":");return{host:k,port:ms(J)}}}(p);C.config.emulator={url:`${k}//${J}${null===me?"":`:${me}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:J,port:me,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function(){function v(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,g,C)}applyActionCode(g){return function(v,p){return Hi.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Re(this._delegate,g)}confirmPasswordReset(g,C){return function(v,p,g){return Va.apply(this,arguments)}(this._delegate,g,C)}createUserWithEmailAndPassword(g,C){var M=this;return(0,u.Z)(function*(){return ar(M._delegate,function(v,p,g){return mi.apply(this,arguments)}(M._delegate,g,C))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(v,p){return Ba.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(v,p){const g=Lo.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,u.Z)(function*(){Zl(Ld(),g._delegate,"operation-not-supported-in-this-environment");const C=yield function(v,p){return Jo.apply(this,arguments)}(g._delegate,Ps);return C?ar(g._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(v,p){rn(v)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,C,M){const{next:k,error:J,complete:me}=Ud(g,C,M);return this._delegate.onAuthStateChanged(k,J,me)}onIdTokenChanged(g,C,M){const{next:k,error:J,complete:me}=Ud(g,C,M);return this._delegate.onIdTokenChanged(k,J,me)}sendSignInLinkToEmail(g,C){return function(v,p,g){return jo.apply(this,arguments)}(this._delegate,g,C)}sendPasswordResetEmail(g,C){return function(v,p,g){return La.apply(this,arguments)}(this._delegate,g,C||void 0)}setPersistence(g){var C=this;return(0,u.Z)(function*(){let M;switch(function(v,p){Vd(Object.values(qn).includes(p),v,"invalid-persistence-type"),(0,L.b$)()?Vd(p!==qn.SESSION,v,"unsupported-persistence-type"):(0,L.UG)()?Vd(p===qn.NONE,v,"unsupported-persistence-type"):Fd()?Vd(p===qn.NONE||p===qn.LOCAL&&(0,L.hl)(),v,"unsupported-persistence-type"):Vd(p===qn.NONE||Nd(),v,"unsupported-persistence-type")}(C._delegate,g),g){case qn.SESSION:M=bi;break;case qn.LOCAL:M=(yield ye(Yi)._isAvailable())?Yi:Zc;break;case qn.NONE:M=tt;break;default:return Fe("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return ar(this._delegate,function(v){return qs.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return ar(this._delegate,rr(this._delegate,g))}signInWithCustomToken(g){return ar(this._delegate,function(v,p){return Uo.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,C){return ar(this._delegate,function(v,p,g){return rr((0,L.m9)(v),Vo.credential(p,g))}(this._delegate,g,C))}signInWithEmailLink(g,C){return ar(this._delegate,function(v,p,g){return Ho.apply(this,arguments)}(this._delegate,g,C))}signInWithPhoneNumber(g,C){return ol(this._delegate,function(v,p,g){return qo.apply(this,arguments)}(this._delegate,g,C))}signInWithPopup(g){var C=this;return(0,u.Z)(function*(){return Zl(Ld(),C._delegate,"operation-not-supported-in-this-environment"),ar(C._delegate,function(v,p,g){return Vl.apply(this,arguments)}(C._delegate,g,Ps))})()}signInWithRedirect(g){var C=this;return(0,u.Z)(function*(){return Zl(Ld(),C._delegate,"operation-not-supported-in-this-environment"),yield fu(C._delegate),function(v,p,g){return function(v,p,g){return $e.apply(this,arguments)}(v,p,g)}(C._delegate,g,Ps)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(v,p){return Zt.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=qn,v})();function Ud(v,p,g){let C=v;"function"!=typeof v&&({next:C,error:p,complete:g}=v);const M=C;return{next:J=>M(J&&ho.getOrCreate(J)),error:p,complete:g}}function Vg(v,p){const g=function(v,p){const g=Kn();if(!g)return[];const C=Ht(zl,v,p);switch(g.getItem(C)){case qn.NONE:return[tt];case qn.LOCAL:return[Yi,bi];case qn.SESSION:return[bi];default:return[]}}(v,p);if("undefined"!=typeof self&&!g.includes(Yi)&&g.push(Yi),"undefined"!=typeof window)for(const C of[Zc,bi])g.includes(C)||g.push(C);return g.includes(tt)||g.push(tt),g}class ql{constructor(){this.providerId="phone",this._delegate=new wi(Fg(ne.Z.auth()))}static credential(p,g){return wi.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}ql.PHONE_SIGN_IN_METHOD=wi.PHONE_SIGN_IN_METHOD,ql.PROVIDER_ID=wi.PROVIDER_ID;const Ef=Ae;class ll{constructor(p,g,C=ne.Z.app()){var M;Ef(null===(M=C.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new Ll(p,g,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(v){v.INTERNAL.registerComponent(new ie.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),C=p.getProvider("auth");return new al(g,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Vo,FacebookAuthProvider:xc,GithubAuthProvider:sd,GoogleAuthProvider:Bi,OAuthProvider:vs,SAMLAuthProvider:Ui,PhoneAuthProvider:ql,PhoneMultiFactorGenerator:G_,RecaptchaVerifier:ll,TwitterAuthProvider:Kr,Auth:al,AuthCredential:Sr,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.2.9")}(ne.Z)},6676:function(Ye,Te){!function(V){"use strict";function u(_e){return Array.prototype.slice.call(_e)}function ne(_e){return new Promise(function(se,we){_e.onsuccess=function(){se(_e.result)},_e.onerror=function(){we(_e.error)}})}function L(_e,se,we){var Ne,Fe=new Promise(function(et,Ot){ne(Ne=_e[se].apply(_e,we)).then(et,Ot)});return Fe.request=Ne,Fe}function he(_e,se,we){var Ne=L(_e,se,we);return Ne.then(function(Fe){if(Fe)return new F(Fe,Ne.request)})}function le(_e,se,we){we.forEach(function(Ne){Object.defineProperty(_e.prototype,Ne,{get:function(){return this[se][Ne]},set:function(Fe){this[se][Ne]=Fe}})})}function ee(_e,se,we,Ne){Ne.forEach(function(Fe){Fe in we.prototype&&(_e.prototype[Fe]=function(){return L(this[se],Fe,arguments)})})}function ie(_e,se,we,Ne){Ne.forEach(function(Fe){Fe in we.prototype&&(_e.prototype[Fe]=function(){return this[se][Fe].apply(this[se],arguments)})})}function Q(_e,se,we,Ne){Ne.forEach(function(Fe){Fe in we.prototype&&(_e.prototype[Fe]=function(){return he(this[se],Fe,arguments)})})}function X(_e){this._index=_e}function F(_e,se){this._cursor=_e,this._request=se}function j(_e){this._store=_e}function H(_e){this._tx=_e,this.complete=new Promise(function(se,we){_e.oncomplete=function(){se()},_e.onerror=function(){we(_e.error)},_e.onabort=function(){we(_e.error)}})}function ce(_e,se,we){this._db=_e,this.oldVersion=se,this.transaction=new H(we)}function oe(_e){this._db=_e}le(X,"_index",["name","keyPath","multiEntry","unique"]),ee(X,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Q(X,"_index",IDBIndex,["openCursor","openKeyCursor"]),le(F,"_cursor",["direction","key","primaryKey","value"]),ee(F,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(_e){_e in IDBCursor.prototype&&(F.prototype[_e]=function(){var se=this,we=arguments;return Promise.resolve().then(function(){return se._cursor[_e].apply(se._cursor,we),ne(se._request).then(function(Ne){if(Ne)return new F(Ne,se._request)})})})}),j.prototype.createIndex=function(){return new X(this._store.createIndex.apply(this._store,arguments))},j.prototype.index=function(){return new X(this._store.index.apply(this._store,arguments))},le(j,"_store",["name","keyPath","indexNames","autoIncrement"]),ee(j,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Q(j,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ie(j,"_store",IDBObjectStore,["deleteIndex"]),H.prototype.objectStore=function(){return new j(this._tx.objectStore.apply(this._tx,arguments))},le(H,"_tx",["objectStoreNames","mode"]),ie(H,"_tx",IDBTransaction,["abort"]),ce.prototype.createObjectStore=function(){return new j(this._db.createObjectStore.apply(this._db,arguments))},le(ce,"_db",["name","version","objectStoreNames"]),ie(ce,"_db",IDBDatabase,["deleteObjectStore","close"]),oe.prototype.transaction=function(){return new H(this._db.transaction.apply(this._db,arguments))},le(oe,"_db",["name","version","objectStoreNames"]),ie(oe,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(_e){[j,X].forEach(function(se){_e in se.prototype&&(se.prototype[_e.replace("open","iterate")]=function(){var we=u(arguments),Ne=we[we.length-1],Fe=this._store||this._index,et=Fe[_e].apply(Fe,we.slice(0,-1));et.onsuccess=function(){Ne(et.result)}})})}),[X,j].forEach(function(_e){_e.prototype.getAll||(_e.prototype.getAll=function(se,we){var Ne=this,Fe=[];return new Promise(function(et){Ne.iterateCursor(se,function(Ot){Ot?(Fe.push(Ot.value),void 0===we||Fe.length!=we?Ot.continue():et(Fe)):et(Fe)})})})}),V.openDb=function(_e,se,we){var Ne=L(indexedDB,"open",[_e,se]),Fe=Ne.request;return Fe&&(Fe.onupgradeneeded=function(et){we&&we(new ce(Fe.result,et.oldVersion,Fe.transaction))}),Ne.then(function(et){return new oe(et)})},V.deleteDb=function(_e){return L(indexedDB,"deleteDatabase",[_e])},Object.defineProperty(V,"__esModule",{value:!0})}(Te)},7574:(Ye,Te,V)=>{"use strict";V.d(Te,{y:()=>j});var u=V(7393),L=V(9181),he=V(6490),ee=V(6554),ie=V(4487);var F=V(2494);let j=(()=>{class ce{constructor(Ee){this._isScalar=!1,Ee&&(this._subscribe=Ee)}lift(Ee){const Ce=new ce;return Ce.source=this,Ce.operator=Ee,Ce}subscribe(Ee,Ce,_e){const{operator:se}=this,we=function(ce,oe,Ee){if(ce){if(ce instanceof u.L)return ce;if(ce[L.b])return ce[L.b]()}return ce||oe||Ee?new u.L(ce,oe,Ee):new u.L(he.c)}(Ee,Ce,_e);if(we.add(se?se.call(we,this.source):this.source||F.v.useDeprecatedSynchronousErrorHandling&&!we.syncErrorThrowable?this._subscribe(we):this._trySubscribe(we)),F.v.useDeprecatedSynchronousErrorHandling&&we.syncErrorThrowable&&(we.syncErrorThrowable=!1,we.syncErrorThrown))throw we.syncErrorValue;return we}_trySubscribe(Ee){try{return this._subscribe(Ee)}catch(Ce){F.v.useDeprecatedSynchronousErrorHandling&&(Ee.syncErrorThrown=!0,Ee.syncErrorValue=Ce),function(ce){for(;ce;){const{closed:oe,destination:Ee,isStopped:Ce}=ce;if(oe||Ce)return!1;ce=Ee&&Ee instanceof u.L?Ee:null}return!0}(Ee)?Ee.error(Ce):console.warn(Ce)}}forEach(Ee,Ce){return new(Ce=H(Ce))((_e,se)=>{let we;we=this.subscribe(Ne=>{try{Ee(Ne)}catch(Fe){se(Fe),we&&we.unsubscribe()}},se,_e)})}_subscribe(Ee){const{source:Ce}=this;return Ce&&Ce.subscribe(Ee)}[ee.L](){return this}pipe(...Ee){return 0===Ee.length?this:function(ce){return 0===ce.length?ie.y:1===ce.length?ce[0]:function(Ee){return ce.reduce((Ce,_e)=>_e(Ce),Ee)}}(Ee)(this)}toPromise(Ee){return new(Ee=H(Ee))((Ce,_e)=>{let se;this.subscribe(we=>se=we,we=>_e(we),()=>Ce(se))})}}return ce.create=oe=>new ce(oe),ce})();function H(ce){if(ce||(ce=F.v.Promise||Promise),!ce)throw new Error("no Promise impl found");return ce}},6490:(Ye,Te,V)=>{"use strict";V.d(Te,{c:()=>L});var u=V(2494),ne=V(4449);const L={closed:!0,next(he){},error(he){if(u.v.useDeprecatedSynchronousErrorHandling)throw he;(0,ne.z)(he)},complete(){}}},9765:(Ye,Te,V)=>{"use strict";V.d(Te,{Yc:()=>ie,xQ:()=>Q});var u=V(7574),ne=V(7393),L=V(5319),he=V(7971),le=V(8858),ee=V(9181);class ie extends ne.L{constructor(j){super(j),this.destination=j}}let Q=(()=>{class F extends u.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ee.b](){return new ie(this)}lift(H){const ce=new X(this,this);return ce.operator=H,ce}next(H){if(this.closed)throw new he.N;if(!this.isStopped){const{observers:ce}=this,oe=ce.length,Ee=ce.slice();for(let Ce=0;Ce<oe;Ce++)Ee[Ce].next(H)}}error(H){if(this.closed)throw new he.N;this.hasError=!0,this.thrownError=H,this.isStopped=!0;const{observers:ce}=this,oe=ce.length,Ee=ce.slice();for(let Ce=0;Ce<oe;Ce++)Ee[Ce].error(H);this.observers.length=0}complete(){if(this.closed)throw new he.N;this.isStopped=!0;const{observers:H}=this,ce=H.length,oe=H.slice();for(let Ee=0;Ee<ce;Ee++)oe[Ee].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(H){if(this.closed)throw new he.N;return super._trySubscribe(H)}_subscribe(H){if(this.closed)throw new he.N;return this.hasError?(H.error(this.thrownError),L.w.EMPTY):this.isStopped?(H.complete(),L.w.EMPTY):(this.observers.push(H),new le.W(this,H))}asObservable(){const H=new u.y;return H.source=this,H}}return F.create=(j,H)=>new X(j,H),F})();class X extends Q{constructor(j,H){super(),this.destination=j,this.source=H}next(j){const{destination:H}=this;H&&H.next&&H.next(j)}error(j){const{destination:H}=this;H&&H.error&&this.destination.error(j)}complete(){const{destination:j}=this;j&&j.complete&&this.destination.complete()}_subscribe(j){const{source:H}=this;return H?this.source.subscribe(j):L.w.EMPTY}}},8858:(Ye,Te,V)=>{"use strict";V.d(Te,{W:()=>ne});var u=V(5319);class ne extends u.w{constructor(he,le){super(),this.subject=he,this.subscriber=le,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const he=this.subject,le=he.observers;if(this.subject=null,!le||0===le.length||he.isStopped||he.closed)return;const ee=le.indexOf(this.subscriber);-1!==ee&&le.splice(ee,1)}}},7393:(Ye,Te,V)=>{"use strict";V.d(Te,{L:()=>ie});var u=V(9105),ne=V(6490),L=V(5319),he=V(9181),le=V(2494),ee=V(4449);class ie extends L.w{constructor(F,j,H){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ne.c;break;case 1:if(!F){this.destination=ne.c;break}if("object"==typeof F){F instanceof ie?(this.syncErrorThrowable=F.syncErrorThrowable,this.destination=F,F.add(this)):(this.syncErrorThrowable=!0,this.destination=new Q(this,F));break}default:this.syncErrorThrowable=!0,this.destination=new Q(this,F,j,H)}}[he.b](){return this}static create(F,j,H){const ce=new ie(F,j,H);return ce.syncErrorThrowable=!1,ce}next(F){this.isStopped||this._next(F)}error(F){this.isStopped||(this.isStopped=!0,this._error(F))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(F){this.destination.next(F)}_error(F){this.destination.error(F),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:F}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=F,this}}class Q extends ie{constructor(F,j,H,ce){super(),this._parentSubscriber=F;let oe,Ee=this;(0,u.m)(j)?oe=j:j&&(oe=j.next,H=j.error,ce=j.complete,j!==ne.c&&(Ee=Object.create(j),(0,u.m)(Ee.unsubscribe)&&this.add(Ee.unsubscribe.bind(Ee)),Ee.unsubscribe=this.unsubscribe.bind(this))),this._context=Ee,this._next=oe,this._error=H,this._complete=ce}next(F){if(!this.isStopped&&this._next){const{_parentSubscriber:j}=this;le.v.useDeprecatedSynchronousErrorHandling&&j.syncErrorThrowable?this.__tryOrSetError(j,this._next,F)&&this.unsubscribe():this.__tryOrUnsub(this._next,F)}}error(F){if(!this.isStopped){const{_parentSubscriber:j}=this,{useDeprecatedSynchronousErrorHandling:H}=le.v;if(this._error)H&&j.syncErrorThrowable?(this.__tryOrSetError(j,this._error,F),this.unsubscribe()):(this.__tryOrUnsub(this._error,F),this.unsubscribe());else if(j.syncErrorThrowable)H?(j.syncErrorValue=F,j.syncErrorThrown=!0):(0,ee.z)(F),this.unsubscribe();else{if(this.unsubscribe(),H)throw F;(0,ee.z)(F)}}}complete(){if(!this.isStopped){const{_parentSubscriber:F}=this;if(this._complete){const j=()=>this._complete.call(this._context);le.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?(this.__tryOrSetError(F,j),this.unsubscribe()):(this.__tryOrUnsub(j),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(F,j){try{F.call(this._context,j)}catch(H){if(this.unsubscribe(),le.v.useDeprecatedSynchronousErrorHandling)throw H;(0,ee.z)(H)}}__tryOrSetError(F,j,H){if(!le.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{j.call(this._context,H)}catch(ce){return le.v.useDeprecatedSynchronousErrorHandling?(F.syncErrorValue=ce,F.syncErrorThrown=!0,!0):((0,ee.z)(ce),!0)}return!1}_unsubscribe(){const{_parentSubscriber:F}=this;this._context=null,this._parentSubscriber=null,F.unsubscribe()}}},5319:(Ye,Te,V)=>{"use strict";V.d(Te,{w:()=>ee});var u=V(9796),ne=V(1555),L=V(9105);const le=(()=>{function Q(X){return Error.call(this),this.message=X?`${X.length} errors occurred during unsubscription:\n${X.map((F,j)=>`${j+1}) ${F.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=X,this}return Q.prototype=Object.create(Error.prototype),Q})();class ee{constructor(X){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,X&&(this._ctorUnsubscribe=!0,this._unsubscribe=X)}unsubscribe(){let X;if(this.closed)return;let{_parentOrParents:F,_ctorUnsubscribe:j,_unsubscribe:H,_subscriptions:ce}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,F instanceof ee)F.remove(this);else if(null!==F)for(let oe=0;oe<F.length;++oe)F[oe].remove(this);if((0,L.m)(H)){j&&(this._unsubscribe=void 0);try{H.call(this)}catch(oe){X=oe instanceof le?ie(oe.errors):[oe]}}if((0,u.k)(ce)){let oe=-1,Ee=ce.length;for(;++oe<Ee;){const Ce=ce[oe];if((0,ne.K)(Ce))try{Ce.unsubscribe()}catch(_e){X=X||[],_e instanceof le?X=X.concat(ie(_e.errors)):X.push(_e)}}}if(X)throw new le(X)}add(X){let F=X;if(!X)return ee.EMPTY;switch(typeof X){case"function":F=new ee(X);case"object":if(F===this||F.closed||"function"!=typeof F.unsubscribe)return F;if(this.closed)return F.unsubscribe(),F;if(!(F instanceof ee)){const ce=F;F=new ee,F._subscriptions=[ce]}break;default:throw new Error("unrecognized teardown "+X+" added to Subscription.")}let{_parentOrParents:j}=F;if(null===j)F._parentOrParents=this;else if(j instanceof ee){if(j===this)return F;F._parentOrParents=[j,this]}else{if(-1!==j.indexOf(this))return F;j.push(this)}const H=this._subscriptions;return null===H?this._subscriptions=[F]:H.push(F),F}remove(X){const F=this._subscriptions;if(F){const j=F.indexOf(X);-1!==j&&F.splice(j,1)}}}var Q;function ie(Q){return Q.reduce((X,F)=>X.concat(F instanceof le?F.errors:F),[])}ee.EMPTY=((Q=new ee).closed=!0,Q)},2494:(Ye,Te,V)=>{"use strict";V.d(Te,{v:()=>ne});let u=!1;const ne={Promise:void 0,set useDeprecatedSynchronousErrorHandling(L){if(L){const he=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+he.stack)}else u&&console.log("RxJS: Back to a better error behavior. Thank you. <3");u=L},get useDeprecatedSynchronousErrorHandling(){return u}}},5345:(Ye,Te,V)=>{"use strict";V.d(Te,{IY:()=>he,Ds:()=>ee,ft:()=>Q});var u=V(7393),ne=V(7574),L=V(7444);class he extends u.L{constructor(F){super(),this.parent=F}_next(F){this.parent.notifyNext(F)}_error(F){this.parent.notifyError(F),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ee extends u.L{notifyNext(F){this.destination.next(F)}notifyError(F){this.destination.error(F)}notifyComplete(){this.destination.complete()}}function Q(X,F){if(F.closed)return;if(X instanceof ne.y)return X.subscribe(F);let j;try{j=(0,L.s)(X)(F)}catch(H){F.error(H)}return j}},2441:(Ye,Te,V)=>{"use strict";V.d(Te,{c:()=>le,N:()=>ee});var u=V(9765),ne=V(7574),L=V(5319),he=V(1307);class le extends ne.y{constructor(j,H){super(),this.source=j,this.subjectFactory=H,this._refCount=0,this._isComplete=!1}_subscribe(j){return this.getSubject().subscribe(j)}getSubject(){const j=this._subject;return(!j||j.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let j=this._connection;return j||(this._isComplete=!1,j=this._connection=new L.w,j.add(this.source.subscribe(new ie(this.getSubject(),this))),j.closed&&(this._connection=null,j=L.w.EMPTY)),j}refCount(){return(0,he.x)()(this)}}const ee=(()=>{const F=le.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:F._subscribe},_isComplete:{value:F._isComplete,writable:!0},getSubject:{value:F.getSubject},connect:{value:F.connect},refCount:{value:F.refCount}}})();class ie extends u.Yc{constructor(j,H){super(j),this.connectable=H}_error(j){this._unsubscribe(),super._error(j)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const j=this.connectable;if(j){this.connectable=null;const H=j._connection;j._refCount=0,j._subject=null,j._connection=null,H&&H.unsubscribe()}}}},9193:(Ye,Te,V)=>{"use strict";V.d(Te,{E:()=>ne,c:()=>L});var u=V(7574);const ne=new u.y(le=>le.complete());function L(le){return le?function(le){return new u.y(ee=>le.schedule(()=>ee.complete()))}(le):ne}},4402:(Ye,Te,V)=>{"use strict";V.d(Te,{D:()=>Ee});var u=V(7574),ne=V(7444),L=V(5319),he=V(6554),ie=V(4087),Q=V(377),j=V(4072),H=V(9489);function Ee(Ce,_e){return _e?function(Ce,_e){if(null!=Ce){if(function(Ce){return Ce&&"function"==typeof Ce[he.L]}(Ce))return function(Ce,_e){return new u.y(se=>{const we=new L.w;return we.add(_e.schedule(()=>{const Ne=Ce[he.L]();we.add(Ne.subscribe({next(Fe){we.add(_e.schedule(()=>se.next(Fe)))},error(Fe){we.add(_e.schedule(()=>se.error(Fe)))},complete(){we.add(_e.schedule(()=>se.complete()))}}))})),we})}(Ce,_e);if((0,j.t)(Ce))return function(Ce,_e){return new u.y(se=>{const we=new L.w;return we.add(_e.schedule(()=>Ce.then(Ne=>{we.add(_e.schedule(()=>{se.next(Ne),we.add(_e.schedule(()=>se.complete()))}))},Ne=>{we.add(_e.schedule(()=>se.error(Ne)))}))),we})}(Ce,_e);if((0,H.z)(Ce))return(0,ie.r)(Ce,_e);if(function(Ce){return Ce&&"function"==typeof Ce[Q.hZ]}(Ce)||"string"==typeof Ce)return function(Ce,_e){if(!Ce)throw new Error("Iterable cannot be null");return new u.y(se=>{const we=new L.w;let Ne;return we.add(()=>{Ne&&"function"==typeof Ne.return&&Ne.return()}),we.add(_e.schedule(()=>{Ne=Ce[Q.hZ](),we.add(_e.schedule(function(){if(se.closed)return;let Fe,et;try{const Ot=Ne.next();Fe=Ot.value,et=Ot.done}catch(Ot){return void se.error(Ot)}et?se.complete():(se.next(Fe),this.schedule())}))})),we})}(Ce,_e)}throw new TypeError((null!==Ce&&typeof Ce||Ce)+" is not observable")}(Ce,_e):Ce instanceof u.y?Ce:new u.y((0,ne.s)(Ce))}},6693:(Ye,Te,V)=>{"use strict";V.d(Te,{n:()=>he});var u=V(7574),ne=V(5015),L=V(4087);function he(le,ee){return ee?(0,L.r)(le,ee):new u.y((0,ne.V)(le))}},6682:(Ye,Te,V)=>{"use strict";V.d(Te,{T:()=>le});var u=V(7574),ne=V(4869),L=V(3282),he=V(6693);function le(...ee){let ie=Number.POSITIVE_INFINITY,Q=null,X=ee[ee.length-1];return(0,ne.K)(X)?(Q=ee.pop(),ee.length>1&&"number"==typeof ee[ee.length-1]&&(ie=ee.pop())):"number"==typeof X&&(ie=ee.pop()),null===Q&&1===ee.length&&ee[0]instanceof u.y?ee[0]:(0,L.J)(ie)((0,he.n)(ee,Q))}},5917:(Ye,Te,V)=>{"use strict";V.d(Te,{of:()=>he});var u=V(4869),ne=V(6693),L=V(4087);function he(...le){let ee=le[le.length-1];return(0,u.K)(ee)?(le.pop(),(0,L.r)(le,ee)):(0,ne.n)(le)}},8002:(Ye,Te,V)=>{"use strict";V.d(Te,{U:()=>ne});var u=V(7393);function ne(le,ee){return function(Q){if("function"!=typeof le)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Q.lift(new L(le,ee))}}class L{constructor(ee,ie){this.project=ee,this.thisArg=ie}call(ee,ie){return ie.subscribe(new he(ee,this.project,this.thisArg))}}class he extends u.L{constructor(ee,ie,Q){super(ee),this.project=ie,this.count=0,this.thisArg=Q||this}_next(ee){let ie;try{ie=this.project.call(this.thisArg,ee,this.count++)}catch(Q){return void this.destination.error(Q)}this.destination.next(ie)}}},3282:(Ye,Te,V)=>{"use strict";V.d(Te,{J:()=>L});var u=V(9773),ne=V(4487);function L(he=Number.POSITIVE_INFINITY){return(0,u.zg)(ne.y,he)}},9773:(Ye,Te,V)=>{"use strict";V.d(Te,{zg:()=>he});var u=V(8002),ne=V(4402),L=V(5345);function he(Q,X,F=Number.POSITIVE_INFINITY){return"function"==typeof X?j=>j.pipe(he((H,ce)=>(0,ne.D)(Q(H,ce)).pipe((0,u.U)((oe,Ee)=>X(H,oe,ce,Ee))),F)):("number"==typeof X&&(F=X),j=>j.lift(new le(Q,F)))}class le{constructor(X,F=Number.POSITIVE_INFINITY){this.project=X,this.concurrent=F}call(X,F){return F.subscribe(new ee(X,this.project,this.concurrent))}}class ee extends L.Ds{constructor(X,F,j=Number.POSITIVE_INFINITY){super(X),this.project=F,this.concurrent=j,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(X){this.active<this.concurrent?this._tryNext(X):this.buffer.push(X)}_tryNext(X){let F;const j=this.index++;try{F=this.project(X,j)}catch(H){return void this.destination.error(H)}this.active++,this._innerSub(F)}_innerSub(X){const F=new L.IY(this),j=this.destination;j.add(F);const H=(0,L.ft)(X,F);H!==F&&j.add(H)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(X){this.destination.next(X)}notifyComplete(){const X=this.buffer;this.active--,X.length>0?this._next(X.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Ye,Te,V)=>{"use strict";V.d(Te,{ht:()=>j,QV:()=>X});var u=V(7393),ne=V(9193),L=V(5917),he=V(7574);class Q{constructor(oe,Ee,Ce){this.kind=oe,this.value=Ee,this.error=Ce,this.hasValue="N"===oe}observe(oe){switch(this.kind){case"N":return oe.next&&oe.next(this.value);case"E":return oe.error&&oe.error(this.error);case"C":return oe.complete&&oe.complete()}}do(oe,Ee,Ce){switch(this.kind){case"N":return oe&&oe(this.value);case"E":return Ee&&Ee(this.error);case"C":return Ce&&Ce()}}accept(oe,Ee,Ce){return oe&&"function"==typeof oe.next?this.observe(oe):this.do(oe,Ee,Ce)}toObservable(){switch(this.kind){case"N":return(0,L.of)(this.value);case"E":return ce=this.error,new he.y(Ee=>Ee.error(ce));case"C":return(0,ne.c)()}var ce;throw new Error("unexpected notification kind value")}static createNext(oe){return void 0!==oe?new Q("N",oe):Q.undefinedValueNotification}static createError(oe){return new Q("E",void 0,oe)}static createComplete(){return Q.completeNotification}}function X(ce,oe=0){return function(Ce){return Ce.lift(new F(ce,oe))}}Q.completeNotification=new Q("C"),Q.undefinedValueNotification=new Q("N",void 0);class F{constructor(oe,Ee=0){this.scheduler=oe,this.delay=Ee}call(oe,Ee){return Ee.subscribe(new j(oe,this.scheduler,this.delay))}}class j extends u.L{constructor(oe,Ee,Ce=0){super(oe),this.scheduler=Ee,this.delay=Ce}static dispatch(oe){const{notification:Ee,destination:Ce}=oe;Ee.observe(Ce),this.unsubscribe()}scheduleMessage(oe){this.destination.add(this.scheduler.schedule(j.dispatch,this.delay,new H(oe,this.destination)))}_next(oe){this.scheduleMessage(Q.createNext(oe))}_error(oe){this.scheduleMessage(Q.createError(oe)),this.unsubscribe()}_complete(){this.scheduleMessage(Q.createComplete()),this.unsubscribe()}}class H{constructor(oe,Ee){this.notification=oe,this.destination=Ee}}},1307:(Ye,Te,V)=>{"use strict";V.d(Te,{x:()=>ne});var u=V(7393);function ne(){return function(ee){return ee.lift(new L(ee))}}class L{constructor(ee){this.connectable=ee}call(ee,ie){const{connectable:Q}=this;Q._refCount++;const X=new he(ee,Q),F=ie.subscribe(X);return X.closed||(X.connection=Q.connect()),F}}class he extends u.L{constructor(ee,ie){super(ee),this.connectable=ie}_unsubscribe(){const{connectable:ee}=this;if(!ee)return void(this.connection=null);this.connectable=null;const ie=ee._refCount;if(ie<=0)return void(this.connection=null);if(ee._refCount=ie-1,ie>1)return void(this.connection=null);const{connection:Q}=this,X=ee._connection;this.connection=null,X&&(!Q||X===Q)&&X.unsubscribe()}}},8819:(Ye,Te,V)=>{"use strict";V.d(Te,{B:()=>ie});var u=V(2441);var he=V(1307),le=V(9765);function ee(){return new le.xQ}function ie(){return Q=>(0,he.x)()(function(Q,X){return function(j){let H;H="function"==typeof Q?Q:function(){return Q};const ce=Object.create(j,u.N);return ce.source=j,ce.subjectFactory=H,ce}}(ee)(Q))}},9673:(Ye,Te,V)=>{"use strict";V.d(Te,{R:()=>le});var u=V(7574),ne=V(4581),L=V(6561);class he extends u.y{constructor(Q,X=0,F=ne.e){super(),this.source=Q,this.delayTime=X,this.scheduler=F,(!(0,L.k)(X)||X<0)&&(this.delayTime=0),(!F||"function"!=typeof F.schedule)&&(this.scheduler=ne.e)}static create(Q,X=0,F=ne.e){return new he(Q,X,F)}static dispatch(Q){const{source:X,subscriber:F}=Q;return this.add(X.subscribe(F))}_subscribe(Q){return this.scheduler.schedule(he.dispatch,this.delayTime,{source:this.source,subscriber:Q})}}function le(ie,Q=0){return function(F){return F.lift(new ee(ie,Q))}}class ee{constructor(Q,X){this.scheduler=Q,this.delay=X}call(Q,X){return new he(X,this.delay,this.scheduler).subscribe(Q)}}},3342:(Ye,Te,V)=>{"use strict";V.d(Te,{b:()=>he});var u=V(7393);function ne(){}var L=V(9105);function he(ie,Q,X){return function(j){return j.lift(new le(ie,Q,X))}}class le{constructor(Q,X,F){this.nextOrObserver=Q,this.error=X,this.complete=F}call(Q,X){return X.subscribe(new ee(Q,this.nextOrObserver,this.error,this.complete))}}class ee extends u.L{constructor(Q,X,F,j){super(Q),this._tapNext=ne,this._tapError=ne,this._tapComplete=ne,this._tapError=F||ne,this._tapComplete=j||ne,(0,L.m)(X)?(this._context=this,this._tapNext=X):X&&(this._context=X,this._tapNext=X.next||ne,this._tapError=X.error||ne,this._tapComplete=X.complete||ne)}_next(Q){try{this._tapNext.call(this._context,Q)}catch(X){return void this.destination.error(X)}this.destination.next(Q)}_error(Q){try{this._tapError.call(this._context,Q)}catch(X){return void this.destination.error(X)}this.destination.error(Q)}_complete(){try{this._tapComplete.call(this._context)}catch(Q){return void this.destination.error(Q)}return this.destination.complete()}}},4087:(Ye,Te,V)=>{"use strict";V.d(Te,{r:()=>L});var u=V(7574),ne=V(5319);function L(he,le){return new u.y(ee=>{const ie=new ne.w;let Q=0;return ie.add(le.schedule(function(){Q!==he.length?(ee.next(he[Q++]),ee.closed||ie.add(this.schedule())):ee.complete()})),ie})}},6465:(Ye,Te,V)=>{"use strict";V.d(Te,{o:()=>L});var u=V(5319);class ne extends u.w{constructor(le,ee){super()}schedule(le,ee=0){return this}}class L extends ne{constructor(le,ee){super(le,ee),this.scheduler=le,this.work=ee,this.pending=!1}schedule(le,ee=0){if(this.closed)return this;this.state=le;const ie=this.id,Q=this.scheduler;return null!=ie&&(this.id=this.recycleAsyncId(Q,ie,ee)),this.pending=!0,this.delay=ee,this.id=this.id||this.requestAsyncId(Q,this.id,ee),this}requestAsyncId(le,ee,ie=0){return setInterval(le.flush.bind(le,this),ie)}recycleAsyncId(le,ee,ie=0){if(null!==ie&&this.delay===ie&&!1===this.pending)return ee;clearInterval(ee)}execute(le,ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ie=this._execute(le,ee);if(ie)return ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,ee){let Q,ie=!1;try{this.work(le)}catch(X){ie=!0,Q=!!X&&X||new Error(X)}if(ie)return this.unsubscribe(),Q}_unsubscribe(){const le=this.id,ee=this.scheduler,ie=ee.actions,Q=ie.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Q&&ie.splice(Q,1),null!=le&&(this.id=this.recycleAsyncId(ee,le,null)),this.delay=null}}},6102:(Ye,Te,V)=>{"use strict";V.d(Te,{v:()=>ne});let u=(()=>{class L{constructor(le,ee=L.now){this.SchedulerAction=le,this.now=ee}schedule(le,ee=0,ie){return new this.SchedulerAction(this,le).schedule(ie,ee)}}return L.now=()=>Date.now(),L})();class ne extends u{constructor(he,le=u.now){super(he,()=>ne.delegate&&ne.delegate!==this?ne.delegate.now():le()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(he,le=0,ee){return ne.delegate&&ne.delegate!==this?ne.delegate.schedule(he,le,ee):super.schedule(he,le,ee)}flush(he){const{actions:le}=this;if(this.active)return void le.push(he);let ee;this.active=!0;do{if(ee=he.execute(he.state,he.delay))break}while(he=le.shift());if(this.active=!1,ee){for(;he=le.shift();)he.unsubscribe();throw ee}}}},4581:(Ye,Te,V)=>{"use strict";V.d(Te,{e:()=>H,E:()=>j});let u=1;const ne=Promise.resolve(),L={};function he(ce){return ce in L&&(delete L[ce],!0)}const le={setImmediate(ce){const oe=u++;return L[oe]=!0,ne.then(()=>he(oe)&&ce()),oe},clearImmediate(ce){he(ce)}};var ie=V(6465),X=V(6102);const j=new class extends X.v{flush(oe){this.active=!0,this.scheduled=void 0;const{actions:Ee}=this;let Ce,_e=-1,se=Ee.length;oe=oe||Ee.shift();do{if(Ce=oe.execute(oe.state,oe.delay))break}while(++_e<se&&(oe=Ee.shift()));if(this.active=!1,Ce){for(;++_e<se&&(oe=Ee.shift());)oe.unsubscribe();throw Ce}}}(class extends ie.o{constructor(oe,Ee){super(oe,Ee),this.scheduler=oe,this.work=Ee}requestAsyncId(oe,Ee,Ce=0){return null!==Ce&&Ce>0?super.requestAsyncId(oe,Ee,Ce):(oe.actions.push(this),oe.scheduled||(oe.scheduled=le.setImmediate(oe.flush.bind(oe,null))))}recycleAsyncId(oe,Ee,Ce=0){if(null!==Ce&&Ce>0||null===Ce&&this.delay>0)return super.recycleAsyncId(oe,Ee,Ce);0===oe.actions.length&&(le.clearImmediate(Ee),oe.scheduled=void 0)}}),H=j},3637:(Ye,Te,V)=>{"use strict";V.d(Te,{z:()=>L,P:()=>he});var u=V(6465);const L=new(V(6102).v)(u.o),he=L},7771:(Ye,Te,V)=>{"use strict";V.d(Te,{c:()=>ee,N:()=>le});var u=V(6465),L=V(6102);const le=new class extends L.v{}(class extends u.o{constructor(Q,X){super(Q,X),this.scheduler=Q,this.work=X}schedule(Q,X=0){return X>0?super.schedule(Q,X):(this.delay=X,this.state=Q,this.scheduler.flush(this),this)}execute(Q,X){return X>0||this.closed?super.execute(Q,X):this._execute(Q,X)}requestAsyncId(Q,X,F=0){return null!==F&&F>0||null===F&&this.delay>0?super.requestAsyncId(Q,X,F):Q.flush(this)}}),ee=le},377:(Ye,Te,V)=>{"use strict";V.d(Te,{hZ:()=>ne});const ne="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ye,Te,V)=>{"use strict";V.d(Te,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ye,Te,V)=>{"use strict";V.d(Te,{b:()=>u});const u="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ye,Te,V)=>{"use strict";V.d(Te,{N:()=>ne});const ne=(()=>{function L(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return L.prototype=Object.create(Error.prototype),L})()},4449:(Ye,Te,V)=>{"use strict";function u(ne){setTimeout(()=>{throw ne},0)}V.d(Te,{z:()=>u})},4487:(Ye,Te,V)=>{"use strict";function u(ne){return ne}V.d(Te,{y:()=>u})},9796:(Ye,Te,V)=>{"use strict";V.d(Te,{k:()=>u});const u=Array.isArray||(ne=>ne&&"number"==typeof ne.length)},9489:(Ye,Te,V)=>{"use strict";V.d(Te,{z:()=>u});const u=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},9105:(Ye,Te,V)=>{"use strict";function u(ne){return"function"==typeof ne}V.d(Te,{m:()=>u})},6561:(Ye,Te,V)=>{"use strict";V.d(Te,{k:()=>ne});var u=V(9796);function ne(L){return!(0,u.k)(L)&&L-parseFloat(L)+1>=0}},1555:(Ye,Te,V)=>{"use strict";function u(ne){return null!==ne&&"object"==typeof ne}V.d(Te,{K:()=>u})},4072:(Ye,Te,V)=>{"use strict";function u(ne){return!!ne&&"function"!=typeof ne.subscribe&&"function"==typeof ne.then}V.d(Te,{t:()=>u})},4869:(Ye,Te,V)=>{"use strict";function u(ne){return ne&&"function"==typeof ne.schedule}V.d(Te,{K:()=>u})},7444:(Ye,Te,V)=>{"use strict";V.d(Te,{s:()=>j});var u=V(5015),ne=V(4449),he=V(377),ee=V(6554),Q=V(9489),X=V(4072),F=V(1555);const j=H=>{if(H&&"function"==typeof H[ee.L])return(H=>ce=>{const oe=H[ee.L]();if("function"!=typeof oe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return oe.subscribe(ce)})(H);if((0,Q.z)(H))return(0,u.V)(H);if((0,X.t)(H))return(H=>ce=>(H.then(oe=>{ce.closed||(ce.next(oe),ce.complete())},oe=>ce.error(oe)).then(null,ne.z),ce))(H);if(H&&"function"==typeof H[he.hZ])return(H=>ce=>{const oe=H[he.hZ]();for(;;){let Ee;try{Ee=oe.next()}catch(Ce){return ce.error(Ce),ce}if(Ee.done){ce.complete();break}if(ce.next(Ee.value),ce.closed)break}return"function"==typeof oe.return&&ce.add(()=>{oe.return&&oe.return()}),ce})(H);{const oe=`You provided ${(0,F.K)(H)?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(oe)}}},5015:(Ye,Te,V)=>{"use strict";V.d(Te,{V:()=>u});const u=ne=>L=>{for(let he=0,le=ne.length;he<le&&!L.closed;he++)L.next(ne[he]);L.complete()}},6463:(Ye,Te,V)=>{"use strict";var u=V(7716);let ne=null;function L(){return ne}const ie=new u.OlP("DocumentToken");let Q=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,u.Yz7)({factory:X,token:n,providedIn:"platform"}),n})();function X(){return(0,u.LFG)(j)}const F=new u.OlP("Location Initialized");let j=(()=>{class n extends Q{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(e){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,a){H()?this._history.pushState(e,r,a):this.location.hash=a}replaceState(e,r,a){H()?this._history.replaceState(e,r,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ie))},n.\u0275prov=(0,u.Yz7)({factory:ce,token:n,providedIn:"platform"}),n})();function H(){return!!window.history.pushState}function ce(){return new j((0,u.LFG)(ie))}function oe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ee(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ce(n){return n&&"?"!==n[0]?"?"+n:n}let _e=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,u.Yz7)({factory:se,token:n,providedIn:"root"}),n})();function se(n){const t=(0,u.LFG)(ie).location;return new Ne((0,u.LFG)(Q),t&&t.origin||"")}const we=new u.OlP("appBaseHref");let Ne=(()=>{class n extends _e{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return oe(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Ce(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${r}${a}`:r}pushState(e,r,a,c){const f=this.prepareExternalUrl(a+Ce(c));this._platformLocation.pushState(e,r,f)}replaceState(e,r,a,c){const f=this.prepareExternalUrl(a+Ce(c));this._platformLocation.replaceState(e,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Q),u.LFG(we,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n extends _e{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=oe(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,a,c){let f=this.prepareExternalUrl(a+Ce(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(e,r,f)}replaceState(e,r,a,c){let f=this.prepareExternalUrl(a+Ce(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Q),u.LFG(we,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),et=(()=>{class n{constructor(e,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const a=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ee(mt(a)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Ce(r))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,mt(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",a=null){this._platformStrategy.pushState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ce(r)),a)}replaceState(e,r="",a=null){this._platformStrategy.replaceState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ce(r)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformStrategy).historyGo)||void 0===a||a.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(a=>a(e,r))}subscribe(e,r,a){return this._subject.subscribe({next:e,error:r,complete:a})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(_e),u.LFG(Q))},n.normalizeQueryParams=Ce,n.joinWithSlash=oe,n.stripTrailingSlash=Ee,n.\u0275prov=(0,u.Yz7)({factory:Ot,token:n,providedIn:"root"}),n})();function Ot(){return new et((0,u.LFG)(_e),(0,u.LFG)(Q))}function mt(n){return n.replace(/\/index.html$/,"")}var fe=(()=>((fe=fe||{})[fe.Zero=0]="Zero",fe[fe.One=1]="One",fe[fe.Two=2]="Two",fe[fe.Few=3]="Few",fe[fe.Many=4]="Many",fe[fe.Other=5]="Other",fe))();const Ni=u.kL8;class Sr{}let kn=(()=>{class n extends Sr{constructor(e){super(),this.locale=e}getPluralCategory(e,r){switch(Ni(r||this.locale)(e)){case fe.Zero:return"zero";case fe.One:return"one";case fe.Two:return"two";case fe.Few:return"few";case fe.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.soG))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Un(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[a,c]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(a.trim()===t)return decodeURIComponent(c)}return null}let Po=(()=>{class n{constructor(e,r,a,c){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=a,this._renderer=c,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(a=>{r?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})(),di=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new Ia,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){xo("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){xo("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Ia{constructor(){this.$implicit=null,this.ngIf=null}}function xo(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(t)}'.`)}let Bo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[{provide:Sr,useClass:kn}]}),n})();let qs=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Oa((0,u.LFG)(ie),window)}),n})();class Oa{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=r.currentNode;for(;a;){const c=a.shadowRoot;if(c){const f=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(f)return f}a=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],a-c[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Pa(this.window.history)||Pa(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Pa(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class xa{}class ka extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new ka,ne||(ne=n)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(Jr=Jr||document.querySelector("base"),Jr?Jr.getAttribute("href"):null);return null==e?null:function(n){Jt=Jt||document.createElement("a"),Jt.setAttribute("href",n);const t=Jt.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Jr=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Un(document.cookie,t)}}let Jt,Jr=null;const Rl=new u.OlP("TRANSITION_ID"),rr=[{provide:u.ip1,useFactory:function(n,t,e){return()=>{e.get(u.CZH).donePromise.then(()=>{const r=L(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<a.length;c++)r.remove(a[c])})}},deps:[Rl,ie,u.zs3],multi:!0}];class mn{static init(){(0,u.VLi)(new mn)}addToWindow(t){u.dqk.getAngularTestability=(r,a=!0)=>{const c=t.findTestabilityInTree(r,a);if(null==c)throw new Error("Could not find testability for element.");return c},u.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const a=u.dqk.getAllAngularTestabilities();let c=a.length,f=!1;const _=function(b){f=f||b,c--,0==c&&r(f)};a.forEach(function(b){b.whenStable(_)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const a=t.getTestability(e);return null!=a?a:r?L().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Ol=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Hi=new u.OlP("EventManagerPlugins");let Re=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,a){return this._findPluginFor(r).addEventListener(e,r,a)}addGlobalEventListener(e,r,a){return this._findPluginFor(r).addGlobalEventListener(e,r,a)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const a=this._plugins;for(let c=0;c<a.length;c++){const f=a[c];if(f.supports(e))return this._eventNameToPlugin.set(e,f),f}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Hi),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Et{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const a=L().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,r)}}let Lc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),r.add(a))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Zt=(()=>{class n extends Lc{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,a){e.forEach(c=>{const f=this._doc.createElement("style");f.textContent=c,a.push(r.appendChild(f))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(Vc),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,a)=>{this._addStylesToHost(e,a,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Vc))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Vc(n){L().remove(n)}const mi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Br=/%COMP%/g;function _n(n,t,e){for(let r=0;r<t.length;r++){let a=t[r];Array.isArray(a)?_n(n,a,e):(a=a.replace(Br,n),e.push(a))}return e}function Ur(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let $i=(()=>{class n{constructor(e,r,a){this.eventManager=e,this.sharedStylesHost=r,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new ir(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let a=this.rendererByCompId.get(r.id);return a||(a=new Ua(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,a)),a.applyToHost(e),a}case 1:case u.ifc.ShadowDom:return new Uc(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const a=_n(r.id,r.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Re),u.LFG(Zt),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class ir{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(mi[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,a){if(a){e=a+":"+e;const c=mi[a];c?t.setAttributeNS(c,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const a=mi[r];a?t.removeAttributeNS(a,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,a){a&(u.JOm.DashCase|u.JOm.Important)?t.style.setProperty(e,r,a&u.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&u.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ur(r)):this.eventManager.addEventListener(t,e,Ur(r))}}class Ua extends ir{constructor(t,e,r,a){super(t),this.component=r;const c=_n(a+"-"+r.id,r.styles,[]);e.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(Br,a+"-"+r.id),this.hostAttr="_nghost-%COMP%".replace(Br,a+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class Uc extends ir{constructor(t,e,r,a){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=_n(a.id,a.styles,[]);for(let f=0;f<c.length;f++){const _=document.createElement("style");_.textContent=c[f],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Ks=(()=>{class n extends Et{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,a){return e.addEventListener(r,a,!1),()=>this.removeEventListener(e,r,a)}removeEventListener(e,r,a){return e.removeEventListener(r,a)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Js=["alt","control","meta","shift"],jc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},sr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},L_={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Hc=(()=>{class n extends Et{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,a){const c=n.parseEventName(r),f=n.eventCallback(c.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(e,c.domEventName,f))}static parseEventName(e){const r=e.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const c=n._normalizeKey(r.pop());let f="";if(Js.forEach(b=>{const w=r.indexOf(b);w>-1&&(r.splice(w,1),f+=b+".")}),f+=c,0!=r.length||0===c.length)return null;const _={};return _.domEventName=a,_.fullKey=f,_}static getEventFullKey(e){let r="",a=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&sr.hasOwnProperty(t)&&(t=sr[t]))}return jc[t]||t}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Js.forEach(c=>{c!=a&&L_[c](e)&&(r+=c+".")}),r+=a,r}static eventCallback(e,r,a){return c=>{n.getEventFullKey(c)===e&&a.runGuarded(()=>r(c))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),_i=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,u.Yz7)({factory:function(){return(0,u.LFG)(Wo)},token:n,providedIn:"root"}),n})(),Wo=(()=>{class n extends _i{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case u.q3G.NONE:return r;case u.q3G.HTML:return(0,u.qzn)(r,"HTML")?(0,u.z3N)(r):(0,u.EiD)(this._doc,String(r)).toString();case u.q3G.STYLE:return(0,u.qzn)(r,"Style")?(0,u.z3N)(r):r;case u.q3G.SCRIPT:if((0,u.qzn)(r,"Script"))return(0,u.z3N)(r);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.yhl)(r),(0,u.qzn)(r,"URL")?(0,u.z3N)(r):(0,u.mCW)(String(r));case u.q3G.RESOURCE_URL:if((0,u.qzn)(r,"ResourceURL"))return(0,u.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,u.JVY)(e)}bypassSecurityTrustStyle(e){return(0,u.L6k)(e)}bypassSecurityTrustScript(e){return(0,u.eBb)(e)}bypassSecurityTrustUrl(e){return(0,u.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,u.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ie))},n.\u0275prov=(0,u.Yz7)({factory:function(){return function(n){return new Wo(n.get(ie))}((0,u.LFG)(u.gxx))},token:n,providedIn:"root"}),n})();const Xs=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function(){ka.makeCurrent(),mn.init()},multi:!0},{provide:ie,useFactory:function(){return(0,u.RDi)(document),document},deps:[]}]),Wc=[[],{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function(){return new u.qLn},deps:[]},{provide:Hi,useClass:Ks,multi:!0,deps:[ie,u.R0b,u.Lbi]},{provide:Hi,useClass:Hc,multi:!0,deps:[ie]},[],{provide:$i,useClass:$i,deps:[Re,Zt,u.AFp]},{provide:u.FYo,useExisting:$i},{provide:Lc,useExisting:Zt},{provide:Zt,useClass:Zt,deps:[ie]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:Re,useClass:Re,deps:[Hi,u.R0b]},{provide:xa,useClass:Ol,deps:[]},[]];let Yc=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:u.AFp,useValue:e.appId},{provide:Rl,useExisting:u.AFp},rr]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:Wc,imports:[Bo,u.hGG]}),n})();"undefined"!=typeof window&&window;var yn=V(4402),Ge=V(5917),ht=V(9765),qa=V(7971);class zn extends ht.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new qa.N;return this._value}next(t){super.next(this._value=t)}}var Ss=V(4869),no=V(9796),vn=V(7393);class Nl extends vn.L{notifyNext(t,e,r,a,c){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class U_ extends vn.L{constructor(t,e,r){super(),this.parent=t,this.outerValue=e,this.outerIndex=r,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Yi=V(7444),sn=V(7574);function yd(n,t,e,r,a=new U_(n,e,r)){if(!a.closed)return t instanceof sn.y?t.subscribe(a):(0,Yi.s)(t)(a)}var Fl=V(6693);const Ka={};function Zi(...n){let t,e;return(0,Ss.K)(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&(0,no.k)(n[0])&&(n=n[0]),(0,Fl.n)(n,e).lift(new Jc(t))}class Jc{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Zo(t,this.resultSelector))}}class Zo extends Nl{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Ka),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let r=0;r<e;r++)this.add(yd(this,t[r],void 0,r))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,r){const a=this.values,f=this.toRespond?a[r]===Ka?--this.toRespond:this.toRespond:0;a[r]=e,0===f&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}const Xr=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var jr=V(3282);function ro(...n){return(0,jr.J)(1)((0,Ge.of)(...n))}var Ei=V(9193);function ei(n){return new sn.y(t=>{let e;try{e=n()}catch(a){return void t.error(a)}return(e?(0,yn.D)(e):(0,Ei.c)()).subscribe(t)})}var bd=V(2441),wt=V(8002),ti=V(5345);function Wn(n,t){return"function"==typeof t?e=>e.pipe(Wn((r,a)=>(0,yn.D)(n(r,a)).pipe((0,wt.U)((c,f)=>t(r,c,a,f))))):e=>e.lift(new gg(n))}class gg{constructor(t){this.project=t}call(t,e){return e.subscribe(new ln(t,this.project))}}class ln extends ti.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const r=this.index++;try{e=this.project(t,r)}catch(a){return void this.destination.error(a)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const r=new ti.IY(this),a=this.destination;a.add(r),this.innerSubscription=(0,ti.ft)(t,r),this.innerSubscription!==r&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Ll=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function qi(n){return t=>0===n?(0,Ei.c)():t.lift(new Cd(n))}class Cd{constructor(t){if(this.total=t,this.total<0)throw new Ll}call(t,e){return e.subscribe(new mg(t,this.total))}}class mg extends vn.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))}}function qo(...n){const t=n[n.length-1];return(0,Ss.K)(t)?(n.pop(),e=>ro(n,e,t)):e=>ro(n,e)}function Xc(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(a){return a.lift(new Ed(n,t,e))}}class Ed{constructor(t,e,r=!1){this.accumulator=t,this.seed=e,this.hasSeed=r}call(t,e){return e.subscribe(new _g(t,this.accumulator,this.seed,this.hasSeed))}}class _g extends vn.L{constructor(t,e,r,a){super(t),this.accumulator=e,this._seed=r,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let r;try{r=this.accumulator(this.seed,t,e)}catch(a){this.destination.error(a)}this.seed=r,this.destination.next(r)}}function Yn(n,t){return function(r){return r.lift(new Qa(n,t))}}class Qa{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Ki(t,this.predicate,this.thisArg))}}class Ki extends vn.L{constructor(t,e,r){super(t),this.predicate=e,this.thisArg=r,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}e&&this.destination.next(t)}}function Is(n){return function(e){const r=new cn(n),a=e.lift(r);return r.caught=a}}class cn{constructor(t){this.selector=t}call(t,e){return e.subscribe(new wi(t,this.selector,this.caught))}}class wi extends ti.Ds{constructor(t,e,r){super(t),this.selector=e,this.caught=r}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(c){return void super.error(c)}this._unsubscribeAndRecycle();const r=new ti.IY(this);this.add(r);const a=(0,ti.ft)(e,r);a!==r&&this.add(a)}}}var Xt=V(9773);function Ko(n,t){return(0,Xt.zg)(n,t,1)}function wd(n){return function(e){return 0===n?(0,Ei.c)():e.lift(new ni(n))}}class ni{constructor(t){if(this.total=t,this.total<0)throw new Ll}call(t,e){return e.subscribe(new Di(t,this.total))}}class Di extends vn.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,r=this.total,a=this.count++;e.length<r?e.push(t):e[a%r]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const r=this.count>=this.total?this.total:this.count,a=this.ring;for(let c=0;c<r;c++){const f=e++%r;t.next(a[f])}}t.complete()}}function io(n=Dd){return t=>t.lift(new Ir(n))}class Ir{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Qi(t,this.errorFactory))}}class Qi extends vn.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Dd(){return new Xr}function Vl(n=null){return t=>t.lift(new so(n))}class so{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Sd(t,this.defaultValue))}}class Sd extends vn.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var oo=V(4487);function bn(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Yn((a,c)=>n(a,c,r)):oo.y,qi(1),e?Vl(t):io(()=>new Xr))}var Zn=V(3342),Ji=V(1307),As=V(5319);class D{constructor(t){this.callback=t}call(t,e){return e.subscribe(new T(t,this.callback))}}class T extends vn.L{constructor(t,e){super(t),this.add(new As.w(e))}}class O{constructor(t,e){this.id=t,this.url=e}}class U extends O{constructor(t,e,r="imperative",a=null){super(t,e),this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class te extends O{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pe extends O{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Pe extends O{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class He extends O{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $e extends O{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mt extends O{constructor(t,e,r,a,c){super(t,e),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zt extends O{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cn extends O{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ar{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Nn{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qo{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ja{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jo{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hr{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mr{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ft="primary";class sf{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function on(n){return new sf(n)}const Td="ngNavigationCancelingError";function Id(n){const t=Error("NavigationCancelingError: "+n);return t[Td]=!0,t}function tu(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const a={};for(let c=0;c<r.length;c++){const f=r[c],_=n[c];if(f.startsWith(":"))a[f.substring(1)]=_;else if(f!==_.path)return null}return{consumed:n.slice(0,r.length),posParams:a}}function ri(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let a;for(let c=0;c<e.length;c++)if(a=e[c],!af(n[a],t[a]))return!1;return!0}function af(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((a,c)=>r[c]===a)}return n===t}function j_(n){return Array.prototype.concat.apply([],n)}function Xa(n){return n.length>0?n[n.length-1]:null}function Fn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function or(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,yn.D)(Promise.resolve(n)):(0,Ge.of)(n)}const bg={exact:function Eg(n,t,e){if(!nl(n.segments,t.segments)||!Ad(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!Eg(n.children[r],t.children[r],e))return!1;return!0},subset:tl},el={exact:function(n,t){return ri(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>af(n[e],t[e]))},ignored:()=>!0};function nu(n,t,e){return bg[e.paths](n.root,t.root,e.matrixParams)&&el[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function tl(n,t,e){return Bl(n,t,t.segments,e)}function Bl(n,t,e,r){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!nl(a,e)||t.hasChildren()||!Ad(a,e,r))}if(n.segments.length===e.length){if(!nl(n.segments,e)||!Ad(n.segments,e,r))return!1;for(const a in t.children)if(!n.children[a]||!tl(n.children[a],t.children[a],r))return!1;return!0}{const a=e.slice(0,n.segments.length),c=e.slice(n.segments.length);return!!(nl(n.segments,a)&&Ad(n.segments,a,r)&&n.children[ft])&&Bl(n.children[ft],t,c,r)}}function Ad(n,t,e){return t.every((r,a)=>el[e](n[a].parameters,r.parameters))}class Ul{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=on(this.queryParams)),this._queryParamMap}toString(){return cf.serialize(this)}}class Rt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Fn(e,(r,a)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ao(this)}}class ru{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=on(this.parameters)),this._parameterMap}toString(){return uf(this)}}function nl(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class lf{}class jl{parse(t){const e=new ea(t);return new Ul(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var n;return`${`/${iu(t.root,!0)}`}${function(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(a=>`${su(e)}=${su(a)}`).join("&"):`${su(e)}=${su(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${n=t.fragment,encodeURI(n)}`:""}`}}const cf=new jl;function ao(n){return n.segments.map(t=>uf(t)).join("/")}function iu(n,t){if(!n.hasChildren())return ao(n);if(t){const e=n.children[ft]?iu(n.children[ft],!1):"",r=[];return Fn(n.children,(a,c)=>{c!==ft&&r.push(`${c}:${iu(a,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function(n,t){let e=[];return Fn(n.children,(r,a)=>{a===ft&&(e=e.concat(t(r,a)))}),Fn(n.children,(r,a)=>{a!==ft&&(e=e.concat(t(r,a)))}),e}(n,(r,a)=>a===ft?[iu(n.children[ft],!1)]:[`${a}:${iu(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ft]?`${ao(n)}/${e[0]}`:`${ao(n)}/(${e.join("//")})`}}function wg(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function su(n){return wg(n).replace(/%3B/gi,";")}function rl(n){return wg(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ou(n){return decodeURIComponent(n)}function Rd(n){return ou(n.replace(/\+/g,"%20"))}function uf(n){return`${rl(n.path)}${function(n){return Object.keys(n).map(t=>`;${rl(t)}=${rl(n[t])}`).join("")}(n.parameters)}`}const Dg=/^[^\/()?;=#]+/;function au(n){const t=n.match(Dg);return t?t[0]:""}const z_=/^[^=?&#]+/,co=/^[^?&#]+/;class ea{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rt([],{}):new Rt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[ft]=new Rt(t,e)),r}parseSegment(){const t=au(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ru(ou(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=au(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const a=au(this.remaining);a&&(r=a,this.capture(r))}t[ou(e)]=ou(r)}parseQueryParam(t){const e=function(n){const t=n.match(z_);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const f=function(n){const t=n.match(co);return t?t[0]:""}(this.remaining);f&&(r=f,this.capture(r))}const a=Rd(e),c=Rd(r);if(t.hasOwnProperty(a)){let f=t[a];Array.isArray(f)||(f=[f],t[a]=f),f.push(c)}else t[a]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=au(this.remaining),a=this.remaining[r.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let c;r.indexOf(":")>-1?(c=r.substr(0,r.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=ft);const f=this.parseChildren();e[c]=1===Object.keys(f).length?f[ft]:new Rt([],f),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Sg{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=df(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=df(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=cu(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return cu(t,this._root).map(e=>e.value)}}function df(n,t){if(n===t.value)return t;for(const e of t.children){const r=df(n,e);if(r)return r}return null}function cu(n,t){if(n===t.value)return[t];for(const e of t.children){const r=cu(n,e);if(r.length)return r.unshift(t),r}return[]}class uo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function il(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class hf extends Sg{constructor(t,e){super(t),this.snapshot=e,Pd(this,t)}toString(){return this.snapshot.toString()}}function Tg(n,t){const e=function(n,t){const f=new Od([],{},{},"",{},ft,t,null,n.root,-1,{});return new $l("",new uo(f,[]))}(n,t),r=new zn([new ru("",{})]),a=new zn({}),c=new zn({}),f=new zn({}),_=new zn(""),b=new Hl(r,a,f,_,c,ft,t,e.root);return b.snapshot=e.root,new hf(new uo(b,[]),e)}class Hl{constructor(t,e,r,a,c,f,_,b){this.url=t,this.params=e,this.queryParams=r,this.fragment=a,this.data=c,this.outlet=f,this.component=_,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,wt.U)(t=>on(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,wt.U)(t=>on(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ig(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const a=e[r],c=e[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(c.component)break;r--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Od{constructor(t,e,r,a,c,f,_,b,w,R,P){this.url=t,this.params=e,this.queryParams=r,this.fragment=a,this.data=c,this.outlet=f,this.component=_,this.routeConfig=b,this._urlSegment=w,this._lastPathIndex=R,this._resolve=P}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=on(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=on(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $l extends Sg{constructor(t,e){super(e),this.url=t,Pd(this,e)}toString(){return Xi(this._root)}}function Pd(n,t){t.value._routerState=n,t.children.forEach(e=>Pd(n,e))}function Xi(n){const t=n.children.length>0?` { ${n.children.map(Xi).join(", ")} } `:"";return`${n.value}${t}`}function sl(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ri(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),ri(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ri(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),ri(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function uu(n,t){return ri(n.params,t.params)&&function(n,t){return nl(n,t)&&n.every((e,r)=>ri(e.parameters,t[r].parameters))}(n.url,t.url)&&!(!n.parent!=!t.parent)&&(!n.parent||uu(n.parent,t.parent))}function du(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const a=function(n,t,e){return t.children.map(r=>{for(const a of e.children)if(n.shouldReuseRoute(r.value,a.value.snapshot))return du(n,r,a);return du(n,r)})}(n,t,e);return new uo(r,a)}{if(n.shouldAttach(t.value)){const c=n.retrieve(t.value);if(null!==c){const f=c.route;return Y_(t,f),f}}const r=function(n){return new Hl(new zn(n.url),new zn(n.params),new zn(n.queryParams),new zn(n.fragment),new zn(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(c=>du(n,c));return new uo(r,a)}}function Y_(n,t){if(n.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=n.value;for(let e=0;e<n.children.length;++e)Y_(n.children[e],t.children[e])}function Gl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Rs(n){return"object"==typeof n&&null!=n&&n.outlets}function Og(n,t,e,r,a){let c={};return r&&Fn(r,(f,_)=>{c[_]=Array.isArray(f)?f.map(b=>`${b}`):`${f}`}),new Ul(e.root===n?t:Z_(e.root,n,t),c,a)}function Z_(n,t,e){const r={};return Fn(n.children,(a,c)=>{r[c]=a===t?e:Z_(a,t,e)}),new Rt(n.segments,r)}class gf{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Gl(r[0]))throw new Error("Root segment cannot have matrix parameters");const a=r.find(Rs);if(a&&a!==Xa(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class mf{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function ta(n,t,e){if(n||(n=new Rt([],{})),0===n.segments.length&&n.hasChildren())return hu(n,t,e);const r=function(n,t,e){let r=0,a=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(r>=e.length)return c;const f=n.segments[a],_=e[r];if(Rs(_))break;const b=`${_}`,w=r<e.length-1?e[r+1]:null;if(a>0&&void 0===b)break;if(b&&w&&"object"==typeof w&&void 0===w.outlets){if(!kg(b,w,f))return c;r+=2}else{if(!kg(b,{},f))return c;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(n,t,e),a=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new Rt(n.segments.slice(0,r.pathIndex),{});return c.children[ft]=new Rt(n.segments.slice(r.pathIndex),n.children),hu(c,0,a)}return r.match&&0===a.length?new Rt(n.segments,{}):r.match&&!n.hasChildren()?_f(n,t,e):r.match?hu(n,0,a):_f(n,t,e)}function hu(n,t,e){if(0===e.length)return new Rt(n.segments,{});{const r=function(n){return Rs(n[0])?n[0].outlets:{[ft]:n}}(e),a={};return Fn(r,(c,f)=>{"string"==typeof c&&(c=[c]),null!==c&&(a[f]=ta(n.children[f],t,c))}),Fn(n.children,(c,f)=>{void 0===r[f]&&(a[f]=c)}),new Rt(n.segments,a)}}function _f(n,t,e){const r=n.segments.slice(0,t);let a=0;for(;a<e.length;){const c=e[a];if(Rs(c)){const b=En(c.outlets);return new Rt(r,b)}if(0===a&&Gl(e[0])){r.push(new ru(n.segments[t].path,yf(e[0]))),a++;continue}const f=Rs(c)?c.outlets[ft]:`${c}`,_=a<e.length-1?e[a+1]:null;f&&_&&Gl(_)?(r.push(new ru(f,yf(_))),a+=2):(r.push(new ru(f,{})),a++)}return new Rt(r,{})}function En(n){const t={};return Fn(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=_f(new Rt([],{}),0,e))}),t}function yf(n){const t={};return Fn(n,(e,r)=>t[r]=`${e}`),t}function kg(n,t,e){return n==e.path&&ri(t,e.parameters)}class Fd{constructor(t,e,r,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=a}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),sl(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const a=il(e);t.children.forEach(c=>{const f=c.value.outlet;this.deactivateRoutes(c,a[f],r),delete a[f]}),Fn(a,(c,f)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(t,e,r){const a=t.value,c=e?e.value:null;if(a===c)if(a.component){const f=r.getContext(a.outlet);f&&this.deactivateChildRoutes(t,e,f.children)}else this.deactivateChildRoutes(t,e,r);else c&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet);if(r&&r.outlet){const a=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),a=r&&t.value.component?r.children:e,c=il(t);for(const f of Object.keys(c))this.deactivateRouteAndItsChildren(c[f],a);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const a=il(e);t.children.forEach(c=>{this.activateRoutes(c,a[c.value.outlet],r),this.forwardEvent(new Hr(c.value.snapshot))}),t.children.length&&this.forwardEvent(new Ja(t.value.snapshot))}activateRoutes(t,e,r){const a=t.value,c=e?e.value:null;if(sl(a),a===c)if(a.component){const f=r.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,f.children)}else this.activateChildRoutes(t,e,r);else if(a.component){const f=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const _=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),f.children.onOutletReAttached(_.contexts),f.attachRef=_.componentRef,f.route=_.route.value,f.outlet&&f.outlet.attach(_.componentRef,_.route.value),Ld(_.route)}else{const _=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),b=_?_.module.componentFactoryResolver:null;f.attachRef=null,f.route=a,f.resolver=b,f.outlet&&f.outlet.activateWith(a,b),this.activateChildRoutes(t,null,f.children)}}else this.activateChildRoutes(t,null,r)}}function Ld(n){sl(n.value),n.children.forEach(Ld)}class vf{constructor(t,e){this.routes=t,this.module=e}}function Os(n){return"function"==typeof n}function qn(n){return n instanceof Ul}const na=Symbol("INITIAL_VALUE");function Wl(){return Wn(n=>Zi(n.map(t=>t.pipe(qi(1),qo(na)))).pipe(Xc((t,e)=>{let r=!1;return e.reduce((a,c,f)=>a!==na?a:(c===na&&(r=!0),r||!1!==c&&f!==e.length-1&&!qn(c)?a:c),t)},na),Yn(t=>t!==na),(0,wt.U)(t=>qn(t)?t:!0===t),qi(1)))}let Kn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&u._UZ(0,"router-outlet")},directives:function(){return[If]},encapsulation:2}),n})();function Yl(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];Ps(r,Fg(t,r))}}function Ps(n,t){n.children&&Yl(n.children,t)}function Fg(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function bf(n){const t=n.children&&n.children.map(bf),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ft&&(e.component=Kn),e}function ii(n){return n.outlet||ft}function Lg(n,t){const e=n.filter(r=>ii(r)===t);return e.push(...n.filter(r=>ii(r)!==t)),e}const Bd={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ar(n,t,e){var r;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Bd):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const c=(t.matcher||tu)(e,n,t);if(!c)return Object.assign({},Bd);const f={};Fn(c.posParams,(b,w)=>{f[w]=b.path});const _=c.consumed.length>0?Object.assign(Object.assign({},f),c.consumed[c.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:c.consumed,lastChild:c.consumed.length,parameters:_,positionalParamSegments:null!==(r=c.posParams)&&void 0!==r?r:{}}}function ol(n,t,e,r,a="corrected"){if(e.length>0&&function(n,t,e){return e.some(r=>al(n,t,r)&&ii(r)!==ft)}(n,e,r)){const f=new Rt(t,function(n,t,e,r){const a={};a[ft]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const c of e)if(""===c.path&&ii(c)!==ft){const f=new Rt([],{});f._sourceSegment=n,f._segmentIndexShift=t.length,a[ii(c)]=f}return a}(n,t,r,new Rt(e,n.children)));return f._sourceSegment=n,f._segmentIndexShift=t.length,{segmentGroup:f,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(r=>al(n,t,r))}(n,e,r)){const f=new Rt(n.segments,function(n,t,e,r,a,c){const f={};for(const _ of r)if(al(n,e,_)&&!a[ii(_)]){const b=new Rt([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===c?n.segments.length:t.length,f[ii(_)]=b}return Object.assign(Object.assign({},a),f)}(n,t,e,r,n.children,a));return f._sourceSegment=n,f._segmentIndexShift=t.length,{segmentGroup:f,slicedSegments:e}}const c=new Rt(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}function al(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Ud(n,t,e,r){return!!(ii(n)===r||r!==ft&&al(t,e,n))&&("**"===n.path||ar(t,n,e).matched)}function Vg(n,t,e){return 0===t.length&&!n.children[e]}class ql{constructor(t){this.segmentGroup=t||null}}class Ef{constructor(t){this.urlTree=t}}function ll(n){return new sn.y(t=>t.error(new ql(n)))}function Bg(n){return new sn.y(t=>t.error(new Ef(n)))}function X_(n){return new sn.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class g{constructor(t,e,r,a,c){this.configLoader=e,this.urlSerializer=r,this.urlTree=a,this.config=c,this.allowRedirects=!0,this.ngModule=t.get(u.h0i)}apply(){const t=ol(this.urlTree.root,[],[],this.config).segmentGroup,e=new Rt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ft).pipe((0,wt.U)(c=>this.createUrlTree(M(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Is(c=>{if(c instanceof Ef)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof ql?this.noMatchError(c):c}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,ft).pipe((0,wt.U)(a=>this.createUrlTree(M(a),t.queryParams,t.fragment))).pipe(Is(a=>{throw a instanceof ql?this.noMatchError(a):a}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const a=t.segments.length>0?new Rt([],{[ft]:t}):t;return new Ul(a,e,r)}expandSegmentGroup(t,e,r,a){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,wt.U)(c=>new Rt([],c))):this.expandSegment(t,r,e,r.segments,a,!0)}expandChildren(t,e,r){const a=[];for(const c of Object.keys(r.children))"primary"===c?a.unshift(c):a.push(c);return(0,yn.D)(a).pipe(Ko(c=>{const f=r.children[c],_=Lg(e,c);return this.expandSegmentGroup(t,_,f,c).pipe((0,wt.U)(b=>({segment:b,outlet:c})))}),Xc((c,f)=>(c[f.outlet]=f.segment,c),{}),function(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Yn((a,c)=>n(a,c,r)):oo.y,wd(1),e?Vl(t):io(()=>new Xr))}())}expandSegment(t,e,r,a,c,f){return(0,yn.D)(r).pipe(Ko(_=>this.expandSegmentAgainstRoute(t,e,r,_,a,c,f).pipe(Is(w=>{if(w instanceof ql)return(0,Ge.of)(null);throw w}))),bn(_=>!!_),Is((_,b)=>{if(_ instanceof Xr||"EmptyError"===_.name){if(Vg(e,a,c))return(0,Ge.of)(new Rt([],{}));throw new ql(e)}throw _}))}expandSegmentAgainstRoute(t,e,r,a,c,f,_){return Ud(a,e,c,f)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,c,f):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,a,c,f):ll(e):ll(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,a,c,f){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,a,f):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,a,c,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,a){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Bg(c):this.lineralizeSegments(r,c).pipe((0,Xt.zg)(f=>{const _=new Rt(f,{});return this.expandSegment(t,_,e,f,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,a,c,f){const{matched:_,consumedSegments:b,lastChild:w,positionalParamSegments:R}=ar(e,a,c);if(!_)return ll(e);const P=this.applyRedirectCommands(b,a.redirectTo,R);return a.redirectTo.startsWith("/")?Bg(P):this.lineralizeSegments(a,P).pipe((0,Xt.zg)(z=>this.expandSegment(t,e,r,z.concat(c.slice(w)),f,!1)))}matchSegmentAgainstRoute(t,e,r,a,c){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,Ge.of)(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe((0,wt.U)(z=>(r._loadedConfig=z,new Rt(a,{})))):(0,Ge.of)(new Rt(a,{}));const{matched:f,consumedSegments:_,lastChild:b}=ar(e,r,a);if(!f)return ll(e);const w=a.slice(b);return this.getChildConfig(t,r,a).pipe((0,Xt.zg)(P=>{const z=P.module,Y=P.routes,{segmentGroup:ae,slicedSegments:Oe}=ol(e,_,w,Y),Ve=new Rt(ae.segments,ae.children);if(0===Oe.length&&Ve.hasChildren())return this.expandChildren(z,Y,Ve).pipe((0,wt.U)(vt=>new Rt(_,vt)));if(0===Y.length&&0===Oe.length)return(0,Ge.of)(new Rt(_,{}));const qe=ii(r)===c;return this.expandSegment(z,Ve,Y,Oe,qe?ft:c,!0).pipe((0,wt.U)(Nt=>new Rt(_.concat(Nt.segments),Nt.children)))}))}getChildConfig(t,e,r){return e.children?(0,Ge.of)(new vf(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,Ge.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe((0,Xt.zg)(a=>{return a?this.configLoader.load(t.injector,e).pipe((0,wt.U)(c=>(e._loadedConfig=c,c))):(n=e,new sn.y(t=>t.error(Id(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Ge.of)(new vf([],t))}runCanLoadGuards(t,e,r){const a=e.canLoad;if(!a||0===a.length)return(0,Ge.of)(!0);const c=a.map(f=>{const _=t.get(f);let b;if((n=_)&&Os(n.canLoad))b=_.canLoad(e,r);else{if(!Os(_))throw new Error("Invalid CanLoad guard");b=_(e,r)}var n;return or(b)});return(0,Ge.of)(c).pipe(Wl(),(0,Zn.b)(f=>{if(!qn(f))return;const _=Id(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw _.url=f,_}),(0,wt.U)(f=>!0===f))}lineralizeSegments(t,e){let r=[],a=e.root;for(;;){if(r=r.concat(a.segments),0===a.numberOfChildren)return(0,Ge.of)(r);if(a.numberOfChildren>1||!a.children[ft])return X_(t.redirectTo);a=a.children[ft]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,a){const c=this.createSegmentGroup(t,e.root,r,a);return new Ul(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Fn(t,(a,c)=>{if("string"==typeof a&&a.startsWith(":")){const _=a.substring(1);r[c]=e[_]}else r[c]=a}),r}createSegmentGroup(t,e,r,a){const c=this.createSegments(t,e.segments,r,a);let f={};return Fn(e.children,(_,b)=>{f[b]=this.createSegmentGroup(t,_,r,a)}),new Rt(c,f)}createSegments(t,e,r,a){return e.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,a):this.findOrReturn(c,r))}findPosParam(t,e,r){const a=r[e.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return a}findOrReturn(t,e){let r=0;for(const a of e){if(a.path===t.path)return e.splice(r),a;r++}return t}}function M(n){const t={};for(const r of Object.keys(n.children)){const c=M(n.children[r]);(c.segments.length>0||c.hasChildren())&&(t[r]=c)}return function(n){if(1===n.numberOfChildren&&n.children[ft]){const t=n.children[ft];return new Rt(n.segments.concat(t.segments),t.children)}return n}(new Rt(n.segments,t))}class J{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class me{constructor(t,e){this.component=t,this.route=e}}function Be(n,t,e){const r=n._root;return wn(r,t?t._root:null,e,[r.value])}function at(n,t,e){const r=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function wn(n,t,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=il(t);return n.children.forEach(f=>{(function(n,t,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,f=t?t.value:null,_=e?e.getContext(n.value.outlet):null;if(f&&c.routeConfig===f.routeConfig){const b=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!nl(n.url,t.url);case"pathParamsOrQueryParamsChange":return!nl(n.url,t.url)||!ri(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uu(n,t)||!ri(n.queryParams,t.queryParams);case"paramsChange":default:return!uu(n,t)}}(f,c,c.routeConfig.runGuardsAndResolvers);b?a.canActivateChecks.push(new J(r)):(c.data=f.data,c._resolvedData=f._resolvedData),wn(n,t,c.component?_?_.children:null:e,r,a),b&&_&&_.outlet&&_.outlet.isActivated&&a.canDeactivateChecks.push(new me(_.outlet.component,f))}else f&&Kl(t,_,a),a.canActivateChecks.push(new J(r)),wn(n,null,c.component?_?_.children:null:e,r,a)})(f,c[f.value.outlet],e,r.concat([f.value]),a),delete c[f.value.outlet]}),Fn(c,(f,_)=>Kl(f,e.getContext(_),a)),a}function Kl(n,t,e){const r=il(n),a=n.value;Fn(r,(c,f)=>{Kl(c,a.component?t?t.children.getContext(f):null:t,e)}),e.canDeactivateChecks.push(new me(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}class Sf{}function Ql(n){return new sn.y(t=>t.error(n))}class lC{constructor(t,e,r,a,c,f){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=f}recognize(){const t=ol(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,ft);if(null===e)return null;const r=new Od([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ft,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new uo(r,e),c=new $l(this.url,a);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(t){const e=t.value,r=Ig(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const c of Object.keys(e.children)){const f=e.children[c],_=Lg(t,c),b=this.processSegmentGroup(_,f,c);if(null===b)return null;r.push(...b)}const a=Hg(r);return a.sort((t,e)=>t.value.outlet===ft?-1:e.value.outlet===ft?1:t.value.outlet.localeCompare(e.value.outlet)),a}processSegment(t,e,r,a){for(const c of t){const f=this.processSegmentAgainstRoute(c,e,r,a);if(null!==f)return f}return Vg(e,r,a)?[]:null}processSegmentAgainstRoute(t,e,r,a){if(t.redirectTo||!Ud(t,e,r,a))return null;let c,f=[],_=[];if("**"===t.path){const Y=r.length>0?Xa(r).parameters:{};c=new Od(r,Y,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pu(t),ii(t),t.component,t,ny(e),aS(e)+r.length,$g(t))}else{const Y=ar(e,t,r);if(!Y.matched)return null;f=Y.consumedSegments,_=r.slice(Y.lastChild),c=new Od(f,Y.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pu(t),ii(t),t.component,t,ny(e),aS(e)+f.length,$g(t))}const b=(n=t).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:w,slicedSegments:R}=ol(e,f,_,b.filter(Y=>void 0===Y.redirectTo),this.relativeLinkResolution);var n;if(0===R.length&&w.hasChildren()){const Y=this.processChildren(b,w);return null===Y?null:[new uo(c,Y)]}if(0===b.length&&0===R.length)return[new uo(c,[])];const P=ii(t)===a,z=this.processSegment(b,w,R,P?ft:a);return null===z?null:[new uo(c,z)]}}function uC(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Hg(n){const t=[],e=new Set;for(const r of n){if(!uC(r)){t.push(r);continue}const a=t.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==a?(a.children.push(...r.children),e.add(a)):t.push(r)}for(const r of e){const a=Hg(r.children);t.push(new uo(r.value,a))}return t.filter(r=>!e.has(r))}function ny(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function aS(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function pu(n){return n.data||{}}function $g(n){return n.resolve||{}}function iy(n){return Wn(t=>{const e=n(t);return e?(0,yn.D)(e).pipe((0,wt.U)(()=>t)):(0,Ge.of)(t)})}class fS extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Gg=new u.OlP("ROUTES");class zg{constructor(t,e,r,a){this.loader=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=a}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const a=this.loadModuleFactory(e.loadChildren).pipe((0,wt.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e);const f=c.create(t);return new vf(j_(f.injector.get(Gg,void 0,u.XFs.Self|u.XFs.Optional)).map(bf),f)}),Is(c=>{throw e._loader$=void 0,c}));return e._loader$=new bd.c(a,()=>new ht.xQ).pipe((0,Ji.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,yn.D)(this.loader.load(t)):or(t()).pipe((0,Xt.zg)(e=>e instanceof u.YKP?(0,Ge.of)(e):(0,yn.D)(this.compiler.compileModuleAsync(e))))}}class fC{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Jl,this.attachRef=null}}class Jl{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new fC,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class gS{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function pC(n){throw n}function gC(n,t,e){return t.parse("/")}function Xl(n,t){return(0,Ge.of)(null)}const mC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_C={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $r=(()=>{class n{constructor(e,r,a,c,f,_,b,w){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=a,this.location=c,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ht.xQ,this.errorHandler=pC,this.malformedUriErrorHandler=gC,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Xl,afterPreactivation:Xl},this.urlHandlingStrategy=new gS,this.routeReuseStrategy=new fS,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(u.h0i),this.console=f.get(u.c2e);const z=f.get(u.R0b);this.isNgZoneEnabled=z instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=new Ul(new Rt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new zg(_,b,Y=>this.triggerEvent(new Ar(Y)),Y=>this.triggerEvent(new Nn(Y))),this.routerState=Tg(this.currentUrlTree,this.rootComponentType),this.transitions=new zn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(Yn(a=>0!==a.id),(0,wt.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Wn(a=>{let c=!1,f=!1;return(0,Ge.of)(a).pipe((0,Zn.b)(_=>{this.currentNavigation={id:_.id,initialUrl:_.currentRawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Wn(_=>{const b=this.browserUrlTree.toString(),w=!this.navigated||_.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return Yg(_.source)&&(this.browserUrlTree=_.extractedUrl),(0,Ge.of)(_).pipe(Wn(P=>{const z=this.transitions.getValue();return r.next(new U(P.id,this.serializeUrl(P.extractedUrl),P.source,P.restoredState)),z!==this.transitions.getValue()?Ei.E:Promise.resolve(P)}),function(n,t,e,r){return Wn(a=>function(n,t,e,r,a){return new g(n,t,e,r,a).apply()}(n,t,e,a.extractedUrl,r).pipe((0,wt.U)(c=>Object.assign(Object.assign({},a),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Zn.b)(P=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:P.urlAfterRedirects})}),function(n,t,e,r,a){return(0,Xt.zg)(c=>function(n,t,e,r,a="emptyOnly",c="legacy"){try{const f=new lC(n,t,e,r,a,c).recognize();return null===f?Ql(new Sf):(0,Ge.of)(f)}catch(f){return Ql(f)}}(n,t,c.urlAfterRedirects,e(c.urlAfterRedirects),r,a).pipe((0,wt.U)(f=>Object.assign(Object.assign({},c),{targetSnapshot:f}))))}(this.rootComponentType,this.config,P=>this.serializeUrl(P),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Zn.b)(P=>{"eager"===this.urlUpdateStrategy&&(P.extras.skipLocationChange||this.setBrowserUrl(P.urlAfterRedirects,P),this.browserUrlTree=P.urlAfterRedirects);const z=new He(P.id,this.serializeUrl(P.extractedUrl),this.serializeUrl(P.urlAfterRedirects),P.targetSnapshot);r.next(z)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:z,extractedUrl:Y,source:ae,restoredState:Oe,extras:Ve}=_,qe=new U(z,this.serializeUrl(Y),ae,Oe);r.next(qe);const rt=Tg(Y,this.rootComponentType).snapshot;return(0,Ge.of)(Object.assign(Object.assign({},_),{targetSnapshot:rt,urlAfterRedirects:Y,extras:Object.assign(Object.assign({},Ve),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=_.rawUrl,this.browserUrlTree=_.urlAfterRedirects,_.resolve(null),Ei.E}),iy(_=>{const{targetSnapshot:b,id:w,extractedUrl:R,rawUrl:P,extras:{skipLocationChange:z,replaceUrl:Y}}=_;return this.hooks.beforePreactivation(b,{navigationId:w,appliedUrlTree:R,rawUrlTree:P,skipLocationChange:!!z,replaceUrl:!!Y})}),(0,Zn.b)(_=>{const b=new $e(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}),(0,wt.U)(_=>Object.assign(Object.assign({},_),{guards:Be(_.targetSnapshot,_.currentSnapshot,this.rootContexts)})),function(n,t){return(0,Xt.zg)(e=>{const{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:c,canDeactivateChecks:f}}=e;return 0===f.length&&0===c.length?(0,Ge.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,r){return(0,yn.D)(n).pipe((0,Xt.zg)(a=>function(n,t,e,r,a){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,Ge.of)(!0);const f=c.map(_=>{const b=at(_,t,a);let w;if(function(n){return n&&Os(n.canDeactivate)}(b))w=or(b.canDeactivate(n,t,e,r));else{if(!Os(b))throw new Error("Invalid CanDeactivate guard");w=or(b(n,t,e,r))}return w.pipe(bn())});return(0,Ge.of)(f).pipe(Wl())}(a.component,a.route,e,t,r)),bn(a=>!0!==a,!0))}(f,r,a,n).pipe((0,Xt.zg)(_=>_&&function(n){return"boolean"==typeof n}(_)?function(n,t,e,r){return(0,yn.D)(t).pipe(Ko(a=>ro(function(n,t){return null!==n&&t&&t(new Qo(n)),(0,Ge.of)(!0)}(a.route.parent,r),function(n,t){return null!==n&&t&&t(new Jo(n)),(0,Ge.of)(!0)}(a.route,r),function(n,t,e){const r=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(f=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(f)).filter(f=>null!==f).map(f=>ei(()=>{const _=f.guards.map(b=>{const w=at(b,f.node,e);let R;if(function(n){return n&&Os(n.canActivateChild)}(w))R=or(w.canActivateChild(r,n));else{if(!Os(w))throw new Error("Invalid CanActivateChild guard");R=or(w(r,n))}return R.pipe(bn())});return(0,Ge.of)(_).pipe(Wl())}));return(0,Ge.of)(c).pipe(Wl())}(n,a.path,e),function(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Ge.of)(!0);const a=r.map(c=>ei(()=>{const f=at(c,t,e);let _;if(function(n){return n&&Os(n.canActivate)}(f))_=or(f.canActivate(t,n));else{if(!Os(f))throw new Error("Invalid CanActivate guard");_=or(f(t,n))}return _.pipe(bn())}));return(0,Ge.of)(a).pipe(Wl())}(n,a.route,e))),bn(a=>!0!==a,!0))}(r,c,n,t):(0,Ge.of)(_)),(0,wt.U)(_=>Object.assign(Object.assign({},e),{guardsResult:_})))})}(this.ngModule.injector,_=>this.triggerEvent(_)),(0,Zn.b)(_=>{if(qn(_.guardsResult)){const w=Id(`Redirecting to "${this.serializeUrl(_.guardsResult)}"`);throw w.url=_.guardsResult,w}const b=new Mt(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.triggerEvent(b)}),Yn(_=>!!_.guardsResult||(this.restoreHistory(_),this.cancelNavigationTransition(_,""),!1)),iy(_=>{if(_.guards.canActivateChecks.length)return(0,Ge.of)(_).pipe((0,Zn.b)(b=>{const w=new zt(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(w)}),Wn(b=>{let w=!1;return(0,Ge.of)(b).pipe(function(n,t){return(0,Xt.zg)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:a}}=e;if(!a.length)return(0,Ge.of)(e);let c=0;return(0,yn.D)(a).pipe(Ko(f=>function(n,t,e,r){return function(n,t,e,r){const a=Object.keys(n);if(0===a.length)return(0,Ge.of)({});const c={};return(0,yn.D)(a).pipe((0,Xt.zg)(f=>function(n,t,e,r){const a=at(n,t,r);return or(a.resolve?a.resolve(t,e):a(t,e))}(n[f],t,e,r).pipe((0,Zn.b)(_=>{c[f]=_}))),wd(1),(0,Xt.zg)(()=>Object.keys(c).length===a.length?(0,Ge.of)(c):Ei.E))}(n._resolve,n,t,r).pipe((0,wt.U)(c=>(n._resolvedData=c,n.data=Object.assign(Object.assign({},n.data),Ig(n,e).resolve),null)))}(f.route,r,n,t)),(0,Zn.b)(()=>c++),wd(1),(0,Xt.zg)(f=>c===a.length?(0,Ge.of)(e):Ei.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Zn.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,Zn.b)(b=>{const w=new Cn(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(w)}))}),iy(_=>{const{targetSnapshot:b,id:w,extractedUrl:R,rawUrl:P,extras:{skipLocationChange:z,replaceUrl:Y}}=_;return this.hooks.afterPreactivation(b,{navigationId:w,appliedUrlTree:R,rawUrlTree:P,skipLocationChange:!!z,replaceUrl:!!Y})}),(0,wt.U)(_=>{const b=function(n,t,e){const r=du(n,t._root,e?e._root:void 0);return new hf(r,t)}(this.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return Object.assign(Object.assign({},_),{targetRouterState:b})}),(0,Zn.b)(_=>{this.currentUrlTree=_.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl),this.routerState=_.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_),this.browserUrlTree=_.urlAfterRedirects)}),((n,t,e)=>(0,wt.U)(r=>(new Fd(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,_=>this.triggerEvent(_)),(0,Zn.b)({next(){c=!0},complete(){c=!0}}),function(n){return t=>t.lift(new D(n))}(()=>{var _;if(!c&&!f){const b=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,b)):this.cancelNavigationTransition(a,b)}(null===(_=this.currentNavigation)||void 0===_?void 0:_.id)===a.id&&(this.currentNavigation=null)}),Is(_=>{if(f=!0,function(n){return n&&n[Td]}(_)){const b=qn(_.url);b||(this.navigated=!0,this.restoreHistory(a,!0));const w=new pe(a.id,this.serializeUrl(a.extractedUrl),_.message);r.next(w),b?setTimeout(()=>{const R=this.urlHandlingStrategy.merge(_.url,this.rawUrlTree),P={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Yg(a.source)};this.scheduleNavigation(R,"imperative",null,P,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const b=new Pe(a.id,this.serializeUrl(a.extractedUrl),_);r.next(b);try{a.resolve(this.errorHandler(_))}catch(w){a.reject(w)}}return Ei.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:a,state:c,urlTree:f}=r,_={replaceUrl:!0};if(c){const b=Object.assign({},c);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(_.state=b)}this.scheduleNavigation(f,a,c,_)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(e){var r;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,r){if(!e)return!0;const a=r.urlTree.toString()===e.urlTree.toString();return r.transitionId!==e.transitionId||!a||!("hashchange"===r.source&&"popstate"===e.source||"popstate"===r.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Yl(e),this.config=e.map(bf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:a,queryParams:c,fragment:f,queryParamsHandling:_,preserveFragment:b}=r,w=a||this.routerState.root,R=b?this.currentUrlTree.fragment:f;let P=null;switch(_){case"merge":P=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":P=this.currentUrlTree.queryParams;break;default:P=c||null}return null!==P&&(P=this.removeEmptyProps(P)),function(n,t,e,r,a){if(0===e.length)return Og(t.root,t.root,t,r,a);const c=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new gf(!0,0,n);let t=0,e=!1;const r=n.reduce((a,c,f)=>{if("object"==typeof c&&null!=c){if(c.outlets){const _={};return Fn(c.outlets,(b,w)=>{_[w]="string"==typeof b?b.split("/"):b}),[...a,{outlets:_}]}if(c.segmentPath)return[...a,c.segmentPath]}return"string"!=typeof c?[...a,c]:0===f?(c.split("/").forEach((_,b)=>{0==b&&"."===_||(0==b&&""===_?e=!0:".."===_?t++:""!=_&&a.push(_))}),a):[...a,c]},[]);return new gf(e,t,r)}(e);if(c.toRoot())return Og(t.root,new Rt([],{}),t,r,a);const f=function(n,t,e){if(n.isAbsolute)return new mf(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const c=e.snapshot._urlSegment;return new mf(c,c===t.root,0)}const r=Gl(n.commands[0])?0:1;return function(n,t,e){let r=n,a=t,c=e;for(;c>a;){if(c-=a,r=r.parent,!r)throw new Error("Invalid number of '../'");a=r.segments.length}return new mf(r,!1,a-c)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(c,t,n),_=f.processChildren?hu(f.segmentGroup,f.index,c.commands):ta(f.segmentGroup,f.index,c.commands);return Og(f.segmentGroup,_,t,r,a)}(w,this.currentUrlTree,e,P,null!=R?R:null)}navigateByUrl(e,r={skipLocationChange:!1}){const a=qn(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return r}isActive(e,r){let a;if(a=!0===r?Object.assign({},mC):!1===r?Object.assign({},_C):r,qn(e))return nu(this.currentUrlTree,e,a);const c=this.parseUrl(e);return nu(this.currentUrlTree,c,a)}removeEmptyProps(e){return Object.keys(e).reduce((r,a)=>{const c=e[a];return null!=c&&(r[a]=c),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new te(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,a,c,f){var _,b;if(this.disposed)return Promise.resolve(!1);const w=this.getTransition(),R=Yg(r)&&w&&!Yg(w.source),Y=(this.lastSuccessfulId===w.id||this.currentNavigation?w.rawUrl:w.urlAfterRedirects).toString()===e.toString();if(R&&Y)return Promise.resolve(!0);let ae,Oe,Ve;f?(ae=f.resolve,Oe=f.reject,Ve=f.promise):Ve=new Promise((Nt,vt)=>{ae=Nt,Oe=vt});const qe=++this.navigationId;let rt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),rt=a&&a.\u0275routerPageId?a.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(_=this.browserPageId)&&void 0!==_?_:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):rt=0,this.setTransition({id:qe,targetPageId:rt,source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:ae,reject:Oe,promise:Ve,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ve.catch(Nt=>Promise.reject(Nt))}setBrowserUrl(e,r){const a=this.urlSerializer.serialize(e),c=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl?this.location.replaceState(a,"",c):this.location.go(a,"",c)}restoreHistory(e,r=!1){var a,c;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===f?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===f&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const a=new pe(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.DyG),u.LFG(lf),u.LFG(Jl),u.LFG(et),u.LFG(u.zs3),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(void 0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Yg(n){return"imperative"!==n}let If=(()=>{class n{constructor(e,r,a,c,f){this.parentContexts=e,this.location=r,this.resolver=a,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.name=c||ft,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const f=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),_=this.parentContexts.getOrCreateContext(this.name).children,b=new Kg(e,_,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Jl),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class Kg{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Hl?this.route:t===Jl?this.childContexts:this.parent.get(t,e)}}class oy{}class ly{preload(t,e){return(0,Ge.of)(null)}}let Qg=(()=>{class n{constructor(e,r,a,c,f){this.router=e,this.injector=c,this.preloadingStrategy=f,this.loader=new zg(r,a,w=>e.triggerEvent(new Ar(w)),w=>e.triggerEvent(new Nn(w)))}setUpPreloading(){this.subscription=this.router.events.pipe(Yn(e=>e instanceof te),Ko(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(u.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const a=[];for(const c of r)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const f=c._loadedConfig;a.push(this.processRoutes(f.module,f.routes))}else c.loadChildren&&!c.canLoad?a.push(this.preloadConfig(e,c)):c.children&&a.push(this.processRoutes(e,c.children));return(0,yn.D)(a).pipe((0,jr.J)(),(0,wt.U)(c=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,Ge.of)(r._loadedConfig):this.loader.load(e.injector,r)).pipe((0,Xt.zg)(c=>(r._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG($r),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(oy))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),mu=(()=>{class n{constructor(e,r,a={}){this.router=e,this.viewportScroller=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof U?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof te&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Mr&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new Mr(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG($r),u.LFG(qs),u.LFG(void 0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ec=new u.OlP("ROUTER_CONFIGURATION"),vC=new u.OlP("ROUTER_FORROOT_GUARD"),bC=[et,{provide:lf,useClass:jl},{provide:$r,useFactory:function(n,t,e,r,a,c,f,_={},b,w){const R=new $r(null,n,t,e,r,a,c,j_(f));return b&&(R.urlHandlingStrategy=b),w&&(R.routeReuseStrategy=w),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy)}(_,R),_.enableTracing&&R.events.subscribe(P=>{var z,Y;null===(z=console.group)||void 0===z||z.call(console,`Router Event: ${P.constructor.name}`),console.log(P.toString()),console.log(P),null===(Y=console.groupEnd)||void 0===Y||Y.call(console)}),R},deps:[lf,Jl,et,u.zs3,u.v3s,u.Sil,Gg,ec,[class{},new u.FiY],[class{},new u.FiY]]},Jl,{provide:Hl,useFactory:function(n){return n.routerState.root},deps:[$r]},{provide:u.v3s,useClass:u.EAV},Qg,ly,class{preload(t,e){return e().pipe(Is(()=>(0,Ge.of)(null)))}},{provide:ec,useValue:{enableTracing:!1}}];function cy(){return new u.PXZ("Router",$r)}let uy=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[bC,dy(e),{provide:vC,useFactory:_S,deps:[[$r,new u.FiY,new u.tp0]]},{provide:ec,useValue:r||{}},{provide:_e,useFactory:CC,deps:[Q,[new u.tBr(we),new u.FiY],ec]},{provide:mu,useFactory:WR,deps:[$r,qs,ec]},{provide:oy,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:ly},{provide:u.PXZ,multi:!0,useFactory:cy},[hy,{provide:u.ip1,multi:!0,useFactory:EC,deps:[hy]},{provide:wC,useFactory:bS,deps:[hy]},{provide:u.tb,multi:!0,useExisting:wC}]]}}static forChild(e){return{ngModule:n,providers:[dy(e)]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(vC,8),u.LFG($r,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function WR(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new mu(n,t,e)}function CC(n,t,e={}){return e.useHash?new Fe(n,t):new Ne(n,t)}function _S(n){return"guarded"}function dy(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:Gg,multi:!0,useValue:n}]}let hy=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ht.xQ}appInitializer(){return this.injector.get(F,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const a=new Promise(_=>r=_),c=this.injector.get($r),f=this.injector.get(ec);return"disabled"===f.initialNavigation?(c.setUpLocationChangeListener(),r(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?(0,Ge.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),c.initialNavigation()):r(!0),a})}bootstrapListener(e){const r=this.injector.get(ec),a=this.injector.get(Qg),c=this.injector.get(mu),f=this.injector.get($r),_=this.injector.get(u.z2F);e===_.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&f.initialNavigation(),a.setUpPreloading(),c.init(),f.resetRootComponentType(_.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function EC(n){return n.appInitializer.bind(n)}function bS(n){return n.bootstrapListener.bind(n)}const wC=new u.OlP("Router Initializer"),DC=[];let ES=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[uy.forRoot(DC)],uy]}),n})();var Jg=V(3637),Xg=V(6682),Ct=V(8819);function em(n,t){return e=>e.lift(new SC(n,t))}class SC{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new tm(t,this.compare,this.keySelector))}}class tm extends vn.L{constructor(t,e,r){super(t),this.keySelector=r,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:a}=this;e=a?a(t):t}catch(a){return this.destination.error(a)}let r=!1;if(this.hasKey)try{const{compare:a}=this;r=a(this.key,e)}catch(a){return this.destination.error(a)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}class TC{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new wS(t,this.observables,this.project))}}class wS extends Nl{constructor(t,e,r){super(t),this.observables=e,this.project=r,this.toRespond=[];const a=e.length;this.values=new Array(a);for(let c=0;c<a;c++)this.toRespond.push(c);for(let c=0;c<a;c++)this.add(yd(this,e[c],void 0,c))}notifyNext(t,e,r){this.values[r]=e;const a=this.toRespond;if(a.length>0){const c=a.indexOf(r);-1!==c&&a.splice(c,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}class ul{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new py(t,this.predicate))}}class py extends vn.L{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}var ns=V(4784),rs=V(8939),IC=(V(1352),V(3394)),Hd=V(3910),si=V(8239),ra=V(8026),B=V(3854),$d=V(5422);const DS="@firebase/database";let nm="";function SS(n){nm=n}class TS{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,B.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,B.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class ZR{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,B.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const gy=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new TS(t)}}catch(t){}return new ZR},tc=gy("localStorage"),my=gy("sessionStorage"),nc=new $d.Yd("@firebase/database"),IS=function(){let n=1;return function(){return n++}}(),AS=function(n){const t=(0,B.dS)(n),e=new B.gQ;e.update(t);const r=e.digest();return B.US.encodeByteArray(r)},rm=function(...n){let t="";for(let e=0;e<n.length;e++){const r=n[e];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=rm.apply(null,r):t+="object"==typeof r?(0,B.Pz)(r):r,t+=" "}return t};let Gd=null,MS=!0;const RS=function(n,t){(0,B.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(nc.logLevel=$d.in.VERBOSE,Gd=nc.log.bind(nc),t&&my.set("logging_enabled",!0)):"function"==typeof n?Gd=n:(Gd=null,my.remove("logging_enabled"))},Or=function(...n){if(!0===MS&&(MS=!1,null===Gd&&!0===my.get("logging_enabled")&&RS(!0)),Gd){const t=rm.apply(null,n);Gd(t)}},im=function(n){return function(...t){Or(n,...t)}},MC=function(...n){const t="FIREBASE INTERNAL ERROR: "+rm(...n);nc.error(t)},dl=function(...n){const t=`FIREBASE FATAL ERROR: ${rm(...n)}`;throw nc.error(t),new Error(t)},Ti=function(...n){const t="FIREBASE WARNING: "+rm(...n);nc.warn(t)},zd=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},ia="[MIN_NAME]",xs="[MAX_NAME]",ic=function(n,t){if(n===t)return 0;if(n===ia||t===xs)return-1;if(t===ia||n===xs)return 1;{const e=hl(n),r=hl(t);return null!==e?null!==r?e-r==0?n.length-t.length:e-r:-1:null!==r?1:n<t?-1:1}},_y=function(n,t){return n===t?0:n<t?-1:1},Af=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,B.Pz)(t))},sa=function(n){if("object"!=typeof n||null===n)return(0,B.Pz)(n);const t=[];for(const r in n)t.push(r);t.sort();let e="{";for(let r=0;r<t.length;r++)0!==r&&(e+=","),e+=(0,B.Pz)(t[r]),e+=":",e+=sa(n[t[r]]);return e+="}",e},yy=function(n,t){const e=n.length;if(e<=t)return[n];const r=[];for(let a=0;a<e;a+=t)r.push(n.substring(a,a+t>e?e:a+t));return r};function _r(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const PS=function(n){(0,B.hu)(!zd(n),"Invalid JSON number");const r=1023;let a,c,f,_,b;0===n?(c=0,f=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(_=Math.min(Math.floor(Math.log(n)/Math.LN2),r),c=_+r,f=Math.round(n*Math.pow(2,52-_)-Math.pow(2,52))):(c=0,f=Math.round(n/Math.pow(2,-1074))));const w=[];for(b=52;b;b-=1)w.push(f%2?1:0),f=Math.floor(f/2);for(b=11;b;b-=1)w.push(c%2?1:0),c=Math.floor(c/2);w.push(a?1:0),w.reverse();const R=w.join("");let P="";for(b=0;b<64;b+=8){let z=parseInt(R.substr(b,8),2).toString(16);1===z.length&&(z="0"+z),P+=z}return P.toLowerCase()},kS=new RegExp("^-?(0*)\\d{1,10}$"),OC=-2147483648,_u=2147483647,hl=function(n){if(kS.test(n)){const t=Number(n);if(t>=OC&&t<=_u)return t}return null},sc=function(n){try{n()}catch(t){setTimeout(()=>{throw Ti("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},fl=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class Yd{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Ti(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class NS{constructor(t,e,r){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Or("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ti(t)}}let Zd=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const PC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ey="websocket",xC="long_polling";class lm{constructor(t,e,r,a,c=!1,f="",_=!1){this.secure=e,this.namespace=r,this.webSocketOnly=a,this.nodeAdmin=c,this.persistenceKey=f,this.includeNamespaceInQueryParams=_,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=tc.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&tc.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function kC(n,t,e){let r;if((0,B.hu)("string"==typeof t,"typeof type must == string"),(0,B.hu)("object"==typeof e,"typeof params must == object"),t===Ey)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==xC)throw new Error("Unknown connection type: "+t);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const a=[];return _r(e,(c,f)=>{a.push(c+"="+f)}),r+a.join("&")}class is{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,B.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,B.p$)(this.counters_)}}const wy={},Dy={};function NC(n){const t=n.toString();return wy[t]||(wy[t]=new is),wy[t]}class FC{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<r.length;++a)r[a]&&sc(()=>{this.onMessage_(r[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class qd{constructor(t,e,r,a,c,f,_){this.connId=t,this.repoInfo=e,this.applicationId=r,this.appCheckToken=a,this.authToken=c,this.transportSessionId=f,this.lastSessionId=_,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=im(t),this.stats_=NC(e),this.urlFn=b=>(this.appCheckToken&&(b.ac=this.appCheckToken),kC(e,xC,b))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new FC(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,B.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new My((...c)=>{const[f,_,b,w,R]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===f)this.id=_,this.password=b;else{if("close"!==f)throw new Error("Unrecognized command received: "+f);_?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(_,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[f,_]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(f,_)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&PC.test(location.hostname)&&(r.r="f");const a=this.urlFn(r);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){qd.forceAllow_=!0}static forceDisallow(){qd.forceDisallow_=!0}static isAvailable(){return!((0,B.Yr)()||!qd.forceAllow_&&(qd.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,B.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const r=(0,B.h$)(e),a=yy(r,1840);for(let c=0;c<a.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[c]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,B.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,B.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class My{constructor(t,e,r,a){if(this.onDisconnect=r,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,B.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=IS(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=My.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(_){Or("frame writing exception"),_.stack&&Or(_.stack),Or(_)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Or("No IE domain setting required")}catch(e){const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),r="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const f=this.pendingSegs.shift();r=r+"&seg"+a+"="+f.seg+"&ts"+a+"="+f.ts+"&d"+a+"="+f.d,a++}return e+=r,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,r){this.pendingSegs.push({seg:t,ts:e,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const r=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),r()})}addTag(t,e){(0,B.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const a=r.readyState;(!a||"loaded"===a||"complete"===a)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=()=>{Or("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let Of=null;"undefined"!=typeof MozWebSocket?Of=MozWebSocket:"undefined"!=typeof WebSocket&&(Of=WebSocket);let Pf=(()=>{class n{constructor(e,r,a,c,f,_,b){this.connId=e,this.applicationId=a,this.appCheckToken=c,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=im(this.connId),this.stats_=NC(r),this.connURL=n.connectionURL_(r,_,b,c),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,a,c){const f={v:"5"};return!(0,B.Yr)()&&"undefined"!=typeof location&&location.hostname&&PC.test(location.hostname)&&(f.r="f"),r&&(f.s=r),a&&(f.ls=a),c&&(f.ac=c),kC(e,Ey,f)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,tc.set("previous_websocket_failure",!0);try{if((0,B.Yr)()){const c={headers:{"User-Agent":`Firebase/5/${nm}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(c.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(c.headers["X-Firebase-AppCheck"]=this.appCheckToken);const f=process.env,_=0===this.connURL.indexOf("wss://")?f.HTTPS_PROXY||f.https_proxy:f.HTTP_PROXY||f.http_proxy;_&&(c.proxy={origin:_}),this.mySock=new Of(this.connURL,[],c)}else this.mySock=new Of(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(a){this.log_("Error instantiating WebSocket.");const c=a.message||a.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const c=a.message||a.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==Of&&!n.forceDisallow_}static previouslyFailed(){return tc.isInMemoryStorage||!0===tc.get("previous_websocket_failure")}markConnectionHealthy(){tc.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const a=(0,B.cI)(r);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,B.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const a=this.extractFrameCount_(r);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const r=(0,B.Pz)(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const a=yy(r,16384);a.length>1&&this.sendString_(String(a.length));for(let c=0;c<a.length;c++)this.sendString_(a[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class Ry{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[qd,Pf]}initTransports_(t){const e=Pf&&Pf.isAvailable();let r=e&&!Pf.previouslyFailed();if(t.webSocketOnly&&(e||Ti("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Pf];else{const a=this.transports_=[];for(const c of Ry.ALL_TRANSPORTS)c&&c.isAvailable()&&a.push(c)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class xy{constructor(t,e,r,a,c,f,_,b,w,R){this.id=t,this.repoInfo_=e,this.applicationId_=r,this.appCheckToken_=a,this.authToken_=c,this.onMessage_=f,this.onReady_=_,this.onDisconnect_=b,this.onKill_=w,this.lastSessionId=R,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=im("c:"+this.id+":"),this.transportManager_=new Ry(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,r)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=fl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Af("t",t),r=Af("d",t);if("c"===e)this.onSecondaryControl_(r);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Af("t",t),r=Af("d",t);"c"===e?this.onControl_(r):"d"===e&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Af("t",t);if("d"in t){const r=t.d;if("h"===e)this.onHandshake_(r);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(r):"r"===e?this.onReset_(r):"e"===e?MC("Server Error: "+r):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):MC("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,r=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==r&&Ti("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,r),fl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(tc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class ky{put(t,e,r,a){}merge(t,e,r,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,r){}onDisconnectMerge(t,e,r){}onDisconnectCancel(t,e){}reportStats(t){}}class Ny{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,B.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let a=0;a<r.length;a++)r[a].callback.apply(r[a].context,e)}}on(t,e,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:r});const a=this.getInitialEvent(t);a&&e.apply(r,a)}off(t,e,r){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let c=0;c<a.length;c++)if(a[c].callback===e&&(!r||r===a[c].context))return void a.splice(c,1)}validateEventType_(t){(0,B.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class kf extends Ny{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,B.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new kf}getInitialEvent(t){return(0,B.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Gt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let r=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[r]=this.pieces_[a],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Wt(){return new Gt("")}function xt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function yu(n){return n.pieces_.length-n.pieceNum_}function Yt(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Gt(n.pieces_,t)}function hm(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function pl(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function ZC(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Gt(t,0)}function pn(n,t){const e=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)e.push(n.pieces_[r]);if(t instanceof Gt)for(let r=t.pieceNum_;r<t.pieces_.length;r++)e.push(t.pieces_[r]);else{const r=t.split("/");for(let a=0;a<r.length;a++)r[a].length>0&&e.push(r[a])}return new Gt(e,0)}function Pt(n){return n.pieceNum_>=n.pieces_.length}function oi(n,t){const e=xt(n),r=xt(t);if(null===e)return t;if(e===r)return oi(Yt(n),Yt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function qC(n,t){const e=pl(n,0),r=pl(t,0);for(let a=0;a<e.length&&a<r.length;a++){const c=ic(e[a],r[a]);if(0!==c)return c}return e.length===r.length?0:e.length<r.length?-1:1}function Ly(n,t){if(yu(n)!==yu(t))return!1;for(let e=n.pieceNum_,r=t.pieceNum_;e<=n.pieces_.length;e++,r++)if(n.pieces_[e]!==t.pieces_[r])return!1;return!0}function Ii(n,t){let e=n.pieceNum_,r=t.pieceNum_;if(yu(n)>yu(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[r])return!1;++e,++r}return!0}class YS{constructor(t,e){this.errorPrefix_=e,this.parts_=pl(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,B.ug)(this.parts_[r]);vu(this)}}function vu(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+oc(n))}function oc(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Vy extends Ny{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Vy}getInitialEvent(t){return(0,B.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Ff=1e3;let By,ac=(()=>{class n extends ky{constructor(e,r,a,c,f,_,b,w){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=a,this.onConnectStatus_=c,this.onServerInfoUpdate_=f,this.authTokenProvider_=_,this.appCheckTokenProvider_=b,this.authOverride_=w,this.id=n.nextPersistentConnectionId_++,this.log_=im("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ff,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,w&&!(0,B.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Vy.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&kf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,a){const c=++this.requestNumber_,f={r:c,a:e,b:r};this.log_((0,B.Pz)(f)),(0,B.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),a&&(this.requestCBHash_[c]=a)}get(e){this.initConnection_();const r=new B.BH,a={p:e._path.toString(),q:e._queryObject},c={action:"g",request:a,onComplete:_=>{const b=_.d;"ok"===_.s?(this.onDataUpdate_(a.p,b,!1,null),r.resolve(b)):r.reject(b)}};this.outstandingGets_.push(c),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const _=this.outstandingGets_[f];void 0===_||c!==_||(delete this.outstandingGets_[f],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+f+" timed out on connection"),r.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(f),r.promise}listen(e,r,a,c){this.initConnection_();const f=e._queryIdentifier,_=e._path.toString();this.log_("Listen called for "+_+" "+f),this.listens.has(_)||this.listens.set(_,new Map),(0,B.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,B.hu)(!this.listens.get(_).has(f),"listen() called twice for same path/queryId.");const b={onComplete:c,hashFn:r,query:e,tag:a};this.listens.get(_).set(f,b),this.connected_&&this.sendListen_(b)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(a)})}sendListen_(e){const r=e.query,a=r._path.toString(),c=r._queryIdentifier;this.log_("Listen on "+a+" for "+c);const f={p:a};e.tag&&(f.q=r._queryObject,f.t=e.tag),f.h=e.hashFn(),this.sendRequest("q",f,b=>{const w=b.d,R=b.s;n.warnOnListenWarnings_(w,r),(this.listens.get(a)&&this.listens.get(a).get(c))===e&&(this.log_("listen response",b),"ok"!==R&&this.removeListen_(a,c),e.onComplete&&e.onComplete(R,w))})}static warnOnListenWarnings_(e,r){if(e&&"object"==typeof e&&(0,B.r3)(e,"w")){const a=(0,B.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const c='".indexOn": "'+r._queryParams.getIndex().toString()+'"',f=r._path.toString();Ti(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,B.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=(0,B.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(r,a,c=>{const f=c.s,_=c.d||"error";this.authToken_===e&&("ok"===f?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,_))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,a=e.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,a)})}unlisten(e,r){const a=e._path.toString(),c=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+c),(0,B.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,c)&&this.connected_&&this.sendUnlisten_(a,c,e._queryObject,r)}sendUnlisten_(e,r,a,c){this.log_("Unlisten on "+e+" for "+r);const f={p:e};c&&(f.q=a,f.t=c),this.sendRequest("n",f)}onDisconnectPut(e,r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:a})}onDisconnectMerge(e,r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:a})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,a,c){const f={p:r,d:a};this.log_("onDisconnect "+e,f),this.sendRequest(e,f,_=>{c&&setTimeout(()=>{c(_.s,_.d)},Math.floor(0))})}put(e,r,a,c){this.putInternal("p",e,r,a,c)}merge(e,r,a,c){this.putInternal("m",e,r,a,c)}putInternal(e,r,a,c,f){this.initConnection_();const _={p:r,d:a};void 0!==f&&(_.h=f),this.outstandingPuts_.push({action:e,request:_,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,c=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,a,f=>{this.log_(r+" response",f),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(f.s,f.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,B.Pz)(e));const r=e.r,a=this.requestCBHash_[r];a&&(delete this.requestCBHash_[r],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),"d"===e?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===e?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===e?this.onListenRevoked_(r.p,r.q):"ac"===e?this.onAuthRevoked_(r.s,r.d):"apc"===e?this.onAppCheckRevoked_(r.s,r.d):"sd"===e?this.onSecurityDebugPacket_(r):MC("Unrecognized action received from server: "+(0,B.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,B.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ff,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ff,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ff),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,si.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const r=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),c=e.onRealtimeDisconnect_.bind(e),f=e.id+":"+n.nextConnectionId_++,_=e.lastSessionId;let b=!1,w=null;const R=function(){w?w.close():(b=!0,c())};e.realtime_={close:R,sendRequest:function(Y){(0,B.hu)(w,"sendRequest call when we're not connected not allowed."),w.sendRequest(Y)}};const z=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[Y,ae]=yield Promise.all([e.authTokenProvider_.getToken(z),e.appCheckTokenProvider_.getToken(z)]);b?Or("getToken() completed but was canceled"):(Or("getToken() completed. Creating connection."),e.authToken_=Y&&Y.accessToken,e.appCheckToken_=ae&&ae.token,w=new xy(f,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,r,a,c,Oe=>{Ti(Oe+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},_))}catch(Y){e.log_("Failed to get token: "+Y),b||(e.repoInfo_.nodeAdmin&&Ti(Y),R())}}})()}interrupt(e){Or("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Or("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,B.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Ff,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let a;a=r?r.map(f=>sa(f)).join("$"):"default";const c=this.removeListen_(e,a);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(e,r){const a=new Gt(e).toString();let c;if(this.listens.has(a)){const f=this.listens.get(a);c=f.get(r),f.delete(r),0===f.size&&this.listens.delete(a)}else c=void 0;return c}onAuthRevoked_(e,r){Or("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){Or("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";(0,B.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+r+"."+nm.replace(/\./g,"-")]=1,(0,B.uI)()?e["framework.cordova"]=1:(0,B.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=kf.getInstance().currentlyOnline();return(0,B.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Qe{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Qe(t,e)}}class Qd{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const r=new Qe(ia,t),a=new Qe(ia,e);return 0!==this.compare(r,a)}minPost(){return Qe.MIN}}class la extends Qd{static get __EMPTY_NODE(){return By}static set __EMPTY_NODE(t){By=t}compare(t,e){return ic(t.name,e.name)}isDefinedOn(t){throw(0,B.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Qe.MIN}maxPost(){return new Qe(xs,By)}makePost(t,e){return(0,B.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Qe(t,By)}toString(){return".key"}}const ks=new la;class Jd{constructor(t,e,r,a,c=null){this.isReverse_=a,this.resultGenerator_=c,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(t=t,f=e?r(t.key,e):1,a&&(f*=-1),f<0)t=this.isReverse_?t.left:t.right;else{if(0===f){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let pm,ca=(()=>{class n{constructor(e,r,a,c,f){this.key=e,this.value=r,this.color=null!=a?a:n.RED,this.left=null!=c?c:Ai.EMPTY_NODE,this.right=null!=f?f:Ai.EMPTY_NODE}copy(e,r,a,c,f){return new n(null!=e?e:this.key,null!=r?r:this.value,null!=a?a:this.color,null!=c?c:this.left,null!=f?f:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let c=this;const f=a(e,c.key);return c=f<0?c.copy(null,null,null,c.left.insert(e,r,a),null):0===f?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(e,r,a)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ai.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let a,c;if(a=this,r(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===r(e,a.key)){if(a.right.isEmpty())return Ai.EMPTY_NODE;c=a.right.min_(),a=a.copy(c.key,c.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ai{constructor(t,e=Ai.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Ai(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,ca.BLACK,null,null))}remove(t){return new Ai(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ca.BLACK,null,null))}get(t){let e,r=this.root_;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e)return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null}getPredecessorKey(t){let e,r=this.root_,a=null;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e){if(r.left.isEmpty())return a?a.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}e<0?r=r.left:e>0&&(a=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Jd(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Jd(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Jd(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Jd(this.root_,null,this.comparator_,!0,t)}}function XC(n,t){return ic(n.name,t.name)}function fm(n,t){return ic(n,t)}Ai.EMPTY_NODE=new class{copy(t,e,r,a,c){return this}insert(t,e,r){return new ca(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const tE=function(n){return"number"==typeof n?"number:"+PS(n):"string:"+n},nE=function(n){if(n.isLeafNode()){const t=n.val();(0,B.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,B.r3)(t,".sv"),"Priority must be a string or number.")}else(0,B.hu)(n===pm||n.isEmpty(),"priority of unexpected type.");(0,B.hu)(n===pm||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Xd,Uy,jy,lc=(()=>{class n{constructor(e,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,(0,B.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),nE(this.priorityNode_)}static set __childrenNodeConstructor(e){Xd=e}static get __childrenNodeConstructor(){return Xd}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Pt(e)?this:".priority"===xt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return".priority"===e?this.updatePriority(r):r.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const a=xt(e);return null===a?r:r.isEmpty()&&".priority"!==a?this:((0,B.hu)(".priority"!==a||1===yu(e),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Yt(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+tE(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",e+="number"===r?PS(this.value_):this.value_,this.lazyHash_=AS(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,B.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,a=typeof this.value_,c=n.VALUE_TYPE_ORDER.indexOf(r),f=n.VALUE_TYPE_ORDER.indexOf(a);return(0,B.hu)(c>=0,"Unknown leaf type: "+r),(0,B.hu)(f>=0,"Unknown leaf type: "+a),c===f?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:f-c}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const gn=new class extends Qd{compare(t,e){const r=t.node.getPriority(),a=e.node.getPriority(),c=r.compareTo(a);return 0===c?ic(t.name,e.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Qe.MIN}maxPost(){return new Qe(xs,new lc("[PRIORITY-POST]",jy))}makePost(t,e){const r=Uy(t);return new Qe(e,new lc("[PRIORITY-POST]",r))}toString(){return".priority"}},eT=Math.log(2);class tT{constructor(t){this.count=parseInt(Math.log(t+1)/eT,10),this.current_=this.count-1;const a=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Lf=function(n,t,e,r){n.sort(t);const a=function(b,w){const R=w-b;let P,z;if(0===R)return null;if(1===R)return P=n[b],z=e?e(P):P,new ca(z,P.node,ca.BLACK,null,null);{const Y=parseInt(R/2,10)+b,ae=a(b,Y),Oe=a(Y+1,w);return P=n[Y],z=e?e(P):P,new ca(z,P.node,ca.BLACK,ae,Oe)}},_=function(b){let w=null,R=null,P=n.length;const z=function(ae,Oe){const Ve=P-ae,qe=P;P-=ae;const rt=a(Ve+1,qe),Nt=n[Ve],vt=e?e(Nt):Nt;Y(new ca(vt,Nt.node,Oe,null,rt))},Y=function(ae){w?(w.left=ae,w=ae):(R=ae,w=ae)};for(let ae=0;ae<b.count;++ae){const Oe=b.nextBitIsOne(),Ve=Math.pow(2,b.count-(ae+1));Oe?z(Ve,ca.BLACK):(z(Ve,ca.BLACK),z(Ve,ca.RED))}return R}(new tT(n.length));return new Ai(r||t,_)};let sE;const bu={};class gl{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,B.hu)(bu&&gn,"ChildrenNode.ts has not been loaded"),sE=sE||new gl({".priority":bu},{".priority":gn}),sE}get(t){const e=(0,B.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ai?e:null}hasIndex(t){return(0,B.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,B.hu)(t!==ks,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let a=!1;const c=e.getIterator(Qe.Wrap);let _,f=c.getNext();for(;f;)a=a||t.isDefinedOn(f.node),r.push(f),f=c.getNext();_=a?Lf(r,t.getCompare()):bu;const b=t.toString(),w=Object.assign({},this.indexSet_);w[b]=t;const R=Object.assign({},this.indexes_);return R[b]=_,new gl(R,w)}addToIndexes(t,e){const r=(0,B.UI)(this.indexes_,(a,c)=>{const f=(0,B.DV)(this.indexSet_,c);if((0,B.hu)(f,"Missing index implementation for "+c),a===bu){if(f.isDefinedOn(t.node)){const _=[],b=e.getIterator(Qe.Wrap);let w=b.getNext();for(;w;)w.name!==t.name&&_.push(w),w=b.getNext();return _.push(t),Lf(_,f.getCompare())}return bu}{const _=e.get(t.name);let b=a;return _&&(b=b.remove(new Qe(t.name,_))),b.insert(t,t.node)}});return new gl(r,this.indexSet_)}removeFromIndexes(t,e){const r=(0,B.UI)(this.indexes_,a=>{if(a===bu)return a;{const c=e.get(t.name);return c?a.remove(new Qe(t.name,c)):a}});return new gl(r,this.indexSet_)}}let Vf,At=(()=>{class n{constructor(e,r,a){this.children_=e,this.priorityNode_=r,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&nE(this.priorityNode_),this.children_.isEmpty()&&(0,B.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Vf||(Vf=new n(new Ai(fm),null,gl.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Vf}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const r=this.children_.get(e);return null===r?Vf:r}}getChild(e){const r=xt(e);return null===r?this:this.getImmediateChild(r).getChild(Yt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,r){if((0,B.hu)(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);{const a=new Qe(e,r);let c,f;r.isEmpty()?(c=this.children_.remove(e),f=this.indexMap_.removeFromIndexes(a,this.children_)):(c=this.children_.insert(e,r),f=this.indexMap_.addToIndexes(a,this.children_));const _=c.isEmpty()?Vf:this.priorityNode_;return new n(c,_,f)}}updateChild(e,r){const a=xt(e);if(null===a)return r;{(0,B.hu)(".priority"!==xt(e)||1===yu(e),".priority must be the last token in a path");const c=this.getImmediateChild(a).updateChild(Yt(e),r);return this.updateImmediateChild(a,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let a=0,c=0,f=!0;if(this.forEachChild(gn,(_,b)=>{r[_]=b.val(e),a++,f&&n.INTEGER_REGEXP_.test(_)?c=Math.max(c,Number(_)):f=!1}),!e&&f&&c<2*a){const _=[];for(const b in r)_[b]=r[b];return _}return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+tE(this.getPriority().val())+":"),this.forEachChild(gn,(r,a)=>{const c=a.hash();""!==c&&(e+=":"+r+":"+c)}),this.lazyHash_=""===e?"":AS(e)}return this.lazyHash_}getPredecessorChildName(e,r,a){const c=this.resolveIndex_(a);if(c){const f=c.getPredecessorKey(new Qe(e,r));return f?f.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const a=r.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new Qe(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const a=r.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new Qe(r,this.children_.get(r)):null}forEachChild(e,r){const a=this.resolveIndex_(e);return a?a.inorderTraversal(c=>r(c.name,c.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const a=this.resolveIndex_(r);if(a)return a.getIteratorFrom(e,c=>c);{const c=this.children_.getIteratorFrom(e.name,Qe.Wrap);let f=c.peek();for(;null!=f&&r.compare(f,e)<0;)c.getNext(),f=c.peek();return c}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const a=this.resolveIndex_(r);if(a)return a.getReverseIteratorFrom(e,c=>c);{const c=this.children_.getReverseIteratorFrom(e.name,Qe.Wrap);let f=c.peek();for(;null!=f&&r.compare(f,e)>0;)c.getNext(),f=c.peek();return c}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Cu?-1:0}withIndex(e){if(e===ks||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===ks||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const a=this.getIterator(gn),c=r.getIterator(gn);let f=a.getNext(),_=c.getNext();for(;f&&_;){if(f.name!==_.name||!f.node.equals(_.node))return!1;f=a.getNext(),_=c.getNext()}return null===f&&null===_}return!1}return!1}}resolveIndex_(e){return e===ks?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Cu=new class extends At{constructor(){super(new Ai(fm),At.EMPTY_NODE,gl.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return At.EMPTY_NODE}isEmpty(){return!1}};function Dn(n,t=null){if(null===n)return At.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,B.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new lc(n,Dn(t));if(n instanceof Array){let e=At.EMPTY_NODE;return _r(n,(r,a)=>{if((0,B.r3)(n,r)&&"."!==r.substring(0,1)){const c=Dn(a);(c.isLeafNode()||!c.isEmpty())&&(e=e.updateImmediateChild(r,c))}}),e.updatePriority(Dn(t))}{const e=[];let r=!1;if(_r(n,(f,_)=>{if("."!==f.substring(0,1)){const b=Dn(_);b.isEmpty()||(r=r||!b.getPriority().isEmpty(),e.push(new Qe(f,b)))}}),0===e.length)return At.EMPTY_NODE;const c=Lf(e,XC,f=>f.name,fm);if(r){const f=Lf(e,gn.getCompare());return new At(c,Dn(t),new gl({".priority":f},{".priority":gn}))}return new At(c,Dn(t),gl.Default)}}Object.defineProperties(Qe,{MIN:{value:new Qe(ia,At.EMPTY_NODE)},MAX:{value:new Qe(xs,Cu)}}),la.__EMPTY_NODE=At.EMPTY_NODE,lc.__childrenNodeConstructor=At,pm=Cu,jy=Cu,function(n){Uy=n}(Dn);class gm extends Qd{constructor(t){super(),this.indexPath_=t,(0,B.hu)(!Pt(t)&&".priority"!==xt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const r=this.extractChild(t.node),a=this.extractChild(e.node),c=r.compareTo(a);return 0===c?ic(t.name,e.name):c}makePost(t,e){const r=Dn(t),a=At.EMPTY_NODE.updateChild(this.indexPath_,r);return new Qe(e,a)}maxPost(){const t=At.EMPTY_NODE.updateChild(this.indexPath_,Cu);return new Qe(xs,t)}toString(){return pl(this.indexPath_,0).join("/")}}const ss=new class extends Qd{compare(t,e){const r=t.node.compareTo(e.node);return 0===r?ic(t.name,e.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Qe.MIN}maxPost(){return Qe.MAX}makePost(t,e){const r=Dn(t);return new Qe(e,r)}toString(){return".value"}},Bf="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",aE=function(){let n=0;const t=[];return function(e){const r=e===n;let a;n=e;const c=new Array(8);for(a=7;a>=0;a--)c[a]=Bf.charAt(e%64),e=Math.floor(e/64);(0,B.hu)(0===e,"Cannot push at time == 0");let f=c.join("");if(r){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)f+=Bf.charAt(t[a]);return(0,B.hu)(20===f.length,"nextPushId: Length should be 20."),f}}(),$y=function(n){if(n===""+_u)return"-";const t=hl(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let f=0;f<e.length;f++)e[f]=n.charAt(f);if(e.length<786)return e.push("-"),e.join("");let r=e.length-1;for(;r>=0&&"z"===e[r];)r--;if(-1===r)return xs;const c=Bf.charAt(Bf.indexOf(e[r])+1);return e[r]=c,e.slice(0,r+1).join("")},lE=function(n){if(n===""+OC)return ia;const t=hl(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let r=0;r<e.length;r++)e[r]=n.charAt(r);return"-"===e[e.length-1]?1===e.length?""+_u:(delete e[e.length-1],e.join("")):(e[e.length-1]=Bf.charAt(Bf.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function iT(n){return{type:"value",snapshotNode:n}}function Eu(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function wu(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Uf(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class zy{constructor(t){this.index_=t}updateChild(t,e,r,a,c,f){(0,B.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const _=t.getImmediateChild(e);return _.getChild(a).equals(r.getChild(a))&&_.isEmpty()===r.isEmpty()||(null!=f&&(r.isEmpty()?t.hasChild(e)?f.trackChildChange(wu(e,_)):(0,B.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):_.isEmpty()?f.trackChildChange(Eu(e,r)):f.trackChildChange(Uf(e,r,_))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(e,r).withIndex(this.index_)}updateFullNode(t,e,r){return null!=r&&(t.isLeafNode()||t.forEachChild(gn,(a,c)=>{e.hasChild(a)||r.trackChildChange(wu(a,c))}),e.isLeafNode()||e.forEachChild(gn,(a,c)=>{if(t.hasChild(a)){const f=t.getImmediateChild(a);f.equals(c)||r.trackChildChange(Uf(a,c,f))}else r.trackChildChange(Eu(a,c))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?At.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class jf{constructor(t){this.indexedFilter_=new zy(t.getIndex()),this.index_=t.getIndex(),this.startPost_=jf.getStartPost_(t),this.endPost_=jf.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,r,a,c,f){return this.matches(new Qe(e,r))||(r=At.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,r,a,c,f)}updateFullNode(t,e,r){e.isLeafNode()&&(e=At.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(At.EMPTY_NODE);const c=this;return e.forEachChild(gn,(f,_)=>{c.matches(new Qe(f,_))||(a=a.updateImmediateChild(f,At.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class sT{constructor(t){this.rangedFilter_=new jf(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,r,a,c,f){return this.rangedFilter_.matches(new Qe(e,r))||(r=At.EMPTY_NODE),t.getImmediateChild(e).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,r,a,c,f):this.fullLimitUpdateChild_(t,e,r,c,f)}updateFullNode(t,e,r){let a;if(e.isLeafNode()||e.isEmpty())a=At.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let c;a=At.EMPTY_NODE.withIndex(this.index_),c=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;c.hasNext()&&f<this.limit_;){const _=c.getNext();let b;if(b=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),_)<=0:this.index_.compare(_,this.rangedFilter_.getEndPost())<=0,!b)break;a=a.updateImmediateChild(_.name,_.node),f++}}else{let c,f,_,b;if(a=e.withIndex(this.index_),a=a.updatePriority(At.EMPTY_NODE),this.reverse_){b=a.getReverseIterator(this.index_),c=this.rangedFilter_.getEndPost(),f=this.rangedFilter_.getStartPost();const P=this.index_.getCompare();_=(z,Y)=>P(Y,z)}else b=a.getIterator(this.index_),c=this.rangedFilter_.getStartPost(),f=this.rangedFilter_.getEndPost(),_=this.index_.getCompare();let w=0,R=!1;for(;b.hasNext();){const P=b.getNext();!R&&_(c,P)<=0&&(R=!0),R&&w<this.limit_&&_(P,f)<=0?w++:a=a.updateImmediateChild(P.name,At.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,r,a,c){let f;if(this.reverse_){const P=this.index_.getCompare();f=(z,Y)=>P(Y,z)}else f=this.index_.getCompare();const _=t;(0,B.hu)(_.numChildren()===this.limit_,"");const b=new Qe(e,r),w=this.reverse_?_.getFirstChild(this.index_):_.getLastChild(this.index_),R=this.rangedFilter_.matches(b);if(_.hasChild(e)){const P=_.getImmediateChild(e);let z=a.getChildAfterChild(this.index_,w,this.reverse_);for(;null!=z&&(z.name===e||_.hasChild(z.name));)z=a.getChildAfterChild(this.index_,z,this.reverse_);const Y=null==z?1:f(z,b);if(R&&!r.isEmpty()&&Y>=0)return null!=c&&c.trackChildChange(Uf(e,r,P)),_.updateImmediateChild(e,r);{null!=c&&c.trackChildChange(wu(e,P));const Oe=_.updateImmediateChild(e,At.EMPTY_NODE);return null!=z&&this.rangedFilter_.matches(z)?(null!=c&&c.trackChildChange(Eu(z.name,z.node)),Oe.updateImmediateChild(z.name,z.node)):Oe}}return r.isEmpty()?t:R&&f(w,b)>=0?(null!=c&&(c.trackChildChange(wu(w.name,w.node)),c.trackChildChange(Eu(e,r))),_.updateImmediateChild(e,r).updateImmediateChild(w.name,At.EMPTY_NODE)):t}}class mm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=gn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,B.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,B.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ia}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,B.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,B.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,B.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===gn}copy(){const t=new mm;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function cc(n,t,e){const r=n.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=e?(r.startNameSet_=!0,r.indexStartName_=e):(r.startNameSet_=!1,r.indexStartName_=""),r}function os(n,t,e){const r=n.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==e?(r.endNameSet_=!0,r.indexEndName_=e):(r.endNameSet_=!1,r.indexEndName_=""),r}function ym(n,t){const e=n.copy();return e.index_=t,e}function uE(n){const t={};if(n.isDefault())return t;let e;return n.index_===gn?e="$priority":n.index_===ss?e="$value":n.index_===ks?e="$key":((0,B.hu)(n.index_ instanceof gm,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,B.Pz)(e),n.startSet_&&(t.startAt=(0,B.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,B.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,B.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,B.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function vm(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==gn&&(t.i=n.index_.toString()),t}class as extends ky{constructor(t,e,r,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=r,this.appCheckTokenProvider_=a,this.log_=im("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,B.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,r,a){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const f=as.getListenId_(t,r),_={};this.listens_[f]=_;const b=uE(t._queryParams);this.restRequest_(c+".json",b,(w,R)=>{let P=R;if(404===w&&(P=null,w=null),null===w&&this.onDataUpdate_(c,P,!1,r),(0,B.DV)(this.listens_,f)===_){let z;z=w?401===w?"permission_denied":"rest_error:"+w:"ok",a(z,null)}})}unlisten(t,e){const r=as.getListenId_(t,e);delete this.listens_[r]}get(t){const e=uE(t._queryParams),r=t._path.toString(),a=new B.BH;return this.restRequest_(r+".json",e,(c,f)=>{let _=f;404===c&&(_=null,c=null),null===c?(this.onDataUpdate_(r,_,!1,null),a.resolve(_)):a.reject(new Error(_))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},r){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,c])=>{a&&a.accessToken&&(e.auth=a.accessToken),c&&c.token&&(e.ac=c.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,B.xO)(e);this.log_("Sending REST request for "+f);const _=new XMLHttpRequest;_.onreadystatechange=()=>{if(r&&4===_.readyState){this.log_("REST Response for "+f+" received. status:",_.status,"response:",_.responseText);let b=null;if(_.status>=200&&_.status<300){try{b=(0,B.cI)(_.responseText)}catch(w){Ti("Failed to parse JSON response for "+f+": "+_.responseText)}r(null,b)}else 401!==_.status&&404!==_.status&&Ti("Got unsuccessful REST response for "+f+" Status: "+_.status),r(_.status);r=null}},_.open("GET",f,!0),_.send()})}}class $f{constructor(){this.rootNode_=At.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function lr(){return{value:null,children:new Map}}function Ns(n,t,e){if(Pt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const r=xt(t);n.children.has(r)||n.children.set(r,lr()),Ns(n.children.get(r),t=Yt(t),e)}}function eh(n,t){if(Pt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(gn,(r,a)=>{Ns(n,new Gt(r),a)}),eh(n,t)}}if(n.children.size>0){const e=xt(t);return t=Yt(t),n.children.has(e)&&eh(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function Mi(n,t,e){null!==n.value?e(t,n.value):function(n,t){n.children.forEach((e,r)=>{t(r,e)})}(n,(r,a)=>{Mi(a,new Gt(t.toString()+"/"+r),e)})}class th{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&_r(this.last_,(r,a)=>{e[r]=e[r]-a}),this.last_=t,e}}class ih{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new th(t);const r=1e4+2e4*Math.random();fl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),e={};let r=!1;_r(t,(a,c)=>{c>0&&(0,B.r3)(this.statsToReport_,a)&&(e[a]=c,r=!0)}),r&&this.server_.reportStats(e),fl(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Pr=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Pr||(Pr={})),Pr))();function hc(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Gf{constructor(t,e,r){this.path=t,this.affectedTree=e,this.revert=r,this.type=Pr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Pt(this.path)){if(null!=this.affectedTree.value)return(0,B.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Gt(t));return new Gf(Wt(),e,this.revert)}}return(0,B.hu)(xt(this.path)===t,"operationForChild called for unrelated child."),new Gf(Yt(this.path),this.affectedTree,this.revert)}}class sh{constructor(t,e){this.source=t,this.path=e,this.type=Pr.LISTEN_COMPLETE}operationForChild(t){return Pt(this.path)?new sh(this.source,Wt()):new sh(this.source,Yt(this.path))}}class fc{constructor(t,e,r){this.source=t,this.path=e,this.snap=r,this.type=Pr.OVERWRITE}operationForChild(t){return Pt(this.path)?new fc(this.source,Wt(),this.snap.getImmediateChild(t)):new fc(this.source,Yt(this.path),this.snap)}}class Su{constructor(t,e,r){this.source=t,this.path=e,this.children=r,this.type=Pr.MERGE}operationForChild(t){if(Pt(this.path)){const e=this.children.subtree(new Gt(t));return e.isEmpty()?null:e.value?new fc(this.source,Wt(),e.value):new Su(this.source,Wt(),e)}return(0,B.hu)(xt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Su(this.source,Yt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ml{constructor(t,e,r){this.node_=t,this.fullyInitialized_=e,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Pt(t))return this.isFullyInitialized()&&!this.filtered_;const e=xt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class dE{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function oh(n,t,e,r,a,c){const f=r.filter(_=>_.type===e);f.sort((_,b)=>function(n,t,e){if(null==t.childName||null==e.childName)throw(0,B.g5)("Should only compare child_ events.");const r=new Qe(t.childName,t.snapshotNode),a=new Qe(e.childName,e.snapshotNode);return n.index_.compare(r,a)}(n,_,b)),f.forEach(_=>{const b=function(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,_,c);a.forEach(w=>{w.respondsTo(_.type)&&t.push(w.createEvent(b,n.query_))})})}function zf(n,t){return{eventCache:n,serverCache:t}}function Wf(n,t,e,r){return zf(new ml(t,e,r),n.serverCache)}function pE(n,t,e,r){return zf(n.eventCache,new ml(t,e,r))}function Yf(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Tu(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let gE;class un{constructor(t,e=(()=>(gE||(gE=new Ai(_y)),gE))()){this.value=t,this.children=e}static fromObject(t){let e=new un(null);return _r(t,(r,a)=>{e=e.set(new Gt(r),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Wt(),value:this.value};if(Pt(t))return null;{const r=xt(t),a=this.children.get(r);if(null!==a){const c=a.findRootMostMatchingPathAndValue(Yt(t),e);return null!=c?{path:pn(new Gt(r),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Pt(t))return this;{const e=xt(t),r=this.children.get(e);return null!==r?r.subtree(Yt(t)):new un(null)}}set(t,e){if(Pt(t))return new un(e,this.children);{const r=xt(t),c=(this.children.get(r)||new un(null)).set(Yt(t),e),f=this.children.insert(r,c);return new un(this.value,f)}}remove(t){if(Pt(t))return this.children.isEmpty()?new un(null):new un(null,this.children);{const e=xt(t),r=this.children.get(e);if(r){const a=r.remove(Yt(t));let c;return c=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&c.isEmpty()?new un(null):new un(this.value,c)}return this}}get(t){if(Pt(t))return this.value;{const e=xt(t),r=this.children.get(e);return r?r.get(Yt(t)):null}}setTree(t,e){if(Pt(t))return e;{const r=xt(t),c=(this.children.get(r)||new un(null)).setTree(Yt(t),e);let f;return f=c.isEmpty()?this.children.remove(r):this.children.insert(r,c),new un(this.value,f)}}fold(t){return this.fold_(Wt(),t)}fold_(t,e){const r={};return this.children.inorderTraversal((a,c)=>{r[a]=c.fold_(pn(t,a),e)}),e(t,this.value,r)}findOnPath(t,e){return this.findOnPath_(t,Wt(),e)}findOnPath_(t,e,r){const a=!!this.value&&r(e,this.value);if(a)return a;if(Pt(t))return null;{const c=xt(t),f=this.children.get(c);return f?f.findOnPath_(Yt(t),pn(e,c),r):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Wt(),e)}foreachOnPath_(t,e,r){if(Pt(t))return this;{this.value&&r(e,this.value);const a=xt(t),c=this.children.get(a);return c?c.foreachOnPath_(Yt(t),pn(e,a),r):new un(null)}}foreach(t){this.foreach_(Wt(),t)}foreach_(t,e){this.children.inorderTraversal((r,a)=>{a.foreach_(pn(t,r),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,r)=>{r.value&&t(e,r.value)})}}class go{constructor(t){this.writeTree_=t}static empty(){return new go(new un(null))}}function ah(n,t,e){if(Pt(t))return new go(new un(e));{const r=n.writeTree_.findRootMostValueAndPath(t);if(null!=r){const a=r.path;let c=r.value;const f=oi(a,t);return c=c.updateChild(f,e),new go(n.writeTree_.set(a,c))}{const a=new un(e),c=n.writeTree_.setTree(t,a);return new go(c)}}}function Yy(n,t,e){let r=n;return _r(e,(a,c)=>{r=ah(r,pn(t,a),c)}),r}function mE(n,t){if(Pt(t))return go.empty();{const e=n.writeTree_.setTree(t,new un(null));return new go(e)}}function _E(n,t){return null!=Iu(n,t)}function Iu(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(oi(e.path,t)):null}function Zy(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(gn,(r,a)=>{t.push(new Qe(r,a))}):n.writeTree_.children.inorderTraversal((r,a)=>{null!=a.value&&t.push(new Qe(r,a.value))}),t}function Au(n,t){if(Pt(t))return n;{const e=Iu(n,t);return new go(null!=e?new un(e):n.writeTree_.subtree(t))}}function yE(n){return n.writeTree_.isEmpty()}function Zf(n,t){return vE(Wt(),n.writeTree_,t)}function vE(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let r=null;return t.children.inorderTraversal((a,c)=>{".priority"===a?((0,B.hu)(null!==c.value,"Priority writes must always be leaf nodes"),r=c.value):e=vE(pn(n,a),c,e)}),!e.getChild(n).isEmpty()&&null!==r&&(e=e.updateChild(pn(n,".priority"),r)),e}}function qy(n,t){return SE(t,n)}function hT(n,t){if(n.snap)return Ii(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Ii(pn(n.path,e),t))return!0;return!1}function nO(n){return n.visible}function fT(n,t,e){let r=go.empty();for(let a=0;a<n.length;++a){const c=n[a];if(t(c)){const f=c.path;let _;if(c.snap)Ii(e,f)?(_=oi(e,f),r=ah(r,_,c.snap)):Ii(f,e)&&(_=oi(f,e),r=ah(r,Wt(),c.snap.getChild(_)));else{if(!c.children)throw(0,B.g5)("WriteRecord should have .snap or .children");if(Ii(e,f))_=oi(e,f),r=Yy(r,_,c.children);else if(Ii(f,e))if(_=oi(f,e),Pt(_))r=Yy(r,Wt(),c.children);else{const b=(0,B.DV)(c.children,xt(_));if(b){const w=b.getChild(Yt(_));r=ah(r,Wt(),w)}}}}}return r}function bE(n,t,e,r,a){if(r||a){const c=Au(n.visibleWrites,t);return!a&&yE(c)?e:a||null!=e||_E(c,Wt())?Zf(fT(n.allWrites,function(w){return(w.visible||a)&&(!r||!~r.indexOf(w.writeId))&&(Ii(w.path,t)||Ii(t,w.path))},t),e||At.EMPTY_NODE):null}{const c=Iu(n.visibleWrites,t);if(null!=c)return c;{const f=Au(n.visibleWrites,t);return yE(f)?e:null!=e||_E(f,Wt())?Zf(f,e||At.EMPTY_NODE):null}}}function bm(n,t,e,r){return bE(n.writeTree,n.treePath,t,e,r)}function Cm(n,t){return function(n,t,e){let r=At.EMPTY_NODE;const a=Iu(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(gn,(c,f)=>{r=r.updateImmediateChild(c,f)}),r;if(e){const c=Au(n.visibleWrites,t);return e.forEachChild(gn,(f,_)=>{const b=Zf(Au(c,new Gt(f)),_);r=r.updateImmediateChild(f,b)}),Zy(c).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}return Zy(Au(n.visibleWrites,t)).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}(n.writeTree,n.treePath,t)}function qf(n,t,e,r){return function(n,t,e,r,a){(0,B.hu)(r||a,"Either existingEventSnap or existingServerSnap must exist");const c=pn(t,e);if(_E(n.visibleWrites,c))return null;{const f=Au(n.visibleWrites,c);return yE(f)?a.getChild(e):Zf(f,a.getChild(e))}}(n.writeTree,n.treePath,t,e,r)}function Em(n,t){return function(n,t){return Iu(n.visibleWrites,t)}(n.writeTree,pn(n.treePath,t))}function Jy(n,t,e){return function(n,t,e,r){const a=pn(t,e),c=Iu(n.visibleWrites,a);return null!=c?c:r.isCompleteForChild(e)?Zf(Au(n.visibleWrites,a),r.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function DE(n,t){return SE(pn(n.treePath,t),n.writeTree)}function SE(n,t){return{treePath:n,writeTree:t}}class mT{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,r=t.childName;(0,B.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,B.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(r);if(a){const c=a.type;if("child_added"===e&&"child_removed"===c)this.changeMap.set(r,Uf(r,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===c)this.changeMap.delete(r);else if("child_removed"===e&&"child_changed"===c)this.changeMap.set(r,wu(r,a.oldSnap));else if("child_changed"===e&&"child_added"===c)this.changeMap.set(r,Eu(r,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==c)throw(0,B.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(r,Uf(r,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const Xy=new class{getCompleteChild(t){return null}getChildAfterChild(t,e,r){return null}};class ev{constructor(t,e,r=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=r}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new ml(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Jy(this.writes_,t,r)}}getChildAfterChild(t,e,r){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Tu(this.viewCache_),c=function(n,t,e,r,a,c){return function(n,t,e,r,a,c,f){let _;const b=Au(n.visibleWrites,t),w=Iu(b,Wt());if(null!=w)_=w;else{if(null==e)return[];_=Zf(b,e)}if(_=_.withIndex(f),_.isEmpty()||_.isLeafNode())return[];{const R=[],P=f.getCompare(),z=c?_.getReverseIteratorFrom(r,f):_.getIteratorFrom(r,f);let Y=z.getNext();for(;Y&&R.length<a;)0!==P(Y,r)&&R.push(Y),Y=z.getNext();return R}}(n.writeTree,n.treePath,t,e,r,a,c)}(this.writes_,a,e,1,r,t);return 0===c.length?null:c[0]}}function wm(n,t,e,r,a,c){const f=t.eventCache;if(null!=Em(r,e))return t;{let _,b;if(Pt(e))if((0,B.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const w=Tu(t),P=Cm(r,w instanceof At?w:At.EMPTY_NODE);_=n.filter.updateFullNode(t.eventCache.getNode(),P,c)}else{const w=bm(r,Tu(t));_=n.filter.updateFullNode(t.eventCache.getNode(),w,c)}else{const w=xt(e);if(".priority"===w){(0,B.hu)(1===yu(e),"Can't have a priority with additional path components");const R=f.getNode();b=t.serverCache.getNode();const P=qf(r,e,R,b);_=null!=P?n.filter.updatePriority(R,P):f.getNode()}else{const R=Yt(e);let P;if(f.isCompleteForChild(w)){b=t.serverCache.getNode();const z=qf(r,e,f.getNode(),b);P=null!=z?f.getNode().getImmediateChild(w).updateChild(R,z):f.getNode().getImmediateChild(w)}else P=Jy(r,w,t.serverCache);_=null!=P?n.filter.updateChild(f.getNode(),w,P,R,a,c):f.getNode()}}return Wf(t,_,f.isFullyInitialized()||Pt(e),n.filter.filtersNodes())}}function Dm(n,t,e,r,a,c,f,_){const b=t.serverCache;let w;const R=f?n.filter:n.filter.getIndexedFilter();if(Pt(e))w=R.updateFullNode(b.getNode(),r,null);else if(R.filtersNodes()&&!b.isFiltered()){const Y=b.getNode().updateChild(e,r);w=R.updateFullNode(b.getNode(),Y,null)}else{const Y=xt(e);if(!b.isCompleteForPath(e)&&yu(e)>1)return t;const ae=Yt(e),Ve=b.getNode().getImmediateChild(Y).updateChild(ae,r);w=".priority"===Y?R.updatePriority(b.getNode(),Ve):R.updateChild(b.getNode(),Y,Ve,ae,Xy,null)}const P=pE(t,w,b.isFullyInitialized()||Pt(e),R.filtersNodes());return wm(n,P,e,a,new ev(a,P,c),_)}function AE(n,t,e,r,a,c,f){const _=t.eventCache;let b,w;const R=new ev(a,t,c);if(Pt(e))w=n.filter.updateFullNode(t.eventCache.getNode(),r,f),b=Wf(t,w,!0,n.filter.filtersNodes());else{const P=xt(e);if(".priority"===P)w=n.filter.updatePriority(t.eventCache.getNode(),r),b=Wf(t,w,_.isFullyInitialized(),_.isFiltered());else{const z=Yt(e),Y=_.getNode().getImmediateChild(P);let ae;if(Pt(z))ae=r;else{const Oe=R.getCompleteChild(P);ae=null!=Oe?".priority"===hm(z)&&Oe.getChild(ZC(z)).isEmpty()?Oe:Oe.updateChild(z,r):At.EMPTY_NODE}b=Y.equals(ae)?t:Wf(t,n.filter.updateChild(_.getNode(),P,ae,z,R,f),_.isFullyInitialized(),n.filter.filtersNodes())}}return b}function ch(n,t){return n.eventCache.isCompleteForChild(t)}function Sm(n,t,e){return e.foreach((r,a)=>{t=t.updateChild(r,a)}),t}function Kf(n,t,e,r,a,c,f,_){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let w,b=t;w=Pt(e)?r:new un(null).setTree(e,r);const R=t.serverCache.getNode();return w.children.inorderTraversal((P,z)=>{if(R.hasChild(P)){const ae=Sm(0,t.serverCache.getNode().getImmediateChild(P),z);b=Dm(n,b,new Gt(P),ae,a,c,f,_)}}),w.children.inorderTraversal((P,z)=>{const Y=!t.serverCache.isCompleteForChild(P)&&void 0===z.value;if(!R.hasChild(P)&&!Y){const Oe=Sm(0,t.serverCache.getNode().getImmediateChild(P),z);b=Dm(n,b,new Gt(P),Oe,a,c,f,_)}}),b}class ME{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,a=new zy(r.getIndex()),c=function(n){return n.loadsAllData()?new zy(n.getIndex()):n.hasLimit()?new sT(n):new jf(n)}(r);this.processor_=function(n){return{filter:n}}(c);const f=e.serverCache,_=e.eventCache,b=a.updateFullNode(At.EMPTY_NODE,f.getNode(),null),w=c.updateFullNode(At.EMPTY_NODE,_.getNode(),null),R=new ml(b,f.isFullyInitialized(),a.filtersNodes()),P=new ml(w,_.isFullyInitialized(),c.filtersNodes());this.viewCache_=zf(P,R),this.eventGenerator_=new dE(this.query_)}get query(){return this.query_}}function RE(n,t){const e=Tu(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Pt(t)&&!e.getImmediateChild(xt(t)).isEmpty())?e.getChild(t):null}function iv(n){return 0===n.eventRegistrations_.length}function sv(n,t,e){const r=[];if(e){(0,B.hu)(null==t,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(c=>{const f=c.createCancelEvent(e,a);f&&r.push(f)})}if(t){let a=[];for(let c=0;c<n.eventRegistrations_.length;++c){const f=n.eventRegistrations_[c];if(f.matches(t)){if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(c+1));break}}else a.push(f)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return r}function Tm(n,t,e,r){t.type===Pr.MERGE&&null!==t.source.queryId&&((0,B.hu)(Tu(n.viewCache_),"We should always have a full cache before handling merges"),(0,B.hu)(Yf(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,c=function(n,t,e,r,a){const c=new mT;let f,_;if(e.type===Pr.OVERWRITE){const w=e;w.source.fromUser?f=AE(n,t,w.path,w.snap,r,a,c):((0,B.hu)(w.source.fromServer,"Unknown source."),_=w.source.tagged||t.serverCache.isFiltered()&&!Pt(w.path),f=Dm(n,t,w.path,w.snap,r,a,_,c))}else if(e.type===Pr.MERGE){const w=e;w.source.fromUser?f=function(n,t,e,r,a,c,f){let _=t;return r.foreach((b,w)=>{const R=pn(e,b);ch(t,xt(R))&&(_=AE(n,_,R,w,a,c,f))}),r.foreach((b,w)=>{const R=pn(e,b);ch(t,xt(R))||(_=AE(n,_,R,w,a,c,f))}),_}(n,t,w.path,w.children,r,a,c):((0,B.hu)(w.source.fromServer,"Unknown source."),_=w.source.tagged||t.serverCache.isFiltered(),f=Kf(n,t,w.path,w.children,r,a,_,c))}else if(e.type===Pr.ACK_USER_WRITE){const w=e;f=w.revert?function(n,t,e,r,a,c){let f;if(null!=Em(r,e))return t;{const _=new ev(r,t,a),b=t.eventCache.getNode();let w;if(Pt(e)||".priority"===xt(e)){let R;if(t.serverCache.isFullyInitialized())R=bm(r,Tu(t));else{const P=t.serverCache.getNode();(0,B.hu)(P instanceof At,"serverChildren would be complete if leaf node"),R=Cm(r,P)}R=R,w=n.filter.updateFullNode(b,R,c)}else{const R=xt(e);let P=Jy(r,R,t.serverCache);null==P&&t.serverCache.isCompleteForChild(R)&&(P=b.getImmediateChild(R)),w=null!=P?n.filter.updateChild(b,R,P,Yt(e),_,c):t.eventCache.getNode().hasChild(R)?n.filter.updateChild(b,R,At.EMPTY_NODE,Yt(e),_,c):b,w.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=bm(r,Tu(t)),f.isLeafNode()&&(w=n.filter.updateFullNode(w,f,c)))}return f=t.serverCache.isFullyInitialized()||null!=Em(r,Wt()),Wf(t,w,f,n.filter.filtersNodes())}}(n,t,w.path,r,a,c):function(n,t,e,r,a,c,f){if(null!=Em(a,e))return t;const _=t.serverCache.isFiltered(),b=t.serverCache;if(null!=r.value){if(Pt(e)&&b.isFullyInitialized()||b.isCompleteForPath(e))return Dm(n,t,e,b.getNode().getChild(e),a,c,_,f);if(Pt(e)){let w=new un(null);return b.getNode().forEachChild(ks,(R,P)=>{w=w.set(new Gt(R),P)}),Kf(n,t,e,w,a,c,_,f)}return t}{let w=new un(null);return r.foreach((R,P)=>{const z=pn(e,R);b.isCompleteForPath(z)&&(w=w.set(R,b.getNode().getChild(z)))}),Kf(n,t,e,w,a,c,_,f)}}(n,t,w.path,w.affectedTree,r,a,c)}else{if(e.type!==Pr.LISTEN_COMPLETE)throw(0,B.g5)("Unknown operation type: "+e.type);f=function(n,t,e,r,a){const c=t.serverCache;return wm(n,pE(t,c.getNode(),c.isFullyInitialized()||Pt(e),c.isFiltered()),e,r,Xy,a)}(n,t,e.path,r,c)}const b=c.getChanges();return function(n,t,e){const r=t.eventCache;if(r.isFullyInitialized()){const a=r.getNode().isLeafNode()||r.getNode().isEmpty(),c=Yf(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!r.getNode().equals(c)||!r.getNode().getPriority().equals(c.getPriority()))&&e.push(iT(Yf(t)))}}(t,f,b),{viewCache:f,changes:b}}(n.processor_,a,t,e,r);return function(n,t){(0,B.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,B.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,c.viewCache),(0,B.hu)(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=c.viewCache,Im(n,c.changes,c.viewCache.eventCache.getNode(),null)}function Im(n,t,e,r){return function(n,t,e,r){const a=[],c=[];return t.forEach(f=>{"child_changed"===f.type&&n.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&c.push(function(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(f.childName,f.snapshotNode))}),oh(n,a,"child_removed",t,r,e),oh(n,a,"child_added",t,r,e),oh(n,a,"child_moved",c,r,e),oh(n,a,"child_changed",t,r,e),oh(n,a,"value",t,r,e),a}(n.eventGenerator_,t,e,r?[r]:n.eventRegistrations_)}let uh,ep;class Am{constructor(){this.views=new Map}}function Qf(n,t,e,r){const a=t.source.queryId;if(null!==a){const c=n.views.get(a);return(0,B.hu)(null!=c,"SyncTree gave us an op for an invalid query."),Tm(c,t,e,r)}{let c=[];for(const f of n.views.values())c=c.concat(Tm(f,t,e,r));return c}}function ov(n,t,e,r,a){const f=n.views.get(t._queryIdentifier);if(!f){let _=bm(e,a?r:null),b=!1;_?b=!0:r instanceof At?(_=Cm(e,r),b=!1):(_=At.EMPTY_NODE,b=!1);const w=zf(new ml(_,b,!1),new ml(r,a,!1));return new ME(t,w)}return f}function av(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function ua(n,t){let e=null;for(const r of n.views.values())e=e||RE(r,t);return e}function Jf(n,t){return t._queryParams.loadsAllData()?Xf(n):n.views.get(t._queryIdentifier)}function lv(n,t){return null!=Jf(n,t)}function _l(n){return null!=Xf(n)}function Xf(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let LE=1;class cv{constructor(t){this.listenProvider_=t,this.syncPointTree_=new un(null),this.pendingWriteTree_={visibleWrites:go.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function VE(n,t,e,r,a){return function(n,t,e,r,a){(0,B.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:r,visible:a}),a&&(n.visibleWrites=ah(n.visibleWrites,t,e)),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r,a),a?mo(n,new fc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function pc(n,t,e=!1){const r=function(n,t){for(let e=0;e<n.allWrites.length;e++){const r=n.allWrites[e];if(r.writeId===t)return r}return null}(n.pendingWriteTree_,t);if(function(n,t){const e=n.allWrites.findIndex(_=>_.writeId===t);(0,B.hu)(e>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[e];n.allWrites.splice(e,1);let a=r.visible,c=!1,f=n.allWrites.length-1;for(;a&&f>=0;){const _=n.allWrites[f];_.visible&&(f>=e&&hT(_,r.path)?a=!1:Ii(r.path,_.path)&&(c=!0)),f--}return!!a&&(c?(function(n){n.visibleWrites=fT(n.allWrites,nO,Wt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=mE(n.visibleWrites,r.path):_r(r.children,b=>{n.visibleWrites=mE(n.visibleWrites,pn(r.path,b))}),!0))}(n.pendingWriteTree_,t)){let c=new un(null);return null!=r.snap?c=c.set(Wt(),!0):_r(r.children,f=>{c=c.set(new Gt(f),!0)}),mo(n,new Gf(r.path,c,e))}return[]}function dh(n,t,e){return mo(n,new fc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function uv(n,t,e,r){const a=t._path,c=n.syncPointTree_.get(a);let f=[];if(c&&("default"===t._queryIdentifier||lv(c,t))){const _=function(n,t,e,r){const a=t._queryIdentifier,c=[];let f=[];const _=_l(n);if("default"===a)for(const[b,w]of n.views.entries())f=f.concat(sv(w,e,r)),iv(w)&&(n.views.delete(b),w.query._queryParams.loadsAllData()||c.push(w.query));else{const b=n.views.get(a);b&&(f=f.concat(sv(b,e,r)),iv(b)&&(n.views.delete(a),b.query._queryParams.loadsAllData()||c.push(b.query)))}return _&&!_l(n)&&c.push(new((0,B.hu)(uh,"Reference.ts has not been loaded"),uh)(t._repo,t._path)),{removed:c,events:f}}(c,t,e,r);(function(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(a));const b=_.removed;f=_.events;const w=-1!==b.findIndex(P=>P._queryParams.loadsAllData()),R=n.syncPointTree_.findOnPath(a,(P,z)=>_l(z));if(w&&!R){const P=n.syncPointTree_.subtree(a);if(!P.isEmpty()){const z=function(n){return n.fold((t,e,r)=>{if(e&&_l(e))return[Xf(e)];{let a=[];return e&&(a=av(e)),_r(r,(c,f)=>{a=a.concat(f)}),a}})}(P);for(let Y=0;Y<z.length;++Y){const ae=z[Y],Oe=ae.query,Ve=dv(n,ae);n.listenProvider_.startListening(sp(Oe),Mm(n,Oe),Ve.hashFn,Ve.onComplete)}}}if(!R&&b.length>0&&!r)if(w){const P=null;n.listenProvider_.stopListening(sp(t),P)}else b.forEach(P=>{const z=n.queryToTagMap.get(np(P));n.listenProvider_.stopListening(sp(P),z)});!function(n,t){for(let e=0;e<t.length;++e){const r=t[e];if(!r._queryParams.loadsAllData()){const a=np(r),c=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(c)}}}(n,b)}return f}function jE(n,t,e){const r=t._path;let a=null,c=!1;n.syncPointTree_.foreachOnPath(r,(P,z)=>{const Y=oi(P,r);a=a||ua(z,Y),c=c||_l(z)});let _,f=n.syncPointTree_.get(r);f?(c=c||_l(f),a=a||ua(f,Wt())):(f=new Am,n.syncPointTree_=n.syncPointTree_.set(r,f)),null!=a?_=!0:(_=!1,a=At.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((z,Y)=>{const ae=ua(Y,Wt());ae&&(a=a.updateImmediateChild(z,ae))}));const b=lv(f,t);if(!b&&!t._queryParams.loadsAllData()){const P=np(t);(0,B.hu)(!n.queryToTagMap.has(P),"View does not exist, but we have a tag");const z=LE++;n.queryToTagMap.set(P,z),n.tagToQueryMap.set(z,P)}let R=function(n,t,e,r,a,c){const f=ov(n,t,r,a,c);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,f),function(n,t){n.eventRegistrations_.push(t)}(f,e),function(n,t){const e=n.viewCache_.eventCache,r=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(gn,(c,f)=>{r.push(Eu(c,f))}),e.isFullyInitialized()&&r.push(iT(e.getNode())),Im(n,r,e.getNode(),t)}(f,e)}(f,t,e,qy(n.pendingWriteTree_,r),a,_);if(!b&&!c){const P=Jf(f,t);R=R.concat(function(n,t,e){const r=t._path,a=Mm(n,t),c=dv(n,e),f=n.listenProvider_.startListening(sp(t),a,c.hashFn,c.onComplete),_=n.syncPointTree_.subtree(r);if(a)(0,B.hu)(!_l(_.value),"If we're adding a query, it shouldn't be shadowed");else{const b=_.fold((w,R,P)=>{if(!Pt(w)&&R&&_l(R))return[Xf(R).query];{let z=[];return R&&(z=z.concat(av(R).map(Y=>Y.query))),_r(P,(Y,ae)=>{z=z.concat(ae)}),z}});for(let w=0;w<b.length;++w){const R=b[w];n.listenProvider_.stopListening(sp(R),Mm(n,R))}}return f}(n,t,P))}return R}function tp(n,t,e){const a=n.pendingWriteTree_,c=n.syncPointTree_.findOnPath(t,(f,_)=>{const w=ua(_,oi(f,t));if(w)return w});return bE(a,t,c,e,!0)}function mo(n,t){return $E(t,n.syncPointTree_,null,qy(n.pendingWriteTree_,Wt()))}function $E(n,t,e,r){if(Pt(n.path))return GE(n,t,e,r);{const a=t.get(Wt());null==e&&null!=a&&(e=ua(a,Wt()));let c=[];const f=xt(n.path),_=n.operationForChild(f),b=t.children.get(f);if(b&&_){const w=e?e.getImmediateChild(f):null,R=DE(r,f);c=c.concat($E(_,b,w,R))}return a&&(c=c.concat(Qf(a,n,r,e))),c}}function GE(n,t,e,r){const a=t.get(Wt());null==e&&null!=a&&(e=ua(a,Wt()));let c=[];return t.children.inorderTraversal((f,_)=>{const b=e?e.getImmediateChild(f):null,w=DE(r,f),R=n.operationForChild(f);R&&(c=c.concat(GE(R,_,b,w)))}),a&&(c=c.concat(Qf(a,n,r,e))),c}function dv(n,t){const e=t.query,r=Mm(n,e);return{hashFn:()=>(function(n){return n.viewCache_.serverCache.getNode()}(t)||At.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return r?function(n,t,e){const r=zE(n,e);if(r){const a=rp(r),c=a.path,f=a.queryId,_=oi(c,t);return ip(n,c,new sh(hc(f),_))}return[]}(n,e._path,r):function(n,t){return mo(n,new sh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const c=function(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const r=new Error(n+" at "+t._path.toString()+": "+e);return r.code=n.toUpperCase(),r}(a,e);return uv(n,e,null,c)}}}}function Mm(n,t){const e=np(t);return n.queryToTagMap.get(e)}function np(n){return n._path.toString()+"$"+n._queryIdentifier}function zE(n,t){return n.tagToQueryMap.get(t)}function rp(n){const t=n.indexOf("$");return(0,B.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Gt(n.substr(0,t))}}function ip(n,t,e){const r=n.syncPointTree_.get(t);return(0,B.hu)(r,"Missing sync point for query tag that we're tracking"),Qf(r,e,qy(n.pendingWriteTree_,t),null)}function sp(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new((0,B.hu)(ep,"Reference.ts has not been loaded"),ep)(n._repo,n._path):n}class ls{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new ls(e)}node(){return this.node_}}class Rm{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=pn(this.path_,t);return new Rm(this.syncTree_,e)}node(){return tp(this.syncTree_,this.path_)}}const YE=function(n,t,e){return n&&"object"==typeof n?((0,B.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?AT(n[".sv"],t,e):"object"==typeof n[".sv"]?MT(n[".sv"],t):void(0,B.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},AT=function(n,t,e){switch(n){case"timestamp":return e.timestamp;default:(0,B.hu)(!1,"Unexpected server value: "+n)}},MT=function(n,t,e){n.hasOwnProperty("increment")||(0,B.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,B.hu)(!1,"Unexpected increment value: "+r);const a=t.node();if((0,B.hu)(null!=a,"Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return r;const f=a.getValue();return"number"!=typeof f?r:f+r},ZE=function(n,t,e,r){return Mu(t,new Rm(e,n),r)},op=function(n,t,e){return Mu(n,new ls(t),e)};function Mu(n,t,e){const r=n.getPriority().val(),a=YE(r,t.getImmediateChild(".priority"),e);let c;if(n.isLeafNode()){const f=n,_=YE(f.getValue(),t,e);return _!==f.getValue()||a!==f.getPriority().val()?new lc(_,Dn(a)):n}{const f=n;return c=f,a!==f.getPriority().val()&&(c=c.updatePriority(new lc(a))),f.forEachChild(gn,(_,b)=>{const w=Mu(b,t.getImmediateChild(_),e);w!==b&&(c=c.updateImmediateChild(_,w))}),c}}class hv{constructor(t="",e=null,r={children:{},childCount:0}){this.name=t,this.parent=e,this.node=r}}function ap(n,t){let e=t instanceof Gt?t:new Gt(t),r=n,a=xt(e);for(;null!==a;){const c=(0,B.DV)(r.node.children,a)||{children:{},childCount:0};r=new hv(a,r,c),e=Yt(e),a=xt(e)}return r}function Ru(n){return n.node.value}function Om(n,t){n.node.value=t,hh(n)}function fv(n){return n.node.childCount>0}function xm(n,t){_r(n.node.children,(e,r)=>{t(new hv(e,n,r))})}function pv(n,t,e,r){e&&!r&&t(n),xm(n,a=>{pv(a,t,!0,r)}),e&&r&&t(n)}function Ou(n){return new Gt(null===n.parent?n.name:Ou(n.parent)+"/"+n.name)}function hh(n){null!==n.parent&&function(n,t,e){const r=function(n){return void 0===Ru(n)&&!fv(n)}(e),a=(0,B.r3)(n.node.children,t);r&&a?(delete n.node.children[t],n.node.childCount--,hh(n)):!r&&!a&&(n.node.children[t]=e.node,n.node.childCount++,hh(n))}(n.parent,n.name,n)}const QE=/[\[\].#$\/\u0000-\u001F\u007F]/,JE=/[\[\].#$\u0000-\u001F\u007F]/,km=10485760,lp=function(n){return"string"==typeof n&&0!==n.length&&!QE.test(n)},gv=function(n){return"string"==typeof n&&0!==n.length&&!JE.test(n)},fh=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!zd(n)||n&&"object"==typeof n&&(0,B.r3)(n,".sv")},fa=function(n,t,e,r){r&&void 0===t||cp((0,B.gK)(n,"value"),t,e)},cp=function(n,t,e){const r=e instanceof Gt?new YS(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+oc(r));if("function"==typeof t)throw new Error(n+"contains a function "+oc(r)+" with contents = "+t.toString());if(zd(t))throw new Error(n+"contains "+t.toString()+" "+oc(r));if("string"==typeof t&&t.length>km/3&&(0,B.ug)(t)>km)throw new Error(n+"contains a string greater than "+km+" utf8 bytes "+oc(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,c=!1;if(_r(t,(f,_)=>{if(".value"===f)a=!0;else if(".priority"!==f&&".sv"!==f&&(c=!0,!lp(f)))throw new Error(n+" contains an invalid key ("+f+") "+oc(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,B.ug)(t),vu(n)})(r,f),cp(n,_,r),function(n){const t=n.parts_.pop();n.byteLength_-=(0,B.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),a&&c)throw new Error(n+' contains ".value" child '+oc(r)+" in addition to actual children.")}},ew=function(n,t,e,r){if(r&&void 0===t)return;const a=(0,B.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const c=[];_r(t,(f,_)=>{const b=new Gt(f);if(cp(a,_,pn(e,b)),".priority"===hm(b)&&!fh(_))throw new Error(a+"contains an invalid value for '"+b.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(b)}),function(n,t){let e,r;for(e=0;e<t.length;e++){r=t[e];const c=pl(r);for(let f=0;f<c.length;f++)if((".priority"!==c[f]||f!==c.length-1)&&!lp(c[f]))throw new Error(n+"contains an invalid key ("+c[f]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(qC);let a=null;for(e=0;e<t.length;e++){if(r=t[e],null!==a&&Ii(a,r))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(a,c)},mv=function(n,t,e){if(!e||void 0!==t){if(zd(t))throw new Error((0,B.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!fh(t))throw new Error((0,B.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},up=function(n,t,e,r){if(!(r&&void 0===e||lp(e)))throw new Error((0,B.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},dp=function(n,t,e,r){if(!(r&&void 0===e||gv(e)))throw new Error((0,B.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Fs=function(n,t){if(".info"===xt(t))throw new Error(n+" failed = Can't modify data under /.info/")},tw=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!lp(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),gv(n)}(e))throw new Error((0,B.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class PT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Nm(n,t){let e=null;for(let r=0;r<t.length;r++){const a=t[r],c=a.getPath();null!==e&&!Ly(c,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:c}),e.events.push(a)}e&&n.eventLists_.push(e)}function _v(n,t,e){Nm(n,e),nw(n,r=>Ly(r,t))}function Ls(n,t,e){Nm(n,e),nw(n,r=>Ii(r,t)||Ii(t,r))}function nw(n,t){n.recursionDepth_++;let e=!0;for(let r=0;r<n.eventLists_.length;r++){const a=n.eventLists_[r];a&&(t(a.path)?(xT(n.eventLists_[r]),n.eventLists_[r]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function xT(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const r=e.getEventRunner();Gd&&Or("event: "+e.toString()),sc(r)}}}const rw="repo_interrupt";class iw{constructor(t,e,r,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=r,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new PT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=lr(),this.transactionQueueTree_=new hv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function yv(n){const e=n.infoData_.getNode(new Gt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function ph(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:yv(n)})}function vv(n,t,e,r,a){n.dataUpdateCount++;const c=new Gt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let f=[];if(a)if(r){const b=(0,B.UI)(e,w=>Dn(w));f=function(n,t,e,r){const a=zE(n,r);if(a){const c=rp(a),f=c.path,_=c.queryId,b=oi(f,t),w=un.fromObject(e);return ip(n,f,new Su(hc(_),b,w))}return[]}(n.serverSyncTree_,c,b,a)}else{const b=Dn(e);f=function(n,t,e,r){const a=zE(n,r);if(null!=a){const c=rp(a),f=c.path,_=c.queryId,b=oi(f,t);return ip(n,f,new fc(hc(_),b,e))}return[]}(n.serverSyncTree_,c,b,a)}else if(r){const b=(0,B.UI)(e,w=>Dn(w));f=function(n,t,e){const r=un.fromObject(e);return mo(n,new Su({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,c,b)}else{const b=Dn(e);f=dh(n.serverSyncTree_,c,b)}let _=c;f.length>0&&(_=yl(n,c)),Ls(n.eventQueue_,_,f)}function bv(n,t){Fm(n,"connected",t),!1===t&&function(n){it(n,"onDisconnectEvents");const t=ph(n),e=lr();Mi(n.onDisconnect_,Wt(),(a,c)=>{const f=ZE(a,c,n.serverSyncTree_,t);Ns(e,a,f)});let r=[];Mi(e,Wt(),(a,c)=>{r=r.concat(dh(n.serverSyncTree_,a,c));const f=Tv(n,a);yl(n,f)}),n.onDisconnect_=lr(),Ls(n.eventQueue_,Wt(),r)}(n)}function Fm(n,t,e){const r=new Gt("/.info/"+t),a=Dn(e);n.infoData_.updateSnapshot(r,a);const c=dh(n.infoSyncTree_,r,a);Ls(n.eventQueue_,r,c)}function hp(n){return n.nextWriteId_++}function fp(n,t,e,r,a){it(n,"set",{path:t.toString(),value:e,priority:r});const c=ph(n),f=Dn(e,r),_=tp(n.serverSyncTree_,t),b=op(f,_,c),w=hp(n),R=VE(n.serverSyncTree_,t,b,w,!0);Nm(n.eventQueue_,R),n.server_.put(t.toString(),f.val(!0),(z,Y)=>{const ae="ok"===z;ae||Ti("set at "+t+" failed: "+z);const Oe=pc(n.serverSyncTree_,w,!ae);Ls(n.eventQueue_,t,Oe),gc(0,a,z,Y)});const P=Tv(n,t);yl(n,P),Ls(n.eventQueue_,P,[])}function FT(n,t,e){n.server_.onDisconnectCancel(t.toString(),(r,a)=>{"ok"===r&&eh(n.onDisconnect_,t),gc(0,e,r,a)})}function xu(n,t,e,r){const a=Dn(e);n.server_.onDisconnectPut(t.toString(),a.val(!0),(c,f)=>{"ok"===c&&Ns(n.onDisconnect_,t,a),gc(0,r,c,f)})}function Lm(n,t,e){let r;r=".info"===xt(t._path)?uv(n.infoSyncTree_,t,e):uv(n.serverSyncTree_,t,e),_v(n.eventQueue_,t._path,r)}function wv(n){n.persistentConnection_&&n.persistentConnection_.interrupt(rw)}function it(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Or(e,...t)}function gc(n,t,e,r){t&&sc(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let c=a;r&&(c+=": "+r);const f=new Error(c);f.code=a,t(f)}})}function Dv(n,t,e){return tp(n.serverSyncTree_,t,e)||At.EMPTY_NODE}function ku(n,t=n.transactionQueueTree_){if(t||gh(n,t),Ru(t)){const e=BT(n,t);(0,B.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function(n,t,e){const r=e.map(w=>w.currentWriteId),a=Dv(n,t,r);let c=a;const f=a.hash();for(let w=0;w<e.length;w++){const R=e[w];(0,B.hu)(0===R.status,"tryToSendTransactionQueue_: items in queue should all be run."),R.status=1,R.retryCount++;const P=oi(t,R.path);c=c.updateChild(P,R.currentOutputSnapshotRaw)}const _=c.val(!0),b=t;n.server_.put(b.toString(),_,w=>{it(n,"transaction put response",{path:b.toString(),status:w});let R=[];if("ok"===w){const P=[];for(let z=0;z<e.length;z++)e[z].status=2,R=R.concat(pc(n.serverSyncTree_,e[z].currentWriteId)),e[z].onComplete&&P.push(()=>e[z].onComplete(null,!0,e[z].currentOutputSnapshotResolved)),e[z].unwatcher();gh(n,ap(n.transactionQueueTree_,t)),ku(n,n.transactionQueueTree_),Ls(n.eventQueue_,t,R);for(let z=0;z<P.length;z++)sc(P[z])}else{if("datastale"===w)for(let P=0;P<e.length;P++)e[P].status=3===e[P].status?4:0;else{Ti("transaction at "+b.toString()+" failed: "+w);for(let P=0;P<e.length;P++)e[P].status=4,e[P].abortReason=w}yl(n,t)}},f)}(n,Ou(t),e)}else fv(t)&&xm(t,e=>{ku(n,e)})}function yl(n,t){const e=Rn(n,t),r=Ou(e);return function(n,t,e){if(0===t.length)return;const r=[];let a=[];const f=t.filter(_=>0===_.status).map(_=>_.currentWriteId);for(let _=0;_<t.length;_++){const b=t[_],w=oi(e,b.path);let P,R=!1;if((0,B.hu)(null!==w,"rerunTransactionsUnderNode_: relativePath should not be null."),4===b.status)R=!0,P=b.abortReason,a=a.concat(pc(n.serverSyncTree_,b.currentWriteId,!0));else if(0===b.status)if(b.retryCount>=25)R=!0,P="maxretry",a=a.concat(pc(n.serverSyncTree_,b.currentWriteId,!0));else{const z=Dv(n,b.path,f);b.currentInputSnapshot=z;const Y=t[_].update(z.val());if(void 0!==Y){cp("transaction failed: Data returned ",Y,b.path);let ae=Dn(Y);"object"==typeof Y&&null!=Y&&(0,B.r3)(Y,".priority")||(ae=ae.updatePriority(z.getPriority()));const Ve=b.currentWriteId,qe=ph(n),rt=op(ae,z,qe);b.currentOutputSnapshotRaw=ae,b.currentOutputSnapshotResolved=rt,b.currentWriteId=hp(n),f.splice(f.indexOf(Ve),1),a=a.concat(VE(n.serverSyncTree_,b.path,rt,b.currentWriteId,b.applyLocally)),a=a.concat(pc(n.serverSyncTree_,Ve,!0))}else R=!0,P="nodata",a=a.concat(pc(n.serverSyncTree_,b.currentWriteId,!0))}Ls(n.eventQueue_,e,a),a=[],R&&(t[_].status=2,setTimeout(t[_].unwatcher,Math.floor(0)),t[_].onComplete&&r.push("nodata"===P?()=>t[_].onComplete(null,!1,t[_].currentInputSnapshot):()=>t[_].onComplete(new Error(P),!1,null)))}gh(n,n.transactionQueueTree_);for(let _=0;_<r.length;_++)sc(r[_]);ku(n,n.transactionQueueTree_)}(n,BT(n,e),r),r}function Rn(n,t){let e,r=n.transactionQueueTree_;for(e=xt(t);null!==e&&void 0===Ru(r);)r=ap(r,e),e=xt(t=Yt(t));return r}function BT(n,t){const e=[];return Sv(n,t,e),e.sort((r,a)=>r.order-a.order),e}function Sv(n,t,e){const r=Ru(t);if(r)for(let a=0;a<r.length;a++)e.push(r[a]);xm(t,a=>{Sv(n,a,e)})}function gh(n,t){const e=Ru(t);if(e){let r=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[r]=e[a],r++);e.length=r,Om(t,e.length>0?e:void 0)}xm(t,r=>{gh(n,r)})}function Tv(n,t){const e=Ou(Rn(n,t)),r=ap(n.transactionQueueTree_,t);return function(n,t,e){let r=n.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,a=>{Bm(n,a)}),Bm(n,r),pv(r,a=>{Bm(n,a)}),e}function Bm(n,t){const e=Ru(t);if(e){const r=[];let a=[],c=-1;for(let f=0;f<e.length;f++)3===e[f].status||(1===e[f].status?((0,B.hu)(c===f-1,"All SENT items should be at beginning of queue."),c=f,e[f].status=3,e[f].abortReason="set"):((0,B.hu)(0===e[f].status,"Unexpected transaction status in abort"),e[f].unwatcher(),a=a.concat(pc(n.serverSyncTree_,e[f].currentWriteId,!0)),e[f].onComplete&&r.push(e[f].onComplete.bind(null,new Error("set"),!1,null))));-1===c?Om(t,void 0):e.length=c+1,Ls(n.eventQueue_,Ou(t),a);for(let f=0;f<r.length;f++)sc(r[f])}}const Um=function(n,t){const e=UT(n),r=e.namespace;return"firebase.com"===e.domain&&dl(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==e.domain&&dl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ti("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new lm(e.host,e.secure,r,t,"ws"===e.scheme||"wss"===e.scheme,"",r!==e.subdomain),path:new Gt(e.pathString)}},UT=function(n){let t="",e="",r="",a="",c="",f=!0,_="https",b=443;if("string"==typeof n){let w=n.indexOf("//");w>=0&&(_=n.substring(0,w-1),n=n.substring(w+2));let R=n.indexOf("/");-1===R&&(R=n.length);let P=n.indexOf("?");-1===P&&(P=n.length),t=n.substring(0,Math.min(R,P)),R<P&&(a=function(n){let t="";const e=n.split("/");for(let r=0;r<e.length;r++)if(e[r].length>0){let a=e[r];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch(c){}t+="/"+a}return t}(n.substring(R,P)));const z=function(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const r=e.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ti(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,P)));w=t.indexOf(":"),w>=0?(f="https"===_||"wss"===_,b=parseInt(t.substring(w+1),10)):w=t.length;const Y=t.slice(0,w);if("localhost"===Y.toLowerCase())e="localhost";else if(Y.split(".").length<=2)e=Y;else{const ae=t.indexOf(".");r=t.substring(0,ae).toLowerCase(),e=t.substring(ae+1),c=r}"ns"in z&&(c=z.ns)}return{host:t,port:b,domain:e,subdomain:r,secure:f,scheme:_,pathString:a,namespace:c}};class cw{constructor(t,e,r,a){this.eventType=t,this.eventRegistration=e,this.snapshot=r,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,B.Pz)(this.snapshot.exportVal())}}class uw{constructor(t,e,r){this.eventRegistration=t,this.error=e,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class mh{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,B.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class dw{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new B.BH;return FT(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Fs("OnDisconnect.remove",this._path);const t=new B.BH;return xu(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Fs("OnDisconnect.set",this._path),fa("OnDisconnect.set",t,this._path,!1);const e=new B.BH;return xu(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Fs("OnDisconnect.setWithPriority",this._path),fa("OnDisconnect.setWithPriority",t,this._path,!1),mv("OnDisconnect.setWithPriority",e,!1);const r=new B.BH;return function(n,t,e,r,a){const c=Dn(e,r);n.server_.onDisconnectPut(t.toString(),c.val(!0),(f,_)=>{"ok"===f&&Ns(n.onDisconnect_,t,c),gc(0,a,f,_)})}(this._repo,this._path,t,e,r.wrapCallback(()=>{})),r.promise}update(t){Fs("OnDisconnect.update",this._path),ew("OnDisconnect.update",t,this._path,!1);const e=new B.BH;return function(n,t,e,r){if((0,B.xb)(e))return Or("onDisconnect().update() called with empty data.  Don't do anything."),void gc(0,r,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(a,c)=>{"ok"===a&&_r(e,(f,_)=>{const b=Dn(_);Ns(n.onDisconnect_,pn(t,f),b)}),gc(0,r,a,c)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Ri{constructor(t,e,r,a){this._repo=t,this._path=e,this._queryParams=r,this._orderByCalled=a}get key(){return Pt(this._path)?null:hm(this._path)}get ref(){return new cs(this._repo,this._path)}get _queryIdentifier(){const t=vm(this._queryParams),e=sa(t);return"{}"===e?"default":e}get _queryObject(){return vm(this._queryParams)}isEqual(t){if(!((t=(0,B.m9)(t))instanceof Ri))return!1;const e=this._repo===t._repo,r=Ly(this._path,t._path);return e&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function jm(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function yo(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===ks){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==ia)throw new Error(r);if("string"!=typeof t)throw new Error(a)}if(n.hasEnd()){if(n.getIndexEndName()!==xs)throw new Error(r);if("string"!=typeof e)throw new Error(a)}}else if(n.getIndex()===gn){if(null!=t&&!fh(t)||null!=e&&!fh(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,B.hu)(n.getIndex()instanceof gm||n.getIndex()===ss,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function pp(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class cs extends Ri{constructor(t,e){super(t,e,new mm,!1)}get parent(){const t=ZC(this._path);return null===t?null:new cs(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class mc{constructor(t,e,r){this._node=t,this.ref=e,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Gt(t),r=vo(this.ref,t);return new mc(this._node.getChild(e),r,gn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,a)=>t(new mc(a,vo(this.ref,r),gn)))}hasChild(t){const e=new Gt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function hw(n,t){return(n=(0,B.m9)(n))._checkNotDeleted("ref"),void 0!==t?vo(n._root,t):n._root}function _h(n,t){(n=(0,B.m9)(n))._checkNotDeleted("refFromURL");const e=Um(t,n._repo.repoInfo_.nodeAdmin);tw("refFromURL",e);const r=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&dl("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),hw(n,e.path.toString())}function vo(n,t){return null===xt((n=(0,B.m9)(n))._path)?((e=t)&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),dp("child","path",e,!1)):dp("child","path",t,!1),new cs(n._repo,pn(n._path,t));var e}function Hm(n,t){n=(0,B.m9)(n),Fs("set",n._path),fa("set",t,n._path,!1);const e=new B.BH;return fp(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function $T(n,t){ew("update",t,n._path,!1);const e=new B.BH;return function(n,t,e,r){it(n,"update",{path:t.toString(),value:e});let a=!0;const c=ph(n),f={};if(_r(e,(_,b)=>{a=!1,f[_]=ZE(pn(t,_),Dn(b),n.serverSyncTree_,c)}),a)Or("update() called with empty data.  Don't do anything."),gc(0,r,"ok",void 0);else{const _=hp(n),b=function(n,t,e,r){!function(n,t,e,r){(0,B.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:r,visible:!0}),n.visibleWrites=Yy(n.visibleWrites,t,e),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r);const a=un.fromObject(e);return mo(n,new Su({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}(n.serverSyncTree_,t,f,_);Nm(n.eventQueue_,b),n.server_.merge(t.toString(),e,(w,R)=>{const P="ok"===w;P||Ti("update at "+t+" failed: "+w);const z=pc(n.serverSyncTree_,_,!P),Y=z.length>0?yl(n,t):t;Ls(n.eventQueue_,Y,z),gc(0,r,w,R)}),_r(e,w=>{const R=Tv(n,pn(t,w));yl(n,R)}),Ls(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function gw(n){return function(n,t){const e=function(n,t){const e=t._path;let r=null;n.syncPointTree_.foreachOnPath(e,(w,R)=>{const P=oi(w,e);r=r||ua(R,P)});let a=n.syncPointTree_.get(e);a?r=r||ua(a,Wt()):(a=new Am,n.syncPointTree_=n.syncPointTree_.set(e,a));const c=null!=r,f=c?new ml(r,!0,!1):null;return function(n){return Yf(n.viewCache_)}(ov(a,t,qy(n.pendingWriteTree_,t._path),c?f.getNode():At.EMPTY_NODE,c))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(r=>{const a=Dn(r).withIndex(t._queryParams.getIndex()),c=dh(n.serverSyncTree_,t._path,a);return _v(n.eventQueue_,t._path,c),Promise.resolve(a)},r=>(it(n,"get for query "+(0,B.Pz)(t)+" failed: "+r),Promise.reject(new Error(r))))}((n=(0,B.m9)(n))._repo,n).then(t=>new mc(t,new cs(n._repo,n._path),n._queryParams.getIndex()))}class $m{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const r=e._queryParams.getIndex();return new cw("value",this,new mc(t.snapshotNode,new cs(e._repo,e._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new uw(this,t,e):null}matches(t){return t instanceof $m&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Gm{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new uw(this,t,e):null}createEvent(t,e){(0,B.hu)(null!=t.childName,"Child events should have a childName.");const r=vo(new cs(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new cw(t.type,this,new mc(t.snapshotNode,r,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Gm&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function zm(n,t,e,r,a){let c;if("object"==typeof r&&(c=void 0,a=r),"function"==typeof r&&(c=r),a&&a.onlyOnce){const b=e,w=(R,P)=>{Lm(n._repo,n,_),b(R,P)};w.userCallback=e.userCallback,w.context=e.context,e=w}const f=new mh(e,c||void 0),_="value"===t?new $m(f):new Gm(t,f);return function(n,t,e){let r;r=".info"===xt(t._path)?jE(n.infoSyncTree_,t,e):jE(n.serverSyncTree_,t,e),_v(n.eventQueue_,t._path,r)}(n._repo,n,_),()=>Lm(n._repo,n,_)}function mw(n,t,e,r){return zm(n,"value",t,e,r)}function GT(n,t,e,r){return zm(n,"child_added",t,e,r)}function zT(n,t,e,r){return zm(n,"child_changed",t,e,r)}function Iv(n,t,e,r){return zm(n,"child_moved",t,e,r)}function gp(n,t,e,r){return zm(n,"child_removed",t,e,r)}function _w(n,t,e){let r=null;const a=e?new mh(e):null;"value"===t?r=new $m(a):t&&(r=new Gm(t,a)),Lm(n._repo,n,r)}class bo{}class Av extends bo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){fa("endAt",this._value,t._path,!0);const e=os(t._queryParams,this._value,this._key);if(pp(e),yo(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ri(t._repo,t._path,e,t._orderByCalled)}}class WT extends bo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){fa("endBefore",this._value,t._path,!1);const e=function(n,t,e){let r,a;return n.index_===ks?("string"==typeof t&&(t=lE(t)),a=os(n,t,e)):(r=null==e?ia:lE(e),a=os(n,t,r)),a.endBeforeSet_=!0,a}(t._queryParams,this._value,this._key);if(pp(e),yo(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ri(t._repo,t._path,e,t._orderByCalled)}}class yw extends bo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){fa("startAt",this._value,t._path,!0);const e=cc(t._queryParams,this._value,this._key);if(pp(e),yo(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ri(t._repo,t._path,e,t._orderByCalled)}}class qT extends bo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){fa("startAfter",this._value,t._path,!1);const e=function(n,t,e){let r;if(n.index_===ks)"string"==typeof t&&(t=$y(t)),r=cc(n,t,e);else{let a;a=null==e?xs:$y(e),r=cc(n,t,a)}return r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(pp(e),yo(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ri(t._repo,t._path,e,t._orderByCalled)}}class KT extends bo{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ri(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class yh extends bo{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ri(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class bw extends bo{constructor(t){super(),this._path=t}_apply(t){jm(t,"orderByChild");const e=new Gt(this._path);if(Pt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new gm(e),a=ym(t._queryParams,r);return yo(a),new Ri(t._repo,t._path,a,!0)}}class Cw extends bo{_apply(t){jm(t,"orderByKey");const e=ym(t._queryParams,ks);return yo(e),new Ri(t._repo,t._path,e,!0)}}class Ew extends bo{_apply(t){jm(t,"orderByPriority");const e=ym(t._queryParams,gn);return yo(e),new Ri(t._repo,t._path,e,!0)}}class Mv extends bo{_apply(t){jm(t,"orderByValue");const e=ym(t._queryParams,ss);return yo(e),new Ri(t._repo,t._path,e,!0)}}class ww extends bo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(fa("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Av(this._value,this._key)._apply(new yw(this._value,this._key)._apply(t))}}function Co(n,...t){let e=(0,B.m9)(n);for(const r of t)e=r._apply(e);return e}(function(n){(0,B.hu)(!uh,"__referenceConstructor has already been defined"),uh=n})(cs),function(n){(0,B.hu)(!ep,"__referenceConstructor has already been defined"),ep=n}(cs);const Rv={};function Ov(n,t,e,r,a){let c=r||n.options.databaseURL;void 0===c&&(n.options.projectId||dl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Or("Using default host for project ",n.options.projectId),c=`${n.options.projectId}-default-rtdb.firebaseio.com`);let b,w,f=Um(c,a),_=f.repoInfo;"undefined"!=typeof process&&(w=process.env.FIREBASE_DATABASE_EMULATOR_HOST),w?(b=!0,c=`http://${w}?ns=${_.namespace}`,f=Um(c,a),_=f.repoInfo):b=!f.repoInfo.secure;const R=a&&b?new Zd(Zd.OWNER):new NS(n.name,n.options,t);tw("Invalid Firebase Database URL",f),Pt(f.path)||dl("Database URL must point to the root of a Firebase Database (not including a child path).");const P=function(n,t,e,r){let a=Rv[t.name];a||(a={},Rv[t.name]=a);let c=a[n.toURLString()];return c&&dl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new iw(n,false,e,r),a[n.toURLString()]=c,c}(_,n,R,new Yd(n.name,e));return new lI(P,n)}class lI{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(n,t,e){if(n.stats_=NC(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new as(n.repoInfo_,(r,a,c,f)=>{vv(n,r,a,c,f)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>bv(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,B.Pz)(e)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new ac(n.repoInfo_,t,(r,a,c,f)=>{vv(n,r,a,c,f)},r=>{bv(n,r)},r=>{!function(n,t){_r(t,(e,r)=>{Fm(n,e,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function(n,t){const e=n.toString();return Dy[e]||(Dy[e]=t()),Dy[e]}(n.repoInfo_,()=>new ih(n.stats_,n.server_)),n.infoData_=new $f,n.infoSyncTree_=new cv({startListening:(r,a,c,f)=>{let _=[];const b=n.infoData_.getNode(r._path);return b.isEmpty()||(_=dh(n.infoSyncTree_,r._path,b),setTimeout(()=>{f("ok")},0)),_},stopListening:()=>{}}),Fm(n,"connected",!1),n.serverSyncTree_=new cv({startListening:(r,a,c,f)=>(n.server_.listen(r,c,a,(_,b)=>{const w=f(_,b);Ls(n.eventQueue_,r._path,w)}),[]),stopListening:(r,a)=>{n.server_.unlisten(r,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new cs(this._repo,Wt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(n,t){const e=Rv[t];(!e||e[n.key]!==n)&&dl(`Database ${t}(${n.repoInfo_}) has already been deleted.`),wv(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&dl("Cannot call "+t+" on a deleted database.")}}function Sw(n,t){RS(n,t)}class pI{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ac.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},ac.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},SS(ra.SDK_VERSION),(0,ra._registerComponent)(new Hd.wA("database",(t,{instanceIdentifier:e})=>Ov(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,ra.registerVersion)(DS,"0.12.5",void 0),(0,ra.registerVersion)(DS,"0.12.5","esm2017");const xv=new $d.Yd("@firebase/database-compat"),Rw=function(n){xv.warn("FIREBASE WARNING: "+n)};class _I{constructor(t){this._delegate=t}cancel(t){(0,B.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,B.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),r=>t(r)),e}remove(t){(0,B.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,B.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),r=>t(r)),e}set(t,e){(0,B.Dv)("OnDisconnect.set",1,2,arguments.length),(0,B.Wj)("OnDisconnect.set","onComplete",e,!0);const r=this._delegate.set(t);return e&&r.then(()=>e(null),a=>e(a)),r}setWithPriority(t,e,r){(0,B.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,B.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const a=this._delegate.setWithPriority(t,e);return r&&a.then(()=>r(null),c=>r(c)),a}update(t,e){if((0,B.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let c=0;c<t.length;++c)a[""+c]=t[c];t=a,Rw("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,B.Wj)("OnDisconnect.update","onComplete",e,!0);const r=this._delegate.update(t);return e&&r.then(()=>e(null),a=>e(a)),r}}class Ow{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,B.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class _c{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,B.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,B.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,B.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,B.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,B.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),dp("DataSnapshot.child","path",t,!1),new _c(this._database,this._delegate.child(t))}hasChild(t){return(0,B.Dv)("DataSnapshot.hasChild",1,1,arguments.length),dp("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,B.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,B.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,B.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new _c(this._database,e)))}hasChildren(){return(0,B.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,B.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,B.Dv)("DataSnapshot.ref",0,0,arguments.length),new Oi(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class yr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,r,a){var c;(0,B.Dv)("Query.on",2,4,arguments.length),(0,B.Wj)("Query.on","callback",e,!1);const f=yr.getCancelAndContextArgs_("Query.on",r,a),_=(w,R)=>{e.call(f.context,new _c(this.database,w),R)};_.userCallback=e,_.context=f.context;const b=null===(c=f.cancel)||void 0===c?void 0:c.bind(f.context);switch(t){case"value":return mw(this._delegate,_,b),e;case"child_added":return GT(this._delegate,_,b),e;case"child_removed":return gp(this._delegate,_,b),e;case"child_changed":return zT(this._delegate,_,b),e;case"child_moved":return Iv(this._delegate,_,b),e;default:throw new Error((0,B.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,r){if((0,B.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,B.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,B.Wj)("Query.off","callback",e,!0),(0,B.lb)("Query.off","context",r,!0),e){const a=()=>{};a.userCallback=e,a.context=r,_w(this._delegate,t,a)}else _w(this._delegate,t)}get(){return gw(this._delegate).then(t=>new _c(this.database,t))}once(t,e,r,a){(0,B.Dv)("Query.once",1,4,arguments.length),(0,B.Wj)("Query.once","callback",e,!0);const c=yr.getCancelAndContextArgs_("Query.once",r,a),f=new B.BH,_=(w,R)=>{const P=new _c(this.database,w);e&&e.call(c.context,P,R),f.resolve(P)};_.userCallback=e,_.context=c.context;const b=w=>{c.cancel&&c.cancel.call(c.context,w),f.reject(w)};switch(t){case"value":mw(this._delegate,_,b,{onlyOnce:!0});break;case"child_added":GT(this._delegate,_,b,{onlyOnce:!0});break;case"child_removed":gp(this._delegate,_,b,{onlyOnce:!0});break;case"child_changed":zT(this._delegate,_,b,{onlyOnce:!0});break;case"child_moved":Iv(this._delegate,_,b,{onlyOnce:!0});break;default:throw new Error((0,B.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return f.promise}limitToFirst(t){return(0,B.Dv)("Query.limitToFirst",1,1,arguments.length),new yr(this.database,Co(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new KT(n)}(t)))}limitToLast(t){return(0,B.Dv)("Query.limitToLast",1,1,arguments.length),new yr(this.database,Co(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new yh(n)}(t)))}orderByChild(t){return(0,B.Dv)("Query.orderByChild",1,1,arguments.length),new yr(this.database,Co(this._delegate,function(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return dp("orderByChild","path",n,!1),new bw(n)}(t)))}orderByKey(){return(0,B.Dv)("Query.orderByKey",0,0,arguments.length),new yr(this.database,Co(this._delegate,new Cw))}orderByPriority(){return(0,B.Dv)("Query.orderByPriority",0,0,arguments.length),new yr(this.database,Co(this._delegate,new Ew))}orderByValue(){return(0,B.Dv)("Query.orderByValue",0,0,arguments.length),new yr(this.database,Co(this._delegate,new Mv))}startAt(t=null,e){return(0,B.Dv)("Query.startAt",0,2,arguments.length),new yr(this.database,Co(this._delegate,function(n=null,t){return up("startAt","key",t,!0),new yw(n,t)}(t,e)))}startAfter(t=null,e){return(0,B.Dv)("Query.startAfter",0,2,arguments.length),new yr(this.database,Co(this._delegate,function(n,t){return up("startAfter","key",t,!0),new qT(n,t)}(t,e)))}endAt(t=null,e){return(0,B.Dv)("Query.endAt",0,2,arguments.length),new yr(this.database,Co(this._delegate,function(n,t){return up("endAt","key",t,!0),new Av(n,t)}(t,e)))}endBefore(t=null,e){return(0,B.Dv)("Query.endBefore",0,2,arguments.length),new yr(this.database,Co(this._delegate,function(n,t){return up("endBefore","key",t,!0),new WT(n,t)}(t,e)))}equalTo(t,e){return(0,B.Dv)("Query.equalTo",1,2,arguments.length),new yr(this.database,Co(this._delegate,function(n,t){return up("equalTo","key",t,!0),new ww(n,t)}(t,e)))}toString(){return(0,B.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,B.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,B.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof yr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,r){const a={cancel:void 0,context:void 0};if(e&&r)a.cancel=e,(0,B.Wj)(t,"cancel",a.cancel,!0),a.context=r,(0,B.lb)(t,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,B.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new Oi(this.database,new cs(this._delegate._repo,this._delegate._path))}}class Oi extends yr{constructor(t,e){super(t,new Ri(e._repo,e._path,new mm,!1)),this.database=t,this._delegate=e}getKey(){return(0,B.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,B.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Oi(this.database,vo(this._delegate,t))}getParent(){(0,B.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Oi(this.database,t):null}getRoot(){return(0,B.Dv)("Reference.root",0,0,arguments.length),new Oi(this.database,this._delegate.root)}set(t,e){(0,B.Dv)("Reference.set",1,2,arguments.length),(0,B.Wj)("Reference.set","onComplete",e,!0);const r=Hm(this._delegate,t);return e&&r.then(()=>e(null),a=>e(a)),r}update(t,e){if((0,B.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let c=0;c<t.length;++c)a[""+c]=t[c];t=a,Rw("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Fs("Reference.update",this._delegate._path),(0,B.Wj)("Reference.update","onComplete",e,!0);const r=$T(this._delegate,t);return e&&r.then(()=>e(null),a=>e(a)),r}setWithPriority(t,e,r){(0,B.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,B.Wj)("Reference.setWithPriority","onComplete",r,!0);const a=function(n,t,e){if(Fs("setWithPriority",n._path),fa("setWithPriority",t,n._path,!1),mv("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new B.BH;return fp(n._repo,n._path,t,e,r.wrapCallback(()=>{})),r.promise}(this._delegate,t,e);return r&&a.then(()=>r(null),c=>r(c)),a}remove(t){(0,B.Dv)("Reference.remove",0,1,arguments.length),(0,B.Wj)("Reference.remove","onComplete",t,!0);const e=function(n){return Fs("remove",n._path),Hm(n,null)}(this._delegate);return t&&e.then(()=>t(null),r=>t(r)),e}transaction(t,e,r){(0,B.Dv)("Reference.transaction",1,3,arguments.length),(0,B.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,B.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,r){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,B.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const a=function(n,t,e){var r;if(n=(0,B.m9)(n),Fs("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const a=null===(r=null==e?void 0:e.applyLocally)||void 0===r||r,c=new B.BH,_=mw(n,()=>{});return function(n,t,e,r,a,c){it(n,"transaction on "+t);const f={path:t,update:e,onComplete:r,status:null,order:IS(),applyLocally:c,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},_=Dv(n,t,void 0);f.currentInputSnapshot=_;const b=f.update(_.val());if(void 0===b)f.unwatcher(),f.currentOutputSnapshotRaw=null,f.currentOutputSnapshotResolved=null,f.onComplete&&f.onComplete(null,!1,f.currentInputSnapshot);else{cp("transaction failed: Data returned ",b,f.path),f.status=0;const w=ap(n.transactionQueueTree_,t),R=Ru(w)||[];let P;R.push(f),Om(w,R),"object"==typeof b&&null!==b&&(0,B.r3)(b,".priority")?(P=(0,B.DV)(b,".priority"),(0,B.hu)(fh(P),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):P=(tp(n.serverSyncTree_,t)||At.EMPTY_NODE).getPriority().val();const z=ph(n),Y=Dn(b,P),ae=op(Y,_,z);f.currentOutputSnapshotRaw=Y,f.currentOutputSnapshotResolved=ae,f.currentWriteId=hp(n);const Oe=VE(n.serverSyncTree_,t,ae,f.currentWriteId,f.applyLocally);Ls(n.eventQueue_,t,Oe),ku(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(b,w,R)=>{let P=null;b?c.reject(b):(P=new mc(R,new cs(n._repo,n._path),gn),c.resolve(new pI(w,P)))},_,a),c.promise}(this._delegate,t,{applyLocally:r}).then(c=>new Ow(c.committed,new _c(this.database,c.snapshot)));return e&&a.then(c=>e(null,c.committed,c.snapshot),c=>e(c,!1,null)),a}setPriority(t,e){(0,B.Dv)("Reference.setPriority",1,2,arguments.length),(0,B.Wj)("Reference.setPriority","onComplete",e,!0);const r=function(n,t){n=(0,B.m9)(n),Fs("setPriority",n._path),mv("setPriority",t,!1);const e=new B.BH;return fp(n._repo,pn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&r.then(()=>e(null),a=>e(a)),r}push(t,e){(0,B.Dv)("Reference.push",0,2,arguments.length),(0,B.Wj)("Reference.push","onComplete",e,!0);const r=function(n,t){n=(0,B.m9)(n),Fs("push",n._path),fa("push",t,n._path,!0);const e=yv(n._repo),r=aE(e),a=vo(n,r),c=vo(n,r);let f;return f=null!=t?Hm(c,t).then(()=>c):Promise.resolve(c),a.then=f.then.bind(f),a.catch=f.then.bind(f,void 0),a}(this._delegate,t),a=r.then(f=>new Oi(this.database,f));e&&a.then(()=>e(null),f=>e(f));const c=new Oi(this.database,r);return c.then=a.then.bind(a),c.catch=a.catch.bind(a,void 0),c}onDisconnect(){return Fs("Reference.onDisconnect",this._delegate._path),new _I(new dw(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class vh{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,r={}){!function(n,t,e,r={}){(n=(0,B.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&dl("Cannot call useEmulator() after instance has already been initialized.");const a=n._repoInternal;let c;if(a.repoInfo_.nodeAdmin)r.mockUserToken&&dl('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Zd(Zd.OWNER);else if(r.mockUserToken){const f="string"==typeof r.mockUserToken?r.mockUserToken:(0,B.Sg)(r.mockUserToken,n.app.options.projectId);c=new Zd(f)}!function(n,t,e,r){n.repoInfo_=new lm(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(a,t,e,c)}(this._delegate,t,e,r)}ref(t){if((0,B.Dv)("database.ref",0,1,arguments.length),t instanceof Oi){const e=_h(this._delegate,t.toString());return new Oi(this,e)}{const e=hw(this._delegate,t);return new Oi(this,e)}}refFromURL(t){(0,B.Dv)("database.refFromURL",1,1,arguments.length);const r=_h(this._delegate,t);return new Oi(this,r)}goOffline(){return(0,B.Dv)("database.goOffline",0,0,arguments.length),function(n){(n=(0,B.m9)(n))._checkNotDeleted("goOffline"),wv(n._repo)}(this._delegate)}goOnline(){return(0,B.Dv)("database.goOnline",0,0,arguments.length),function(n){(n=(0,B.m9)(n))._checkNotDeleted("goOnline"),function(n){n.persistentConnection_&&n.persistentConnection_.resume(rw)}(n._repo)}(this._delegate)}}vh.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:n=>function(n){return{".sv":{increment:n}}}(n)};var yI=Object.freeze({__proto__:null,initStandalone:function({app:n,url:t,version:e,customAuthImpl:r,namespace:a,nodeAdmin:c=!1}){SS(e);const f=new Hd.zt("auth-internal",new Hd.H0("database-standalone"));return f.setComponent(new Hd.wA("auth-internal",()=>r,"PRIVATE")),{instance:new vh(Ov(n,f,void 0,t,c),n),namespace:a}}});const bh=vh.ServerValue;!function(n){n.INTERNAL.registerComponent(new Hd.wA("database-compat",(t,{instanceIdentifier:e})=>{const r=t.getProvider("app-compat").getImmediate(),a=t.getProvider("database").getImmediate({identifier:e});return new vh(a,r)},"PUBLIC").setServiceProps({Reference:Oi,Query:yr,Database:vh,DataSnapshot:_c,enableLogging:Sw,INTERNAL:yI,ServerValue:bh}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.5")}(IC.Z);var Nu=V(309),Ym=V(7771),vI=V(8858);class Ch extends ht.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new bI(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,r=e?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,c=r.length;let f;if(this.closed)throw new qa.N;if(this.isStopped||this.hasError?f=As.w.EMPTY:(this.observers.push(t),f=new vI.W(this,t)),a&&t.add(t=new Nu.ht(t,a)),e)for(let _=0;_<c&&!t.closed;_++)t.next(r[_]);else for(let _=0;_<c&&!t.closed;_++)t.next(r[_].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),f}_getNow(){return(this.scheduler||Ym.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,r=this._windowTime,a=this._events,c=a.length;let f=0;for(;f<c&&!(t-a[f].time<r);)f++;return c>e&&(f=Math.max(f,c-e)),f>0&&a.splice(0,f),a}}class bI{constructor(t,e){this.time=t,this.value=e}}function Pw(n,t,e){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:t,refCount:!1,scheduler:e},a=>a.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:r}){let a,f,c=0,_=!1,b=!1;return function(R){let P;c++,!a||_?(_=!1,a=new Ch(n,t,r),P=a.subscribe(this),f=R.subscribe({next(z){a.next(z)},error(z){_=!0,a.error(z)},complete(){b=!0,f=void 0,a.complete()}}),b&&(f=void 0)):P=a.subscribe(this),this.add(()=>{c--,P.unsubscribe(),P=void 0,f&&!b&&e&&0===c&&(f.unsubscribe(),f=void 0,a=void 0)})}}(r))}function Eo(n,t){return t?Wn(()=>n,t):Wn(()=>n)}var Zm=V(9673);V(2329);const Lv=new Map,Nw={activated:!1,tokenObservers:[]},TI={initialized:!1,enabled:!1};function vr(n){return Lv.get(n)||Nw}function Vs(n,t){Lv.set(n,t)}function Lu(){return TI}class AI{constructor(t,e,r,a,c){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=a,a>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,si.Z)(function*(){e.stop();try{e.pending=new B.BH,yield function(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new B.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ai=new B.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Lw(n){if(!vr(n).activated)throw ai.create("use-before-activation",{appName:n.name})}function Uv(n,t){return jv.apply(this,arguments)}function jv(){return(jv=(0,si.Z)(function*({url:n,body:t},e){const r={"Content-Type":"application/json"},a=e.getImmediate({optional:!0});a&&(r["X-Firebase-Client"]=a.getPlatformInfoString());const c={method:"POST",body:JSON.stringify(t),headers:r};let f,_;try{f=yield fetch(n,c)}catch(P){throw ai.create("fetch-network-error",{originalErrorMessage:P.message})}if(200!==f.status)throw ai.create("fetch-status-error",{httpStatus:f.status});try{_=yield f.json()}catch(P){throw ai.create("fetch-parse-error",{originalErrorMessage:P.message})}const b=_.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw ai.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const w=1e3*Number(b[1]),R=Date.now();return{token:_.attestationToken,expireTimeMillis:R+w,issuedAtTimeMillis:R}})).apply(this,arguments)}function _p(n,t){const{projectId:e,appId:r,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${r}:exchangeDebugToken?key=${a}`,body:{debug_token:t}}}const yp="firebase-app-check-store";let pa=null;function Hv(){return pa||(pa=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=r=>{n(r.target.result)},e.onerror=r=>{var a;t(ai.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},e.onupgradeneeded=r=>{const a=r.target.result;switch(r.oldVersion){case 0:a.createObjectStore(yp,{keyPath:"compositeKey"})}}}catch(e){t(ai.create("storage-open",{originalErrorMessage:e.message}))}}),pa)}function $v(){return($v=(0,si.Z)(function*(n,t){const r=(yield Hv()).transaction(yp,"readwrite"),c=r.objectStore(yp).put({compositeKey:n,value:t});return new Promise((f,_)=>{c.onsuccess=b=>{f()},r.onerror=b=>{var w;_(ai.create("storage-set",{originalErrorMessage:null===(w=b.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const wh=new $d.Yd("@firebase/app-check");function Uw(n,t){return(0,B.hl)()?function(n,t){return function(n,t){return $v.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{wh.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Yv(){return Lu().enabled}function bp(){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,si.Z)(function*(){const n=Lu();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Cp={error:"UNKNOWN_ERROR"};function en(n){return B.US.encodeString(JSON.stringify(n),!1)}function wo(n){return yc.apply(this,arguments)}function yc(){return(yc=(0,si.Z)(function*(n,t=!1){const e=n.app;Lw(e);const r=vr(e);let c,a=r.token;if(!a){const b=yield r.cachedTokenPromise;b&&ga(b)&&(a=b)}if(!t&&a&&ga(a))return{token:a.token};let _,f=!1;if(Yv()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Uv(_p(e,yield bp()),n.platformLoggerProvider).then(w=>(r.exchangeTokenPromise=void 0,w)),f=!0);const b=yield r.exchangeTokenPromise;return yield Uw(e,b),Vs(e,Object.assign(Object.assign({},r),{token:b})),{token:b.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(b=>(r.exchangeTokenPromise=void 0,b)),f=!0),a=yield r.exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?wh.warn(b.message):wh.error(b),c=b}return a?(_={token:a.token},Vs(e,Object.assign(Object.assign({},r),{token:a})),yield Uw(e,a)):_=TO(c),f&&n_(e,_),_})).apply(this,arguments)}function Hw(n,t){const e=vr(n),r=e.tokenObservers.filter(a=>a.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Vs(n,Object.assign(Object.assign({},e),{tokenObservers:r}))}function yt(n){const{app:t}=n,e=vr(t);let r=e.tokenRefresher;r||(r=function(n){const{app:t}=n;return new AI((0,si.Z)(function*(){let r;if(r=vr(t).token?yield wo(n,!0):yield wo(n),r.error)throw r.error}),()=>!0,()=>{const e=vr(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Vs(t,Object.assign(Object.assign({},e),{tokenRefresher:r}))),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function n_(n,t){const e=vr(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch(a){}}function ga(n){return n.expireTimeMillis-Date.now()>0}function TO(n){return{token:en(Cp),error:n}}class $w{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=vr(this.app);for(const e of t)Hw(this.app,e.next);return Promise.resolve()}}const wp="app-check-internal";(0,ra._registerComponent)(new Hd.wA("app-check",n=>function(n,t){return new $w(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(wp).initialize()})),(0,ra._registerComponent)(new Hd.wA(wp,n=>function(n){return{getToken:t=>wo(n,t),addTokenListener:t=>function(n,t,e,r){const{app:a}=n,c=vr(a),f={next:e,error:r,type:t};if(Vs(a,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,f]})),c.token&&ga(c.token)){const _=c.token;Promise.resolve().then(()=>{e({token:_.token}),yt(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>yt(n))}(n,"INTERNAL",t),removeTokenListener:t=>Hw(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ra.registerVersion)("@firebase/app-check","0.5.3");class Zw{constructor(){return(0,ns.vb)("app-check")}}"undefined"!=typeof window&&window;var zI=V(7841);const Kw=new u.OlP("angularfire2.auth.use-emulator"),Qw=new u.OlP("angularfire2.auth.settings"),Jw=new u.OlP("angularfire2.auth.tenant-id"),c_=new u.OlP("angularfire2.auth.langugage-code"),Xw=new u.OlP("angularfire2.auth.use-device-language"),e0=new u.OlP("angularfire.auth.persistence"),Qv=(n,t,e,r,a,c,f,_)=>(0,rs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=t.runOutsideAngular(()=>n.auth());if(e&&b.useEmulator(...e),r&&(b.tenantId=r),b.languageCode=a,c&&b.useDeviceLanguage(),f)for(const[w,R]of Object.entries(f))b.settings[w]=R;return _&&b.setPersistence(_),b},[e,r,a,c,f,_]);let u_=(()=>{class n{constructor(e,r,a,c,f,_,b,w,R,P,z,Y){const ae=new ht.xQ,Oe=(0,Ge.of)(void 0).pipe((0,Nu.QV)(f.outsideAngular),Wn(()=>c.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,1352)))),(0,wt.U)(()=>(0,rs.on)(e,c,r)),(0,wt.U)(Ve=>Qv(Ve,c,_,w,R,P,b,z)),Pw({bufferSize:1,refCount:!1}));if(function(n){return"server"===n}(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ge.of)(null);else{Oe.pipe(bn()).subscribe();const qe=Oe.pipe(Wn(vt=>vt.getRedirectResult().then(Fr=>Fr,()=>null)),ns.iC,Pw({bufferSize:1,refCount:!1})),rt=Oe.pipe(Wn(vt=>new sn.y(Fr=>({unsubscribe:c.runOutsideAngular(()=>vt.onAuthStateChanged(Gr=>Fr.next(Gr),Gr=>Fr.error(Gr),()=>Fr.complete()))})))),Nt=Oe.pipe(Wn(vt=>new sn.y(Fr=>({unsubscribe:c.runOutsideAngular(()=>vt.onIdTokenChanged(Gr=>Fr.next(Gr),Gr=>Fr.error(Gr),()=>Fr.complete()))}))));this.authState=qe.pipe(Eo(rt),(0,Zm.R)(f.outsideAngular),(0,Nu.QV)(f.insideAngular)),this.user=qe.pipe(Eo(Nt),(0,Zm.R)(f.outsideAngular),(0,Nu.QV)(f.insideAngular)),this.idToken=this.user.pipe(Wn(vt=>vt?(0,yn.D)(vt.getIdToken()):(0,Ge.of)(null))),this.idTokenResult=this.user.pipe(Wn(vt=>vt?(0,yn.D)(vt.getIdTokenResult()):(0,Ge.of)(null))),this.credential=(0,Xg.T)(qe,ae,this.authState.pipe(Yn(vt=>!vt))).pipe((0,wt.U)(vt=>(null==vt?void 0:vt.user)?vt:null),(0,Zm.R)(f.outsideAngular),(0,Nu.QV)(f.insideAngular))}return(0,rs.pX)(this,Oe,c,{spy:{apply:(Ve,qe,rt)=>{(Ve.startsWith("signIn")||Ve.startsWith("createUser"))&&rt.then(Nt=>ae.next(Nt))}}})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(rs.Dh),u.LFG(rs.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ns.HU),u.LFG(Kw,8),u.LFG(Qw,8),u.LFG(Jw,8),u.LFG(c_,8),u.LFG(Xw,8),u.LFG(e0,8),u.LFG(Zw,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function t0(n){return null==n}function n0(n){return"function"==typeof n.set}function r0(n,t){return n0(t)?t:n.ref(t)}function s0(n,t){if(function(n){return"string"==typeof n}(n))return t.stringCase();if(n0(n))return t.firebaseCase();if(function(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Tp(n,t,e="on",r=Jg.z){return new sn.y(a=>{let c=null;return c=n[e](t,(f,_)=>{r.schedule(()=>{a.next({snapshot:f,prevKey:_})}),"once"===e&&r.schedule(()=>a.complete())},f=>{r.schedule(()=>a.error(f))}),"on"===e?{unsubscribe(){null!=c&&n.off(t,c)}}:{unsubscribe(){}}}).pipe((0,wt.U)(a=>{const{snapshot:c,prevKey:f}=a;let _=null;return c.exists()&&(_=c.key),{type:t,payload:c,prevKey:f,key:_}}),(0,Ct.B)())}function o0(n,t){const e=n.length;for(let r=0;r<e;r++)if(n[r].payload.key===t)return r;return-1}function a0(n,t){const{payload:e,prevKey:r,key:a}=t,c=o0(n,a),f=function(n,t){if(t0(t))return 0;{const e=o0(n,t);return-1===e?n.length:e+1}}(n,r);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let _=null;t.payload.forEach(b=>{const w={payload:b,type:"value",prevKey:_,key:b.key};return _=b.key,n=[...n,w],!1})}return n;case"child_added":if(c>-1){const _=n[c-1];(_&&_.key||null)!==r&&(n=n.filter(b=>b.payload.key!==e.key)).splice(f,0,t)}else{if(null==r)return[t,...n];(n=n.slice()).splice(f,0,t)}return n;case"child_removed":return n.filter(_=>_.payload.key!==e.key);case"child_changed":return n.map(_=>_.payload.key===a?t:_);case"child_moved":if(c>-1){const _=n.splice(c,1)[0];return(n=n.slice()).splice(f,0,_),n}return n;default:return n}}function Ih(n){return(t0(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function qI(n,t,e){return function(n,t,e){return Tp(n,"value","once",e).pipe(Wn(r=>{const a=[(0,Ge.of)(r)];return t.forEach(c=>a.push(Tp(n,c,"on",e))),(0,Xg.T)(...a).pipe(Xc(a0,[]))}),em())}(n,t=Ih(t),e)}function Jv(n,t,e){const r=(t=Ih(t)).map(a=>Tp(n,a,"on",e));return(0,Xg.T)(...r)}function l0(n,t){return function(r,a){return s0(r,{stringCase:()=>n.child(r)[t](a),firebaseCase:()=>r[t](a),snapshotCase:()=>r.ref[t](a)})}}function XI(n){return function(e){return e?s0(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function u0(n,t){return function(){return Tp(n,"value","on",t)}}const NO=new u.OlP("angularfire2.realtimeDatabaseURL"),FO=new u.OlP("angularfire2.database.use-emulator");let Ah=(()=>{class n{constructor(e,r,a,c,f,_,b,w,R,P,z,Y,ae,Oe,Ve){this.schedulers=_;const qe=b,rt=(0,rs.on)(e,f,r);w&&Qv(rt,f,R,z,Y,ae,P,Oe),this.database=(0,rs.cc)(`${rt.name}.database.${a}`,"AngularFireDatabase",rt.name,()=>{const Nt=f.runOutsideAngular(()=>rt.database(a||void 0));return qe&&Nt.useEmulator(...qe),Nt},[qe])}list(e,r){const a=this.schedulers.ngZone.runOutsideAngular(()=>r0(this.database,e));let c=a;return r&&(c=r(a)),function(n,t){const e=t.schedulers.outsideAngular,r=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:l0(r,"update"),set:l0(r,"set"),push:a=>r.push(a),remove:XI(r),snapshotChanges:a=>qI(n,a,e).pipe(ns.iC),stateChanges:a=>Jv(n,a,e).pipe(ns.iC),auditTrail:a=>function(n,t,e){return function(n,t,e){return function(n,t){return Tp(n,"value","on",t).pipe((0,wt.U)(e=>{let r;return e.payload.forEach(a=>(r=a.key,!1)),{data:e,lastKeyToLoad:r}}))}(n,e).pipe(function(...n){return t=>{let e;return"function"==typeof n[n.length-1]&&(e=n.pop()),t.lift(new TC(n,e))}}(t),(0,wt.U)(([a,c])=>{const f=a.lastKeyToLoad,_=c.map(b=>b.key);return{actions:c,lastKeyToLoad:f,loadedKeys:_}}),function(n){return t=>t.lift(new ul(n))}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,wt.U)(a=>a.actions))}(n,Jv(n,t).pipe(Xc((a,c)=>[...a,c],[])),e)}(n,a,e).pipe(ns.iC),valueChanges:(a,c)=>qI(n,a,e).pipe((0,wt.U)(_=>_.map(b=>c&&c.idField?Object.assign(Object.assign({},b.payload.val()),{[c.idField]:b.key}):b.payload.val())),ns.iC)}}(c,this)}object(e){return function(n,t){return{query:n,snapshotChanges:()=>u0(n,t.schedulers.outsideAngular)().pipe(ns.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>u0(n,t.schedulers.outsideAngular)().pipe(ns.iC,(0,wt.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>r0(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(rs.Dh),u.LFG(rs.xv,8),u.LFG(NO,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ns.HU),u.LFG(FO,8),u.LFG(u_,8),u.LFG(Kw,8),u.LFG(Qw,8),u.LFG(Jw,8),u.LFG(c_,8),u.LFG(Xw,8),u.LFG(e0,8),u.LFG(Zw,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Xv=(()=>{class n{constructor(){zI.Z.registerVersion("angularfire",ns.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Ah]}),n})(),tA=(()=>{class n{constructor(e){this.sanitizer=e}set json(e){this.jsonLD=this.getSafeHTML(e)}getSafeHTML(e){const a=`<script type="application/ld+json">${e?JSON.stringify(e,null,2).replace(/<\/script>/g,"<\\/script>"):""}<\/script>`;return this.sanitizer.bypassSecurityTrustHtml(a)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(_i))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngx-json-ld"]],hostVars:1,hostBindings:function(e,r){2&e&&u.Ikx("innerHTML",r.jsonLD,u.oJD)},inputs:{json:"json"},decls:0,vars:0,template:function(e,r){},encapsulation:2,changeDetection:0}),n})(),nA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Bo]]}),n})();function js(n){return null!=n&&"false"!=`${n}`}function d_(n){return Array.isArray(n)?n:[n]}function Hn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function vl(n){return n instanceof u.SBq?n.nativeElement:n}var Mh=V(9105);function h_(n,t,e,r){return(0,Mh.m)(e)&&(r=e,e=void 0),r?h_(n,t,e).pipe((0,wt.U)(a=>(0,no.k)(a)?r(...a):r(a))):new sn.y(a=>{Hs(n,t,function(f){a.next(arguments.length>1?Array.prototype.slice.call(arguments):f)},a,e)})}function Hs(n,t,e,r,a){let c;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const f=n;n.addEventListener(t,e,a),c=()=>f.removeEventListener(t,e,a)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const f=n;n.on(t,e),c=()=>f.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const f=n;n.addListener(t,e),c=()=>f.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let f=0,_=n.length;f<_;f++)Hs(n[f],t,e,r,a)}r.add(c)}var h0=V(6465),sA=V(6102);new class extends sA.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let r,a=-1,c=e.length;t=t||e.shift();do{if(r=t.execute(t.state,t.delay))break}while(++a<c&&(t=e.shift()));if(this.active=!1,r){for(;++a<c&&(t=e.shift());)t.unsubscribe();throw r}}}(class extends h0.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(t,e,r);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});V(4581);class hA{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Rh(t,this.durationSelector))}}class Rh extends ti.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:a}=this;e=a(t)}catch(a){return this.destination.error(a)}const r=(0,ti.ft)(e,new ti.IY(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:r}=this;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var fA=V(6561);function pA(n){const{index:t,period:e,subscriber:r}=n;if(r.next(t),!r.closed){if(-1===e)return r.complete();n.index=t+1,this.schedule(n,e)}}function g0(n,t=Jg.P){return function(n){return function(e){return e.lift(new hA(n))}}(()=>function(n=0,t,e){let r=-1;return(0,fA.k)(t)?r=Number(t)<1?1:Number(t):(0,Ss.K)(t)&&(e=t),(0,Ss.K)(e)||(e=Jg.P),new sn.y(a=>{const c=(0,fA.k)(n)?n:+n-e.now();return e.schedule(pA,c,{index:0,period:r,subscriber:a})})}(n,t))}function bc(n){return t=>t.lift(new gA(n))}class gA{constructor(t){this.notifier=t}call(t,e){const r=new tb(t),a=(0,ti.ft)(this.notifier,new ti.IY(r));return a&&!r.seenValue?(r.add(a),e.subscribe(r)):r}}class tb extends ti.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let nb;try{nb="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){nb=!1}let Mp,Cc,ib,Pn=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(n){return"browser"===n}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!nb)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(u.Lbi))},token:n,providedIn:"root"}),n})(),f_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function p_(n){return function(){if(null==Mp&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Mp=!0}))}finally{Mp=Mp||!1}return Mp}()?n:!!n.capture}function rb(){if(null==Cc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Cc=!1,Cc;if("scrollBehavior"in document.documentElement.style)Cc=!0;else{const n=Element.prototype.scrollTo;Cc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Cc}function g_(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Uu(n){return n.composedPath?n.composedPath()[0]:n.target}function sb(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const y0=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,u.f3M)(ie)}});let So=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new u.vpe,e){const a=e.documentElement?e.documentElement.dir:null,c=(e.body?e.body.dir:null)||a;this.value="ltr"===c||"rtl"===c?c:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(y0,8))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(y0,8))},token:n,providedIn:"root"}),n})(),ju=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),xh=(()=>{class n{constructor(e,r,a){this._ngZone=e,this._platform=r,this._scrolled=new ht.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=a}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new sn.y(r=>{this._globalSubscription||this._addGlobalListener();const a=e>0?this._scrolled.pipe(g0(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ge.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const a=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(Yn(c=>!c||a.indexOf(c)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((a,c)=>{this._scrollableContainsElement(c,e)&&r.push(c)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let a=vl(r),c=e.getElementRef().nativeElement;do{if(a==c)return!0}while(a=a.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>h_(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.R0b),u.LFG(Pn),u.LFG(ie,8))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(u.R0b),u.LFG(Pn),u.LFG(ie,8))},token:n,providedIn:"root"}),n})(),kh=(()=>{class n{constructor(e,r,a){this._platform=e,this._change=new ht.xQ,this._changeListener=c=>{this._change.next(c)},this._document=a,r.runOutsideAngular(()=>{if(e.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:a}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+a,right:e.left+r,height:a,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),a=e.documentElement,c=a.getBoundingClientRect();return{top:-c.top||e.body.scrollTop||r.scrollY||a.scrollTop||0,left:-c.left||e.body.scrollLeft||r.scrollX||a.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(g0(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Pn),u.LFG(u.R0b),u.LFG(ie,8))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(Pn),u.LFG(u.R0b),u.LFG(ie,8))},token:n,providedIn:"root"}),n})(),db=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),T0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[ju,f_,db],ju,db]}),n})();class Hu{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class kp extends Hu{constructor(t,e,r,a){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=a}}class $u extends Hu{constructor(t,e,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class SA extends Hu{constructor(t){super(),this.element=t instanceof u.SBq?t.nativeElement:t}}class Np{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof kp?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof $u?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof SA?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class TA extends Np{constructor(t,e,r,a,c){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=a,this.attachDomPortal=f=>{const _=f.element,b=this._document.createComment("dom-portal");_.parentNode.insertBefore(b,_),this.outletElement.appendChild(_),this._attachedPortal=f,super.setDisposeFn(()=>{b.parentNode&&b.parentNode.replaceChild(_,b)})},this._document=c}attachComponentPortal(t){const r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let a;return t.viewContainerRef?(a=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>a.destroy())):(a=r.create(t.injector||this._defaultInjector),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.detachView(a.hostView),a.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(a)),this._attachedPortal=t,a}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context);return r.rootNodes.forEach(a=>this.outletElement.appendChild(a)),r.detectChanges(),this.setDisposeFn(()=>{let a=e.indexOf(r);-1!==a&&e.remove(a)}),this._attachedPortal=t,r}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let bl=(()=>{class n extends Np{constructor(e,r,a){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new u.vpe,this.attachDomPortal=c=>{const f=c.element,_=this._document.createComment("dom-portal");c.setAttachedHost(this),f.parentNode.insertBefore(_,f),this._getRootNode().appendChild(f),this._attachedPortal=c,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=a}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,c=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),f=r.createComponent(c,r.length,e.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(f.hostView.rootNodes[0]),super.setDisposeFn(()=>f.destroy()),this._attachedPortal=e,this._attachedRef=f,this.attached.emit(f),f}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u._Vd),u.Y36(u.s_b),u.Y36(ie))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[u.qOj]}),n})(),M0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const z0=rb();class JA{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Hn(-this._previousScrollPosition.left),t.style.top=Hn(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,a=this._document.body.style,c=r.scrollBehavior||"",f=a.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),z0&&(r.scrollBehavior=a.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),z0&&(r.scrollBehavior=c,a.scrollBehavior=f)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class XA{constructor(t,e,r,a){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=a,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class _b{enable(){}disable(){}attach(){}}function yb(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function W0(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Y0{constructor(t,e,r,a){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=a,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:a}=this._viewportRuler.getViewportSize();yb(e,[{width:r,height:a,bottom:a,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let eM=(()=>{class n{constructor(e,r,a,c){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=a,this.noop=()=>new _b,this.close=f=>new XA(this._scrollDispatcher,this._ngZone,this._viewportRuler,f),this.block=()=>new JA(this._viewportRuler,this._document),this.reposition=f=>new Y0(this._scrollDispatcher,this._viewportRuler,this._ngZone,f),this._document=c}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(xh),u.LFG(kh),u.LFG(u.R0b),u.LFG(ie))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(xh),u.LFG(kh),u.LFG(u.R0b),u.LFG(ie))},token:n,providedIn:"root"}),n})();class vb{constructor(t){if(this.scrollStrategy=new _b,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const r of e)void 0!==t[r]&&(this[r]=t[r])}}}class Z0{constructor(t,e,r,a,c){this.offsetX=r,this.offsetY=a,this.panelClass=c,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class nM{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Nh=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(ie))},token:n,providedIn:"root"}),n})(),bb=(()=>{class n extends Nh{constructor(e){super(e),this._keydownListener=r=>{const a=this._attachedOverlays;for(let c=a.length-1;c>-1;c--)if(a[c]._keydownEvents.observers.length>0){a[c]._keydownEvents.next(r);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(ie))},token:n,providedIn:"root"}),n})(),q0=(()=>{class n extends Nh{constructor(e,r){super(e),this._platform=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=Uu(a)},this._clickListener=a=>{const c=Uu(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let b=_.length-1;b>-1;b--){const w=_[b];if(!(w._outsidePointerEvents.observers.length<1)&&w.hasAttached()){if(w.overlayElement.contains(c)||w.overlayElement.contains(f))break;w._outsidePointerEvents.next(a)}}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ie),u.LFG(Pn))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(ie),u.LFG(Pn))},token:n,providedIn:"root"}),n})(),Lp=(()=>{class n{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||sb()){const a=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let c=0;c<a.length;c++)a[c].parentNode.removeChild(a[c])}const r=this._document.createElement("div");r.classList.add(e),sb()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ie),u.LFG(Pn))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(ie),u.LFG(Pn))},token:n,providedIn:"root"}),n})();class iM{constructor(t,e,r,a,c,f,_,b,w){this._portalOutlet=t,this._host=e,this._pane=r,this._config=a,this._ngZone=c,this._keyboardDispatcher=f,this._document=_,this._location=b,this._outsideClickDispatcher=w,this._backdropElement=null,this._backdropClick=new ht.xQ,this._attachments=new ht.xQ,this._detachments=new ht.xQ,this._locationChanges=As.w.EMPTY,this._backdropClickHandler=R=>this._backdropClick.next(R),this._keydownEvents=new ht.xQ,this._outsidePointerEvents=new ht.xQ,a.scrollStrategy&&(this._scrollStrategy=a.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=a.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(qi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Hn(this._config.width),t.height=Hn(this._config.height),t.minWidth=Hn(this._config.minWidth),t.minHeight=Hn(this._config.minHeight),t.maxWidth=Hn(this._config.maxWidth),t.maxHeight=Hn(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const r=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",r),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",r)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(t,e,r){const a=t.classList;d_(e).forEach(c=>{c&&(r?a.add(c):a.remove(c))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(bc((0,Xg.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.parentNode&&t.parentNode.removeChild(t),this._backdropElement===t&&(this._backdropElement=null))}}const sM="cdk-overlay-connected-position-bounding-box",OP=/([A-Za-z%]+)$/;class oM{constructor(t,e,r,a,c){this._viewportRuler=e,this._document=r,this._platform=a,this._overlayContainer=c,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ht.xQ,this._resizeSubscription=As.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(sM),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,r=this._viewportRect,a=[];let c;for(let f of this._preferredPositions){let _=this._getOriginPoint(t,f),b=this._getOverlayPoint(_,e,f),w=this._getOverlayFit(b,e,r,f);if(w.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(w,b,r)?a.push({position:f,origin:_,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!c||c.overlayFit.visibleArea<w.visibleArea)&&(c={overlayFit:w,overlayPoint:b,originPoint:_,position:f,overlayRect:e})}if(a.length){let f=null,_=-1;for(const b of a){const w=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);w>_&&(_=w,f=b)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ec(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(sM),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let r,a;if("center"==e.originX)r=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,f=this._isRtl()?t.left:t.right;r="start"==e.originX?c:f}return a="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:r,y:a}}_getOverlayPoint(t,e,r){let a,c;return a="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,c="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:t.x+a,y:t.y+c}}_getOverlayFit(t,e,r,a){const c=K0(e);let{x:f,y:_}=t,b=this._getOffset(a,"x"),w=this._getOffset(a,"y");b&&(f+=b),w&&(_+=w);let z=0-_,Y=_+c.height-r.height,ae=this._subtractOverflows(c.width,0-f,f+c.width-r.width),Oe=this._subtractOverflows(c.height,z,Y),Ve=ae*Oe;return{visibleArea:Ve,isCompletelyWithinViewport:c.width*c.height===Ve,fitsInViewportVertically:Oe===c.height,fitsInViewportHorizontally:ae==c.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){const a=r.bottom-e.y,c=r.right-e.x,f=Cb(this._overlayRef.getConfig().minHeight),_=Cb(this._overlayRef.getConfig().minWidth),w=t.fitsInViewportHorizontally||null!=_&&_<=c;return(t.fitsInViewportVertically||null!=f&&f<=a)&&w}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const a=K0(e),c=this._viewportRect,f=Math.max(t.x+a.width-c.width,0),_=Math.max(t.y+a.height-c.height,0),b=Math.max(c.top-r.top-t.y,0),w=Math.max(c.left-r.left-t.x,0);let R=0,P=0;return R=a.width<=c.width?w||-f:t.x<this._viewportMargin?c.left-r.left-t.x:0,P=a.height<=c.height?b||-_:t.y<this._viewportMargin?c.top-r.top-t.y:0,this._previousPushAmount={x:R,y:P},{x:t.x+R,y:t.y+P}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const r=this._getScrollVisibility(),a=new nM(t,r);this._positionChanges.next(a)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,a=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let c=0;c<e.length;c++)e[c].style.transformOrigin=`${r} ${a}`}_calculateBoundingBoxRect(t,e){const r=this._viewportRect,a=this._isRtl();let c,f,_,R,P,z;if("top"===e.overlayY)f=t.y,c=r.height-f+this._viewportMargin;else if("bottom"===e.overlayY)_=r.height-t.y+2*this._viewportMargin,c=r.height-_+this._viewportMargin;else{const Y=Math.min(r.bottom-t.y+r.top,t.y),ae=this._lastBoundingBoxSize.height;c=2*Y,f=t.y-Y,c>ae&&!this._isInitialRender&&!this._growAfterOpen&&(f=t.y-ae/2)}if("end"===e.overlayX&&!a||"start"===e.overlayX&&a)z=r.width-t.x+this._viewportMargin,R=t.x-this._viewportMargin;else if("start"===e.overlayX&&!a||"end"===e.overlayX&&a)P=t.x,R=r.right-t.x;else{const Y=Math.min(r.right-t.x+r.left,t.x),ae=this._lastBoundingBoxSize.width;R=2*Y,P=t.x-Y,R>ae&&!this._isInitialRender&&!this._growAfterOpen&&(P=t.x-ae/2)}return{top:f,left:P,bottom:_,right:z,width:R,height:c}}_setBoundingBoxStyles(t,e){const r=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const a={};if(this._hasExactPosition())a.top=a.left="0",a.bottom=a.right=a.maxHeight=a.maxWidth="",a.width=a.height="100%";else{const c=this._overlayRef.getConfig().maxHeight,f=this._overlayRef.getConfig().maxWidth;a.height=Hn(r.height),a.top=Hn(r.top),a.bottom=Hn(r.bottom),a.width=Hn(r.width),a.left=Hn(r.left),a.right=Hn(r.right),a.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",a.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",c&&(a.maxHeight=Hn(c)),f&&(a.maxWidth=Hn(f))}this._lastBoundingBoxSize=r,Ec(this._boundingBox.style,a)}_resetBoundingBoxStyles(){Ec(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ec(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const r={},a=this._hasExactPosition(),c=this._hasFlexibleDimensions,f=this._overlayRef.getConfig();if(a){const R=this._viewportRuler.getViewportScrollPosition();Ec(r,this._getExactOverlayY(e,t,R)),Ec(r,this._getExactOverlayX(e,t,R))}else r.position="static";let _="",b=this._getOffset(e,"x"),w=this._getOffset(e,"y");b&&(_+=`translateX(${b}px) `),w&&(_+=`translateY(${w}px)`),r.transform=_.trim(),f.maxHeight&&(a?r.maxHeight=Hn(f.maxHeight):c&&(r.maxHeight="")),f.maxWidth&&(a?r.maxWidth=Hn(f.maxWidth):c&&(r.maxWidth="")),Ec(this._pane.style,r)}_getExactOverlayY(t,e,r){let a={top:"",bottom:""},c=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,r));let f=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return c.y-=f,"bottom"===t.overlayY?a.bottom=this._document.documentElement.clientHeight-(c.y+this._overlayRect.height)+"px":a.top=Hn(c.y),a}_getExactOverlayX(t,e,r){let f,a={left:"",right:""},c=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,r)),f=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===f?a.right=this._document.documentElement.clientWidth-(c.x+this._overlayRect.width)+"px":a.left=Hn(c.x),a}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(a=>a.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:W0(t,r),isOriginOutsideView:yb(t,r),isOverlayClipped:W0(e,r),isOverlayOutsideView:yb(e,r)}}_subtractOverflows(t,...e){return e.reduce((r,a)=>r-Math.max(a,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&d_(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof u.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}}function Ec(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Cb(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(OP);return e&&"px"!==e?null:parseFloat(t)}return n||null}function K0(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}class aM{constructor(t,e,r,a,c,f,_){this._preferredPositions=[],this._positionStrategy=new oM(r,a,c,f,_).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,r,a){const c=new Z0(t,e,r,a);return this._preferredPositions.push(c),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const Q0="cdk-global-overlay-wrapper";class lM{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Q0),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:a,height:c,maxWidth:f,maxHeight:_}=r,b=!("100%"!==a&&"100vw"!==a||f&&"100%"!==f&&"100vw"!==f),w=!("100%"!==c&&"100vh"!==c||_&&"100%"!==_&&"100vh"!==_);t.position=this._cssPosition,t.marginLeft=b?"0":this._leftOffset,t.marginTop=w?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,b?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(Q0),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let J0=(()=>{class n{constructor(e,r,a,c){this._viewportRuler=e,this._document=r,this._platform=a,this._overlayContainer=c}global(){return new lM}connectedTo(e,r,a){return new aM(r,a,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new oM(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(kh),u.LFG(ie),u.LFG(Pn),u.LFG(Lp))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(kh),u.LFG(ie),u.LFG(Pn),u.LFG(Lp))},token:n,providedIn:"root"}),n})(),PP=0,Gu=(()=>{class n{constructor(e,r,a,c,f,_,b,w,R,P,z){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=a,this._positionBuilder=c,this._keyboardDispatcher=f,this._injector=_,this._ngZone=b,this._document=w,this._directionality=R,this._location=P,this._outsideClickDispatcher=z}create(e){const r=this._createHostElement(),a=this._createPaneElement(r),c=this._createPortalOutlet(a),f=new vb(e);return f.direction=f.direction||this._directionality.value,new iM(c,r,a,f,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+PP++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(u.z2F)),new TA(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(eM),u.LFG(Lp),u.LFG(u._Vd),u.LFG(J0),u.LFG(bb),u.LFG(u.zs3),u.LFG(u.R0b),u.LFG(ie),u.LFG(So),u.LFG(et),u.LFG(q0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const eD={provide:new u.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Gu],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let tD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Gu,eD],imports:[[ju,M0,T0],T0]}),n})();function nD(n){return t=>t.lift(new uM(n))}class uM{constructor(t){this.total=t}call(t,e){return e.subscribe(new rD(t,this.total))}}class rD extends vn.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}class iD{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new wb(t,this.dueTime,this.scheduler))}}class wb extends vn.L{constructor(t,e,r){super(t),this.dueTime=e,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Db,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Db(n){n.debouncedNext()}let oD=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const r=function(n){try{return n.frameElement}catch(t){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(r&&(-1===lD(r)||!this.isVisible(r)))return!1;let a=e.nodeName.toLowerCase(),c=lD(e);return e.hasAttribute("contenteditable")?-1!==c:!("iframe"===a||"object"===a||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===a?!!e.hasAttribute("controls")&&-1!==c:"video"===a?-1!==c&&(null!==c||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,r){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||aD(n))}(e)&&!this.isDisabled(e)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Pn))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(Pn))},token:n,providedIn:"root"}),n})();function aD(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function lD(n){if(!aD(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class vM{constructor(t,e,r,a,c=!1){this._element=t,this._checker=e,this._ngZone=r,this._document=a,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,c||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let r=0;r<e.length;r++)e[r].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[r]):e[r].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[r]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const r=this._getFirstTabbableElement(e);return null==r||r.focus(t),!!r}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let r=0;r<e.length;r++){let a=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(a)return a}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let r=e.length-1;r>=0;r--){let a=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(a)return a}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(qi(1)).subscribe(t)}}let cD=(()=>{class n{constructor(e,r,a){this._checker=e,this._ngZone=r,this._document=a}create(e,r=!1){return new vM(e,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(oD),u.LFG(u.R0b),u.LFG(ie))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(oD),u.LFG(u.R0b),u.LFG(ie))},token:n,providedIn:"root"}),n})();function CM(n){return 0===n.offsetX&&0===n.offsetY}function b_(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}"undefined"!=typeof Element&&Element;const dD=new u.OlP("cdk-input-modality-detector-options"),EM={ignoreKeys:[18,17,224,91,16]},Up=p_({passive:!0,capture:!0});let fD=(()=>{class n{constructor(e,r,a,c){this._platform=e,this._mostRecentTarget=null,this._modality=new zn(null),this._lastTouchMs=0,this._onKeydown=f=>{var _,b;(null===(b=null===(_=this._options)||void 0===_?void 0:_.ignoreKeys)||void 0===b?void 0:b.some(w=>w===f.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Uu(f))},this._onMousedown=f=>{Date.now()-this._lastTouchMs<650||(this._modality.next(CM(f)?"keyboard":"mouse"),this._mostRecentTarget=Uu(f))},this._onTouchstart=f=>{b_(f)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Uu(f))},this._options=Object.assign(Object.assign({},EM),c),this.modalityDetected=this._modality.pipe(nD(1)),this.modalityChanged=this.modalityDetected.pipe(em()),e.isBrowser&&r.runOutsideAngular(()=>{a.addEventListener("keydown",this._onKeydown,Up),a.addEventListener("mousedown",this._onMousedown,Up),a.addEventListener("touchstart",this._onTouchstart,Up)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Up),document.removeEventListener("mousedown",this._onMousedown,Up),document.removeEventListener("touchstart",this._onTouchstart,Up))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Pn),u.LFG(u.R0b),u.LFG(ie),u.LFG(dD,8))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(Pn),u.LFG(u.R0b),u.LFG(ie),u.LFG(dD,8))},token:n,providedIn:"root"}),n})();const pD=new u.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Gs=new u.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let gD=(()=>{class n{constructor(e,r,a,c){this._ngZone=r,this._defaultOptions=c,this._document=a,this._liveElement=e||this._createLiveElement()}announce(e,...r){const a=this._defaultOptions;let c,f;return 1===r.length&&"number"==typeof r[0]?f=r[0]:[c,f]=r,this.clear(),clearTimeout(this._previousTimeout),c||(c=a&&a.politeness?a.politeness:"polite"),null==f&&a&&(f=a.duration),this._liveElement.setAttribute("aria-live",c),this._ngZone.runOutsideAngular(()=>new Promise(_=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,_(),"number"==typeof f&&(this._previousTimeout=setTimeout(()=>this.clear(),f))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const e="cdk-live-announcer-element",r=this._document.getElementsByClassName(e),a=this._document.createElement("div");for(let c=0;c<r.length;c++)r[c].parentNode.removeChild(r[c]);return a.classList.add(e),a.classList.add("cdk-visually-hidden"),a.setAttribute("aria-atomic","true"),a.setAttribute("aria-live","polite"),this._document.body.appendChild(a),a}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(pD,8),u.LFG(u.R0b),u.LFG(ie),u.LFG(Gs,8))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(pD,8),u.LFG(u.R0b),u.LFG(ie),u.LFG(Gs,8))},token:n,providedIn:"root"}),n})();const mD=new u.OlP("cdk-focus-monitor-default-options"),jp=p_({passive:!0,capture:!0});let Hp=(()=>{class n{constructor(e,r,a,c,f){this._ngZone=e,this._platform=r,this._inputModalityDetector=a,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ht.xQ,this._rootNodeFocusAndBlurListener=_=>{const b=Uu(_),w="focus"===_.type?this._onFocus:this._onBlur;for(let R=b;R;R=R.parentElement)w.call(this,_,R)},this._document=c,this._detectionMode=(null==f?void 0:f.detectionMode)||0}monitor(e,r=!1){const a=vl(e);if(!this._platform.isBrowser||1!==a.nodeType)return(0,Ge.of)(null);const c=function(n){if(function(){if(null==ib){const n="undefined"!=typeof document?document.head:null;ib=!(!n||!n.createShadowRoot&&!n.attachShadow)}return ib}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(a)||this._getDocument(),f=this._elementInfo.get(a);if(f)return r&&(f.checkChildren=!0),f.subject;const _={checkChildren:r,subject:new ht.xQ,rootNode:c};return this._elementInfo.set(a,_),this._registerGlobalListeners(_),_.subject}stopMonitoring(e){const r=vl(e),a=this._elementInfo.get(r);a&&(a.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(a))}focusVia(e,r,a){const c=vl(e);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([_,b])=>this._originChanged(_,r,b)):(this._setOrigin(r),"function"==typeof c.focus&&c.focus(a))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,r,a){a?e.classList.add(r):e.classList.remove(r)}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,r){this._toggleClass(e,"cdk-focused",!!r),this._toggleClass(e,"cdk-touch-focused","touch"===r),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===r),this._toggleClass(e,"cdk-mouse-focused","mouse"===r),this._toggleClass(e,"cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const a=this._elementInfo.get(r),c=Uu(e);!a||!a.checkChildren&&r!==c||this._originChanged(r,this._getFocusOrigin(c),a)}_onBlur(e,r){const a=this._elementInfo.get(r);!a||a.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(a.subject,null))}_emitOrigin(e,r){this._ngZone.run(()=>e.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,a=this._rootNodeFocusListenerCount.get(r)||0;a||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,jp),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,jp)}),this._rootNodeFocusListenerCount.set(r,a+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(bc(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const a=this._rootNodeFocusListenerCount.get(r);a>1?this._rootNodeFocusListenerCount.set(r,a-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,jp),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,jp),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,a){this._setClasses(e,r),this._emitOrigin(a.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((a,c)=>{(c===e||a.checkChildren&&c.contains(e))&&r.push([c,a])}),r}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.R0b),u.LFG(Pn),u.LFG(fD),u.LFG(ie,8),u.LFG(mD,8))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(u.R0b),u.LFG(Pn),u.LFG(fD),u.LFG(ie,8),u.LFG(mD,8))},token:n,providedIn:"root"}),n})();const C_="cdk-high-contrast-black-on-white",E_="cdk-high-contrast-white-on-black",$p="cdk-high-contrast-active";let Gp=(()=>{class n{constructor(e,r){this._platform=e,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,a=r&&r.getComputedStyle?r.getComputedStyle(e):null,c=(a&&a.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),c){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove($p),e.remove(C_),e.remove(E_),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(e.add($p),e.add(C_)):2===r&&(e.add($p),e.add(E_))}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Pn),u.LFG(ie))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(Pn),u.LFG(ie))},token:n,providedIn:"root"}),n})();const Rb=new u.GfV("12.2.13");class Ob{}const Cl="*";function Pb(n,t){return{type:7,name:n,definitions:t,options:{}}}function w_(n,t=null){return{type:4,styles:t,timings:n}}function _D(n,t=null){return{type:2,steps:n,options:t}}function Io(n){return{type:6,styles:n,offset:null}}function D_(n,t,e){return{type:0,name:n,styles:t,options:e}}function Dc(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function zp(n){Promise.resolve(null).then(n)}class Fh{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){zp(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class vD{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,a=0;const c=this.players.length;0==c?zp(()=>this._onFinish()):this.players.forEach(f=>{f.onDone(()=>{++e==c&&this._onFinish()}),f.onDestroy(()=>{++r==c&&this._onDestroy()}),f.onStart(()=>{++a==c&&this._onStart()})}),this.totalTime=this.players.reduce((f,_)=>Math.max(f,_.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const a=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(a)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function bD(){return"undefined"!=typeof window&&void 0!==window.document}function S_(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Sc(n){switch(n.length){case 0:return new Fh;case 1:return n[0];default:return new vD(n)}}function CD(n,t,e,r,a={},c={}){const f=[],_=[];let b=-1,w=null;if(r.forEach(R=>{const P=R.offset,z=P==b,Y=z&&w||{};Object.keys(R).forEach(ae=>{let Oe=ae,Ve=R[ae];if("offset"!==ae)switch(Oe=t.normalizePropertyName(Oe,f),Ve){case"!":Ve=a[ae];break;case Cl:Ve=c[ae];break;default:Ve=t.normalizeStyleValue(ae,Oe,Ve,f)}Y[Oe]=Ve}),z||_.push(Y),w=Y,b=P}),f.length){const R="\n - ";throw new Error(`Unable to animate due to the following errors:${R}${f.join(R)}`)}return _}function Fb(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&ya(e,"start",n)));break;case"done":n.onDone(()=>r(e&&ya(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&ya(e,"destroy",n)))}}function ya(n,t,e){const r=e.totalTime,c=zu(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==r?n.totalTime:r,!!e.disabled),f=n._data;return null!=f&&(c._data=f),c}function zu(n,t,e,r,a="",c=0,f){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:a,totalTime:c,disabled:!!f}}function ui(n,t,e){let r;return n instanceof Map?(r=n.get(t),r||n.set(t,r=e)):(r=n[t],r||(r=n[t]=e)),r}function ED(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let Lb=(n,t)=>!1,Wp=(n,t)=>!1,Vb=(n,t,e)=>[];const wD=S_();(wD||"undefined"!=typeof Element)&&(Lb=bD()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),Wp=(()=>{if(wD||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,r)=>t.apply(e,[r]):Wp}})(),Vb=(n,t,e)=>{let r=[];if(e){const a=n.querySelectorAll(t);for(let c=0;c<a.length;c++)r.push(a[c])}else{const a=n.querySelector(t);a&&r.push(a)}return r});let Wu=null,va=!1;function Yu(n){Wu||(Wu=("undefined"!=typeof document?document.body:null)||{},va=!!Wu.style&&"WebkitAppearance"in Wu.style);let t=!0;return Wu.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Wu.style,!t&&va&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Wu.style)),t}const Vh=Wp,Tc=Lb,Bb=Vb;function DD(n){const t={};return Object.keys(n).forEach(e=>{const r=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=n[e]}),t}let SD=(()=>{class n{validateStyleProperty(e){return Yu(e)}matchesElement(e,r){return Vh(e,r)}containsElement(e,r){return Tc(e,r)}query(e,r,a){return Bb(e,r,a)}computeStyle(e,r,a){return a||""}animate(e,r,a,c,f,_=[],b){return new Fh(a,c)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),T_=(()=>{class n{}return n.NOOP=new SD,n})();const Yp="ng-enter",I_="ng-leave",ba="ng-trigger",Bh=".ng-trigger",AD="ng-animating",jb=".ng-animating";function Uh(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:MD(parseFloat(t[1]),t[2])}function MD(n,t){switch(t){case"s":return 1e3*n;default:return n}}function Hb(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let a,c=0,f="";if("string"==typeof n){const _=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};a=MD(parseFloat(_[1]),_[2]);const b=_[3];null!=b&&(c=MD(parseFloat(b),_[4]));const w=_[5];w&&(f=w)}else a=n;if(!e){let _=!1,b=t.length;a<0&&(t.push("Duration values below 0 are not allowed for this animation step."),_=!0),c<0&&(t.push("Delay values below 0 are not allowed for this animation step."),_=!0),_&&t.splice(b,0,`The provided timing value "${n}" is invalid.`)}return{duration:a,delay:c,easing:f}}(n,t,e)}function jh(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Zu(n,t,e={}){if(t)for(let r in n)e[r]=n[r];else jh(n,e);return e}function PM(n,t,e){return e?t+":"+e+";":""}function xM(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=PM(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=PM(0,d(e),n.style[e]));n.setAttribute("style",t)}function El(n,t,e){n.style&&(Object.keys(t).forEach(r=>{const a=l(r);e&&!e.hasOwnProperty(r)&&(e[r]=n.style[a]),n.style[a]=t[r]}),S_()&&xM(n))}function qu(n,t){n.style&&(Object.keys(t).forEach(e=>{const r=l(e);n.style[r]=""}),S_()&&xM(n))}function A_(n){return Array.isArray(n)?1==n.length?n[0]:_D(n):n}const OD=new RegExp("{{\\s*(.+?)\\s*}}","g");function kM(n){let t=[];if("string"==typeof n){let e;for(;e=OD.exec(n);)t.push(e[1]);OD.lastIndex=0}return t}function i(n,t,e){const r=n.toString(),a=r.replace(OD,(c,f)=>{let _=t[f];return t.hasOwnProperty(f)||(e.push(`Please provide a value for the animation param ${f}`),_=""),_.toString()});return a==r?n:a}function s(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const o=/-+([a-z0-9])/g;function l(n){return n.replace(o,(...t)=>t[1].toUpperCase())}function d(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function h(n,t){return 0===n||0===t}function m(n,t,e){const r=Object.keys(e);if(r.length&&t.length){let c=t[0],f=[];if(r.forEach(_=>{c.hasOwnProperty(_)||f.push(_),c[_]=e[_]}),f.length)for(var a=1;a<t.length;a++){let _=t[a];f.forEach(function(b){_[b]=E(n,b)})}}return t}function y(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function E(n,t){return window.getComputedStyle(n)[t]}const S="*";function I(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,t,e){if(":"==n[0]){const b=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof b)return void t.push(b);n=b}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const a=r[1],c=r[2],f=r[3];t.push(ge(a,f));"<"==c[0]&&!(a==S&&f==S)&&t.push(ge(f,a))}(r,e,t)):e.push(n),e}const $=new Set(["true","1"]),q=new Set(["false","0"]);function ge(n,t){const e=$.has(n)||q.has(n),r=$.has(t)||q.has(t);return(a,c)=>{let f=n==S||n==a,_=t==S||t==c;return!f&&e&&"boolean"==typeof a&&(f=a?$.has(n):q.has(n)),!_&&r&&"boolean"==typeof c&&(_=c?$.has(t):q.has(t)),f&&_}}const ke=new RegExp("s*:selfs*,?","g");function Se(n,t,e){return new pt(n).build(t,e)}class pt{constructor(t){this._driver=t}build(t,e){const r=new zs(e);return this._resetContextStyleTimingState(r),y(this,A_(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,a=e.depCount=0;const c=[],f=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(_=>{if(this._resetContextStyleTimingState(e),0==_.type){const b=_,w=b.name;w.toString().split(/\s*,\s*/).forEach(R=>{b.name=R,c.push(this.visitState(b,e))}),b.name=w}else if(1==_.type){const b=this.visitTransition(_,e);r+=b.queryCount,a+=b.depCount,f.push(b)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:c,transitions:f,queryCount:r,depCount:a,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),a=t.options&&t.options.params||null;if(r.containsDynamicStyles){const c=new Set,f=a||{};if(r.styles.forEach(_=>{if(wl(_)){const b=_;Object.keys(b).forEach(w=>{kM(b[w]).forEach(R=>{f.hasOwnProperty(R)||c.add(R)})})}}),c.size){const _=s(c.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${_.join(", ")}`)}}return{type:0,name:t.name,style:r,options:a?{params:a}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=y(this,A_(t.animation),e);return{type:1,matchers:I(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Ws(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>y(this,r,e)),options:Ws(t.options)}}visitGroup(t,e){const r=e.currentTime;let a=0;const c=t.steps.map(f=>{e.currentTime=r;const _=y(this,f,e);return a=Math.max(a,e.currentTime),_});return e.currentTime=a,{type:3,steps:c,options:Ws(t.options)}}visitAnimate(t,e){const r=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return qp(Hb(n,t).duration,0,"");const r=n;if(r.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=qp(0,0,"");return c.dynamic=!0,c.strValue=r,c}return e=e||Hb(r,t),qp(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let a,c=t.styles?t.styles:Io({});if(5==c.type)a=this.visitKeyframes(c,e);else{let f=t.styles,_=!1;if(!f){_=!0;const w={};r.easing&&(w.easing=r.easing),f=Io(w)}e.currentTime+=r.duration+r.delay;const b=this.visitStyle(f,e);b.isEmptyStep=_,a=b}return e.currentAnimateTimings=null,{type:4,timings:r,style:a,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[];Array.isArray(t.styles)?t.styles.forEach(f=>{"string"==typeof f?f==Cl?r.push(f):e.errors.push(`The provided style string value ${f} is not allowed.`):r.push(f)}):r.push(t.styles);let a=!1,c=null;return r.forEach(f=>{if(wl(f)){const _=f,b=_.easing;if(b&&(c=b,delete _.easing),!a)for(let w in _)if(_[w].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:r,easing:c,offset:t.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let a=e.currentTime,c=e.currentTime;r&&c>0&&(c-=r.duration+r.delay),t.styles.forEach(f=>{"string"!=typeof f&&Object.keys(f).forEach(_=>{if(!this._driver.validateStyleProperty(_))return void e.errors.push(`The provided animation property "${_}" is not a supported CSS property for animations`);const b=e.collectedStyles[e.currentQuerySelector],w=b[_];let R=!0;w&&(c!=a&&c>=w.startTime&&a<=w.endTime&&(e.errors.push(`The CSS property "${_}" that exists between the times of "${w.startTime}ms" and "${w.endTime}ms" is also being animated in a parallel animation between the times of "${c}ms" and "${a}ms"`),R=!1),c=w.startTime),R&&(b[_]={startTime:c,endTime:a}),e.options&&function(n,t,e){const r=t.params||{},a=kM(n);a.length&&a.forEach(c=>{r.hasOwnProperty(c)||e.push(`Unable to resolve the local animation param ${c} in the given list of values`)})}(f[_],e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;let c=0;const f=[];let _=!1,b=!1,w=0;const R=t.steps.map(qe=>{const rt=this._makeStyleAst(qe,e);let Nt=null!=rt.offset?rt.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(wl(e)&&e.hasOwnProperty("offset")){const r=e;t=parseFloat(r.offset),delete r.offset}});else if(wl(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(rt.styles),vt=0;return null!=Nt&&(c++,vt=rt.offset=Nt),b=b||vt<0||vt>1,_=_||vt<w,w=vt,f.push(vt),rt});b&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),_&&e.errors.push("Please ensure that all keyframe offsets are in order");const P=t.steps.length;let z=0;c>0&&c<P?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==c&&(z=1/(P-1));const Y=P-1,ae=e.currentTime,Oe=e.currentAnimateTimings,Ve=Oe.duration;return R.forEach((qe,rt)=>{const Nt=z>0?rt==Y?1:z*rt:f[rt],vt=Nt*Ve;e.currentTime=ae+Oe.delay+vt,Oe.duration=vt,this._validateStyleAst(qe,e),qe.offset=Nt,r.styles.push(qe)}),r}visitReference(t,e){return{type:8,animation:y(this,A_(t.animation),e),options:Ws(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ws(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ws(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,a=t.options||{};e.queryCount++,e.currentQuery=t;const[c,f]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(ke,"")),[n=n.replace(/@\*/g,Bh).replace(/@\w+/g,e=>Bh+"-"+e.substr(1)).replace(/:animating/g,jb),t]}(t.selector);e.currentQuerySelector=r.length?r+" "+c:c,ui(e.collectedStyles,e.currentQuerySelector,{});const _=y(this,A_(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:c,limit:a.limit||0,optional:!!a.optional,includeSelf:f,animation:_,originalSelector:t.selector,options:Ws(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Hb(t.timings,e.errors,!0);return{type:12,animation:y(this,A_(t.animation),e),timings:r,options:null}}}class zs{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function wl(n){return!Array.isArray(n)&&"object"==typeof n}function Ws(n){return n?(n=jh(n)).params&&(n.params=function(n){return n?jh(n):null}(n.params)):n={},n}function qp(n,t,e){return{duration:n,delay:t,easing:e}}function Kp(n,t,e,r,a,c,f=null,_=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:a,delay:c,totalTime:a+c,easing:f,subTimeline:_}}class $h{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const e1=new RegExp(":enter","g"),n1=new RegExp(":leave","g");function NM(n,t,e,r,a,c={},f={},_,b,w=[]){return(new r1).buildKeyframes(n,t,e,r,a,c,f,_,b,w)}class r1{buildKeyframes(t,e,r,a,c,f,_,b,w,R=[]){w=w||new $h;const P=new FM(t,e,w,a,c,R,[]);P.options=b,P.currentTimeline.setStyles([f],null,P.errors,b),y(this,r,P);const z=P.timelines.filter(Y=>Y.containsAnimation());if(z.length&&Object.keys(_).length){const Y=z[z.length-1];Y.allowOnlyTimelineStyles()||Y.setStyles([_],null,P.errors,b)}return z.length?z.map(Y=>Y.buildKeyframes()):[Kp(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.consume(e.element);if(r){const a=e.createSubContext(t.options),c=e.currentTimeline.currentTime,f=this._visitSubInstructions(r,a,a.options);c!=f&&e.transformIntoNewTimeline(f)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,r){let c=e.currentTimeline.currentTime;const f=null!=r.duration?Uh(r.duration):null,_=null!=r.delay?Uh(r.delay):null;return 0!==f&&t.forEach(b=>{const w=e.appendInstructionToTimeline(b,f,_);c=Math.max(c,w.duration+w.delay)}),c}visitReference(t,e){e.updateOptions(t.options,!0),y(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let a=e;const c=t.options;if(c&&(c.params||c.delay)&&(a=e.createSubContext(c),a.transformIntoNewTimeline(),null!=c.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=PD);const f=Uh(c.delay);a.delayNextStep(f)}t.steps.length&&(t.steps.forEach(f=>y(this,f,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>r&&a.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let a=e.currentTimeline.currentTime;const c=t.options&&t.options.delay?Uh(t.options.delay):0;t.steps.forEach(f=>{const _=e.createSubContext(t.options);c&&_.delayNextStep(c),y(this,f,_),a=Math.max(a,_.currentTimeline.currentTime),r.push(_.currentTimeline)}),r.forEach(f=>e.currentTimeline.mergeTimelineCollectedStyles(f)),e.transformIntoNewTimeline(a),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return Hb(e.params?i(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),a=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),a.snapshotCurrentStyles());const c=t.style;5==c.type?this.visitKeyframes(c,e):(e.incrementTime(r.duration),this.visitStyle(c,e),a.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,a=e.currentAnimateTimings;!a&&r.getCurrentStyleProperties().length&&r.forwardFrame();const c=a&&a.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(c):r.setStyles(t.styles,c,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,a=e.currentTimeline.duration,c=r.duration,_=e.createSubContext().currentTimeline;_.easing=r.easing,t.styles.forEach(b=>{_.forwardTime((b.offset||0)*c),_.setStyles(b.styles,b.easing,e.errors,e.options),_.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(_),e.transformIntoNewTimeline(a+c),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,a=t.options||{},c=a.delay?Uh(a.delay):0;c&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=PD);let f=r;const _=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!a.optional,e.errors);e.currentQueryTotal=_.length;let b=null;_.forEach((w,R)=>{e.currentQueryIndex=R;const P=e.createSubContext(t.options,w);c&&P.delayNextStep(c),w===e.element&&(b=P.currentTimeline),y(this,t.animation,P),P.currentTimeline.applyStylesToKeyframe(),f=Math.max(f,P.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(f),b&&(e.currentTimeline.mergeTimelineCollectedStyles(b),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,a=e.currentTimeline,c=t.timings,f=Math.abs(c.duration),_=f*(e.currentQueryTotal-1);let b=f*e.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":b=_-b;break;case"full":b=r.currentStaggerTime}const R=e.currentTimeline;b&&R.delayNextStep(b);const P=R.currentTime;y(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=a.currentTime-P+(a.startTime-r.currentTimeline.startTime)}}const PD={};class FM{constructor(t,e,r,a,c,f,_,b){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=a,this._leaveClassName=c,this.errors=f,this.timelines=_,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=PD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=b||new xD(this._driver,e,0),_.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let a=this.options;null!=r.duration&&(a.duration=Uh(r.duration)),null!=r.delay&&(a.delay=Uh(r.delay));const c=r.params;if(c){let f=a.params;f||(f=this.options.params={}),Object.keys(c).forEach(_=>{(!e||!f.hasOwnProperty(_))&&(f[_]=i(c[_],f,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(a=>{r[a]=e[a]})}}return t}createSubContext(t=null,e,r){const a=e||this.element,c=new FM(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,r||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(t),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(t){return this.previousNode=PD,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const a={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+t.delay,easing:""},c=new s1(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,a,t.stretchStartingKeyframe);return this.timelines.push(c),a}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,a,c,f){let _=[];if(a&&_.push(this.element),t.length>0){t=(t=t.replace(e1,"."+this._enterClassName)).replace(n1,"."+this._leaveClassName);let w=this._driver.query(this.element,t,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),_.push(...w)}return!c&&0==_.length&&f.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),_}}class xD{constructor(t,e,r,a){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new xD(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Cl,this._currentKeyframe[e]=Cl}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,a){e&&(this._previousKeyframe.easing=e);const c=a&&a.params||{},f=function(n,t){const e={};let r;return n.forEach(a=>{"*"===a?(r=r||Object.keys(t),r.forEach(c=>{e[c]=Cl})):Zu(a,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(f).forEach(_=>{const b=i(f[_],c,r);this._pendingStyles[_]=b,this._localTimelineStyles.hasOwnProperty(_)||(this._backFill[_]=this._globalTimelineStyles.hasOwnProperty(_)?this._globalTimelineStyles[_]:Cl),this._updateStyle(_,b)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(r=>{this._currentKeyframe[r]=t[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const r=this._styleSummary[e],a=t._styleSummary[e];(!r||a.time>r.time)&&this._updateStyle(e,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((_,b)=>{const w=Zu(_,!0);Object.keys(w).forEach(R=>{const P=w[R];"!"==P?t.add(R):P==Cl&&e.add(R)}),r||(w.offset=b/this.duration),a.push(w)});const c=t.size?s(t.values()):[],f=e.size?s(e.values()):[];if(r){const _=a[0],b=jh(_);_.offset=0,b.offset=1,a=[_,b]}return Kp(this.element,a,c,f,this.duration,this.startTime,this.easing,!1)}}class s1 extends xD{constructor(t,e,r,a,c,f,_=!1){super(t,e,f.delay),this.keyframes=r,this.preStyleProps=a,this.postStyleProps=c,this._stretchStartingKeyframe=_,this.timings={duration:f.duration,delay:f.delay,easing:f.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:a}=this.timings;if(this._stretchStartingKeyframe&&e){const c=[],f=r+e,_=e/f,b=Zu(t[0],!1);b.offset=0,c.push(b);const w=Zu(t[0],!1);w.offset=XP(_),c.push(w);const R=t.length-1;for(let P=1;P<=R;P++){let z=Zu(t[P],!1);z.offset=XP((e+z.offset*r)/f),c.push(z)}r=f,e=0,a="",t=c}return Kp(this.element,t,this.preStyleProps,this.postStyleProps,r,e,a,!0)}}function XP(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class LM{}class a1 extends LM{normalizePropertyName(t,e){return l(t)}normalizeStyleValue(t,e,r,a){let c="";const f=r.toString().trim();if(l1[e]&&0!==r&&"0"!==r)if("number"==typeof r)c="px";else{const _=r.match(/^[+-]?[\d\.]+([a-z]*)$/);_&&0==_[1].length&&a.push(`Please provide a CSS unit value for ${t}:${r}`)}return f+c}}const l1=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ex(n,t,e,r,a,c,f,_,b,w,R,P,z){return{type:0,element:n,triggerName:t,isRemovalTransition:a,fromState:e,fromStyles:c,toState:r,toStyles:f,timelines:_,queriedElements:b,preStyleProps:w,postStyleProps:R,totalTime:P,errors:z}}const VM={};class tx{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,a){return function(n,t,e,r,a){return n.some(c=>c(t,e,r,a))}(this.ast.matchers,t,e,r,a)}buildStyles(t,e,r){const a=this._stateStyles["*"],c=this._stateStyles[t],f=a?a.buildStyles(e,r):{};return c?c.buildStyles(e,r):f}build(t,e,r,a,c,f,_,b,w,R){const P=[],z=this.ast.options&&this.ast.options.params||VM,ae=this.buildStyles(r,_&&_.params||VM,P),Oe=b&&b.params||VM,Ve=this.buildStyles(a,Oe,P),qe=new Set,rt=new Map,Nt=new Map,vt="void"===a,Fr={params:Object.assign(Object.assign({},z),Oe)},Gr=R?[]:NM(t,e,this.ast.animation,c,f,ae,Ve,Fr,w,P);let ds=0;if(Gr.forEach(Xu=>{ds=Math.max(Xu.duration+Xu.delay,ds)}),P.length)return ex(e,this._triggerName,r,a,vt,ae,Ve,[],[],rt,Nt,ds,P);Gr.forEach(Xu=>{const ed=Xu.element,ZN=ui(rt,ed,{});Xu.preStyleProps.forEach(rg=>ZN[rg]=!0);const iC=ui(Nt,ed,{});Xu.postStyleProps.forEach(rg=>iC[rg]=!0),ed!==e&&qe.add(ed)});const Ju=s(qe.values());return ex(e,this._triggerName,r,a,vt,ae,Ve,Gr,Ju,rt,Nt,ds)}}class d1{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r={},a=jh(this.defaultParams);return Object.keys(t).forEach(c=>{const f=t[c];null!=f&&(a[c]=f)}),this.styles.styles.forEach(c=>{if("string"!=typeof c){const f=c;Object.keys(f).forEach(_=>{let b=f[_];b.length>1&&(b=i(b,a,e));const w=this.normalizer.normalizePropertyName(_,e);b=this.normalizer.normalizeStyleValue(_,w,b,e),r[w]=b})}}),r}}class f1{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states={},e.states.forEach(a=>{this.states[a.name]=new d1(a.style,a.options&&a.options.params||{},r)}),nx(this.states,"true","1"),nx(this.states,"false","0"),e.transitions.forEach(a=>{this.transitionFactories.push(new tx(t,a,this.states))}),this.fallbackTransition=function(n,t,e){return new tx(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(f,_)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,a){return this.transitionFactories.find(f=>f.match(t,e,r,a))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function nx(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const g1=new $h;class m1{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(t,e){const r=[],a=Se(this._driver,e,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[t]=a}_buildPlayer(t,e,r){const a=t.element,c=CD(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(a,c,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const a=[],c=this._animations[t];let f;const _=new Map;if(c?(f=NM(this._driver,e,c,Yp,I_,{},{},r,g1,a),f.forEach(R=>{const P=ui(_,R.element,{});R.postStyleProps.forEach(z=>P[z]=null)})):(a.push("The requested animation doesn't exist or has already been destroyed"),f=[]),a.length)throw new Error(`Unable to create the animation due to the following errors: ${a.join("\n")}`);_.forEach((R,P)=>{Object.keys(R).forEach(z=>{R[z]=this._driver.computeStyle(P,z,Cl)})});const w=Sc(f.map(R=>{const P=_.get(R.element);return this._buildPlayer(R,{},P)}));return this._playersById[t]=w,w.onDestroy(()=>this.destroy(t)),this.players.push(w),w}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,r,a){const c=zu(e,"","","");return Fb(this._getPlayer(t),r,c,a),()=>{}}command(t,e,r,a){if("register"==r)return void this.register(t,a[0]);if("create"==r)return void this.create(t,e,a[0]||{});const c=this._getPlayer(t);switch(r){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(t)}}}const rx="ng-animate-queued",ix="ng-animate-disabled",sx=".ng-animate-disabled",b1=[],ox={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},C1={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ca="__ng_removed";class BM{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(r?t.value:t),r){const c=jh(t);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(a=>{null==r[a]&&(r[a]=e[a])})}}}const zb="void",UM=new BM(zb);class E1{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ea(e,this._hostClassName)}listen(t,e,r,a){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${e}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${e}" is not supported!`);const c=ui(this._elementListeners,t,[]),f={name:e,phase:r,callback:a};c.push(f);const _=ui(this._engine.statesByElement,t,{});return _.hasOwnProperty(e)||(Ea(t,ba),Ea(t,ba+"-"+e),_[e]=UM),()=>{this._engine.afterFlush(()=>{const b=c.indexOf(f);b>=0&&c.splice(b,1),this._triggers[e]||delete _[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,r,a=!0){const c=this._getTrigger(e),f=new jM(this.id,e,t);let _=this._engine.statesByElement.get(t);_||(Ea(t,ba),Ea(t,ba+"-"+e),this._engine.statesByElement.set(t,_={}));let b=_[e];const w=new BM(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&b&&w.absorbOptions(b.options),_[e]=w,b||(b=UM),w.value!==zb&&b.value===w.value){if(!function(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let a=0;a<e.length;a++){const c=e[a];if(!t.hasOwnProperty(c)||n[c]!==t[c])return!1}return!0}(b.params,w.params)){const Oe=[],Ve=c.matchStyles(b.value,b.params,Oe),qe=c.matchStyles(w.value,w.params,Oe);Oe.length?this._engine.reportError(Oe):this._engine.afterFlush(()=>{qu(t,Ve),El(t,qe)})}return}const z=ui(this._engine.playersByElement,t,[]);z.forEach(Oe=>{Oe.namespaceId==this.id&&Oe.triggerName==e&&Oe.queued&&Oe.destroy()});let Y=c.matchTransition(b.value,w.value,t,w.params),ae=!1;if(!Y){if(!a)return;Y=c.fallbackTransition,ae=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:Y,fromState:b,toState:w,player:f,isFallbackTransition:ae}),ae||(Ea(t,rx),f.onStart(()=>{M_(t,rx)})),f.onDone(()=>{let Oe=this.players.indexOf(f);Oe>=0&&this.players.splice(Oe,1);const Ve=this._engine.playersByElement.get(t);if(Ve){let qe=Ve.indexOf(f);qe>=0&&Ve.splice(qe,1)}}),this.players.push(f),z.push(f),f}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,r)=>{delete e[t]}),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(a=>a.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,Bh,!0);r.forEach(a=>{if(a[Ca])return;const c=this._engine.fetchNamespacesByElement(a);c.size?c.forEach(f=>f.triggerLeaveAnimation(a,e,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(t,e,r,a){const c=this._engine.statesByElement.get(t);if(c){const f=[];if(Object.keys(c).forEach(_=>{if(this._triggers[_]){const b=this.trigger(t,_,zb,a);b&&f.push(b)}}),f.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),r&&Sc(f).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const a=new Set;e.forEach(c=>{const f=c.name;if(a.has(f))return;a.add(f);const b=this._triggers[f].fallbackTransition,w=r[f]||UM,R=new BM(zb),P=new jM(this.id,f,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:f,transition:b,fromState:w,toState:R,player:P,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let a=!1;if(r.totalAnimations){const c=r.players.length?r.playersByQueriedElement.get(t):[];if(c&&c.length)a=!0;else{let f=t;for(;f=f.parentNode;)if(r.statesByElement.get(f)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(t),a)r.markElementAsRemoved(this.id,t,!1,e);else{const c=t[Ca];(!c||c===ox)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){Ea(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const a=r.player;if(a.destroyed)return;const c=r.element,f=this._elementListeners.get(c);f&&f.forEach(_=>{if(_.name==r.triggerName){const b=zu(c,r.triggerName,r.fromState.value,r.toState.value);b._data=t,Fb(r.player,_.phase,b,_.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):e.push(r)}),this._queue=[],e.sort((r,a)=>{const c=r.transition.ast.depCount,f=a.transition.ast.depCount;return 0==c||0==f?c-f:this._engine.driver.containsElement(r.element,a.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class w1{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,c)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new E1(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList.length-1;if(r>=0){let a=!1;for(let c=r;c>=0;c--)if(this.driver.containsElement(this._namespaceList[c].hostElement,e)){this._namespaceList.splice(c+1,0,t),a=!0;break}a||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let a=this._namespaceLookup[t];a&&a.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const a=this._namespaceList.indexOf(r);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r){const a=Object.keys(r);for(let c=0;c<a.length;c++){const f=r[a[c]].namespaceId;if(f){const _=this._fetchNamespace(f);_&&e.add(_)}}}return e}trigger(t,e,r,a){if(kD(e)){const c=this._fetchNamespace(t);if(c)return c.trigger(e,r,a),!0}return!1}insertNode(t,e,r,a){if(!kD(e))return;const c=e[Ca];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const f=this.collectedLeaveElements.indexOf(e);f>=0&&this.collectedLeaveElements.splice(f,1)}if(t){const f=this._fetchNamespace(t);f&&f.insertNode(e,r)}a&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ea(t,ix)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),M_(t,ix))}removeNode(t,e,r,a){if(kD(e)){const c=t?this._fetchNamespace(t):null;if(c?c.removeNode(e,a):this.markElementAsRemoved(t,e,!1,a),r){const f=this.namespacesByHostElement.get(e);f&&f.id!==t&&f.removeNode(e,a)}}else this._onRemovalComplete(e,a)}markElementAsRemoved(t,e,r,a){this.collectedLeaveElements.push(e),e[Ca]={namespaceId:t,setForRemoval:a,hasAnimation:r,removedBeforeQueried:!1}}listen(t,e,r,a,c){return kD(e)?this._fetchNamespace(t).listen(e,r,a,c):()=>{}}_buildInstruction(t,e,r,a,c){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,a,t.fromState.options,t.toState.options,e,c)}destroyInnerAnimations(t){let e=this.driver.query(t,Bh,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,jb,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Sc(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ca];if(e&&e.setForRemoval){if(t[Ca]=ox,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,sx)&&this.markElementAsDisabled(t,!1),this.driver.query(t,sx,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,a)=>this._balanceNamespaceList(r,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ea(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let a=0;a<r.length;a++)r[a]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Sc(e).onDone(()=>{r.forEach(a=>a())}):r.forEach(a=>a())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const r=new $h,a=[],c=new Map,f=[],_=new Map,b=new Map,w=new Map,R=new Set;this.disabledNodes.forEach(Je=>{R.add(Je);const lt=this.driver.query(Je,".ng-animate-queued",!0);for(let Dt=0;Dt<lt.length;Dt++)R.add(lt[Dt])});const P=this.bodyNode,z=Array.from(this.statesByElement.keys()),Y=cx(z,this.collectedEnterElements),ae=new Map;let Oe=0;Y.forEach((Je,lt)=>{const Dt=Yp+Oe++;ae.set(lt,Dt),Je.forEach(qt=>Ea(qt,Dt))});const Ve=[],qe=new Set,rt=new Set;for(let Je=0;Je<this.collectedLeaveElements.length;Je++){const lt=this.collectedLeaveElements[Je],Dt=lt[Ca];Dt&&Dt.setForRemoval&&(Ve.push(lt),qe.add(lt),Dt.hasAnimation?this.driver.query(lt,".ng-star-inserted",!0).forEach(qt=>qe.add(qt)):rt.add(lt))}const Nt=new Map,vt=cx(z,Array.from(qe));vt.forEach((Je,lt)=>{const Dt=I_+Oe++;Nt.set(lt,Dt),Je.forEach(qt=>Ea(qt,Dt))}),t.push(()=>{Y.forEach((Je,lt)=>{const Dt=ae.get(lt);Je.forEach(qt=>M_(qt,Dt))}),vt.forEach((Je,lt)=>{const Dt=Nt.get(lt);Je.forEach(qt=>M_(qt,Dt))}),Ve.forEach(Je=>{this.processLeaveNode(Je)})});const Fr=[],Gr=[];for(let Je=this._namespaceList.length-1;Je>=0;Je--)this._namespaceList[Je].drainQueuedTransitions(e).forEach(Dt=>{const qt=Dt.player,zr=Dt.element;if(Fr.push(qt),this.collectedEnterElements.length){const Rc=zr[Ca];if(Rc&&Rc.setForMove)return void qt.destroy()}const Mc=!P||!this.driver.containsElement(P,zr),Mo=Nt.get(zr),qh=ae.get(zr),Qn=this._buildInstruction(Dt,r,qh,Mo,Mc);if(Qn.errors&&Qn.errors.length)Gr.push(Qn);else{if(Mc)return qt.onStart(()=>qu(zr,Qn.fromStyles)),qt.onDestroy(()=>El(zr,Qn.toStyles)),void a.push(qt);if(Dt.isFallbackTransition)return qt.onStart(()=>qu(zr,Qn.fromStyles)),qt.onDestroy(()=>El(zr,Qn.toStyles)),void a.push(qt);Qn.timelines.forEach(Rc=>Rc.stretchStartingKeyframe=!0),r.append(zr,Qn.timelines),f.push({instruction:Qn,player:qt,element:zr}),Qn.queriedElements.forEach(Rc=>ui(_,Rc,[]).push(qt)),Qn.preStyleProps.forEach((Rc,sC)=>{const oS=Object.keys(Rc);if(oS.length){let ig=b.get(sC);ig||b.set(sC,ig=new Set),oS.forEach(GR=>ig.add(GR))}}),Qn.postStyleProps.forEach((Rc,sC)=>{const oS=Object.keys(Rc);let ig=w.get(sC);ig||w.set(sC,ig=new Set),oS.forEach(GR=>ig.add(GR))})}});if(Gr.length){const Je=[];Gr.forEach(lt=>{Je.push(`@${lt.triggerName} has failed due to:\n`),lt.errors.forEach(Dt=>Je.push(`- ${Dt}\n`))}),Fr.forEach(lt=>lt.destroy()),this.reportError(Je)}const ds=new Map,Ju=new Map;f.forEach(Je=>{const lt=Je.element;r.has(lt)&&(Ju.set(lt,lt),this._beforeAnimationBuild(Je.player.namespaceId,Je.instruction,ds))}),a.forEach(Je=>{const lt=Je.element;this._getPreviousPlayers(lt,!1,Je.namespaceId,Je.triggerName,null).forEach(qt=>{ui(ds,lt,[]).push(qt),qt.destroy()})});const Xu=Ve.filter(Je=>dx(Je,b,w)),ed=new Map;lx(ed,this.driver,rt,w,Cl).forEach(Je=>{dx(Je,b,w)&&Xu.push(Je)});const iC=new Map;Y.forEach((Je,lt)=>{lx(iC,this.driver,new Set(Je),b,"!")}),Xu.forEach(Je=>{const lt=ed.get(Je),Dt=iC.get(Je);ed.set(Je,Object.assign(Object.assign({},lt),Dt))});const rg=[],qN=[],KN={};f.forEach(Je=>{const{element:lt,player:Dt,instruction:qt}=Je;if(r.has(lt)){if(R.has(lt))return Dt.onDestroy(()=>El(lt,qt.toStyles)),Dt.disabled=!0,Dt.overrideTotalTime(qt.totalTime),void a.push(Dt);let zr=KN;if(Ju.size>1){let Mo=lt;const qh=[];for(;Mo=Mo.parentNode;){const Qn=Ju.get(Mo);if(Qn){zr=Qn;break}qh.push(Mo)}qh.forEach(Qn=>Ju.set(Qn,zr))}const Mc=this._buildAnimation(Dt.namespaceId,qt,ds,c,iC,ed);if(Dt.setRealPlayer(Mc),zr===KN)rg.push(Dt);else{const Mo=this.playersByElement.get(zr);Mo&&Mo.length&&(Dt.parentPlayer=Sc(Mo)),a.push(Dt)}}else qu(lt,qt.fromStyles),Dt.onDestroy(()=>El(lt,qt.toStyles)),qN.push(Dt),R.has(lt)&&a.push(Dt)}),qN.forEach(Je=>{const lt=c.get(Je.element);if(lt&&lt.length){const Dt=Sc(lt);Je.setRealPlayer(Dt)}}),a.forEach(Je=>{Je.parentPlayer?Je.syncPlayerEvents(Je.parentPlayer):Je.destroy()});for(let Je=0;Je<Ve.length;Je++){const lt=Ve[Je],Dt=lt[Ca];if(M_(lt,I_),Dt&&Dt.hasAnimation)continue;let qt=[];if(_.size){let Mc=_.get(lt);Mc&&Mc.length&&qt.push(...Mc);let Mo=this.driver.query(lt,jb,!0);for(let qh=0;qh<Mo.length;qh++){let Qn=_.get(Mo[qh]);Qn&&Qn.length&&qt.push(...Qn)}}const zr=qt.filter(Mc=>!Mc.destroyed);zr.length?I1(this,lt,zr):this.processLeaveNode(lt)}return Ve.length=0,rg.forEach(Je=>{this.players.push(Je),Je.onDone(()=>{Je.destroy();const lt=this.players.indexOf(Je);this.players.splice(lt,1)}),Je.play()}),rg}elementContainsData(t,e){let r=!1;const a=e[Ca];return a&&a.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,a,c){let f=[];if(e){const _=this.playersByQueriedElement.get(t);_&&(f=_)}else{const _=this.playersByElement.get(t);if(_){const b=!c||c==zb;_.forEach(w=>{w.queued||!b&&w.triggerName!=a||f.push(w)})}}return(r||a)&&(f=f.filter(_=>!(r&&r!=_.namespaceId||a&&a!=_.triggerName))),f}_beforeAnimationBuild(t,e,r){const c=e.element,f=e.isRemovalTransition?void 0:t,_=e.isRemovalTransition?void 0:e.triggerName;for(const b of e.timelines){const w=b.element,R=w!==c,P=ui(r,w,[]);this._getPreviousPlayers(w,R,f,_,e.toState).forEach(Y=>{const ae=Y.getRealPlayer();ae.beforeDestroy&&ae.beforeDestroy(),Y.destroy(),P.push(Y)})}qu(c,e.fromStyles)}_buildAnimation(t,e,r,a,c,f){const _=e.triggerName,b=e.element,w=[],R=new Set,P=new Set,z=e.timelines.map(ae=>{const Oe=ae.element;R.add(Oe);const Ve=Oe[Ca];if(Ve&&Ve.removedBeforeQueried)return new Fh(ae.duration,ae.delay);const qe=Oe!==b,rt=function(n){const t=[];return ux(n,t),t}((r.get(Oe)||b1).map(ds=>ds.getRealPlayer())).filter(ds=>!!ds.element&&ds.element===Oe),Nt=c.get(Oe),vt=f.get(Oe),Fr=CD(0,this._normalizer,0,ae.keyframes,Nt,vt),Gr=this._buildPlayer(ae,Fr,rt);if(ae.subTimeline&&a&&P.add(Oe),qe){const ds=new jM(t,_,Oe);ds.setRealPlayer(Gr),w.push(ds)}return Gr});w.forEach(ae=>{ui(this.playersByQueriedElement,ae.element,[]).push(ae),ae.onDone(()=>function(n,t,e){let r;if(n instanceof Map){if(r=n.get(t),r){if(r.length){const a=r.indexOf(e);r.splice(a,1)}0==r.length&&n.delete(t)}}else if(r=n[t],r){if(r.length){const a=r.indexOf(e);r.splice(a,1)}0==r.length&&delete n[t]}return r}(this.playersByQueriedElement,ae.element,ae))}),R.forEach(ae=>Ea(ae,AD));const Y=Sc(z);return Y.onDestroy(()=>{R.forEach(ae=>M_(ae,AD)),El(b,e.toStyles)}),P.forEach(ae=>{ui(a,ae,[]).push(Y)}),Y}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new Fh(t.duration,t.delay)}}class jM{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new Fh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(r=>Fb(t,e,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ui(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function kD(n){return n&&1===n.nodeType}function ax(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function lx(n,t,e,r,a){const c=[];e.forEach(b=>c.push(ax(b)));const f=[];r.forEach((b,w)=>{const R={};b.forEach(P=>{const z=R[P]=t.computeStyle(w,P,a);(!z||0==z.length)&&(w[Ca]=C1,f.push(w))}),n.set(w,R)});let _=0;return e.forEach(b=>ax(b,c[_++])),f}function cx(n,t){const e=new Map;if(n.forEach(_=>e.set(_,[])),0==t.length)return e;const a=new Set(t),c=new Map;function f(_){if(!_)return 1;let b=c.get(_);if(b)return b;const w=_.parentNode;return b=e.has(w)?w:a.has(w)?1:f(w),c.set(_,b),b}return t.forEach(_=>{const b=f(_);1!==b&&e.get(b).push(_)}),e}const ND="$$classes";function Ea(n,t){if(n.classList)n.classList.add(t);else{let e=n[ND];e||(e=n[ND]={}),e[t]=!0}}function M_(n,t){if(n.classList)n.classList.remove(t);else{let e=n[ND];e&&delete e[t]}}function I1(n,t,e){Sc(e).onDone(()=>n.processLeaveNode(t))}function ux(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof vD?ux(r.players,t):t.push(r)}}function dx(n,t,e){const r=e.get(n);if(!r)return!1;let a=t.get(n);return a?r.forEach(c=>a.add(c)):t.set(n,r),e.delete(n),!0}class FD{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(a,c)=>{},this._transitionEngine=new w1(t,e,r),this._timelineEngine=new m1(t,e,r),this._transitionEngine.onRemovalComplete=(a,c)=>this.onRemovalComplete(a,c)}registerTrigger(t,e,r,a,c){const f=t+"-"+a;let _=this._triggerCache[f];if(!_){const b=[],w=Se(this._driver,c,b);if(b.length)throw new Error(`The animation trigger "${a}" has failed to build due to the following errors:\n - ${b.join("\n - ")}`);_=function(n,t,e){return new f1(n,t,e)}(a,w,this._normalizer),this._triggerCache[f]=_}this._transitionEngine.registerTrigger(e,a,_)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,a){this._transitionEngine.insertNode(t,e,r,a)}onRemove(t,e,r,a){this._transitionEngine.removeNode(t,e,a||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,a){if("@"==r.charAt(0)){const[c,f]=ED(r);this._timelineEngine.command(c,e,f,a)}else this._transitionEngine.trigger(t,e,r,a)}listen(t,e,r,a,c){if("@"==r.charAt(0)){const[f,_]=ED(r);return this._timelineEngine.listen(f,e,_,c)}return this._transitionEngine.listen(t,e,r,a,c)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function hx(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=HM(t[0]),t.length>1&&(r=HM(t[t.length-1]))):t&&(e=HM(t)),e||r?new R1(n,e,r):null}let R1=(()=>{class n{constructor(e,r,a){this._element=e,this._startStyles=r,this._endStyles=a,this._state=0;let c=n.initialStylesByElement.get(e);c||n.initialStylesByElement.set(e,c={}),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&El(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(El(this._element,this._initialStyles),this._endStyles&&(El(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(qu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(qu(this._element,this._endStyles),this._endStyles=null),El(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function HM(n){let t=null;const e=Object.keys(n);for(let r=0;r<e.length;r++){const a=e[r];O1(a)&&(t=t||{},t[a]=n[a])}return t}function O1(n){return"display"===n||"position"===n}const fx="animation",px="animationend";class k1{constructor(t,e,r,a,c,f,_){this._element=t,this._name=e,this._duration=r,this._delay=a,this._easing=c,this._fillMode=f,this._onDoneFn=_,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=b=>this._handleCallback(b)}apply(){(function(n,t){const e=GM(n,"").trim();let r=0;e.length&&(function(n,t){let e=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&e++;return e}(e)+1,t=`${e}, ${t}`),LD(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),_x(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){gx(this._element,this._name,"paused")}resume(){gx(this._element,this._name,"running")}setPosition(t){const e=mx(this._element,this._name);this._position=t*this._duration,LD(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),_x(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const r=GM(n,"").split(","),a=$M(r,t);a>=0&&(r.splice(a,1),LD(n,"",r.join(",")))}(this._element,this._name))}}function gx(n,t,e){LD(n,"PlayState",e,mx(n,t))}function mx(n,t){const e=GM(n,"");return e.indexOf(",")>0?$M(e.split(","),t):$M([e],t)}function $M(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function _x(n,t,e){e?n.removeEventListener(px,t):n.addEventListener(px,t)}function LD(n,t,e,r){const a=fx+t;if(null!=r){const c=n.style[a];if(c.length){const f=c.split(",");f[r]=e,e=f.join(",")}}n.style[a]=e}function GM(n,t){return n.style[fx+t]||""}class yx{constructor(t,e,r,a,c,f,_,b){this.element=t,this.keyframes=e,this.animationName=r,this._duration=a,this._delay=c,this._finalStyles=_,this._specialStyles=b,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=f||"linear",this.totalTime=a+c,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new k1(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(t[r]=e?this._finalStyles[r]:E(this.element,r))})}this.currentSnapshot=t}}class U1 extends Fh{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=DD(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class bx{constructor(){this._count=0}validateStyleProperty(t){return Yu(t)}matchesElement(t,e){return Vh(t,e)}containsElement(t,e){return Tc(t,e)}query(t,e,r){return Bb(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,r){r=r.map(_=>DD(_));let a=`@keyframes ${e} {\n`,c="";r.forEach(_=>{c=" ";const b=parseFloat(_.offset);a+=`${c}${100*b}% {\n`,c+=" ",Object.keys(_).forEach(w=>{const R=_[w];switch(w){case"offset":return;case"easing":return void(R&&(a+=`${c}animation-timing-function: ${R};\n`));default:return void(a+=`${c}${w}: ${R};\n`)}}),a+=`${c}}\n`}),a+="}\n";const f=document.createElement("style");return f.textContent=a,f}animate(t,e,r,a,c,f=[],_){const b=f.filter(Ve=>Ve instanceof yx),w={};h(r,a)&&b.forEach(Ve=>{let qe=Ve.currentSnapshot;Object.keys(qe).forEach(rt=>w[rt]=qe[rt])});const R=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(a=>{"offset"==a||"easing"==a||(t[a]=r[a])})}),t}(e=m(t,e,w));if(0==r)return new U1(t,R);const P="gen_css_kf_"+this._count++,z=this.buildKeyframeElement(t,P,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(z);const ae=hx(t,e),Oe=new yx(t,e,P,r,a,c,R,ae);return Oe.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(z)),Oe}}class Ex{constructor(t,e,r,a){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,r){return t.animate(e,r)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:E(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class z1{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(wx().toString()),this._cssKeyframesDriver=new bx}validateStyleProperty(t){return Yu(t)}matchesElement(t,e){return Vh(t,e)}containsElement(t,e){return Tc(t,e)}query(t,e,r){return Bb(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,r,a,c,f=[],_){if(!_&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,r,a,c,f);const R={duration:r,delay:a,fill:0==a?"both":"forwards"};c&&(R.easing=c);const P={},z=f.filter(ae=>ae instanceof Ex);h(r,a)&&z.forEach(ae=>{let Oe=ae.currentSnapshot;Object.keys(Oe).forEach(Ve=>P[Ve]=Oe[Ve])});const Y=hx(t,e=m(t,e=e.map(ae=>Zu(ae,!1)),P));return new Ex(t,e,R,Y)}}function wx(){return bD()&&Element.prototype.animate||{}}let Y1=(()=>{class n extends Ob{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(e)?_D(e):e;return Dx(this._renderer,null,r,"register",[a]),new Z1(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.FYo),u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Z1 extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new q1(this._id,t,e||{},this._renderer)}}class q1{constructor(t,e,r,a){this.id=t,this.element=e,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Dx(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Dx(n,t,e,r,a){return n.setProperty(t,`@@${e}:${r}`,a)}const Sx="@.disabled";let K1=(()=>{class n{constructor(e,r,a){this.delegate=e,this.engine=r,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(c,f)=>{f&&f.parentNode(c)&&f.removeChild(c.parentNode,c)}}createRenderer(e,r){const c=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let R=this._rendererCache.get(c);return R||(R=new Tx("",c,this.engine),this._rendererCache.set(c,R)),R}const f=r.id,_=r.id+"-"+this._currentId;this._currentId++,this.engine.register(_,e);const b=R=>{Array.isArray(R)?R.forEach(b):this.engine.registerTrigger(f,_,e,R.name,R)};return r.data.animation.forEach(b),new Q1(this,_,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,a){e>=0&&e<this._microtaskId?this._zone.run(()=>r(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[f,_]=c;f(_)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.FYo),u.LFG(FD),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Tx{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?a=>e.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,a=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,a)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,a){this.delegate.setAttribute(t,e,r,a)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,a){this.delegate.setStyle(t,e,r,a)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==Sx?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Q1 extends Tx{constructor(t,e,r,a){super(e,r,a),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Sx?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.substr(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const a=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let c=e.substr(1),f="";return"@"!=c.charAt(0)&&([c,f]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(c)),this.engine.listen(this.namespaceId,a,c,f,_=>{this.factory.scheduleListenerCallback(_._data||-1,r,_)})}return this.delegate.listen(t,e,r)}}let eL=(()=>{class n extends FD{constructor(e,r,a){super(e.body,r,a)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ie),u.LFG(T_),u.LFG(LM))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const R_=new u.OlP("AnimationModuleType"),Ix=[{provide:Ob,useClass:Y1},{provide:LM,useFactory:function(){return new a1}},{provide:FD,useClass:eL},{provide:u.FYo,useFactory:function(n,t,e){return new K1(n,t,e)},deps:[$i,FD,u.R0b]}],Ax=[{provide:T_,useFactory:function(){return"function"==typeof wx()?new z1:new bx}},{provide:R_,useValue:"BrowserAnimations"},...Ix],Mx=[{provide:T_,useClass:SD},{provide:R_,useValue:"NoopAnimations"},...Ix];let iL=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?Mx:Ax}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:Ax,imports:[Yc]}),n})();const Rx=new u.GfV("12.2.13"),dL=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Qp,wa=(()=>{class n{constructor(e,r,a){this._hasDoneGlobalChecks=!1,this._document=a,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!(!(0,u.X6Q)()||sb())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const r=getComputedStyle(e);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&Rx.full!==Rb.full&&console.warn("The Angular Material version ("+Rx.full+") does not match the Angular CDK version ("+Rb.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Gp),u.LFG(dL,8),u.LFG(ie))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[ju],ju]}),n})();function Ox(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=js(t)}}}function hL(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function fL(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=js(t)}}}try{Qp="undefined"!=typeof Intl}catch(n){Qp=!1}class SL{constructor(t,e,r){this._renderer=t,this.element=e,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const xx={enterDuration:225,exitDuration:150},zM=p_({passive:!0}),kx=["mousedown","touchstart"],Nx=["mouseup","mouseleave","touchend","touchcancel"];class IL{constructor(t,e,r,a){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,a.isBrowser&&(this._containerElement=vl(r))}fadeInRipple(t,e,r={}){const a=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),c=Object.assign(Object.assign({},xx),r.animation);r.centered&&(t=a.left+a.width/2,e=a.top+a.height/2);const f=r.radius||function(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),a=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+a*a)}(t,e,a),_=t-a.left,b=e-a.top,w=c.enterDuration,R=document.createElement("div");R.classList.add("mat-ripple-element"),R.style.left=_-f+"px",R.style.top=b-f+"px",R.style.height=2*f+"px",R.style.width=2*f+"px",null!=r.color&&(R.style.backgroundColor=r.color),R.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(R),function(n){window.getComputedStyle(n).getPropertyValue("opacity")}(R),R.style.transform="scale(1)";const P=new SL(this,R,r);return P.state=0,this._activeRipples.add(P),r.persistent||(this._mostRecentTransientRipple=P),this._runTimeoutOutsideZone(()=>{const z=P===this._mostRecentTransientRipple;P.state=1,!r.persistent&&(!z||!this._isPointerDown)&&P.fadeOut()},w),P}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const r=t.element,a=Object.assign(Object.assign({},xx),t.config.animation);r.style.transitionDuration=`${a.exitDuration}ms`,r.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,r.parentNode.removeChild(r)},a.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=vl(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(kx))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Nx),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=CM(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!b_(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,zM)})})}_removeTriggerEvents(){this._triggerElement&&(kx.forEach(t=>{this._triggerElement.removeEventListener(t,this,zM)}),this._pointerUpEventsRegistered&&Nx.forEach(t=>{this._triggerElement.removeEventListener(t,this,zM)}))}}const RL=new u.OlP("mat-ripple-global-options");let UD=(()=>{class n{constructor(e,r,a,c,f){this._elementRef=e,this._animationMode=f,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new IL(this,r,e,a)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,a){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,Object.assign(Object.assign({},this.rippleConfig),a)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(Pn),u.Y36(RL,8),u.Y36(R_,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&u.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),n})(),Fx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[wa,f_],wa]}),n})();const Ux=["mat-button",""],jx=["*"],BL=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],UL=hL(Ox(fL(class{constructor(n){this._elementRef=n}})));let $x=(()=>{class n extends UL{constructor(e,r,a){super(e),this._focusMonitor=r,this._animationMode=a,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const c of BL)this._hasHostAttributes(c)&&this._getHostElement().classList.add(c);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,r){e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(Hp),u.Y36(R_,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,r){if(1&e&&u.Gf(UD,5),2&e){let a;u.iGM(a=u.CRH())&&(r.ripple=a.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,r){2&e&&(u.uIk("disabled",r.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[u.qOj],attrs:Ux,ngContentSelectors:jx,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(u.F$t(),u.TgZ(0,"span",0),u.Hsn(1),u.qZA(),u._UZ(2,"span",1),u._UZ(3,"span",2)),2&e&&(u.xp6(2),u.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),u.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[UD],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),jL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Fx,wa],wa]}),n})();const Gx=new Set;let O_,zx=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):$L}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function(n){if(!Gx.has(n))try{O_||(O_=document.createElement("style"),O_.setAttribute("type","text/css"),document.head.appendChild(O_)),O_.sheet&&(O_.sheet.insertRule(`@media ${n} {body{ }}`,0),Gx.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Pn))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(Pn))},token:n,providedIn:"root"}),n})();function $L(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Wx=(()=>{class n{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new ht.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Yx(d_(e)).some(a=>this._registerQuery(a).mql.matches)}observe(e){let c=Zi(Yx(d_(e)).map(f=>this._registerQuery(f).observable));return c=ro(c.pipe(qi(1)),c.pipe(nD(1),function(n,t=Jg.P){return e=>e.lift(new iD(n,t))}(0))),c.pipe((0,wt.U)(f=>{const _={matches:!1,breakpoints:{}};return f.forEach(({matches:b,query:w})=>{_.matches=_.matches||b,_.breakpoints[w]=b}),_}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),c={observable:new sn.y(f=>{const _=b=>this._zone.run(()=>f.next(b));return r.addListener(_),()=>{r.removeListener(_)}}).pipe(qo(r),(0,wt.U)(({matches:f})=>({query:e,matches:f})),bc(this._destroySubject)),mql:r};return this._queries.set(e,c),c}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(zx),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(zx),u.LFG(u.R0b))},token:n,providedIn:"root"}),n})();function Yx(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function zL(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"div",1),u.TgZ(1,"button",2),u.NdJ("click",function(){return u.CHM(e),u.oxw().action()}),u._uU(2),u.qZA(),u.qZA()}if(2&n){const e=u.oxw();u.xp6(2),u.Oqu(e.data.action)}}function WL(n,t){}const Zx=new u.OlP("MatSnackBarData");class P_{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const YL=Math.pow(2,31)-1;class WM{constructor(t,e){this._overlayRef=e,this._afterDismissed=new ht.xQ,this._afterOpened=new ht.xQ,this._onAction=new ht.xQ,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,YL))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let ZL=(()=>{class n{constructor(e,r){this.snackBarRef=e,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(WM),u.Y36(Zx))},n.\u0275cmp=u.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,r){1&e&&(u.TgZ(0,"span"),u._uU(1),u.qZA(),u.YNc(2,zL,3,1,"div",0)),2&e&&(u.xp6(1),u.Oqu(r.data.message),u.xp6(1),u.Q6J("ngIf",r.hasAction))},directives:[di,$x],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),n})();const qL={snackBarState:Pb("state",[D_("void, hidden",Io({transform:"scale(0.8)",opacity:0})),D_("visible",Io({transform:"scale(1)",opacity:1})),Dc("* => visible",w_("150ms cubic-bezier(0, 0, 0.2, 1)")),Dc("* => void, * => hidden",w_("75ms cubic-bezier(0.4, 0.0, 1, 1)",Io({opacity:0})))])};let KL=(()=>{class n extends Np{constructor(e,r,a,c,f){super(),this._ngZone=e,this._elementRef=r,this._changeDetectorRef=a,this._platform=c,this.snackBarConfig=f,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new ht.xQ,this._onExit=new ht.xQ,this._onEnter=new ht.xQ,this._animationState="void",this.attachDomPortal=_=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(_)),this._live="assertive"!==f.politeness||f.announcementMessage?"off"===f.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:r,toState:a}=e;if(("void"===a&&"void"!==r||"hidden"===a)&&this._completeExit(),"visible"===a){const c=this._onEnter;this._ngZone.run(()=>{c.next(),c.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(qi(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(a=>e.classList.add(a)):e.classList.add(r)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&r){let a=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(a=document.activeElement),e.removeAttribute("aria-hidden"),r.appendChild(e),null==a||a.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.R0b),u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(Pn),u.Y36(P_))},n.\u0275cmp=u.Xpm({type:n,selectors:[["snack-bar-container"]],viewQuery:function(e,r){if(1&e&&u.Gf(bl,7),2&e){let a;u.iGM(a=u.CRH())&&(r._portalOutlet=a.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,r){1&e&&u.WFA("@state.done",function(c){return r.onAnimationEnd(c)}),2&e&&u.d8E("@state",r._animationState)},features:[u.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,r){1&e&&(u.TgZ(0,"div",0),u.YNc(1,WL,0,0,"ng-template",1),u.qZA(),u._UZ(2,"div")),2&e&&(u.xp6(2),u.uIk("aria-live",r._live)("role",r._role))},directives:[bl],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[qL.snackBarState]}}),n})(),qx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[tD,M0,Bo,jL,wa],wa]}),n})();const Kx=new u.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new P_}});let Qx=(()=>{class n{constructor(e,r,a,c,f,_){this._overlay=e,this._live=r,this._injector=a,this._breakpointObserver=c,this._parentSnackBar=f,this._defaultConfig=_,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=ZL,this.snackBarContainerComponent=KL,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,r){return this._attach(e,r)}openFromTemplate(e,r){return this._attach(e,r)}open(e,r="",a){const c=Object.assign(Object.assign({},this._defaultConfig),a);return c.data={message:e,action:r},c.announcementMessage===e&&(c.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,c)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,r){const c=u.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:P_,useValue:r}]}),f=new kp(this.snackBarContainerComponent,r.viewContainerRef,c),_=e.attach(f);return _.instance.snackBarConfig=r,_.instance}_attach(e,r){const a=Object.assign(Object.assign(Object.assign({},new P_),this._defaultConfig),r),c=this._createOverlay(a),f=this._attachSnackBarContainer(c,a),_=new WM(f,c);if(e instanceof u.Rgc){const b=new $u(e,null,{$implicit:a.data,snackBarRef:_});_.instance=f.attachTemplatePortal(b)}else{const b=this._createInjector(a,_),w=new kp(e,void 0,b),R=f.attachComponentPortal(w);_.instance=R.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(bc(c.detachments())).subscribe(b=>{const w=c.overlayElement.classList;b.matches?w.add(this.handsetCssClass):w.remove(this.handsetCssClass)}),a.announcementMessage&&f._onAnnounce.subscribe(()=>{this._live.announce(a.announcementMessage,a.politeness)}),this._animateSnackBar(_,a),this._openedSnackBarRef=_,this._openedSnackBarRef}_animateSnackBar(e,r){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),r.duration&&r.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(r.duration))}_createOverlay(e){const r=new vb;r.direction=e.direction;let a=this._overlay.position().global();const c="rtl"===e.direction,f="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!c||"end"===e.horizontalPosition&&c,_=!f&&"center"!==e.horizontalPosition;return f?a.left("0"):_?a.right("0"):a.centerHorizontally(),"top"===e.verticalPosition?a.top("0"):a.bottom("0"),r.positionStrategy=a,this._overlay.create(r)}_createInjector(e,r){return u.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:WM,useValue:r},{provide:Zx,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Gu),u.LFG(gD),u.LFG(u.zs3),u.LFG(Wx),u.LFG(n,12),u.LFG(Kx))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(Gu),u.LFG(gD),u.LFG(u.gxx),u.LFG(Wx),u.LFG(n,12),u.LFG(Kx))},token:n,providedIn:qx}),n})();function JL(n,t){}class YM{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const XL={dialogContainer:Pb("dialogContainer",[D_("void, exit",Io({opacity:0,transform:"scale(0.7)"})),D_("enter",Io({transform:"none"})),Dc("* => enter",w_("150ms cubic-bezier(0, 0, 0.2, 1)",Io({transform:"none",opacity:1}))),Dc("* => void, * => exit",w_("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Io({opacity:0})))])};let eV=(()=>{class n extends Np{constructor(e,r,a,c,f,_){super(),this._elementRef=e,this._focusTrapFactory=r,this._changeDetectorRef=a,this._config=f,this._focusMonitor=_,this._animationStateChanged=new u.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=b=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(b)),this._ariaLabelledBy=f.ariaLabelledBy||null,this._document=c}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const r=g_(),a=this._elementRef.nativeElement;(!r||r===this._document.body||r===a||a.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=g_())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,r=g_();return e===r||e.contains(r)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(cD),u.Y36(u.sBO),u.Y36(ie,8),u.Y36(YM),u.Y36(Hp))},n.\u0275dir=u.lG2({type:n,viewQuery:function(e,r){if(1&e&&u.Gf(bl,7),2&e){let a;u.iGM(a=u.CRH())&&(r._portalOutlet=a.first)}},features:[u.qOj]}),n})(),tV=(()=>{class n extends eV{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:r}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:e,totalTime:r}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,r){1&e&&u.WFA("@dialogContainer.start",function(c){return r._onAnimationStart(c)})("@dialogContainer.done",function(c){return r._onAnimationDone(c)}),2&e&&(u.Ikx("id",r._id),u.uIk("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),u.d8E("@dialogContainer",r._state))},features:[u.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,r){1&e&&u.YNc(0,JL,0,0,"ng-template",0)},directives:[bl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[XL.dialogContainer]}}),n})(),nV=0;class Yb{constructor(t,e,r="mat-dialog-"+nV++){this._overlayRef=t,this._containerInstance=e,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new ht.xQ,this._afterClosed=new ht.xQ,this._beforeClosed=new ht.xQ,this._state=0,e._id=r,e._animationStateChanged.pipe(Yn(a=>"opened"===a.state),qi(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Yn(a=>"closed"===a.state),qi(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Yn(a=>27===a.keyCode&&!this.disableClose&&!function(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(a))).subscribe(a=>{a.preventDefault(),ZM(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():ZM(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Yn(e=>"closing"===e.state),qi(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function ZM(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const rV=new u.OlP("MatDialogData"),iV=new u.OlP("mat-dialog-default-options"),Jx=new u.OlP("mat-dialog-scroll-strategy"),oV={provide:Jx,deps:[Gu],useFactory:function(n){return()=>n.scrollStrategies.block()}};let aV=(()=>{class n{constructor(e,r,a,c,f,_,b,w,R){this._overlay=e,this._injector=r,this._defaultOptions=a,this._parentDialog=c,this._overlayContainer=f,this._dialogRefConstructor=b,this._dialogContainerType=w,this._dialogDataToken=R,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ht.xQ,this._afterOpenedAtThisLevel=new ht.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=ei(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(qo(void 0))),this._scrollStrategy=_}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,r){(r=function(n,t){return Object.assign(Object.assign({},t),n)}(r,this._defaultOptions||new YM)).id&&this.getDialogById(r.id);const a=this._createOverlay(r),c=this._attachDialogContainer(a,r),f=this._attachDialogContent(e,c,a,r);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(f),f.afterClosed().subscribe(()=>this._removeOpenDialog(f)),this.afterOpened.next(f),c._initializeWithAttachedContent(),f}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const r=this._getOverlayConfig(e);return this._overlay.create(r)}_getOverlayConfig(e){const r=new vb({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(r.backdropClass=e.backdropClass),r}_attachDialogContainer(e,r){const c=u.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:YM,useValue:r}]}),f=new kp(this._dialogContainerType,r.viewContainerRef,c,r.componentFactoryResolver);return e.attach(f).instance}_attachDialogContent(e,r,a,c){const f=new this._dialogRefConstructor(a,r,c.id);if(e instanceof u.Rgc)r.attachTemplatePortal(new $u(e,null,{$implicit:c.data,dialogRef:f}));else{const _=this._createInjector(c,f,r),b=r.attachComponentPortal(new kp(e,c.viewContainerRef,_));f.componentInstance=b.instance}return f.updateSize(c.width,c.height).updatePosition(c.position),f}_createInjector(e,r,a){const c=e&&e.viewContainerRef&&e.viewContainerRef.injector,f=[{provide:this._dialogContainerType,useValue:a},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:r}];return e.direction&&(!c||!c.get(So,null,u.XFs.Optional))&&f.push({provide:So,useValue:{value:e.direction,change:(0,Ge.of)()}}),u.zs3.create({parent:c||this._injector,providers:f})}_removeOpenDialog(e){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,c)=>{a?c.setAttribute("aria-hidden",a):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const r=e.parentElement.children;for(let a=r.length-1;a>-1;a--){let c=r[a];c!==e&&"SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName&&!c.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let r=e.length;for(;r--;)e[r].close()}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Gu),u.Y36(u.zs3),u.Y36(void 0),u.Y36(void 0),u.Y36(Lp),u.Y36(void 0),u.Y36(u.DyG),u.Y36(u.DyG),u.Y36(u.OlP))},n.\u0275dir=u.lG2({type:n}),n})(),x_=(()=>{class n extends aV{constructor(e,r,a,c,f,_,b){super(e,r,c,_,b,f,Yb,tV,rV)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Gu),u.LFG(u.zs3),u.LFG(et,8),u.LFG(iV,8),u.LFG(Jx),u.LFG(n,12),u.LFG(Lp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),uV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[x_,oV],imports:[[tD,M0,wa],wa]}),n})();var dV=V(1555);function jD(n,t){return new sn.y(e=>{const r=n.length;if(0===r)return void e.complete();const a=new Array(r);let c=0,f=0;for(let _=0;_<r;_++){const b=(0,yn.D)(n[_]);let w=!1;e.add(b.subscribe({next:R=>{w||(w=!0,f++),a[_]=R},error:R=>e.error(R),complete:()=>{c++,(c===r||!w)&&(f===r&&e.next(t?t.reduce((R,P,z)=>(R[P]=a[z],R),{}):a),e.complete())}}))}})}let ek=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),Jp=(()=>{class n extends ek{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Ic=new u.OlP("NgValueAccessor"),pV={provide:Ic,useExisting:(0,u.Gpc)(()=>Zb),multi:!0},mV=new u.OlP("CompositionEventMode");let Zb=(()=>{class n extends ek{constructor(e,r,a){super(e,r),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(mV,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&u.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[u._Bn([pV]),u.qOj]}),n})();const ki=new u.OlP("NgValidators"),zh=new u.OlP("NgAsyncValidators");function dk(n){return null!=n}function hk(n){const t=(0,u.QGY)(n)?(0,yn.D)(n):n;return(0,u.CqO)(t),t}function fk(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function pk(n,t){return t.map(e=>e(n))}function gk(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function qM(n){return null!=n?function(n){if(!n)return null;const t=n.filter(dk);return 0==t.length?null:function(e){return fk(pk(e,t))}}(gk(n)):null}function KM(n){return null!=n?function(n){if(!n)return null;const t=n.filter(dk);return 0==t.length?null:function(e){return function(...n){if(1===n.length){const t=n[0];if((0,no.k)(t))return jD(t,null);if((0,dV.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return jD(e.map(r=>t[r]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return jD(n=1===n.length&&(0,no.k)(n[0])?n[0]:n,null).pipe((0,wt.U)(e=>t(...e)))}return jD(n,null)}(pk(e,t).map(hk)).pipe((0,wt.U)(fk))}}(gk(n)):null}function yk(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function QM(n){return n?Array.isArray(n)?n:[n]:[]}function HD(n,t){return Array.isArray(n)?n.includes(t):n===t}function Ck(n,t){const e=QM(t);return QM(n).forEach(a=>{HD(e,a)||e.push(a)}),e}function Ek(n,t){return QM(t).filter(e=>!HD(n,e))}let wk=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=KM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,r){return!!this.control&&this.control.hasError(e,r)}getError(e,r){return this.control?this.control.getError(e,r):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n}),n})(),us=(()=>{class n extends wk{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();class Yh extends wk{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let JM=(()=>{class n extends class{constructor(t){this._cd=t}is(t){var e,r,a;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(a=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===a?void 0:a[t])}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Yh,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[u.qOj]}),n})();function qb(n,t){(function(n,t){const e=function(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(yk(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=function(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(yk(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const a=()=>n.updateValueAndValidity();WD(t._rawValidators,a),WD(t._rawAsyncValidators,a)})(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Sk(n,t)})}(n,t),function(n,t){const e=(r,a)=>{t.valueAccessor.writeValue(r),a&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Sk(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function WD(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Sk(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ZD(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Kb="VALID",qD="INVALID",k_="PENDING",Qb="DISABLED";function iR(n){return(oR(n)?n.validators:n)||null}function Ak(n){return Array.isArray(n)?qM(n):n||null}function sR(n,t){return(oR(t)?t.asyncValidators:n)||null}function Mk(n){return Array.isArray(n)?KM(n):n||null}function oR(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class aR{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Ak(this._rawValidators),this._composedAsyncValidatorFn=Mk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Kb}get invalid(){return this.status===qD}get pending(){return this.status==k_}get disabled(){return this.status===Qb}get enabled(){return this.status!==Qb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Ak(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Mk(t)}addValidators(t){this.setValidators(Ck(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Ck(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Ek(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Ek(t,this._rawAsyncValidators))}hasValidator(t){return HD(this._rawValidators,t)}hasAsyncValidator(t){return HD(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=k_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Qb,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Kb,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kb||this.status===k_)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qb:Kb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=k_,this._hasOwnPendingAsyncValidator=!0;const e=hk(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let r=n;return t.forEach(a=>{r=r instanceof lR?r.controls.hasOwnProperty(a)?r.controls[a]:null:r instanceof OV&&r.at(a)||null}),r}(this,t)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Qb:this.errors?qD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(k_)?k_:this._anyControlsHaveStatus(qD)?qD:Kb}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){oR(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class KD extends aR{constructor(t=null,e,r){super(iR(e),sR(r,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ZD(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ZD(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class lR extends aR{constructor(t,e,r){super(iR(e),sR(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,a)=>{r.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e instanceof KD?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const r=this.controls[e];if(this.contains(e)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,r)=>((e.enabled||this.disabled)&&(t[r]=e.value),t))}_reduceChildren(t,e){let r=t;return this._forEachChild((a,c)=>{r=e(r,a,c)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,r)=>{if(void 0===t[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class OV extends aR{constructor(t,e,r){super(iR(e),sR(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((r,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,a)=>{this.at(a)&&this.at(a).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,a)=>{r.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof KD?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,r)=>{if(void 0===t[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const kV={provide:Yh,useExisting:(0,u.Gpc)(()=>QD)},Pk=(()=>Promise.resolve(null))();let QD=(()=>{class n extends Yh{constructor(e,r,a,c){super(),this.control=new KD,this._registered=!1,this.update=new u.vpe,this._parent=e,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=function(n,t){if(!t)return null;let e,r,a;return Array.isArray(t),t.forEach(c=>{c.constructor===Zb?e=c:function(n){return Object.getPrototypeOf(n.constructor)===Jp}(c)?r=c:a=c}),a||r||e||null}(0,c)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,t){return[...t.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){qb(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Pk.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const r=e.isDisabled.currentValue,a=""===r||r&&"false"!==r;Pk.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(us,9),u.Y36(ki,10),u.Y36(zh,10),u.Y36(Ic,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([kV]),u.qOj,u.TTD]}),n})(),kk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const uR=new u.OlP("NgModelWithFormControlWarning");let Qk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[kk]]}),n})(),sB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Qk]}),n})(),oB=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:uR,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Qk]}),n})();function aB(n,t){1&n&&(u.TgZ(0,"div",8),u._uU(1," We are sorry, but the email you introduced is not valid! "),u.qZA())}let Jk=(()=>{class n{constructor(e,r,a){this.snackBar=e,this.dialogRef=r,this.db=a,this.email="",this.regexp=new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),this.isVisible=!1}subscribe(){if(this.isVisible=!0,this.isEmailValid()){this.db.list("emails").push(this.email);const e=new P_;e.panelClass=["snackbar"],this.snackBar.open("Thank you for your interest","OK",e),this.dialogRef.close(),this.isVisible=!1}}isEmailValid(){return this.regexp.test(this.email)}isEmailErrorsVisibile(){return!this.isEmailValid()&&(this.isVisible||this.isEmailValid())}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Qx),u.Y36(Yb),u.Y36(Ah))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-request-demo-dialog"]],decls:11,vars:2,consts:[[1,"dialog-content"],[1,"title"],["src","../../../assets/demo.svg"],[1,"questions"],[1,"subscribe-input"],["name","email","type","text","placeholder","Type in your email",1,"email-box",3,"ngModel","ngModelChange"],[1,"subscribe-button",3,"click"],["class","error",4,"ngIf"],[1,"error"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u._uU(2,"Request a demo"),u.qZA(),u._UZ(3,"img",2),u.TgZ(4,"div",3),u._uU(5," Introduce your email address and we'll contanct you soon as possible with more details "),u.qZA(),u.TgZ(6,"div",4),u.TgZ(7,"input",5),u.NdJ("ngModelChange",function(c){return r.email=c}),u.qZA(),u.TgZ(8,"button",6),u.NdJ("click",function(){return r.subscribe()}),u._uU(9," Request "),u.qZA(),u.qZA(),u.YNc(10,aB,2,0,"div",7),u.qZA()),2&e&&(u.xp6(7),u.Q6J("ngModel",r.email),u.xp6(3),u.Q6J("ngIf",r.isEmailErrorsVisibile()))},directives:[Zb,JM,QD,di],styles:[".dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:500px;padding:30px}.dialog-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:var(--color-primary);font-size:24px;font-weight:700;line-height:32.64px;margin-bottom:32px;display:flex;align-self:center}.dialog-content[_ngcontent-%COMP%]   .questions[_ngcontent-%COMP%]{color:var(--color-grey-medium);font-size:16px;font-weight:400;line-height:24px;margin-bottom:32px;text-align:center}.dialog-content[_ngcontent-%COMP%]   .subscribe-input[_ngcontent-%COMP%]{position:relative;display:inline-flex}.dialog-content[_ngcontent-%COMP%]   .subscribe-input[_ngcontent-%COMP%]   .subscribe-button[_ngcontent-%COMP%]{padding:10px 15px;border-radius:24px;border:none;background-color:var(--color-secondary);color:var(--color-white);font-size:14px;line-height:28px;font-weight:800;cursor:pointer}.dialog-content[_ngcontent-%COMP%]   .subscribe-input[_ngcontent-%COMP%]   .email-box[_ngcontent-%COMP%]{padding:10px 15px;border-color:var(--color-grey-medium);border-radius:24px;color:var(--color-grey-medium);font-size:16px;margin-right:5px;width:250px}.dialog-content[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{margin-top:15px;color:var(--color-error)}"]}),n})(),lB=(()=>{class n{constructor(e,r){this.dialog=e,this.db=r}goToSection(e){window.location.hash="",window.location.hash=e}openDialog(){this.db.list("demo").push("Press demo "+new Date),this.dialog.open(Jk)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(x_),u.Y36(Ah))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-toolbar"]],decls:12,vars:0,consts:[[1,"nav"],[1,"logo",3,"click"],["src","../../../assets/logo.svg"],[1,"menu"],[1,"option-menu-text",3,"click"],[1,"option-menu-button",3,"click"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.NdJ("click",function(){return r.goToSection("home")}),u._UZ(2,"img",2),u.qZA(),u.TgZ(3,"div",3),u.TgZ(4,"button",4),u.NdJ("click",function(){return r.goToSection("features")}),u._uU(5," Features "),u.qZA(),u.TgZ(6,"button",4),u.NdJ("click",function(){return r.goToSection("steps")}),u._uU(7,"How it works"),u.qZA(),u.TgZ(8,"button",4),u.NdJ("click",function(){return r.goToSection("story")}),u._uU(9," Our story "),u.qZA(),u.TgZ(10,"button",5),u.NdJ("click",function(){return r.openDialog()}),u._uU(11,"DEMO"),u.qZA(),u.qZA(),u.qZA())},styles:[".nav[_ngcontent-%COMP%]{position:fixed;width:100%;height:100px;background:transparent;align-items:center;display:flex;justify-content:space-between;font-size:14px;font-weight:750}.nav[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.nav[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .option-menu-text[_ngcontent-%COMP%]{padding:6px 16px;font-size:14px;cursor:pointer;color:var(--color-primary);background-color:transparent;border:none;font-weight:800}.nav[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .option-menu-button[_ngcontent-%COMP%]{padding:8px 24px;border-radius:40px;background-color:var(--color-secondary);color:var(--color-grey-light);border:none;cursor:pointer;margin-right:120px;font-size:14px;font-weight:800}.nav[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin-left:120px;cursor:pointer}"]}),n})();function cB(n,t){1&n&&(u.TgZ(0,"div",7),u._uU(1," We are sorry, but the email you introduced is not valid! "),u.qZA())}let Xk=(()=>{class n{constructor(e,r,a){this.snackBar=e,this.dialogRef=r,this.db=a,this.email="",this.regexp=new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),this.isVisible=!1}requestDemo(){if(this.isVisible=!0,this.isEmailValid()){this.db.list("emails").push(this.email);const e=new P_;e.panelClass=["snackbar"],localStorage.getItem("email"),this.snackBar.open("Thank you for your interest","OK",e),this.dialogRef.close(),this.isVisible=!1}}isEmailValid(){return this.regexp.test(this.email)}isEmailErrorsVisibile(){return!this.isEmailValid()&&(this.isVisible||this.isEmailValid())}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Qx),u.Y36(Yb),u.Y36(Ah))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-work-in-progress-dialog"]],decls:9,vars:2,consts:[[1,"dialog-content"],[1,"subscribe-text"],["src","../../../assets/demo.svg"],[1,"subscribe-input"],["name","search","type","text","placeholder","Type in your email",1,"email-box",3,"ngModel","ngModelChange"],[1,"subscribe-button",3,"click"],["class","error",4,"ngIf"],[1,"error"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u._uU(2," At the moment, we\u2019re working hard on finishing our beta. Subscribe and you\u2019ll be the first to know when we\u2019re ready to launch. "),u.qZA(),u._UZ(3,"img",2),u.TgZ(4,"div",3),u.TgZ(5,"input",4),u.NdJ("ngModelChange",function(c){return r.email=c}),u.qZA(),u.TgZ(6,"button",5),u.NdJ("click",function(){return r.requestDemo()}),u._uU(7," Subscribe "),u.qZA(),u.qZA(),u.YNc(8,cB,2,0,"div",6),u.qZA()),2&e&&(u.xp6(5),u.Q6J("ngModel",r.email),u.xp6(3),u.Q6J("ngIf",r.isEmailErrorsVisibile()))},directives:[Zb,JM,QD,di],styles:[".dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:500px;padding:30px}.dialog-content[_ngcontent-%COMP%]   .subscribe-text[_ngcontent-%COMP%]{color:var(--color-grey-medium);font-size:16px;font-weight:400;line-height:24px;margin-bottom:32px;text-align:center}.dialog-content[_ngcontent-%COMP%]   .subscribe-input[_ngcontent-%COMP%]{margin-top:32px;position:relative;display:inline-flex}.dialog-content[_ngcontent-%COMP%]   .subscribe-input[_ngcontent-%COMP%]   .subscribe-button[_ngcontent-%COMP%]{padding:10px 15px;border-radius:24px;border:none;background-color:var(--color-secondary);color:var(--color-white);font-size:14px;line-height:28px;font-weight:800;cursor:pointer}.dialog-content[_ngcontent-%COMP%]   .subscribe-input[_ngcontent-%COMP%]   .email-box[_ngcontent-%COMP%]{padding:10px 15px;border-color:var(--color-grey-medium);border-radius:24px;color:var(--color-grey-medium);font-size:16px;margin-right:5px;width:250px}.dialog-content[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{margin-top:15px;color:var(--color-error)}"]}),n})(),uB=(()=>{class n{constructor(e,r){this.dialog=e,this.db=r}subscribe(){this.db.list("subscribe").push("Press subscribe "+new Date),this.dialog.open(Xk)}demo(){this.db.list("demo").push("Press demo "+new Date),this.dialog.open(Jk)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(x_),u.Y36(Ah))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-hero"]],decls:19,vars:0,consts:[[1,"hero"],[1,"hero-content"],[1,"tagline"],[1,"border-line"],[1,"tool-description"],[1,"buttons"],[1,"demo","button",3,"click"],[1,"subscribe","button",3,"click"],[1,"hero-image"],["src","../../../assets/hero-image.svg"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"span"),u._uU(4,"Belive in your "),u.qZA(),u.TgZ(5,"span",3),u._uU(6,"data"),u.qZA(),u.qZA(),u.TgZ(7,"div",4),u._uU(8," Odin AI is a "),u.TgZ(9,"span"),u._uU(10,"no-code automated machine learning"),u.qZA(),u._uU(11," web application that automatically solves supervised learning problems without any programming knowledge. Created models are ready to be used in production and easy to understand due to generated human-readable reports. "),u.qZA(),u.TgZ(12,"div",5),u.TgZ(13,"button",6),u.NdJ("click",function(){return r.demo()}),u._uU(14,"Get the demo"),u.qZA(),u.TgZ(15,"button",7),u.NdJ("click",function(){return r.subscribe()}),u._uU(16,"Subscribe"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(17,"div",8),u._UZ(18,"img",9),u.qZA(),u.qZA())},styles:[".hero[_ngcontent-%COMP%]{padding-top:110px;background:linear-gradient(var(--color-gradient-primary),var(--color-white),var(--color-gradient-secondary),var(--color-white));display:flex;justify-content:space-around}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-top:200px;width:490px;height:135px;margin-left:20px}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .tagline[_ngcontent-%COMP%]{font-size:48px;color:var(--color-primary);font-weight:700;margin-bottom:40px}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .tagline[_ngcontent-%COMP%]   .border-line[_ngcontent-%COMP%]{border-bottom:8px solid var(--color-secondary);border-radius:8px}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .tool-description[_ngcontent-%COMP%]{font-size:18px;font-weight:800;line-height:27px;color:var(--color-primary)}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .tool-description[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--color-secondary)}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-top:32px}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{border-radius:24px;font-size:18px;padding:10px 32px;margin-left:16px;cursor:pointer}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .demo[_ngcontent-%COMP%]{color:var(--color-grey-light);background-color:var(--color-secondary);border:none}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .subscribe[_ngcontent-%COMP%]{border:2px solid var(--color-secondary);color:var(--color-secondary);background-color:var(--color-grey-light)}.hero[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]{width:630px;height:720px}"]}),n})(),dB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-features"]],decls:45,vars:0,consts:[[1,"features-content"],[1,"title"],["src","../../../assets/triangle.svg"],[1,"features"],[1,"features-group"],[1,"feature-element"],["src","../../../assets/feature2.svg"],[1,"feature-title"],[1,"feature-description"],["src","../../../assets/feature5.svg"],["src","../../../assets/feature7.svg"],["src","../../../assets/feature3.svg"],["src","../../../assets/feature4.svg"],[1,"feature-element","margin-top"],["src","../../../assets/feature6.svg"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u._uU(2," Features"),u.TgZ(3,"sub"),u._UZ(4,"img",2),u.qZA(),u.qZA(),u.TgZ(5,"div",3),u.TgZ(6,"div",4),u.TgZ(7,"div",5),u._UZ(8,"img",6),u.TgZ(9,"div",7),u._uU(10,"Human-readable reports"),u.qZA(),u.TgZ(11,"div",8),u._uU(12," Describe how the solution was built, present the decisions at the time of execution and include a description of the learned data "),u.qZA(),u.qZA(),u.TgZ(13,"div",5),u._UZ(14,"img",9),u.TgZ(15,"div",7),u._uU(16,"Supervised learning tasks"),u.qZA(),u.TgZ(17,"div",8),u._uU(18," Solves regression, classification and forecasting problems stored in a tabular format "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(19,"div",4),u.TgZ(20,"div",5),u._UZ(21,"img",10),u.TgZ(22,"div",7),u._uU(23,"Adaptive interface"),u.qZA(),u.TgZ(24,"div",8),u._uU(25," Allows beginner users to solve problems without expertise in AI field and empowers expert users to customize how a solution is generated "),u.qZA(),u.qZA(),u.TgZ(26,"div",5),u._UZ(27,"img",11),u.TgZ(28,"div",7),u._uU(29,"No-code platform"),u.qZA(),u.TgZ(30,"div",8),u._uU(31," Programming knowledge or AI expertise is not needed for using Odin AI "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(32,"div",4),u.TgZ(33,"div",5),u._UZ(34,"img",12),u.TgZ(35,"div",7),u._uU(36,"End-to-end automation"),u.qZA(),u.TgZ(37,"div",8),u._uU(38," Executes all the steps in a data science project, starting with data cleaning and ending with models\u2019 deployment "),u.qZA(),u.qZA(),u.TgZ(39,"div",13),u._UZ(40,"img",14),u.TgZ(41,"div",7),u._uU(42,"API"),u.qZA(),u.TgZ(43,"div",8),u._uU(44," Every solution can be easily accessed and integrated via API calls "),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA())},styles:[".features-content[_ngcontent-%COMP%]{height:750px}.features-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:50px;font-size:34px;font-weight:700;color:var(--color-primary);line-height:40px;margin-left:115px}.features-content[_ngcontent-%COMP%]   .features[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.features-content[_ngcontent-%COMP%]   .features[_ngcontent-%COMP%]   .features-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:394px;width:362px}.features-content[_ngcontent-%COMP%]   .features[_ngcontent-%COMP%]   .features-group[_ngcontent-%COMP%]   .feature-element[_ngcontent-%COMP%]{margin:50px}.features-content[_ngcontent-%COMP%]   .features[_ngcontent-%COMP%]   .features-group[_ngcontent-%COMP%]   .feature-element[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{font-weight:900;font-size:20px;line-height:36px;color:var(--color-primary)}.features-content[_ngcontent-%COMP%]   .features[_ngcontent-%COMP%]   .features-group[_ngcontent-%COMP%]   .feature-element[_ngcontent-%COMP%]   .feature-description[_ngcontent-%COMP%]{font-size:18px;font-weight:400;line-height:27px;color:var(--color-grey-medium)}.features-content[_ngcontent-%COMP%]   .features[_ngcontent-%COMP%]   .features-group[_ngcontent-%COMP%]   .margin-top[_ngcontent-%COMP%]{margin-top:77px}"]}),n})(),hB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-steps"]],decls:7,vars:0,consts:[[1,"how-it-works-content"],[1,"title"],["src","../../../assets/triangle.svg"],[1,"steps-content"],["src","../../../assets/steps.svg"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u._uU(2," How it works"),u.TgZ(3,"sub"),u._UZ(4,"img",2),u.qZA(),u.qZA(),u.TgZ(5,"div",3),u._UZ(6,"img",4),u.qZA(),u.qZA())},styles:[".how-it-works-content[_ngcontent-%COMP%]{margin-top:100px;padding-top:20px;margin-left:115px}.how-it-works-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:50px;font-size:34px;font-weight:700;color:var(--color-primary);line-height:40px}.how-it-works-content[_ngcontent-%COMP%]   .steps-content[_ngcontent-%COMP%]{display:flex;justify-content:center}.how-it-works-content[_ngcontent-%COMP%]   .steps-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:500px}"]}),n})(),fB=(()=>{class n{constructor(e,r){this.dialog=e,this.db=r}subscribe(){this.db.list("subscribe").push("Press subscribe "+new Date),this.dialog.open(Xk)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(x_),u.Y36(Ah))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-our-story"]],decls:11,vars:0,consts:[[1,"story-content"],[1,"title"],["src","../../../assets/triangle.svg"],[1,"past-description"],[1,"future-description"],[1,"subscribe",3,"click"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u._uU(2," Our story"),u.TgZ(3,"sub"),u._UZ(4,"img",2),u.qZA(),u.qZA(),u.TgZ(5,"div",3),u._uU(6," Odin AI has started as a research project that makes artificial intelligence easily accessible for everyone. After publishing a paper within ICCP in 2021, we wanted to transform this idea into a company. "),u.qZA(),u.TgZ(7,"div",4),u._uU(8," Now, we are part of the FIX Cluj, a program organized in partnership with City Hall of Cluj-Napoca, which helps young entrepreneurs to develop their ideas into a business. "),u.qZA(),u.TgZ(9,"button",5),u.NdJ("click",function(){return r.subscribe()}),u._uU(10,"Subscribe"),u.qZA(),u.qZA())},styles:[".story-content[_ngcontent-%COMP%]{width:466px;height:315px;margin-left:15px}.story-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:50px;font-size:34px;font-weight:700;color:var(--color-primary);line-height:40px}.story-content[_ngcontent-%COMP%]   .past-description[_ngcontent-%COMP%]{color:var(--color-primary);font-size:18px;line-height:28.8px;font-weight:800;margin-bottom:20px}.story-content[_ngcontent-%COMP%]   .future-description[_ngcontent-%COMP%]{color:var(--color-grey-medium);font-size:18px;line-height:27px;font-weight:400;margin-bottom:20px}.story-content[_ngcontent-%COMP%]   .subscribe[_ngcontent-%COMP%]{background-color:var(--color-secondary);color:var(--color-white);border:none;border-radius:24px;font-size:18px;line-height:28.8px;font-weight:800;padding:8px 24px;margin-bottom:50px;cursor:pointer}"]}),n})();var Xp=(()=>(function(n){n.Cristina="https://www.linkedin.com/in/cristina-racovita/",n.Bogdan="https://www.linkedin.com/in/bogdan-bindila/"}(Xp||(Xp={})),Xp))(),Xb=(()=>(function(n){n.Cristina="Cristina Racovi\u021b\u0103",n.Bogdan="Bogdan B\xeendil\u0103"}(Xb||(Xb={})),Xb))(),eC=(()=>(function(n){n.Cristina="../../../assets/profile-picture1.svg",n.Bogdan="../../../assets/profile-picture2.svg"}(eC||(eC={})),eC))();let _R=(()=>{class n{openSite(e){window.open(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const pB=function(n){return{"special-name":n}};let gB=(()=>{class n{constructor(){this.imageUrl="",this.name=""}isSpecialName(){return this.name.includes("Cristina")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-profile-picture"]],inputs:{imageUrl:"imageUrl",name:"name"},decls:4,vars:5,consts:[[1,"profile-picture"],[3,"src"],[1,"name",3,"ngClass"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0),u._UZ(1,"img",1),u.TgZ(2,"div",2),u._uU(3),u.qZA(),u.qZA()),2&e&&(u.xp6(1),u.s9C("src",r.imageUrl,u.LSH),u.xp6(1),u.Q6J("ngClass",u.VKq(3,pB,r.isSpecialName())),u.xp6(1),u.hij(" ",r.name," "))},directives:[Po],styles:[".profile-picture[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;cursor:pointer}.profile-picture[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px;line-height:24.5px;font-weight:800;color:var(--color-primary)}.profile-picture[_ngcontent-%COMP%]   .special-name[_ngcontent-%COMP%]{color:var(--color-secondary)}"]}),n})(),_B=(()=>{class n{constructor(e){this.siteService=e}openForm(){this.siteService.openSite("https://forms.gle/Aw9i53FDkYWd3KXr9")}openCristinaLinkeIn(){this.siteService.openSite(Xp.Cristina)}openBogdanLinkeIn(){this.siteService.openSite(Xp.Bogdan)}get cristinasName(){return Xb.Cristina}get bogdansName(){return Xb.Bogdan}get cristinasPicture(){return eC.Cristina}get bogdansPicture(){return eC.Bogdan}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(_R))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-contact"]],decls:10,vars:4,consts:[[1,"contact-content"],["src","../../../assets/Shapes.svg"],[1,"profiles"],[1,"first",3,"imageUrl","name","click"],[1,"second",3,"imageUrl","name","click"],[1,"form"],[1,"question"],[3,"click"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0),u._UZ(1,"img",1),u.TgZ(2,"div",2),u.TgZ(3,"app-profile-picture",3),u.NdJ("click",function(){return r.openBogdanLinkeIn()}),u.qZA(),u.TgZ(4,"app-profile-picture",4),u.NdJ("click",function(){return r.openCristinaLinkeIn()}),u.qZA(),u.qZA(),u.TgZ(5,"div",5),u.TgZ(6,"div",6),u._uU(7," Do you want to help us? "),u.qZA(),u.TgZ(8,"button",7),u.NdJ("click",function(){return r.openForm()}),u._uU(9,"Fill in our form"),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(3),u.Q6J("imageUrl",r.bogdansPicture)("name",r.bogdansName),u.xp6(1),u.Q6J("imageUrl",r.cristinasPicture)("name",r.cristinasName))},directives:[gB],styles:[".contact-content[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]{background-color:var(--color-white);border-radius:16px;box-shadow:6px 6px 6px #0000001a;z-index:2;position:absolute;width:379px;height:315px;margin-top:50px;margin-left:230px;transform:skew(-5deg);display:flex;justify-content:center;flex-direction:row;align-items:center}.contact-content[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]{margin-left:55px;transform:skew(5deg)}.contact-content[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{margin-bottom:50px;margin-right:55px;transform:skew(5deg)}.contact-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly;align-items:center;position:absolute;z-index:2;box-shadow:6px 6px 6px #0000001a;border-radius:57px;width:404px;height:61px;background-color:var(--color-white);margin-top:415px;margin-left:40px}.contact-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{font-size:16px;line-height:28.8px;font-weight:800;color:var(--color-primary)}.contact-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:var(--color-secondary);color:var(--color-white);border:none;border-radius:24px;font-size:16px;line-height:28.8px;cursor:pointer;font-weight:800;padding:8px 16px}.contact-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{z-index:1;position:absolute}"]}),n})(),yB=(()=>{class n{constructor(e){this.siteService=e,this.email="odin.automl.ai@gmail.com"}openCristinaLinkedln(){this.siteService.openSite(Xp.Cristina)}openBogdanLinkedln(){this.siteService.openSite(Xp.Bogdan)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(_R))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-footer"]],decls:31,vars:2,consts:[[1,"footer"],[1,"footer-content"],[1,"logo"],["src","../../../assets/logo.svg"],[1,"text"],[1,"tool-description"],[1,"legal","text"],[1,"overview"],[1,"contact-title"],[1,"details"],[1,"contact-image",3,"click"],["src","../../../assets/linkedln.svg"],[1,"contact-image"],["src","../../../assets/email.png",1,"email"],[3,"href"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u._UZ(3,"img",3),u.qZA(),u.TgZ(4,"div",4),u._uU(5," Your "),u.TgZ(6,"span",5),u._uU(7,"no-code automated machine learning"),u.qZA(),u._uU(8," web application that automatically solves supervised learning problems without any programming knowledge required. "),u.qZA(),u.TgZ(9,"div",6),u.TgZ(10,"div"),u._uU(11,"\xa9 2022 Odin AI. All rights reserved."),u.qZA(),u.TgZ(12,"div"),u._uU(13,"Terms of Use & Privacy"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(14,"div",7),u.TgZ(15,"div",8),u._uU(16,"Contact"),u.qZA(),u.TgZ(17,"div",9),u.TgZ(18,"div",10),u.NdJ("click",function(){return r.openBogdanLinkedln()}),u.TgZ(19,"span"),u._UZ(20,"img",11),u.qZA(),u._uU(21," Bogdan B\xeendil\u0103 "),u.qZA(),u.TgZ(22,"div",10),u.NdJ("click",function(){return r.openCristinaLinkedln()}),u.TgZ(23,"span"),u._UZ(24,"img",11),u.qZA(),u._uU(25," Cristina Racovi\u021b\u0103 "),u.qZA(),u.TgZ(26,"div",12),u.TgZ(27,"span"),u._UZ(28,"img",13),u.qZA(),u.TgZ(29,"a",14),u._uU(30),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(29),u.MGl("href","mailto:",r.email,"",u.LSH),u.xp6(1),u.Oqu(r.email))},styles:[".footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;background-color:var(--color-grey-light);padding-top:50px;align-items:baseline}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{margin-left:125px}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:140px;height:35px;margin-bottom:20px}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:16px;font-weight:400;line-height:24px;color:var(--color-primary);width:368px;height:116px}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .tool-description[_ngcontent-%COMP%]{color:var(--color-secondary)}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .legal[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;font-weight:800}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .legal[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-right:30px}.footer[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]{margin-right:305px}.footer[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]   .contact-title[_ngcontent-%COMP%]{margin-bottom:24px;font-size:24px;font-weight:800;line-height:24px;color:var(--color-primary)}.footer[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{font-size:16px;font-weight:400;line-height:32px;color:var(--color-primary)}.footer[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]{cursor:pointer;display:flex}.footer[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding-right:10px}.footer[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{height:26px;width:26px}"]}),n})(),vB=(()=>{class n{constructor(e){this.db=e,this.schema={"@context":"https://odin-ai.net","@type":"WebSite",name:"odin-ai",url:"https://odin-ai.net"},this.db.list("homePage").push("Home "+new Date)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Ah))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:11,vars:1,consts:[[3,"json"],[1,"home"],[1,"sticky"],["id","home"],["id","features",1,"features"],["id","steps"],["id","story",1,"info"],[1,"contact"]],template:function(e,r){1&e&&(u._UZ(0,"ngx-json-ld",0),u.TgZ(1,"div",1),u._UZ(2,"app-toolbar",2),u._UZ(3,"app-hero",3),u._UZ(4,"app-features",4),u._UZ(5,"app-steps",5),u.TgZ(6,"div",6),u._UZ(7,"app-our-story"),u.TgZ(8,"div",7),u._UZ(9,"app-contact"),u.qZA(),u.qZA(),u._UZ(10,"app-footer"),u.qZA()),2&e&&u.Q6J("json",r.schema)},directives:[tA,lB,uB,dB,hB,fB,_B,yB],styles:[".home[_ngcontent-%COMP%]{display:flex;flex-direction:column}.home[_ngcontent-%COMP%]   .sticky[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1000}.home[_ngcontent-%COMP%]   .features[_ngcontent-%COMP%]{padding-top:70px}.home[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:space-around;margin-bottom:400px;margin-top:50px;padding-top:70px}.home[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]{width:550px;height:60px;margin-right:95px}"]}),n})();const eN_firebaseConfig={apiKey:"AIzaSyDBinS6CbtKtptEE-idN7AfYuMuOk5SV00",authDomain:"odin-ai-1d452.firebaseapp.com",databaseURL:"https://odin-ai-1d452-default-rtdb.europe-west1.firebasedatabase.app",projectId:"odin-ai-1d452",storageBucket:"odin-ai-1d452.appspot.com",messagingSenderId:"108799986020",appId:"1:108799986020:web:70d99216c4541c54c89271",measurementId:"G-TX38SQQDKQ"};var Ac=V(4762);function Nr(n){return"function"==typeof n}function yR(n){const e=n(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const vR=yR(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,a)=>`${a+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function bR(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class Ku{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const c of e)c.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(Nr(r))try{r()}catch(c){t=c instanceof vR?c.errors:[c]}const{_finalizers:a}=this;if(a){this._finalizers=null;for(const c of a)try{rN(c)}catch(f){t=null!=t?t:[],f instanceof vR?t=[...t,...f.errors]:t.push(f)}}if(t)throw new vR(t)}}add(t){var e;if(t&&t!==this)if(this.closed)rN(t);else{if(t instanceof Ku){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&bR(e,t)}remove(t){const{_finalizers:e}=this;e&&bR(e,t),t instanceof Ku&&t._removeParent(this)}}Ku.EMPTY=(()=>{const n=new Ku;return n.closed=!0,n})();const tN=Ku.EMPTY;function nN(n){return n instanceof Ku||n&&"closed"in n&&Nr(n.remove)&&Nr(n.add)&&Nr(n.unsubscribe)}function rN(n){Nr(n)?n():n.unsubscribe()}const eg={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},JD={setTimeout(n,t,...e){const{delegate:r}=JD;return(null==r?void 0:r.setTimeout)?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=JD;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function iN(n){JD.setTimeout(()=>{const{onUnhandledError:t}=eg;if(!t)throw n;t(n)})}function CR(){}const bB=ER("C",void 0,void 0);function ER(n,t,e){return{kind:n,value:t,error:e}}let tg=null;function XD(n){if(eg.useDeprecatedSynchronousErrorHandling){const t=!tg;if(t&&(tg={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:r}=tg;if(tg=null,e)throw r}}else n()}class wR extends Ku{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,nN(t)&&t.add(this)):this.destination=IB}static create(t,e,r){return new tC(t,e,r)}next(t){this.isStopped?SR(function(n){return ER("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?SR(function(n){return ER("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?SR(bB,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const DB=Function.prototype.bind;function DR(n,t){return DB.call(n,t)}class SB{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){eS(r)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){eS(r)}else eS(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){eS(e)}}}class tC extends wR{constructor(t,e,r){let a;if(super(),Nr(t)||!t)a={next:null!=t?t:void 0,error:null!=e?e:void 0,complete:null!=r?r:void 0};else{let c;this&&eg.useDeprecatedNextContext?(c=Object.create(t),c.unsubscribe=()=>this.unsubscribe(),a={next:t.next&&DR(t.next,c),error:t.error&&DR(t.error,c),complete:t.complete&&DR(t.complete,c)}):a=t}this.destination=new SB(a)}}function eS(n){eg.useDeprecatedSynchronousErrorHandling?function(n){eg.useDeprecatedSynchronousErrorHandling&&tg&&(tg.errorThrown=!0,tg.error=n)}(n):iN(n)}function SR(n,t){const{onStoppedNotification:e}=eg;e&&JD.setTimeout(()=>e(n,t))}const IB={closed:!0,next:CR,error:function(n){throw n},complete:CR},TR="function"==typeof Symbol&&Symbol.observable||"@@observable";function IR(n){return n}let Ao=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,a){const c=function(n){return n&&n instanceof wR||function(n){return n&&Nr(n.next)&&Nr(n.error)&&Nr(n.complete)}(n)&&nN(n)}(e)?e:new tC(e,r,a);return XD(()=>{const{operator:f,source:_}=this;c.add(f?f.call(c,_):_?this._subscribe(c):this._trySubscribe(c))}),c}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=oN(r))((a,c)=>{const f=new tC({next:_=>{try{e(_)}catch(b){c(b),f.unsubscribe()}},error:c,complete:a});this.subscribe(f)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[TR](){return this}pipe(...e){return function(n){return 0===n.length?IR:1===n.length?n[0]:function(e){return n.reduce((r,a)=>a(r),e)}}(e)(this)}toPromise(e){return new(e=oN(e))((r,a)=>{let c;this.subscribe(f=>c=f,f=>a(f),()=>r(c))})}}return n.create=t=>new n(t),n})();function oN(n){var t;return null!==(t=null!=n?n:eg.Promise)&&void 0!==t?t:Promise}const RB=yR(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let tS=(()=>{class n extends Ao{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new aN(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new RB}next(e){XD(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){XD(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){XD(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:a,observers:c}=this;return r||a?tN:(this.currentObservers=null,c.push(e),new Ku(()=>{this.currentObservers=null,bR(c,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:a,isStopped:c}=this;r?e.error(a):c&&e.complete()}asObservable(){const e=new Ao;return e.source=this,e}}return n.create=(t,e)=>new aN(t,e),n})();class aN extends tS{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)}error(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:tN}}class lN extends tS{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function Da(n){return t=>{if(function(n){return Nr(null==n?void 0:n.lift)}(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Dl(n,t,e,r,a){return new PB(n,t,e,r,a)}class PB extends wR{constructor(t,e,r,a,c,f){super(t),this.onFinalize=c,this.shouldUnsubscribe=f,this._next=e?function(_){try{e(_)}catch(b){t.error(b)}}:super._next,this._error=a?function(_){try{a(_)}catch(b){t.error(b)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(_){t.error(_)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function N_(n,t){return Da((e,r)=>{let a=0;e.subscribe(Dl(r,c=>n.call(t,c,a++)&&r.next(c)))})}const cN=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function uN(n){return Nr(null==n?void 0:n.then)}function dN(n){return Nr(n[TR])}function hN(n){return Symbol.asyncIterator&&Nr(null==n?void 0:n[Symbol.asyncIterator])}function fN(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const pN="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function gN(n){return Nr(null==n?void 0:n[pN])}function mN(n){return(0,Ac.FC)(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:r,done:a}=yield(0,Ac.qq)(e.read());if(a)return yield(0,Ac.qq)(void 0);yield yield(0,Ac.qq)(r)}}finally{e.releaseLock()}})}function _N(n){return Nr(null==n?void 0:n.getReader)}function nC(n){if(n instanceof Ao)return n;if(null!=n){if(dN(n))return function(n){return new Ao(t=>{const e=n[TR]();if(Nr(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(cN(n))return function(n){return new Ao(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(uN(n))return function(n){return new Ao(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,iN)})}(n);if(hN(n))return yN(n);if(gN(n))return function(n){return new Ao(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(_N(n))return function(n){return yN(mN(n))}(n)}throw fN(n)}function yN(n){return new Ao(t=>{(function(n,t){var e,r,a,c;return(0,Ac.mG)(this,void 0,void 0,function*(){try{for(e=(0,Ac.KL)(n);!(r=yield e.next()).done;)if(t.next(r.value),t.closed)return}catch(f){a={error:f}}finally{try{r&&!r.done&&(c=e.return)&&(yield c.call(e))}finally{if(a)throw a.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function AR(n,t){return Da((e,r)=>{let a=null,c=0,f=!1;const _=()=>f&&!a&&r.complete();e.subscribe(Dl(r,b=>{null==a||a.unsubscribe();let w=0;const R=c++;nC(n(b,R)).subscribe(a=Dl(r,P=>r.next(t?t(b,P,R,w++):P),()=>{a=null,_()}))},()=>{f=!0,_()}))})}const vN=new Ao(CR);function ng(n,t,e,r=0,a=!1){const c=t.schedule(function(){e(),a?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(c),!a)return c}function bN(n,t=0){return Da((e,r)=>{e.subscribe(Dl(r,a=>ng(r,n,()=>r.next(a),t),()=>ng(r,n,()=>r.complete(),t),a=>ng(r,n,()=>r.error(a),t)))})}function CN(n,t=0){return Da((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function EN(n,t){if(!n)throw new Error("Iterable cannot be null");return new Ao(e=>{ng(e,t,()=>{const r=n[Symbol.asyncIterator]();ng(e,t,()=>{r.next().then(a=>{a.done?e.complete():e.next(a.value)})},0,!0)})})}function wN(n,t){return t?function(n,t){if(null!=n){if(dN(n))return function(n,t){return nC(n).pipe(CN(t),bN(t))}(n,t);if(cN(n))return function(n,t){return new Ao(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}(n,t);if(uN(n))return function(n,t){return nC(n).pipe(CN(t),bN(t))}(n,t);if(hN(n))return EN(n,t);if(gN(n))return function(n,t){return new Ao(e=>{let r;return ng(e,t,()=>{r=n[pN](),ng(e,t,()=>{let a,c;try{({value:a,done:c}=r.next())}catch(f){return void e.error(f)}c?e.complete():e.next(a)},0,!0)}),()=>Nr(null==r?void 0:r.return)&&r.return()})}(n,t);if(_N(n))return function(n,t){return EN(mN(n),t)}(n,t)}throw fN(n)}(n,t):nC(n)}function DN(...n){return wN(n,function(n){return function(n){return n&&Nr(n.schedule)}(function(n){return n[n.length-1]}(n))?n.pop():void 0}(n))}function nS(n,t,e){const r=Nr(n)||t||e?{next:n,error:t,complete:e}:n;return r?Da((a,c)=>{var f;null===(f=r.subscribe)||void 0===f||f.call(r);let _=!0;a.subscribe(Dl(c,b=>{var w;null===(w=r.next)||void 0===w||w.call(r,b),c.next(b)},()=>{var b;_=!1,null===(b=r.complete)||void 0===b||b.call(r),c.complete()},b=>{var w;_=!1,null===(w=r.error)||void 0===w||w.call(r,b),c.error(b)},()=>{var b,w;_&&(null===(b=r.unsubscribe)||void 0===b||b.call(r)),null===(w=r.finalize)||void 0===w||w.call(r)}))}):IR}const RR=yR(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),SN=new Ao(n=>n.complete());function TN(n){return n<=0?()=>SN:Da((t,e)=>{let r=0;t.subscribe(Dl(e,a=>{++r<=n&&(e.next(a),n<=r&&e.complete())}))})}function qB(n){return Da((t,e)=>{let r=!1;t.subscribe(Dl(e,a=>{r=!0,e.next(a)},()=>{r||e.next(n),e.complete()}))})}function KB(n=QB){return Da((t,e)=>{let r=!1;t.subscribe(Dl(e,a=>{r=!0,e.next(a)},()=>r?e.complete():e.error(n())))})}function QB(){return new RR}function IN(n,t){return Da((e,r)=>{let a=0;e.subscribe(Dl(r,c=>{r.next(n.call(t,c,a++))}))})}const AN={now:()=>(AN.delegate||Date).now(),delegate:void 0};class XB extends tS{constructor(t=1/0,e=1/0,r=AN){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:a,_timestampProvider:c,_windowTime:f}=this;e||(r.push(t),!a&&r.push(c.now()+f)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:a}=this,c=a.slice();for(let f=0;f<c.length&&!t.closed;f+=r?1:2)t.next(c[f]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:a}=this,c=(a?1:2)*t;if(t<1/0&&c<r.length&&r.splice(0,r.length-c),!a){const f=e.now();let _=0;for(let b=1;b<r.length&&r[b]<=f;b+=2)_=b;_&&r.splice(0,_+1)}}}function OR(n,t,...e){return!0===t?(n(),null):!1===t?null:t(...e).pipe(TN(1)).subscribe(()=>n())}function MN(...n){const t=n.length;if(0===t)throw new Error("list of properties cannot be empty.");return IN(e=>{let r=e;for(let a=0;a<t;a++){const c=null==r?void 0:r[n[a]];if(void 0===c)return;r=c}return r})}function rS(n,t){const e="object"==typeof t;return new Promise((r,a)=>{const c=new tC({next:f=>{r(f),c.unsubscribe()},error:a,complete:()=>{e?r(t.defaultValue):a(new RR)}});n.subscribe(c)})}function RN(n){return Da((t,e)=>{let c,r=null,a=!1;r=t.subscribe(Dl(e,void 0,void 0,f=>{c=nC(n(f,RN(n)(t))),r?(r.unsubscribe(),r=null,c.subscribe(e)):a=!0})),a&&(r.unsubscribe(),r=null,c.subscribe(e))})}class ON{}class PN{}class Qu{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const a=e.slice(0,r),c=a.toLowerCase(),f=e.slice(r+1).trim();this.maybeSetNormalizedName(a,c),this.headers.has(c)?this.headers.get(c).push(f):this.headers.set(c,[f])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const a=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(a,r),this.maybeSetNormalizedName(e,a))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Qu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Qu;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Qu?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const a=("a"===t.op?this.headers.get(e):void 0)||[];a.push(...r),this.headers.set(e,a);break;case"d":const c=t.value;if(c){let f=this.headers.get(e);if(!f)return;f=f.filter(_=>-1===c.indexOf(_)),0===f.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,f)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class rU{encodeKey(t){return xN(t)}encodeValue(t){return xN(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const sU=/%(\d[a-f0-9])/gi,oU={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function xN(n){return encodeURIComponent(n).replace(sU,(t,e)=>{var r;return null!==(r=oU[e])&&void 0!==r?r:t})}function kN(n){return`${n}`}class Zh{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new rU,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(a=>{const c=a.indexOf("="),[f,_]=-1==c?[t.decodeKey(a),""]:[t.decodeKey(a.slice(0,c)),t.decodeValue(a.slice(c+1))],b=e.get(f)||[];b.push(_),e.set(f,b)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e];this.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const a=t[r];Array.isArray(a)?a.forEach(c=>{e.push({param:r,value:c,op:"a"})}):e.push({param:r,value:a,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Zh({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(kN(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const a=r.indexOf(kN(t.value));-1!==a&&r.splice(a,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class aU{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function NN(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function FN(n){return"undefined"!=typeof Blob&&n instanceof Blob}function LN(n){return"undefined"!=typeof FormData&&n instanceof FormData}class rC{constructor(t,e,r,a){let c;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==r?r:null,c=a):c=r,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new Qu),this.context||(this.context=new aU),this.params){const f=this.params.toString();if(0===f.length)this.urlWithParams=e;else{const _=e.indexOf("?");this.urlWithParams=e+(-1===_?"?":_<e.length-1?"&":"")+f}}else this.params=new Zh,this.urlWithParams=e}serializeBody(){return null===this.body?null:NN(this.body)||FN(this.body)||LN(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Zh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||LN(this.body)?null:FN(this.body)?this.body.type||null:NN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Zh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const r=t.method||this.method,a=t.url||this.url,c=t.responseType||this.responseType,f=void 0!==t.body?t.body:this.body,_=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,b=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let w=t.headers||this.headers,R=t.params||this.params;const P=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(w=Object.keys(t.setHeaders).reduce((z,Y)=>z.set(Y,t.setHeaders[Y]),w)),t.setParams&&(R=Object.keys(t.setParams).reduce((z,Y)=>z.set(Y,t.setParams[Y]),R)),new rC(r,a,f,{params:R,headers:w,context:P,reportProgress:b,responseType:c,withCredentials:_})}}var br=(()=>((br=br||{})[br.Sent=0]="Sent",br[br.UploadProgress=1]="UploadProgress",br[br.ResponseHeader=2]="ResponseHeader",br[br.DownloadProgress=3]="DownloadProgress",br[br.Response=4]="Response",br[br.User=5]="User",br))();class PR{constructor(t,e=200,r="OK"){this.headers=t.headers||new Qu,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class xR extends PR{constructor(t={}){super(t),this.type=br.ResponseHeader}clone(t={}){return new xR({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class iS extends PR{constructor(t={}){super(t),this.type=br.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new iS({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class VN extends PR{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function kR(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let BN=(()=>{class n{constructor(e){this.handler=e}request(e,r,a={}){let c;if(e instanceof rC)c=e;else{let b,w;b=a.headers instanceof Qu?a.headers:new Qu(a.headers),a.params&&(w=a.params instanceof Zh?a.params:new Zh({fromObject:a.params})),c=new rC(e,r,void 0!==a.body?a.body:null,{headers:b,context:a.context,params:w,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const f=(0,Ge.of)(c).pipe(Ko(b=>this.handler.handle(b)));if(e instanceof rC||"events"===a.observe)return f;const _=f.pipe(Yn(b=>b instanceof iS));switch(a.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return _.pipe((0,wt.U)(b=>{if(null!==b.body&&!(b.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return b.body}));case"blob":return _.pipe((0,wt.U)(b=>{if(null!==b.body&&!(b.body instanceof Blob))throw new Error("Response is not a Blob.");return b.body}));case"text":return _.pipe((0,wt.U)(b=>{if(null!==b.body&&"string"!=typeof b.body)throw new Error("Response is not a string.");return b.body}));case"json":default:return _.pipe((0,wt.U)(b=>b.body))}case"response":return _;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Zh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,a={}){return this.request("PATCH",e,kR(a,r))}post(e,r,a={}){return this.request("POST",e,kR(a,r))}put(e,r,a={}){return this.request("PUT",e,kR(a,r))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ON))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class UN{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const jN=new u.OlP("HTTP_INTERCEPTORS");let uU=(()=>{class n{intercept(e,r){return r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const dU=/^\)\]\}',?\n/;let HN=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new sn.y(r=>{const a=this.xhrFactory.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((Y,ae)=>a.setRequestHeader(Y,ae.join(","))),e.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const Y=e.detectContentTypeHeader();null!==Y&&a.setRequestHeader("Content-Type",Y)}if(e.responseType){const Y=e.responseType.toLowerCase();a.responseType="json"!==Y?Y:"text"}const c=e.serializeBody();let f=null;const _=()=>{if(null!==f)return f;const Y=1223===a.status?204:a.status,ae=a.statusText||"OK",Oe=new Qu(a.getAllResponseHeaders()),Ve=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(a)||e.url;return f=new xR({headers:Oe,status:Y,statusText:ae,url:Ve}),f},b=()=>{let{headers:Y,status:ae,statusText:Oe,url:Ve}=_(),qe=null;204!==ae&&(qe=void 0===a.response?a.responseText:a.response),0===ae&&(ae=qe?200:0);let rt=ae>=200&&ae<300;if("json"===e.responseType&&"string"==typeof qe){const Nt=qe;qe=qe.replace(dU,"");try{qe=""!==qe?JSON.parse(qe):null}catch(vt){qe=Nt,rt&&(rt=!1,qe={error:vt,text:qe})}}rt?(r.next(new iS({body:qe,headers:Y,status:ae,statusText:Oe,url:Ve||void 0})),r.complete()):r.error(new VN({error:qe,headers:Y,status:ae,statusText:Oe,url:Ve||void 0}))},w=Y=>{const{url:ae}=_(),Oe=new VN({error:Y,status:a.status||0,statusText:a.statusText||"Unknown Error",url:ae||void 0});r.error(Oe)};let R=!1;const P=Y=>{R||(r.next(_()),R=!0);let ae={type:br.DownloadProgress,loaded:Y.loaded};Y.lengthComputable&&(ae.total=Y.total),"text"===e.responseType&&!!a.responseText&&(ae.partialText=a.responseText),r.next(ae)},z=Y=>{let ae={type:br.UploadProgress,loaded:Y.loaded};Y.lengthComputable&&(ae.total=Y.total),r.next(ae)};return a.addEventListener("load",b),a.addEventListener("error",w),a.addEventListener("timeout",w),a.addEventListener("abort",w),e.reportProgress&&(a.addEventListener("progress",P),null!==c&&a.upload&&a.upload.addEventListener("progress",z)),a.send(c),r.next({type:br.Sent}),()=>{a.removeEventListener("error",w),a.removeEventListener("abort",w),a.removeEventListener("load",b),a.removeEventListener("timeout",w),e.reportProgress&&(a.removeEventListener("progress",P),null!==c&&a.upload&&a.upload.removeEventListener("progress",z)),a.readyState!==a.DONE&&a.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(xa))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const NR=new u.OlP("XSRF_COOKIE_NAME"),FR=new u.OlP("XSRF_HEADER_NAME");class $N{}let fU=(()=>{class n{constructor(e,r,a){this.doc=e,this.platform=r,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Un(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ie),u.LFG(u.Lbi),u.LFG(NR))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),LR=(()=>{class n{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const a=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||a.startsWith("http://")||a.startsWith("https://"))return r.handle(e);const c=this.tokenService.getToken();return null!==c&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,c)})),r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG($N),u.LFG(FR))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),pU=(()=>{class n{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(jN,[]);this.chain=r.reduceRight((a,c)=>new UN(a,c),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(PN),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),gU=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:LR,useClass:uU}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:NR,useValue:e.cookieName}:[],e.headerName?{provide:FR,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[LR,{provide:jN,useExisting:LR,multi:!0},{provide:$N,useClass:fU},{provide:NR,useValue:"XSRF-TOKEN"},{provide:FR,useValue:"X-XSRF-TOKEN"}]}),n})(),mU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[BN,{provide:ON,useClass:pU},HN,{provide:PN,useExisting:HN}],imports:[[gU.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const sS={useTransferState:!0,alwaysMonitor:!1,manualIdle:!1,baseURIForScullyContent:"http://localhost:1668"},GN=new u.OlP("scullyLibConfig",{factory:()=>sS}),VR=n=>(n.includes("#")&&(n=n.split("#")[0]),n.includes("?")&&(n=n.split("?")[0]),n.endsWith("/")?n.slice(0,-1):n),BR=()=>window&&"running"===window.ScullyIO,UR=()=>window&&"generated"===window.ScullyIO;function zN(n,t){return(n=null!=n?n:"").endsWith("/")&&t.startsWith("/")?`${n}${t.substr(1)}`:n.endsWith("/")||t.startsWith("/")?`${n}${t}`:`${n}/${t}`}const jR="ScullyIO-transfer-state",HR="/** ___SCULLY_STATE_START___ */",$R="/** ___SCULLY_STATE_END___ */";let yU=(()=>{class n{constructor(e,r,a){this.document=e,this.router=r,this.http=a,this.inlineOnly=!1,this.currentBaseUrl="//",this.stateBS=new lN({}),this.state$=this.stateBS.pipe(N_(c=>void 0!==c)),this.nextUrl=this.router.events.pipe(N_(c=>c instanceof U),AR(c=>VR(this.initialUrl)===VR(c.url)?(this.initialUrl="__done__with__Initial__navigation__",vN):DN(c)),nS(()=>this.stateBS.next(void 0)),AR(c=>this.router.events.pipe(N_(f=>f instanceof Mt&&f.url===c.url),function(n,t){const e=arguments.length>=2;return r=>r.pipe(n?N_((a,c)=>n(a,c,r)):IR,TN(1),e?qB(t):KB(()=>new RR))}())),IN(c=>VR(c.urlAfterRedirects||c.url)),function(n,t,e){let r,a=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:t=1/0,refCount:a=!1,scheduler:e}=n):r=null!=n?n:1/0,function(n={}){const{connector:t=(()=>new tS),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:a=!0}=n;return c=>{let f=null,_=null,b=null,w=0,R=!1,P=!1;const z=()=>{null==_||_.unsubscribe(),_=null},Y=()=>{z(),f=b=null,R=P=!1},ae=()=>{const Oe=f;Y(),null==Oe||Oe.unsubscribe()};return Da((Oe,Ve)=>{w++,!P&&!R&&z();const qe=b=null!=b?b:t();Ve.add(()=>{w--,0===w&&!P&&!R&&(_=OR(ae,a))}),qe.subscribe(Ve),f||(f=new tC({next:rt=>qe.next(rt),error:rt=>{P=!0,z(),_=OR(Y,e,rt),qe.error(rt)},complete:()=>{R=!0,z(),_=OR(Y,r),qe.complete()}}),wN(Oe).subscribe(f))})(c)}}({connector:()=>new XB(r,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}(1))}startMonitoring(){window&&window["ScullyIO-injected"]&&window["ScullyIO-injected"].inlineStateOnly&&(this.inlineOnly=!0),this.setupEnvForTransferState(),this.setupStartNavMonitoring()}setupEnvForTransferState(){if(BR()){this.injectScript();const e=window["ScullyIO-exposed"]||{};e.transferState&&(this.stateBS.next(e.transferState),this.saveState(e.transferState))}else this.initialUrl=window.location.pathname||"__no_NO_no__",this.initialUrl="/"!==this.initialUrl&&this.initialUrl.endsWith("/")?this.initialUrl.slice(0,-1):this.initialUrl,UR()&&this.stateBS.next(window&&window[jR]||{})}injectScript(){this.script=this.document.createElement("script"),this.script.setAttribute("id",jR);let e=this.document.body.lastChild;for(;"SCRIPT"===e.previousSibling.nodeName;)e=e.previousSibling;this.document.body.insertBefore(this.script,e)}getState(e){return this.fetchTransferState(),this.state$.pipe(MN(e))}stateHasKey(e){return this.stateBS.value&&this.stateBS.value.hasOwnProperty(e)}stateKeyHasValue(e){return this.stateBS.value&&this.stateBS.value.hasOwnProperty(e)&&null!=this.stateBS.value[e]}setState(e,r){const a=Object.assign(Object.assign({},this.stateBS.value),{[e]:r});this.stateBS.next(a),this.saveState(a)}saveState(e){BR()&&(this.script.textContent=`{window['${jR}']=_u(\`${HR}${function(n){const t={"'":"_~q~",$:"_~o~","`":"_~b~","/":"_~s~","<":"_~l~",">":"_~g~"};return n.replace(/[\$`'<>\/]/g,e=>t[e]).replace(/\\\"/g,"_~d~")}(JSON.stringify(e))}${$R}\`);function _u(t){t=t.split('${HR}')[1].split('${$R}')[0];const u={'_~b~': "\`",'_~q~': "'",'_~o~': '$','_~s~': '/','_~l~': '<','_~g~': '>'};return JSON.parse(t.replace(/_~d~/g,'\\\\"').replace(/_~[^]~/g, (s) => u[s]).replace(/\\n/g,'\\\\n').replace(/\\t/g,'\\\\t').replace(/\\r/g,'\\\\r'));}}`)}setupStartNavMonitoring(){!UR()||this.nextUrl.subscribe()}useScullyTransferState(e,r){return UR()?this.getState(e):r.pipe(nS(a=>this.setState(e,a)))}fetchTransferState(){return(0,Ac.mG)(this,void 0,void 0,function*(){const e=c=>c.split("/").filter(f=>""!==f.trim())[0];yield new Promise(c=>setTimeout(c,0));const r=yield rS(this.nextUrl),a=e(r);this.currentBaseUrl!==a&&(this.currentBaseUrl=a,this.nextUrl.pipe(function(n,t=!1){return Da((e,r)=>{let a=0;e.subscribe(Dl(r,c=>{const f=n(c,a++);(f||t)&&r.next(c),!f&&r.complete()}))})}(c=>e(c)===this.currentBaseUrl),AR(c=>this.inlineOnly?this.readFromIndex(c):this.readFromJson(c)),RN(c=>(console.warn("Error while loading of parsing Scully state:",c),DN({}))),nS(c=>{this.stateBS.next(c)})).subscribe({complete:()=>{this.currentBaseUrl="//"}}))})}readFromJson(e){return rS(this.http.get(WN(zN(e,"/data.json"))))}readFromIndex(e){return rS(this.http.get(WN(zN(e,"/index.html")),{responseType:"text"})).then(r=>{const a=r.split(HR)[1].split($R)[0];return JSON.parse(function(n){const t={"_~q~":"'","_~b~":"`","_~o~":"$","_~s~":"/","_~l~":"<","_~g~":">"};return n.replace(/_~d~/g,'\\"').replace(/_~[^]~/g,e=>t[e]).replace(/\n/g,"\\n").replace(/\r/g,"\\r")}(a))})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ie),u.LFG($r),u.LFG(BN))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function WN(n){return n.startsWith("/")?n.slice(1):n}let CU=(()=>{class n{constructor(e,r,a,c,f){this.zone=e,this.router=r,this.document=c,this.initialUrl=function(n){return n.endsWith("/")?n.slice(0,-1):n}(window&&window.location&&window.location.pathname)||"",this.imState=new lN({idle:!1,timeOut:5e3}),this.idle$=this.imState.pipe(MN("idle")),this.initApp=new Event("AngularInitialized",{bubbles:!0,cancelable:!1}),this.appReady=new Event("AngularReady",{bubbles:!0,cancelable:!1}),this.appTimeout=new Event("AngularTimeout",{bubbles:!0,cancelable:!1}),this.scullyLibConfig=Object.assign({},sS,a);const b=!!(window["ScullyIO-exposed"]||{}).manualIdle;!this.scullyLibConfig.manualIdle&&window&&(this.scullyLibConfig.alwaysMonitor||BR())&&(this.document.dispatchEvent(this.initApp),this.router.events.pipe(N_(w=>w instanceof te&&void 0!==w.urlAfterRedirects),N_(w=>!b||w.urlAfterRedirects!==this.initialUrl),nS(()=>this.zoneIdleCheck())).subscribe()),this.scullyLibConfig.manualIdle&&this.document.dispatchEvent(this.initApp),this.scullyLibConfig.useTransferState&&f.startMonitoring()}fireManualMyAppReadyEvent(){return(0,Ac.mG)(this,void 0,void 0,function*(){return this.document.dispatchEvent(this.appReady)})}init(){return rS(this.idle$)}zoneIdleCheck(){return(0,Ac.mG)(this,void 0,void 0,function*(){if(void 0===Zone)return this.simpleTimeout();const e=Zone.current.get("TaskTrackingZone");if(void 0===e)return this.simpleTimeout();this.imState.value.idle&&(yield this.setState("idle",!1)),this.zone.runOutsideAngular(()=>{let r,a=0;const c=Date.now(),f=()=>{clearTimeout(r),Date.now()-c>3e4?this.document.dispatchEvent(this.appTimeout):e.macroTasks.length>0&&void 0!==e.macroTasks.find(_=>_.source.includes("XMLHttpRequest"))||a<1?r=setTimeout(()=>{a+=1,f()},50):this.zone.run(()=>{setTimeout(()=>{this.document.dispatchEvent(this.appReady),this.setState("idle",!0)},250)})};f()})})}simpleTimeout(){return(0,Ac.mG)(this,void 0,void 0,function*(){console.warn("Scully is using timeouts, add the needed polyfills instead!"),yield new Promise(e=>setTimeout(e,this.imState.value.timeOut)),this.document.dispatchEvent(this.appReady)})}setPupeteerTimeoutValue(e){this.imState.next(Object.assign(Object.assign({},this.imState.value),{timeOut:e}))}setState(e,r){this.imState.next(Object.assign(Object.assign({},this.imState.value),{[e]:r}))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.R0b),u.LFG($r),u.LFG(GN),u.LFG(ie),u.LFG(yU))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),wU=(()=>{class n{constructor(e){this.idle=e}static forRoot(e=sS){return e=Object.assign({},sS,e),{ngModule:n,providers:[{provide:GN,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(CU))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[YN,mU],YN]}),n})(),DU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[vB]}),n.\u0275inj=u.cJS({providers:[_R],imports:[[Yc,ES,iL,uV,qx,oB,sB,rs.hO.initializeApp(eN_firebaseConfig),Xv,wU,nA]]}),n})();(0,u.G48)(),Xs().bootstrapModule(DU).catch(n=>console.error(n))},4762:(Ye,Te,V)=>{"use strict";function he(ue,fe){var De={};for(var ye in ue)Object.prototype.hasOwnProperty.call(ue,ye)&&fe.indexOf(ye)<0&&(De[ye]=ue[ye]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var xe=0;for(ye=Object.getOwnPropertySymbols(ue);xe<ye.length;xe++)fe.indexOf(ye[xe])<0&&Object.prototype.propertyIsEnumerable.call(ue,ye[xe])&&(De[ye[xe]]=ue[ye[xe]])}return De}function Q(ue,fe,De,ye){return new(De||(De=Promise))(function(ve,ct){function Ut(kt){try{ut(ye.next(kt))}catch(dt){ct(dt)}}function xn(kt){try{ut(ye.throw(kt))}catch(dt){ct(dt)}}function ut(kt){kt.done?ve(kt.value):function(ve){return ve instanceof De?ve:new De(function(ct){ct(ve)})}(kt.value).then(Ut,xn)}ut((ye=ye.apply(ue,fe||[])).next())})}function _e(ue){return this instanceof _e?(this.v=ue,this):new _e(ue)}function se(ue,fe,De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,ye=De.apply(ue,fe||[]),ve=[];return xe={},ct("next"),ct("throw"),ct("return"),xe[Symbol.asyncIterator]=function(){return this},xe;function ct(Vt){ye[Vt]&&(xe[Vt]=function(Ln){return new Promise(function(Lr,jt){ve.push([Vt,Ln,Lr,jt])>1||Ut(Vt,Ln)})})}function Ut(Vt,Ln){try{!function(Vt){Vt.value instanceof _e?Promise.resolve(Vt.value.v).then(ut,kt):dt(ve[0][2],Vt)}(ye[Vt](Ln))}catch(Lr){dt(ve[0][3],Lr)}}function ut(Vt){Ut("next",Vt)}function kt(Vt){Ut("throw",Vt)}function dt(Vt,Ln){Vt(Ln),ve.shift(),ve.length&&Ut(ve[0][0],ve[0][1])}}function Ne(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,fe=ue[Symbol.asyncIterator];return fe?fe.call(ue):(ue=function(ue){var fe="function"==typeof Symbol&&Symbol.iterator,De=fe&&ue[fe],ye=0;if(De)return De.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&ye>=ue.length&&(ue=void 0),{value:ue&&ue[ye++],done:!ue}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),De={},ye("next"),ye("throw"),ye("return"),De[Symbol.asyncIterator]=function(){return this},De);function ye(ve){De[ve]=ue[ve]&&function(ct){return new Promise(function(Ut,xn){!function(ve,ct,Ut,xn){Promise.resolve(xn).then(function(ut){ve({value:ut,done:Ut})},ct)}(Ut,xn,(ct=ue[ve](ct)).done,ct.value)})}}}V.d(Te,{_T:()=>he,mG:()=>Q,qq:()=>_e,FC:()=>se,KL:()=>Ne})},3394:(Ye,Te,V)=>{"use strict";V.d(Te,{Z:()=>Ee});var u=V(3854),ne=V(3910),L=V(8026),he=V(5422);class le{constructor(_e,se){this._delegate=_e,this.firebase=se,(0,L._addComponent)(_e,new ne.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(_e,se=L._DEFAULT_ENTRY_NAME){var we;this._delegate.checkDestroyed();const Ne=this._delegate.container.getProvider(_e);return!Ne.isInitialized()&&"EXPLICIT"===(null===(we=Ne.getComponent())||void 0===we?void 0:we.instantiationMode)&&Ne.initialize(),Ne.getImmediate({identifier:se})}_removeServiceInstance(_e,se=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(se)}_addComponent(_e){(0,L._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,L._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function X(){const Ce=function(Ce){const _e={},se={__esModule:!0,initializeApp:function(mt,Ae={}){const ue=L.initializeApp(mt,Ae);if((0,u.r3)(_e,ue.name))return _e[ue.name];const fe=new Ce(ue,se);return _e[ue.name]=fe,fe},app:Ne,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function(mt){const Ae=mt.name,ue=Ae.replace("-compat","");if(L._registerComponent(mt)&&"PUBLIC"===mt.type){const fe=(De=Ne())=>{if("function"!=typeof De[ue])throw ie.create("invalid-app-argument",{appName:Ae});return De[ue]()};void 0!==mt.serviceProps&&(0,u.ZB)(fe,mt.serviceProps),se[ue]=fe,Ce.prototype[ue]=function(...De){return this._getService.bind(this,Ae).apply(this,mt.multipleInstances?De:[])}}return"PUBLIC"===mt.type?se[ue]:null},removeApp:function(mt){delete _e[mt]},useAsService:function(mt,Ae){return"serverAuth"===Ae?null:Ae},modularAPIs:L}};function Ne(mt){if(!(0,u.r3)(_e,mt=mt||L._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:mt});return _e[mt]}return se.default=se,Object.defineProperty(se,"apps",{get:function(){return Object.keys(_e).map(mt=>_e[mt])}}),Ne.App=Ce,se}(le);return Ce.INTERNAL=Object.assign(Object.assign({},Ce.INTERNAL),{createFirebaseNamespace:X,extendNamespace:function(se){(0,u.ZB)(Ce,se)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Ce}(),j=new he.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ce=self.firebase.SDK_VERSION;Ce&&Ce.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ee=F;(0,L.registerVersion)("@firebase/app-compat","0.1.19",undefined)},8026:(Ye,Te,V)=>{"use strict";V.r(Te),V.d(Te,{FirebaseError:()=>he.ZR,SDK_VERSION:()=>hs,_DEFAULT_ENTRY_NAME:()=>ut,_addComponent:()=>Ln,_addOrOverwriteComponent:()=>Lr,_apps:()=>dt,_clearComponents:()=>Vn,_components:()=>Vt,_getProvider:()=>Kt,_registerComponent:()=>jt,_removeServiceInstance:()=>Tt,deleteApp:()=>Ys,getApp:()=>dr,getApps:()=>Wr,initializeApp:()=>Ni,onLog:()=>wr,registerVersion:()=>an,setLogLevel:()=>hr});var u=V(8239),ne=V(3910),L=V(5422),he=V(3854),le=V(6676);class ee{constructor(be){this.container=be}getPlatformInfoString(){return this.container.getProviders().map(Le=>{if(function(Me){const be=Me.getComponent();return"VERSION"===(null==be?void 0:be.type)}(Le)){const We=Le.getImmediate();return`${We.library}/${We.version}`}return null}).filter(Le=>Le).join(" ")}}const Q="@firebase/app",X="0.7.18",F=new L.Yd("@firebase/app"),ut="[DEFAULT]",kt={[Q]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},dt=new Map,Vt=new Map;function Ln(Me,be){try{Me.container.addComponent(be)}catch(Le){F.debug(`Component ${be.name} failed to register with FirebaseApp ${Me.name}`,Le)}}function Lr(Me,be){Me.container.addOrOverwriteComponent(be)}function jt(Me){const be=Me.name;if(Vt.has(be))return F.debug(`There were multiple attempts to register component ${be}.`),!1;Vt.set(be,Me);for(const Le of dt.values())Ln(Le,Me);return!0}function Kt(Me,be){const Le=Me.container.getProvider("heartbeat").getImmediate({optional:!0});return Le&&Le.triggerHeartbeat(),Me.container.getProvider(be)}function Tt(Me,be,Le=ut){Kt(Me,be).clearInstance(Le)}function Vn(){Vt.clear()}const $n=new he.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Er{constructor(be,Le,We){this._isDeleted=!1,this._options=Object.assign({},be),this._config=Object.assign({},Le),this._name=Le.name,this._automaticDataCollectionEnabled=Le.automaticDataCollectionEnabled,this._container=We,this.container.addComponent(new ne.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this.checkDestroyed(),this._automaticDataCollectionEnabled=be}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(be){this._isDeleted=be}checkDestroyed(){if(this.isDeleted)throw $n.create("app-deleted",{appName:this._name})}}const hs="9.6.8";function Ni(Me,be={}){"object"!=typeof be&&(be={name:be});const Le=Object.assign({name:ut,automaticDataCollectionEnabled:!1},be),We=Le.name;if("string"!=typeof We||!We)throw $n.create("bad-app-name",{appName:String(We)});const bt=dt.get(We);if(bt){if((0,he.vZ)(Me,bt.options)&&(0,he.vZ)(Le,bt.config))return bt;throw $n.create("duplicate-app",{appName:We})}const tt=new ne.H0(We);for(const dn of Vt.values())tt.addComponent(dn);const Ht=new Er(Me,Le,tt);return dt.set(We,Ht),Ht}function dr(Me=ut){const be=dt.get(Me);if(!be)throw $n.create("no-app",{appName:Me});return be}function Wr(){return Array.from(dt.values())}function Ys(Me){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,u.Z)(function*(Me){const be=Me.name;dt.has(be)&&(dt.delete(be),yield Promise.all(Me.container.getProviders().map(Le=>Le.delete())),Me.isDeleted=!0)})).apply(this,arguments)}function an(Me,be,Le){var We;let bt=null!==(We=kt[Me])&&void 0!==We?We:Me;Le&&(bt+=`-${Le}`);const tt=bt.match(/\s|\//),Ht=be.match(/\s|\//);if(tt||Ht){const dn=[`Unable to register library "${bt}" with version "${be}":`];return tt&&dn.push(`library name "${bt}" contains illegal characters (whitespace or "/")`),tt&&Ht&&dn.push("and"),Ht&&dn.push(`version name "${be}" contains illegal characters (whitespace or "/")`),void F.warn(dn.join(" "))}jt(new ne.wA(`${bt}-version`,()=>({library:bt,version:be}),"VERSION"))}function wr(Me,be){if(null!==Me&&"function"!=typeof Me)throw $n.create("invalid-log-argument");(0,L.Am)(Me,be)}function hr(Me){(0,L.Ub)(Me)}const Sn="firebase-heartbeat-store";let tn=null;function fs(){return tn||(tn=(0,le.openDb)("firebase-heartbeat-database",1,Me=>{switch(Me.oldVersion){case 0:Me.createObjectStore(Sn)}}).catch(Me=>{throw $n.create("storage-open",{originalErrorMessage:Me.message})})),tn}function Ue(){return(Ue=(0,u.Z)(function*(Me){try{return(yield fs()).transaction(Sn).objectStore(Sn).get(Lt(Me))}catch(be){throw $n.create("storage-get",{originalErrorMessage:be.message})}})).apply(this,arguments)}function st(Me,be){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,u.Z)(function*(Me,be){try{const We=(yield fs()).transaction(Sn,"readwrite");return yield We.objectStore(Sn).put(be,Lt(Me)),We.complete}catch(Le){throw $n.create("storage-set",{originalErrorMessage:Le.message})}})).apply(this,arguments)}function er(){return(er=(0,u.Z)(function*(Me){try{const Le=(yield fs()).transaction(Sn,"readwrite");return yield Le.objectStore(Sn).delete(Lt(Me)),Le.complete}catch(be){throw $n.create("storage-delete",{originalErrorMessage:be.message})}})).apply(this,arguments)}function Lt(Me){return`${Me.name}!${Me.options.appId}`}class W{constructor(be){this.container=be,this._heartbeatsCache=null;const Le=this.container.getProvider("app").getImmediate();this._storage=new Ie(Le),this._heartbeatsCachePromise=this._storage.read().then(We=>(this._heartbeatsCache=We,We))}triggerHeartbeat(){var be=this;return(0,u.Z)(function*(){const We=be.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),bt=(new Date).toISOString().substring(0,10);if(null===be._heartbeatsCache&&(be._heartbeatsCache=yield be._heartbeatsCachePromise),!be._heartbeatsCache.some(tt=>tt.date===bt))return be._heartbeatsCache.push({date:bt,userAgent:We}),be._heartbeatsCache=be._heartbeatsCache.filter(tt=>{const Ht=new Date(tt.date).valueOf();return Date.now()-Ht<=2592e6}),be._storage.overwrite(be._heartbeatsCache)})()}getHeartbeatsHeader(){var be=this;return(0,u.Z)(function*(){if(null===be._heartbeatsCache&&(yield be._heartbeatsCachePromise),null===be._heartbeatsCache)return"";const{heartbeatsToSend:Le,unsentEntries:We}=function(Me,be=1024){const Le=[];let We=Me.slice();for(const bt of Me){const tt=Le.find(Ht=>Ht.userAgent===bt.userAgent);if(tt){if(tt.dates.push(bt.date),de(Le)>be){tt.dates.pop();break}}else if(Le.push({userAgent:bt.userAgent,dates:[bt.date]}),de(Le)>be){Le.pop();break}We=We.slice(1)}return{heartbeatsToSend:Le,unsentEntries:We}}(be._heartbeatsCache),bt=(0,he.h$)(JSON.stringify({version:2,heartbeats:Le}));return We.length>0?(be._heartbeatsCache=We,yield be._storage.overwrite(be._heartbeatsCache)):(be._heartbeatsCache=null,be._storage.deleteAll()),bt})()}}class Ie{constructor(be){this.app=be,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,he.hl)()&&(0,he.eu)().then(()=>!0).catch(()=>!1)})()}read(){var be=this;return(0,u.Z)(function*(){if(yield be._canUseIndexedDBPromise){const We=yield function(Me){return Ue.apply(this,arguments)}(be.app);return(null==We?void 0:We.heartbeats)||[]}return[]})()}overwrite(be){var Le=this;return(0,u.Z)(function*(){if(yield Le._canUseIndexedDBPromise)return st(Le.app,{heartbeats:be})})()}add(be){var Le=this;return(0,u.Z)(function*(){if(yield Le._canUseIndexedDBPromise){const bt=yield Le.read();return st(Le.app,{heartbeats:[...bt,...be]})}})()}delete(be){var Le=this;return(0,u.Z)(function*(){if(yield Le._canUseIndexedDBPromise){const bt=yield Le.read();return st(Le.app,{heartbeats:bt.filter(tt=>!be.includes(tt))})}})()}deleteAll(){var be=this;return(0,u.Z)(function*(){if(yield be._canUseIndexedDBPromise)return function(Me){return er.apply(this,arguments)}(be.app)})()}}function de(Me){return(0,he.h$)(JSON.stringify({version:2,heartbeats:Me})).length}jt(new ne.wA("platform-logger",be=>new ee(be),"PRIVATE")),jt(new ne.wA("heartbeat",be=>new W(be),"PRIVATE")),an(Q,X,""),an(Q,X,"esm2017"),an("fire-js","")},3910:(Ye,Te,V)=>{"use strict";V.d(Te,{wA:()=>L,H0:()=>Q,zt:()=>le});var u=V(8239),ne=V(3854);class L{constructor(F,j,H){this.name=F,this.instanceFactory=j,this.type=H,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(F){return this.instantiationMode=F,this}setMultipleInstances(F){return this.multipleInstances=F,this}setServiceProps(F){return this.serviceProps=F,this}setInstanceCreatedCallback(F){return this.onInstanceCreated=F,this}}const he="[DEFAULT]";class le{constructor(F,j){this.name=F,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(F){const j=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(j)){const H=new ne.BH;if(this.instancesDeferred.set(j,H),this.isInitialized(j)||this.shouldAutoInitialize())try{const ce=this.getOrInitializeService({instanceIdentifier:j});ce&&H.resolve(ce)}catch(ce){}}return this.instancesDeferred.get(j).promise}getImmediate(F){var j;const H=this.normalizeInstanceIdentifier(null==F?void 0:F.identifier),ce=null!==(j=null==F?void 0:F.optional)&&void 0!==j&&j;if(!this.isInitialized(H)&&!this.shouldAutoInitialize()){if(ce)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:H})}catch(oe){if(ce)return null;throw oe}}getComponent(){return this.component}setComponent(F){if(F.name!==this.name)throw Error(`Mismatching Component ${F.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=F,this.shouldAutoInitialize()){if("EAGER"===F.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:he})}catch(j){}for(const[j,H]of this.instancesDeferred.entries()){const ce=this.normalizeInstanceIdentifier(j);try{const oe=this.getOrInitializeService({instanceIdentifier:ce});H.resolve(oe)}catch(oe){}}}}clearInstance(F=he){this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)}delete(){var F=this;return(0,u.Z)(function*(){const j=Array.from(F.instances.values());yield Promise.all([...j.filter(H=>"INTERNAL"in H).map(H=>H.INTERNAL.delete()),...j.filter(H=>"_delete"in H).map(H=>H._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(F=he){return this.instances.has(F)}getOptions(F=he){return this.instancesOptions.get(F)||{}}initialize(F={}){const{options:j={}}=F,H=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(H))throw Error(`${this.name}(${H}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ce=this.getOrInitializeService({instanceIdentifier:H,options:j});for(const[oe,Ee]of this.instancesDeferred.entries())H===this.normalizeInstanceIdentifier(oe)&&Ee.resolve(ce);return ce}onInit(F,j){var H;const ce=this.normalizeInstanceIdentifier(j),oe=null!==(H=this.onInitCallbacks.get(ce))&&void 0!==H?H:new Set;oe.add(F),this.onInitCallbacks.set(ce,oe);const Ee=this.instances.get(ce);return Ee&&F(Ee,ce),()=>{oe.delete(F)}}invokeOnInitCallbacks(F,j){const H=this.onInitCallbacks.get(j);if(H)for(const ce of H)try{ce(F,j)}catch(oe){}}getOrInitializeService({instanceIdentifier:F,options:j={}}){let H=this.instances.get(F);if(!H&&this.component&&(H=this.component.instanceFactory(this.container,{instanceIdentifier:(X=F,X===he?void 0:X),options:j}),this.instances.set(F,H),this.instancesOptions.set(F,j),this.invokeOnInitCallbacks(H,F),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,F,H)}catch(ce){}var X;return H||null}normalizeInstanceIdentifier(F=he){return this.component?this.component.multipleInstances?F:he:F}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Q{constructor(F){this.name=F,this.providers=new Map}addComponent(F){const j=this.getProvider(F.name);if(j.isComponentSet())throw new Error(`Component ${F.name} has already been registered with ${this.name}`);j.setComponent(F)}addOrOverwriteComponent(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)}getProvider(F){if(this.providers.has(F))return this.providers.get(F);const j=new le(F,this);return this.providers.set(F,j),j}getProviders(){return Array.from(this.providers.values())}}},5422:(Ye,Te,V)=>{"use strict";V.d(Te,{in:()=>ne,Yd:()=>ie,Ub:()=>Q,Am:()=>X});const u=[];var ne=(()=>{return(F=ne||(ne={}))[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT",ne;var F})();const L={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},he=ne.INFO,le={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},ee=(F,j,...H)=>{if(j<F.logLevel)return;const ce=(new Date).toISOString(),oe=le[j];if(!oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[oe](`[${ce}]  ${F.name}:`,...H)};class ie{constructor(j){this.name=j,this._logLevel=he,this._logHandler=ee,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in ne))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?L[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...j),this._logHandler(this,ne.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...j),this._logHandler(this,ne.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...j),this._logHandler(this,ne.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...j),this._logHandler(this,ne.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...j),this._logHandler(this,ne.ERROR,...j)}}function Q(F){u.forEach(j=>{j.setLogLevel(F)})}function X(F,j){for(const H of u){let ce=null;j&&j.level&&(ce=L[j.level]),H.userLogHandler=null===F?null:(oe,Ee,...Ce)=>{const _e=Ce.map(se=>{if(null==se)return null;if("string"==typeof se)return se;if("number"==typeof se||"boolean"==typeof se)return se.toString();if(se instanceof Error)return se.message;try{return JSON.stringify(se)}catch(we){return null}}).filter(se=>se).join(" ");Ee>=(null!=ce?ce:oe.logLevel)&&F({level:ne[Ee].toLowerCase(),message:_e,args:Ce,type:oe.name})}}}},8239:(Ye,Te,V)=>{"use strict";function u(L,he,le,ee,ie,Q,X){try{var F=L[Q](X),j=F.value}catch(H){return void le(H)}F.done?he(j):Promise.resolve(j).then(ee,ie)}function ne(L){return function(){var he=this,le=arguments;return new Promise(function(ee,ie){var Q=L.apply(he,le);function X(j){u(Q,ee,ie,X,F,"next",j)}function F(j){u(Q,ee,ie,X,F,"throw",j)}X(void 0)})}}V.d(Te,{Z:()=>ne})}},Ye=>{Ye(Ye.s=6463)}]);