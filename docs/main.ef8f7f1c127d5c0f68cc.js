(self.webpackChunkodin_ai=self.webpackChunkodin_ai||[]).push([[179],{8255:$e=>{function Ee(V){return Promise.resolve().then(()=>{var d=new Error("Cannot find module '"+V+"'");throw d.code="MODULE_NOT_FOUND",d})}Ee.keys=()=>[],Ee.resolve=Ee,Ee.id=8255,$e.exports=Ee},7716:($e,Ee,V)=>{"use strict";V.d(Ee,{deG:()=>Id,tb:()=>aA,AFp:()=>iA,ip1:()=>R0,CZH:()=>Lp,hGG:()=>VA,z2F:()=>Bp,sBO:()=>ui,Sil:()=>g_,_Vd:()=>wh,EJc:()=>cA,SBq:()=>lo,qLn:()=>jo,vpe:()=>ra,gxx:()=>Zt,tBr:()=>Fo,XFs:()=>We,OlP:()=>sn,zs3:()=>Ye,ZZ4:()=>Nu,aQg:()=>jm,soG:()=>vb,YKP:()=>jv,v3s:()=>IA,h0i:()=>ta,PXZ:()=>CA,R0b:()=>Os,FiY:()=>Lo,Lbi:()=>oA,g9A:()=>sA,Qsj:()=>WT,FYo:()=>ku,JOm:()=>bs,Tiy:()=>Nv,q3G:()=>Dn,tp0:()=>Hn,EAV:()=>RA,Rgc:()=>wp,dDg:()=>fA,DyG:()=>$i,q4F:()=>xw,GfV:()=>Pw,s_b:()=>Wm,ifc:()=>ke,eFA:()=>Vp,G48:()=>RO,Gpc:()=>j,f3M:()=>af,X6Q:()=>F0,_c5:()=>HO,VLi:()=>MO,c2e:()=>lA,zSh:()=>Hf,wAp:()=>Ke,vHH:()=>ye,EiD:()=>au,mCW:()=>Bo,qzn:()=>Ll,JVY:()=>Cg,pB0:()=>nu,eBb:()=>ff,L6k:()=>hf,LAX:()=>Js,cg1:()=>Cv,Tjo:()=>BO,kL8:()=>Mm,yhl:()=>Pd,dqk:()=>et,sIi:()=>qf,CqO:()=>ym,QGY:()=>_m,F4k:()=>RE,RDi:()=>js,AaK:()=>Q,z3N:()=>Qs,qOj:()=>Cu,TTD:()=>Er,_Bn:()=>Rw,xp6:()=>Wg,uIk:()=>Wy,ekj:()=>up,Suo:()=>C0,Xpm:()=>ut,lG2:()=>Sc,Yz7:()=>Ht,cJS:()=>un,oAB:()=>Fs,Yjl:()=>Lr,Y36:()=>hh,_UZ:()=>AE,qZA:()=>nv,TgZ:()=>tv,EpF:()=>iv,n5z:()=>Tl,Ikx:()=>bv,LFG:()=>on,$8M:()=>wd,NdJ:()=>fh,CRH:()=>E0,oxw:()=>sv,Hsn:()=>ov,F$t:()=>xE,Q6J:()=>mm,s9C:()=>Qo,VKq:()=>s_,iGM:()=>kh,CHM:()=>_l,LSH:()=>mf,kYT:()=>al,Udp:()=>cp,WFA:()=>vm,d8E:()=>vp,YNc:()=>Jf,_uU:()=>ZE,Oqu:()=>Mu,hij:()=>gh,Gf:()=>b0});var d=V(9765),te=V(5319),L=V(7574),he=V(6682),ae=V(8819);function X(i){for(let s in i)if(i[s]===X)return s;throw Error("Could not find renamed property on target object.")}function oe(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function Q(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Q).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function J(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const F=X({__forward_ref__:X});function j(i){return i.__forward_ref__=j,i.toString=function(){return Q(this())},i}function G(i){return ce(i)?i():i}function ce(i){return"function"==typeof i&&i.hasOwnProperty(F)&&i.__forward_ref__===j}class ye extends Error{constructor(s,o){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,o)),this.code=s}}function se(i){return"string"==typeof i?i:null==i?"":String(i)}function ve(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():se(i)}function Rt(i,s){const o=s?` in ${s}`:"";throw new ye("201",`No provider for ${ve(i)} found${o}`)}function tn(i,s){null==i&&function(i,s,o,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${o} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function Ht(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function un(i){return{providers:i.providers||[],imports:i.imports||[]}}function Rn(i){return Bt(i,fi)||Bt(i,Vn)}function Bt(i,s){return i.hasOwnProperty(s)?i[s]:null}function Zr(i){return i&&(i.hasOwnProperty(Te)||i.hasOwnProperty(Bn))?i[Te]:null}const fi=X({\u0275prov:X}),Te=X({\u0275inj:X}),Vn=X({ngInjectableDef:X}),Bn=X({ngInjectorDef:X});var We=(()=>((We=We||{})[We.Default=0]="Default",We[We.Host=1]="Host",We[We.Self=2]="Self",We[We.SkipSelf=4]="SkipSelf",We[We.Optional=8]="Optional",We))();let St;function ur(i){const s=St;return St=i,s}function Un(i,s,o){const l=Rn(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&We.Optional?null:void 0!==s?s:void Rt(Q(i),"Injector")}function pn(i){return{toString:i}.toString()}var rn=(()=>((rn=rn||{})[rn.OnPush=0]="OnPush",rn[rn.Default=1]="Default",rn))(),ke=(()=>((ke=ke||{})[ke.Emulated=0]="Emulated",ke[ke.None=2]="None",ke[ke.ShadowDom=3]="ShadowDom",ke))();const Je="undefined"!=typeof globalThis&&globalThis,Ns="undefined"!=typeof window&&window,pi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,et=Je||"undefined"!=typeof global&&global||Ns||pi,Y={},H=[],q=X({\u0275cmp:X}),Ce=X({\u0275dir:X}),le=X({\u0275pipe:X}),Ve=X({\u0275mod:X}),De=X({\u0275loc:X}),_e=X({\u0275fac:X}),Pe=X({__NG_ELEMENT_ID__:X});let ze=0;function ut(i){return pn(()=>{const o={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===rn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||H,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||ke.Emulated,id:"c",styles:i.styles||H,_:null,setInput:null,schemas:i.schemas||null,tView:null},u=i.directives,h=i.features,m=i.pipes;return l.id+=ze++,l.inputs=Ls(i.inputs,o),l.outputs=Ls(i.outputs),h&&h.forEach(v=>v(l)),l.directiveDefs=u?()=>("function"==typeof u?u():u).map(qt):null,l.pipeDefs=m?()=>("function"==typeof m?m():m).map(Gn):null,l})}function qt(i){return On(i)||function(i){return i[Ce]||null}(i)}function Gn(i){return function(i){return i[le]||null}(i)}const ol={};function Fs(i){return pn(()=>{const s={type:i.type,bootstrap:i.bootstrap||H,declarations:i.declarations||H,imports:i.imports||H,exports:i.exports||H,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(ol[i.id]=i.type),s})}function al(i,s){return pn(()=>{const o=Vr(i,!0);o.declarations=s.declarations||H,o.imports=s.imports||H,o.exports=s.exports||H})}function Ls(i,s){if(null==i)return Y;const o={};for(const l in i)if(i.hasOwnProperty(l)){let u=i[l],h=u;Array.isArray(u)&&(h=u[1],u=u[0]),o[u]=l,s&&(s[u]=h)}return o}const Sc=ut;function Lr(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function On(i){return i[q]||null}function Vr(i,s){const o=i[Ve]||null;if(!o&&!0===s)throw new Error(`Type ${Q(i)} does not have '\u0275mod' property.`);return o}function nn(i){return Array.isArray(i)&&"object"==typeof i[1]}function Yn(i){return Array.isArray(i)&&!0===i[1]}function ed(i){return 0!=(8&i.flags)}function da(i){return 2==(2&i.flags)}function ll(i){return 1==(1&i.flags)}function Qr(i){return null!==i.template}function Jr(i){return 0!=(512&i[2])}function mi(i,s){return i.hasOwnProperty(_e)?i[_e]:null}class ma{constructor(s,o,l){this.previousValue=s,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function Er(){return _a}function _a(i){return i.type.prototype.ngOnChanges&&(i.setInput=tr),lg}function lg(){const i=ul(this),s=null==i?void 0:i.current;if(s){const o=i.previous;if(o===Y)i.previous=s;else for(let l in s)o[l]=s[l];i.current=null,this.ngOnChanges(s)}}function tr(i,s,o,l){const u=ul(i)||function(i,s){return i[_i]=s}(i,{previous:Y,current:null}),h=u.current||(u.current={}),m=u.previous,v=this.declaredInputs[o],C=m[v];h[v]=new ma(C&&C.currentValue,s,m===Y),i[l]=s}Er.ngInherit=!0;const _i="__ngSimpleChanges__";function ul(i){return i[_i]||null}let wo;function js(i){wo=i}function Wt(i){return!!i.listen}const yi={createRenderer:(i,s)=>void 0!==wo?wo:"undefined"!=typeof document?document:void 0};function Vt(i){for(;Array.isArray(i);)i=i[0];return i}function Hs(i,s){return Vt(s[i])}function Dr(i,s){return Vt(s[i.index])}function cs(i,s){return i.data[s]}function Zn(i,s){const o=s[i];return nn(o)?o:o[0]}function fl(i){return 4==(4&i[2])}function pl(i){return 128==(128&i[2])}function vn(i,s){return null==s?null:i[s]}function va(i){i[18]=0}function ba(i,s){i[5]+=s;let o=i,l=i[3];for(;null!==l&&(1===s&&1===o[5]||-1===s&&0===o[5]);)l[5]+=s,o=l,l=l[3]}const Xe={lFrame:Vc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ca(){return Xe.bindingsEnabled}function we(){return Xe.lFrame.lView}function gt(){return Xe.lFrame.tView}function _l(i){return Xe.lFrame.contextLView=i,i[8]}function Kt(){let i=yl();for(;null!==i&&64===i.type;)i=i.parent;return i}function yl(){return Xe.lFrame.currentTNode}function nr(i,s){const o=Xe.lFrame;o.currentTNode=i,o.isParent=s}function Io(){return Xe.lFrame.isParent}function Ea(){Xe.lFrame.isParent=!1}function To(){return Xe.isInCheckNoChangesMode}function So(i){Xe.isInCheckNoChangesMode=i}function jr(){return Xe.lFrame.bindingIndex++}function Da(i,s){const o=Xe.lFrame;o.bindingIndex=o.bindingRootIndex=i,Ia(s)}function Ia(i){Xe.lFrame.currentDirectiveIndex=i}function Ta(i){const s=Xe.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function bl(){return Xe.lFrame.currentQueryIndex}function Ao(i){Xe.lFrame.currentQueryIndex=i}function Mo(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Lc(i,s,o){if(o&We.SkipSelf){let u=s,h=i;for(;!(u=u.parent,null!==u||o&We.Host||(u=Mo(h),null===u||(h=h[15],10&u.type))););if(null===u)return!1;s=u,i=h}const l=Xe.lFrame=pd();return l.currentTNode=s,l.lView=i,!0}function $s(i){const s=pd(),o=i[1];Xe.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function pd(){const i=Xe.lFrame,s=null===i?null:i.child;return null===s?Vc(i):s}function Vc(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function gd(){const i=Xe.lFrame;return Xe.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const md=gd;function Fi(){const i=gd();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Pn(){return Xe.lFrame.selectedIndex}function Ro(i){Xe.lFrame.selectedIndex=i}function dn(){const i=Xe.lFrame;return cs(i.tView,i.selectedIndex)}function Cl(i,s){for(let o=s.directiveStart,l=s.directiveEnd;o<l;o++){const h=i.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:C,ngAfterViewChecked:D,ngOnDestroy:M}=h;m&&(i.contentHooks||(i.contentHooks=[])).push(-o,m),v&&((i.contentHooks||(i.contentHooks=[])).push(o,v),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(o,v)),C&&(i.viewHooks||(i.viewHooks=[])).push(-o,C),D&&((i.viewHooks||(i.viewHooks=[])).push(o,D),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(o,D)),null!=M&&(i.destroyHooks||(i.destroyHooks=[])).push(o,M)}}function hs(i,s,o){Uc(i,s,3,o)}function Aa(i,s,o,l){(3&i[2])===o&&Uc(i,s,o,l)}function gn(i,s){let o=i[2];(3&o)===s&&(o&=2047,o+=1,i[2]=o)}function Uc(i,s,o,l){const h=null!=l?l:-1,m=s.length-1;let v=0;for(let C=void 0!==l?65535&i[18]:0;C<m;C++)if("number"==typeof s[C+1]){if(v=s[C],null!=l&&v>=l)break}else s[C]<0&&(i[18]+=65536),(v<h||-1==h)&&(ef(i,o,s,C),i[18]=(4294901760&i[18])+C+2),C++}function ef(i,s,o,l){const u=o[l]<0,h=o[l+1],v=i[u?-o[l]:o[l]];if(u){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{h.call(v)}finally{}}}else try{h.call(v)}finally{}}class Po{constructor(s,o,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function vd(i,s,o){const l=Wt(i);let u=0;for(;u<o.length;){const h=o[u];if("number"==typeof h){if(0!==h)break;u++;const m=o[u++],v=o[u++],C=o[u++];l?i.setAttribute(s,v,C,m):s.setAttributeNS(m,v,C)}else{const m=h,v=o[++u];Vi(m)?l&&i.setProperty(s,m,v):l?i.setAttribute(s,m,v):s.setAttribute(m,v),u++}}return u}function tf(i){return 3===i||4===i||6===i}function Vi(i){return 64===i.charCodeAt(0)}function El(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let l=0;l<s.length;l++){const u=s[l];"number"==typeof u?o=u:0===o||nf(i,o,u,null,-1===o||2===o?s[++l]:null)}}return i}function nf(i,s,o,l,u){let h=0,m=i.length;if(-1===s)m=-1;else for(;h<i.length;){const v=i[h++];if("number"==typeof v){if(v===s){m=-1;break}if(v>s){m=h-1;break}}}for(;h<i.length;){const v=i[h];if("number"==typeof v)break;if(v===o){if(null===l)return void(null!==u&&(i[h+1]=u));if(l===i[h+1])return void(i[h+2]=u)}h++,null!==l&&h++,null!==u&&h++}-1!==m&&(i.splice(m,0,s),h=m+1),i.splice(h++,0,o),null!==l&&i.splice(h++,0,l),null!==u&&i.splice(h++,0,u)}function $c(i){return-1!==i}function ps(i){return 32767&i}function Ir(i,s){let o=function(i){return i>>16}(i),l=s;for(;o>0;)l=l[15],o--;return l}let Ma=!0;function ko(i){const s=Ma;return Ma=i,s}let Ed=0;function Ra(i,s){const o=mn(i,s);if(-1!==o)return o;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,Gs(l.data,i),Gs(s,null),Gs(l.blueprint,null));const u=je(i,s),h=i.injectorIndex;if($c(u)){const m=ps(u),v=Ir(u,s),C=v[1].data;for(let D=0;D<8;D++)s[h+D]=v[m+D]|C[m+D]}return s[h+8]=u,h}function Gs(i,s){i.push(0,0,0,0,0,0,0,0,s)}function mn(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function je(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,l=null,u=s;for(;null!==u;){const h=u[1],m=h.type;if(l=2===m?h.declTNode:1===m?u[6]:null,null===l)return-1;if(o++,u=u[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function lt(i,s,o){!function(i,s,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(Pe)&&(l=o[Pe]),null==l&&(l=o[Pe]=Ed++);const u=255&l;s.data[i+(u>>5)]|=1<<u}(i,s,o)}function ir(i,s,o){if(o&We.Optional)return i;Rt(s,"NodeInjector")}function Bi(i,s,o,l){if(o&We.Optional&&void 0===l&&(l=null),0==(o&(We.Self|We.Host))){const u=i[9],h=ur(void 0);try{return u?u.get(s,l,o&We.Optional):Un(s,l,o&We.Optional)}finally{ur(h)}}return ir(l,s,o)}function Oa(i,s,o,l=We.Default,u){if(null!==i){const h=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Pe)?i[Pe]:void 0;return"number"==typeof s?s>=0?255&s:Dl:s}(o);if("function"==typeof h){if(!Lc(s,i,l))return l&We.Host?ir(u,o,l):Bi(s,o,l,u);try{const m=h(l);if(null!=m||l&We.Optional)return m;Rt(o)}finally{md()}}else if("number"==typeof h){let m=null,v=mn(i,s),C=-1,D=l&We.Host?s[16][6]:null;for((-1===v||l&We.SkipSelf)&&(C=-1===v?je(i,s):s[v+8],-1!==C&&Pa(l,!1)?(m=s[1],v=ps(C),s=Ir(C,s)):v=-1);-1!==v;){const M=s[1];if(Il(h,v,M.data)){const x=hg(v,s,o,m,l,D);if(x!==Qt)return x}C=s[v+8],-1!==C&&Pa(l,s[1].data[v+8]===D)&&Il(h,v,s)?(m=M,v=ps(C),s=Ir(C,s)):v=-1}}}return Bi(s,o,l,u)}const Qt={};function Dl(){return new Ui(Kt(),we())}function hg(i,s,o,l,u,h){const m=s[1],v=m.data[i+8],M=gs(v,m,o,null==l?da(v)&&Ma:l!=m&&0!=(3&v.type),u&We.Host&&h===v);return null!==M?an(s,m,M,v):Qt}function gs(i,s,o,l,u){const h=i.providerIndexes,m=s.data,v=1048575&h,C=i.directiveStart,M=h>>20,N=u?v+M:i.directiveEnd;for(let $=l?v:v+M;$<N;$++){const K=m[$];if($<C&&o===K||$>=C&&K.type===o)return $}if(u){const $=m[C];if($&&Qr($)&&$.type===o)return C}return null}function an(i,s,o,l){let u=i[o];const h=s.data;if(function(i){return i instanceof Po}(u)){const m=u;m.resolving&&function(i,s){throw new ye("200",`Circular dependency in DI detected for ${i}`)}(ve(h[o]));const v=ko(m.canSeeViewProviders);m.resolving=!0;const C=m.injectImpl?ur(m.injectImpl):null;Lc(i,l,We.Default);try{u=i[o]=m.factory(void 0,h,i,l),s.firstCreatePass&&o>=l.directiveStart&&function(i,s,o){const{ngOnChanges:l,ngOnInit:u,ngDoCheck:h}=s.type.prototype;if(l){const m=_a(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(i,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,m)}u&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-i,u),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(i,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,h))}(o,h[o],s)}finally{null!==C&&ur(C),ko(v),m.resolving=!1,md()}}return u}function Il(i,s,o){return!!(o[s+(i>>5)]&1<<i)}function Pa(i,s){return!(i&We.Self||i&We.Host&&s)}class Ui{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,l){return Oa(this._tNode,this._lView,s,l,o)}}function Tl(i){return pn(()=>{const s=i.prototype.constructor,o=s[_e]||xa(s),l=Object.prototype;let u=Object.getPrototypeOf(i.prototype).constructor;for(;u&&u!==l;){const h=u[_e]||xa(u);if(h&&h!==o)return h;u=Object.getPrototypeOf(u)}return h=>new h})}function xa(i){return ce(i)?()=>{const s=xa(G(i));return s&&s()}:mi(i)}function wd(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const l=o.length;let u=0;for(;u<l;){const h=o[u];if(tf(h))break;if(0===h)u+=2;else if("number"==typeof h)for(u++;u<l&&"string"==typeof o[u];)u++;else{if(h===s)return o[u+1];u+=2}}}return null}(Kt(),i)}const ji="__parameters__";function $r(i,s,o){return pn(()=>{const l=function(i){return function(...o){if(i){const l=i(...o);for(const u in l)this[u]=l[u]}}}(s);function u(...h){if(this instanceof u)return l.apply(this,h),this;const m=new u(...h);return v.annotation=m,v;function v(C,D,M){const x=C.hasOwnProperty(ji)?C[ji]:Object.defineProperty(C,ji,{value:[]})[ji];for(;x.length<=M;)x.push(null);return(x[M]=x[M]||[]).push(m),C}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=i,u.annotationCls=u,u})}class sn{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Ht({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Id=new sn("AnalyzeForEntryComponents"),$i=Function;function Sr(i,s){void 0===s&&(s=i);for(let o=0;o<i.length;o++){let l=i[o];Array.isArray(l)?(s===i&&(s=i.slice(0,o)),Sr(l,s)):s!==i&&s.push(l)}return s}function bi(i,s){i.forEach(o=>Array.isArray(o)?bi(o,s):s(o))}function Na(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function Wr(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Gi(i,s){const o=[];for(let l=0;l<i;l++)o.push(s);return o}function kn(i,s,o){let l=No(i,s);return l>=0?i[1|l]=o:(l=~l,function(i,s,o,l){let u=i.length;if(u==s)i.push(o,l);else if(1===u)i.push(l,i[0]),i[0]=o;else{for(u--,i.push(i[u-1],i[u]);u>s;)i[u]=i[u-2],u--;i[s]=o,i[s+1]=l}}(i,l,s,o)),l}function Nn(i,s){const o=No(i,s);if(o>=0)return i[1|o]}function No(i,s){return function(i,s,o){let l=0,u=i.length>>o;for(;u!==l;){const h=l+(u-l>>1),m=i[h<<o];if(s===m)return h<<o;m>s?u=h:l=h+1}return~(u<<o)}(i,s,1)}const Dt={},zt="__NG_DI_FLAG__",wn="ngTempTokenPath",Fn=/\n/gm,Ys="__source",ni=X({provide:String,useValue:X});let ri;function rt(i){const s=ri;return ri=i,s}function of(i,s=We.Default){if(void 0===ri)throw new Error("inject() must be called from an injection context");return null===ri?Un(i,void 0,s):ri.get(i,s&We.Optional?null:void 0,s)}function on(i,s=We.Default){return(St||of)(G(i),s)}const af=on;function Fa(i){const s=[];for(let o=0;o<i.length;o++){const l=G(i[o]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let u,h=We.Default;for(let m=0;m<l.length;m++){const v=l[m],C=lf(v);"number"==typeof C?-1===C?u=v.token:h|=C:u=v}s.push(on(u,h))}else s.push(on(l))}return s}function La(i,s){return i[zt]=s,i.prototype[zt]=s,i}function lf(i){return i[zt]}function ii(i,s,o,l){const u=i[wn];throw s[Ys]&&u.unshift(s[Ys]),i.message=function(i,s,o,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let u=Q(s);if(Array.isArray(s))u=s.map(Q).join(" -> ");else if("object"==typeof s){let h=[];for(let m in s)if(s.hasOwnProperty(m)){let v=s[m];h.push(m+":"+("string"==typeof v?JSON.stringify(v):Q(v)))}u=`{${h.join(", ")}}`}return`${o}${l?"("+l+")":""}[${u}]: ${i.replace(Fn,"\n  ")}`}("\n"+i.message,u,o,l),i.ngTokenPath=u,i[wn]=null,i}const Fo=La($r("Inject",i=>({token:i})),-1),Lo=La($r("Optional"),8),Hn=La($r("SkipSelf"),4);let kl;function Ks(i){var s;return(null===(s=function(){if(void 0===kl&&(kl=null,et.trustedTypes))try{kl=et.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return kl}())||void 0===s?void 0:s.createHTML(i))||i}class Ba{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class j_ extends Ba{getTypeName(){return"HTML"}}class H_ extends Ba{getTypeName(){return"Style"}}class Od extends Ba{getTypeName(){return"Script"}}class $_ extends Ba{getTypeName(){return"URL"}}class G_ extends Ba{getTypeName(){return"ResourceURL"}}function Qs(i){return i instanceof Ba?i.changingThisBreaksApplicationSecurity:i}function Ll(i,s){const o=Pd(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}function Pd(i){return i instanceof Ba&&i.getTypeName()||null}function Cg(i){return new j_(i)}function hf(i){return new H_(i)}function ff(i){return new Od(i)}function Js(i){return new $_(i)}function nu(i){return new G_(i)}class Eg{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(Ks(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class W_{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const l=this.inertDocument.createElement("body");o.appendChild(l)}}getInertBodyElement(s){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Ks(s),o;const l=this.inertDocument.createElement("body");return l.innerHTML=Ks(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const o=s.attributes;for(let u=o.length-1;0<u;u--){const m=o.item(u).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&s.removeAttribute(m)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const wg=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,kd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Bo(i){return(i=String(i)).match(wg)||i.match(kd)?i:"unsafe:"+i}function Ei(i){const s={};for(const o of i.split(","))s[o]=!0;return s}function Ua(...i){const s={};for(const o of i)for(const l in o)o.hasOwnProperty(l)&&(s[l]=!0);return s}const Bl=Ei("area,br,col,hr,img,wbr"),Ig=Ei("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ul=Ei("rp,rt"),pf=Ua(Bl,Ua(Ig,Ei("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ua(Ul,Ei("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ua(Ul,Ig)),ru=Ei("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),si=Ei("srcset"),iu=Ua(ru,si,Ei("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ei("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Y_=Ei("script,style,template");class su{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,l=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?l=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,l&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let u=this.checkClobberedElement(o,o.nextSibling);if(u){o=u;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!pf.hasOwnProperty(o))return this.sanitizedSomething=!0,!Y_.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const l=s.attributes;for(let u=0;u<l.length;u++){const h=l.item(u),m=h.name,v=m.toLowerCase();if(!iu.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let C=h.value;ru[v]&&(C=Bo(C)),si[v]&&(i=C,C=(i=String(i)).split(",").map(s=>Bo(s.trim())).join(", ")),this.buf.push(" ",m,'="',Fd(C),'"')}var i;return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();pf.hasOwnProperty(o)&&!Bl.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(Fd(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const Z_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,q_=/([^\#-~ |!])/g;function Fd(i){return i.replace(/&/g,"&amp;").replace(Z_,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(q_,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ou;function au(i,s){let o=null;try{ou=ou||function(i){const s=new W_(i);return function(){try{return!!(new window.DOMParser).parseFromString(Ks(""),"text/html")}catch(i){return!1}}()?new Eg(s):s}(i);let l=s?String(s):"";o=ou.getInertBodyElement(l);let u=5,h=l;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,l=h,h=o.innerHTML,o=ou.getInertBodyElement(l)}while(l!==h);return Ks((new su).sanitizeChildren(lu(o)||o))}finally{if(o){const l=lu(o)||o;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function lu(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Dn=(()=>((Dn=Dn||{})[Dn.NONE=0]="NONE",Dn[Dn.HTML=1]="HTML",Dn[Dn.STYLE=2]="STYLE",Dn[Dn.SCRIPT=3]="SCRIPT",Dn[Dn.URL=4]="URL",Dn[Dn.RESOURCE_URL=5]="RESOURCE_URL",Dn))();function mf(i){const s=function(){const i=we();return i&&i[12]}();return s?s.sanitize(Dn.URL,i)||"":Ll(i,"URL")?Qs(i):Bo(se(i))}const ja="__ngContext__";function sr(i,s){i[ja]=s}function Cf(i){const s=function(i){return i[ja]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function Wi(i){return i.ngOriginalError}function X_(i,...s){i.error(...s)}class jo{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s),l=this._findContext(s),u=(i=s)&&i.ngErrorLogger||X_;var i;u(this._console,"ERROR",s),o&&u(this._console,"ORIGINAL ERROR",o),l&&u(this._console,"ERROR CONTEXT",l)}_findContext(s){return s?s.ngDebugContext||this._findContext(Wi(s)):null}_findOriginalError(s){let o=s&&Wi(s);for(;o&&Wi(o);)o=Wi(o);return o||null}}const Hd=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(et))();function zi(i){return i instanceof Function?i():i}var bs=(()=>((bs=bs||{})[bs.Important=1]="Important",bs[bs.DashCase=2]="DashCase",bs))();function y(i,s){return undefined(i,s)}function b(i){const s=i[3];return Yn(s)?s[3]:s}function W(i){return Re(i[13])}function de(i){return Re(i[4])}function Re(i){for(;null!==i&&!Yn(i);)i=i[4];return i}function Be(i,s,o,l,u){if(null!=l){let h,m=!1;Yn(l)?h=l:nn(l)&&(m=!0,l=l[0]);const v=Vt(l);0===i&&null!==o?null==u?gC(s,o,v):Zl(s,o,v,u||null,!0):1===i&&null!==o?Zl(s,o,v,u||null,!0):2===i?function(i,s,o){const l=Lg(i,s);l&&function(i,s,o,l){Wt(i)?i.removeChild(s,o,l):s.removeChild(o)}(i,l,s,o)}(s,v,m):3===i&&s.destroyNode(v),null!=h&&function(i,s,o,l,u){const h=o[7];h!==Vt(o)&&Be(s,i,l,h,u);for(let v=10;v<o.length;v++){const C=o[v];pu(C[1],C,i,s,l,h)}}(s,i,h,o,u)}}function Cs(i,s,o){return Wt(i)?i.createElement(s,o):null===o?i.createElement(s):i.createElementNS(o,s)}function hu(i,s){const o=i[9],l=o.indexOf(s),u=s[3];1024&s[2]&&(s[2]&=-1025,ba(u,-1)),o.splice(l,1)}function Yl(i,s){if(i.length<=10)return;const o=10+s,l=i[o];if(l){const u=l[17];null!==u&&u!==i&&hu(u,l),s>0&&(i[o-1][4]=l[4]);const h=Wr(i,10+s);!function(i,s){pu(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const m=h[19];null!==m&&m.detachView(h[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function Pf(i,s){if(!(256&s[2])){const o=s[11];Wt(o)&&o.destroyNode&&pu(i,s,o,3,null,null),function(i){let s=i[13];if(!s)return $o(i[1],i);for(;s;){let o=null;if(nn(s))o=s[13];else{const l=s[10];l&&(o=l)}if(!o){for(;s&&!s[4]&&s!==i;)nn(s)&&$o(s[1],s),s=s[3];null===s&&(s=i),nn(s)&&$o(s[1],s),o=s&&s[4]}s=o}}(s)}}function $o(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let l=0;l<o.length;l+=2){const u=s[o[l]];if(!(u instanceof Po)){const h=o[l+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const v=u[h[m]],C=h[m+1];try{C.call(v)}finally{}}else try{h.call(u)}finally{}}}}(i,s),function(i,s){const o=i.cleanup,l=s[7];let u=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+1],v="function"==typeof m?m(s):Vt(s[m]),C=l[u=o[h+2]],D=o[h+3];"boolean"==typeof D?v.removeEventListener(o[h],C,D):D>=0?l[u=D]():l[u=-D].unsubscribe(),h+=2}else{const m=l[u=o[h+1]];o[h].call(m)}if(null!==l){for(let h=u+1;h<l.length;h++)l[h]();s[7]=null}}(i,s),1===s[1].type&&Wt(s[11])&&s[11].destroy();const o=s[17];if(null!==o&&Yn(s[3])){o!==s[3]&&hu(o,s);const l=s[19];null!==l&&l.detachView(i)}}}function fC(i,s,o){return function(i,s,o){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return o[0];if(2&l.flags){const u=i.data[l.directiveStart].encapsulation;if(u===ke.None||u===ke.Emulated)return null}return Dr(l,o)}(i,s.parent,o)}function Zl(i,s,o,l,u){Wt(i)?i.insertBefore(s,o,l,u):s.insertBefore(o,l,u)}function gC(i,s,o){Wt(i)?i.appendChild(s,o):s.appendChild(o)}function mC(i,s,o,l,u){null!==l?Zl(i,s,o,l,u):gC(i,s,o)}function Lg(i,s){return Wt(i)?i.parentNode(s):s.parentNode}function Bg(i,s,o){return fu(i,s,o)}let fu=function(i,s,o){return 40&i.type?Dr(i,o):null};function kf(i,s,o,l){const u=fC(i,l,s),h=s[11],v=Bg(l.parent||s[6],l,s);if(null!=u)if(Array.isArray(o))for(let C=0;C<o.length;C++)mC(h,u,o[C],v,!1);else mC(h,u,o,v,!1)}function jg(i,s){if(null!==s){const o=s.type;if(3&o)return Dr(s,i);if(4&o)return oy(-1,i[s.index]);if(8&o){const l=s.child;if(null!==l)return jg(i,l);{const u=i[s.index];return Yn(u)?oy(-1,u):Vt(u)}}if(32&o)return y(s,i)()||Vt(i[s.index]);{const l=sy(i,s);return null!==l?Array.isArray(l)?l[0]:jg(b(i[16]),l):jg(i,s.next)}}return null}function sy(i,s){return null!==s?i[16][6].projection[s.projection]:null}function oy(i,s){const o=10+i+1;if(o<s.length){const l=s[o],u=l[1].firstChild;if(null!==u)return jg(l,u)}return s[7]}function Hg(i,s,o,l,u,h,m){for(;null!=o;){const v=l[o.index],C=o.type;if(m&&0===s&&(v&&sr(Vt(v),l),o.flags|=4),64!=(64&o.flags))if(8&C)Hg(i,s,o.child,l,u,h,!1),Be(s,i,u,v,h);else if(32&C){const D=y(o,l);let M;for(;M=D();)Be(s,i,u,M,h);Be(s,i,u,v,h)}else 16&C?ql(i,s,l,o,u,h):Be(s,i,u,v,h);o=m?o.projectionNext:o.next}}function pu(i,s,o,l,u,h){Hg(o,l,i.firstChild,s,u,h,!1)}function ql(i,s,o,l,u,h){const m=o[16],C=m[6].projection[l.projection];if(Array.isArray(C))for(let D=0;D<C.length;D++)Be(s,i,u,C[D],h);else Hg(i,s,C,m[3],u,h,!0)}function vC(i,s,o){Wt(i)?i.setAttribute(s,"style",o):s.style.cssText=o}function ly(i,s,o){Wt(i)?""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o):s.className=o}function cy(i,s,o){let l=i.length;for(;;){const u=i.indexOf(s,o);if(-1===u)return u;if(0===u||i.charCodeAt(u-1)<=32){const h=s.length;if(u+h===l||i.charCodeAt(u+h)<=32)return u}o=u+1}}const bC="ng-template";function BD(i,s,o){let l=0;for(;l<i.length;){let u=i[l++];if(o&&"class"===u){if(u=i[l],-1!==cy(u.toLowerCase(),s,0))return!0}else if(1===u){for(;l<i.length&&"string"==typeof(u=i[l++]);)if(u.toLowerCase()===s)return!0;return!1}}return!1}function uy(i){return 4===i.type&&i.value!==bC}function UD(i,s,o){return s===(4!==i.type||o?i.value:bC)}function jD(i,s,o){let l=4;const u=i.attrs||[],h=function(i){for(let s=0;s<i.length;s++)if(tf(i[s]))return s;return i.length}(u);let m=!1;for(let v=0;v<s.length;v++){const C=s[v];if("number"!=typeof C){if(!m)if(4&l){if(l=2|1&l,""!==C&&!UD(i,C,o)||""===C&&1===s.length){if(Xs(l))return!1;m=!0}}else{const D=8&l?C:s[++v];if(8&l&&null!==i.attrs){if(!BD(i.attrs,D,o)){if(Xs(l))return!1;m=!0}continue}const x=dy(8&l?"class":C,u,uy(i),o);if(-1===x){if(Xs(l))return!1;m=!0;continue}if(""!==D){let N;N=x>h?"":u[x+1].toLowerCase();const $=8&l?N:null;if($&&-1!==cy($,D,0)||2&l&&D!==N){if(Xs(l))return!1;m=!0}}}}else{if(!m&&!Xs(l)&&!Xs(C))return!1;if(m&&Xs(C))continue;m=!1,l=C|1&l}}return Xs(l)||m}function Xs(i){return 0==(1&i)}function dy(i,s,o,l){if(null===s)return-1;let u=0;if(l||!o){let h=!1;for(;u<s.length;){const m=s[u];if(m===i)return u;if(3===m||6===m)h=!0;else{if(1===m||2===m){let v=s[++u];for(;"string"==typeof v;)v=s[++u];continue}if(4===m)break;if(0===m){u+=4;continue}}u+=h?1:2}return-1}return function(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const l=i[o];if("number"==typeof l)return-1;if(l===s)return o;o++}return-1}(s,i)}function CC(i,s,o=!1){for(let l=0;l<s.length;l++)if(jD(i,s[l],o))return!0;return!1}function zM(i,s){e:for(let o=0;o<s.length;o++){const l=s[o];if(i.length===l.length){for(let u=0;u<i.length;u++)if(i[u]!==l[u])continue e;return!0}}return!1}function wC(i,s){return i?":not("+s.trim()+")":s}function GD(i){let s=i[0],o=1,l=2,u="",h=!1;for(;o<i.length;){let m=i[o];if("string"==typeof m)if(2&l){const v=i[++o];u+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&l?u+="."+m:4&l&&(u+=" "+m);else""!==u&&!Xs(m)&&(s+=wC(h,u),u=""),l=m,h=h||!Xs(l);o++}return""!==u&&(s+=wC(h,u)),s}const ht={};function Wg(i){DC(gt(),we(),Pn()+i,To())}function DC(i,s,o,l){if(!l)if(3==(3&s[2])){const h=i.preOrderCheckHooks;null!==h&&hs(s,h,o)}else{const h=i.preOrderHooks;null!==h&&Aa(s,h,0,o)}Ro(o)}function zg(i,s){return i<<17|s<<2}function eo(i){return i>>17&32767}function hy(i){return 2|i}function Ga(i){return(131068&i)>>2}function fy(i,s){return-131069&i|s<<2}function Zi(i){return 1|i}function MC(i,s){const o=i.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const u=o[l],h=o[l+1];if(-1!==h){const m=i.data[h];Ao(u),m.contentQueries(2,s[h],h)}}}function gu(i,s,o,l,u,h,m,v,C,D){const M=s.blueprint.slice();return M[0]=u,M[2]=140|l,va(M),M[3]=M[15]=i,M[8]=o,M[10]=m||i&&i[10],M[11]=v||i&&i[11],M[12]=C||i&&i[12]||null,M[9]=D||i&&i[9]||null,M[6]=h,M[16]=2==s.type?i[16]:M,M}function za(i,s,o,l,u){let h=i.data[s];if(null===h)h=function(i,s,o,l,u){const h=yl(),m=Io(),C=i.data[s]=function(i,s,o,l,u,h){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,s,l,u);return null===i.firstChild&&(i.firstChild=C),null!==h&&(m?null==h.child&&null!==C.parent&&(h.child=C):null===h.next&&(h.next=C)),C}(i,s,o,l,u),Xe.lFrame.inI18n&&(h.flags|=64);else if(64&h.type){h.type=o,h.value=l,h.attrs=u;const m=function(){const i=Xe.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return nr(h,!0),h}function qd(i,s,o,l){if(0===o)return-1;const u=s.length;for(let h=0;h<o;h++)s.push(l),i.blueprint.push(l),i.data.push(null);return u}function Ya(i,s,o){$s(s);try{const l=i.viewQuery;null!==l&&nm(1,l,o);const u=i.template;null!==u&&Qd(i,s,u,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&MC(i,s),i.staticViewQueries&&nm(2,i.viewQuery,o);const h=i.components;null!==h&&function(i,s){for(let o=0;o<s.length;o++)dI(i,s[o])}(s,h)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,Fi()}}function Kd(i,s,o,l){const u=s[2];if(256==(256&u))return;$s(s);const h=To();try{va(s),function(i){Xe.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&Qd(i,s,o,2,l);const m=3==(3&u);if(!h)if(m){const D=i.preOrderCheckHooks;null!==D&&hs(s,D,null)}else{const D=i.preOrderHooks;null!==D&&Aa(s,D,0,null),gn(s,0)}if(function(i){for(let s=W(i);null!==s;s=de(s)){if(!s[2])continue;const o=s[9];for(let l=0;l<o.length;l++){const u=o[l],h=u[3];0==(1024&u[2])&&ba(h,1),u[2]|=1024}}}(s),function(i){for(let s=W(i);null!==s;s=de(s))for(let o=10;o<s.length;o++){const l=s[o],u=l[1];pl(l)&&Kd(u,l,u.template,l[8])}}(s),null!==i.contentQueries&&MC(i,s),!h)if(m){const D=i.contentCheckHooks;null!==D&&hs(s,D)}else{const D=i.contentHooks;null!==D&&Aa(s,D,1),gn(s,1)}!function(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const u=o[l];if(u<0)Ro(~u);else{const h=u,m=o[++l],v=o[++l];Da(m,h),v(2,s[h])}}}finally{Ro(-1)}}(i,s);const v=i.components;null!==v&&function(i,s){for(let o=0;o<s.length;o++)My(i,s[o])}(s,v);const C=i.viewQuery;if(null!==C&&nm(2,C,l),!h)if(m){const D=i.viewCheckHooks;null!==D&&hs(s,D)}else{const D=i.viewHooks;null!==D&&Aa(s,D,2),gn(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),h||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,ba(s[3],-1))}finally{Fi()}}function rI(i,s,o,l){const u=s[10],h=!To(),m=fl(s);try{h&&!m&&u.begin&&u.begin(),m&&Ya(i,s,l),Kd(i,s,o,l)}finally{h&&!m&&u.end&&u.end()}}function Qd(i,s,o,l,u){const h=Pn(),m=2&l;try{Ro(-1),m&&s.length>20&&DC(i,s,20,To()),o(l,u)}finally{Ro(h)}}function Kg(i,s,o){!Ca()||(function(i,s,o,l){const u=o.directiveStart,h=o.directiveEnd;i.firstCreatePass||Ra(o,s),sr(l,s);const m=o.initialInputs;for(let v=u;v<h;v++){const C=i.data[v],D=Qr(C);D&&uI(s,o,C);const M=an(s,i,v,o);sr(M,s),null!==m&&Jd(0,v-u,M,C,0,m),D&&(Zn(o.index,s)[8]=M)}}(i,s,o,Dr(o,s)),128==(128&o.flags)&&function(i,s,o){const l=o.directiveStart,u=o.directiveEnd,m=o.index,v=Xe.lFrame.currentDirectiveIndex;try{Ro(m);for(let C=l;C<u;C++){const D=i.data[C],M=s[C];Ia(C),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&UC(D,M)}}finally{Ro(-1),Ia(v)}}(i,s,o))}function Qg(i,s,o=Dr){const l=s.localNames;if(null!==l){let u=s.index+1;for(let h=0;h<l.length;h+=2){const m=l[h+1],v=-1===m?o(s,i):i[m];i[u++]=v}}}function vy(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Lf(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Lf(i,s,o,l,u,h,m,v,C,D){const M=20+l,x=M+u,N=function(i,s){const o=[];for(let l=0;l<s;l++)o.push(l<i?null:ht);return o}(M,x),$="function"==typeof D?D():D;return N[1]={type:i,blueprint:N,template:o,queries:null,viewQuery:v,declTNode:s,data:N.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:x,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:C,consts:$,incompleteFirstPass:!1}}function Cy(i,s,o,l){const u=Py(s);null===o?u.push(l):(u.push(o),i.firstCreatePass&&xy(i).push(l,u.length-1))}function Xg(i,s,o){for(let l in i)if(i.hasOwnProperty(l)){const u=i[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(s,u):o[l]=[s,u]}return o}function qi(i,s,o,l,u,h,m,v){const C=Dr(s,o);let M,D=s.inputs;!v&&null!=D&&(M=D[l])?(Ny(i,o,M,l,u),da(s)&&function(i,s){const o=Zn(s,i);16&o[2]||(o[2]|=64)}(o,s.index)):3&s.type&&(l=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),u=null!=m?m(u,s.value||"",l):u,Wt(h)?h.setProperty(C,l,u):Vi(l)||(C.setProperty?C.setProperty(l,u):C[l]=u))}function Dy(i,s,o,l){let u=!1;if(Ca()){const h=function(i,s,o){const l=i.directiveRegistry;let u=null;if(l)for(let h=0;h<l.length;h++){const m=l[h];CC(o,m.selectors,!1)&&(u||(u=[]),lt(Ra(o,s),i,m.type),Qr(m)?(jC(i,o),u.unshift(m)):u.push(m))}return u}(i,s,o),m=null===l?null:{"":-1};if(null!==h){u=!0,Iy(o,i.data.length,h.length);for(let M=0;M<h.length;M++){const x=h[M];x.providersResolver&&x.providersResolver(x)}let v=!1,C=!1,D=qd(i,s,h.length,null);for(let M=0;M<h.length;M++){const x=h[M];o.mergedAttrs=El(o.mergedAttrs,x.hostAttrs),Ty(i,o,s,D,x),cI(D,x,m),null!==x.contentQueries&&(o.flags|=8),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(o.flags|=128);const N=x.type.prototype;!v&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(o.index),v=!0),!C&&(N.ngOnChanges||N.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(o.index),C=!0),D++}!function(i,s){const l=s.directiveEnd,u=i.data,h=s.attrs,m=[];let v=null,C=null;for(let D=s.directiveStart;D<l;D++){const M=u[D],x=M.inputs,N=null===h||uy(s)?null:Ay(x,h);m.push(N),v=Xg(x,D,v),C=Xg(M.outputs,D,C)}null!==v&&(v.hasOwnProperty("class")&&(s.flags|=16),v.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=m,s.inputs=v,s.outputs=C}(i,o)}m&&function(i,s,o){if(s){const l=i.localNames=[];for(let u=0;u<s.length;u+=2){const h=o[s[u+1]];if(null==h)throw new ye("301",`Export of name '${s[u+1]}' not found!`);l.push(s[u],h)}}}(o,l,m)}return o.mergedAttrs=El(o.mergedAttrs,o.attrs),u}function FC(i,s,o,l,u,h){const m=h.hostBindings;if(m){let v=i.hostBindingOpCodes;null===v&&(v=i.hostBindingOpCodes=[]);const C=~s.index;(function(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(v)!=C&&v.push(C),v.push(l,u,m)}}function UC(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function jC(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function cI(i,s,o){if(o){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)o[s.exportAs[l]]=i;Qr(s)&&(o[""]=i)}}function Iy(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}function Ty(i,s,o,l,u){i.data[l]=u;const h=u.factory||(u.factory=mi(u.type)),m=new Po(h,Qr(u),null);i.blueprint[l]=m,o[l]=m,FC(i,s,0,l,qd(i,o,u.hostVars,ht),u)}function uI(i,s,o){const l=Dr(s,i),u=vy(o),h=i[10],m=em(i,gu(i,u,null,o.onPush?64:16,l,s,h,h.createRenderer(l,o),null,null));i[s.index]=m}function Yo(i,s,o,l,u,h){const m=Dr(i,s);!function(i,s,o,l,u,h,m){if(null==h)Wt(i)?i.removeAttribute(s,u,o):s.removeAttribute(u);else{const v=null==m?se(h):m(h,l||"",u);Wt(i)?i.setAttribute(s,u,v,o):o?s.setAttributeNS(o,u,v):s.setAttribute(u,v)}}(s[11],m,h,i.value,o,l,u)}function Jd(i,s,o,l,u,h){const m=h[s];if(null!==m){const v=l.setInput;for(let C=0;C<m.length;){const D=m[C++],M=m[C++],x=m[C++];null!==v?l.setInput(o,x,D,M):o[M]=x}}}function Ay(i,s){let o=null,l=0;for(;l<s.length;){const u=s[l];if(0!==u)if(5!==u){if("number"==typeof u)break;i.hasOwnProperty(u)&&(null===o&&(o=[]),o.push(u,i[u],s[l+1])),l+=2}else l+=2;else l+=4}return o}function HC(i,s,o,l){return new Array(i,!0,!1,s,null,0,l,o,null,null)}function My(i,s){const o=Zn(s,i);if(pl(o)){const l=o[1];80&o[2]?Kd(l,o,l.template,o[8]):o[5]>0&&Ry(o)}}function Ry(i){for(let l=W(i);null!==l;l=de(l))for(let u=10;u<l.length;u++){const h=l[u];if(1024&h[2]){const m=h[1];Kd(m,h,m.template,h[8])}else h[5]>0&&Ry(h)}const o=i[1].components;if(null!==o)for(let l=0;l<o.length;l++){const u=Zn(o[l],i);pl(u)&&u[5]>0&&Ry(u)}}function dI(i,s){const o=Zn(s,i),l=o[1];(function(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(l,o),Ya(l,o,o[8])}function em(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Uf(i){for(;i;){i[2]|=64;const s=b(i);if(Jr(i)&&!s)return i;i=s}return null}function tm(i,s,o){const l=s[10];l.begin&&l.begin();try{Kd(i,s,i.template,o)}catch(u){throw jf(s,u),u}finally{l.end&&l.end()}}function GC(i){!function(i){for(let s=0;s<i.components.length;s++){const o=i.components[s],l=Cf(o),u=l[1];rI(u,l,u.template,o)}}(i[8])}function nm(i,s,o){Ao(0),s(i,o)}const pI=(()=>Promise.resolve(null))();function Py(i){return i[7]||(i[7]=[])}function xy(i){return i.cleanup||(i.cleanup=[])}function ky(i,s,o){return(null===i||Qr(i))&&(o=function(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(o[s.index])),o[11]}function jf(i,s){const o=i[9],l=o?o.get(jo,null):null;l&&l.handleError(s)}function Ny(i,s,o,l,u){for(let h=0;h<o.length;){const m=o[h++],v=o[h++],C=s[m],D=i.data[m];null!==D.setInput?D.setInput(C,u,l,v):C[v]=u}}function Zo(i,s,o){const l=Hs(s,i);!function(i,s,o){Wt(i)?i.setValue(s,o):s.textContent=o}(i[11],l,o)}function jt(i,s,o){let l=o?i.styles:null,u=o?i.classes:null,h=0;if(null!==s)for(let m=0;m<s.length;m++){const v=s[m];"number"==typeof v?h=v:1==h?u=J(u,v):2==h&&(l=J(l,v+": "+s[++m]+";"))}o?i.styles=l:i.stylesWithoutHost=l,o?i.classes=u:i.classesWithoutHost=u}const Zt=new sn("INJECTOR",-1);class rm{get(s,o=Dt){if(o===Dt){const l=new Error(`NullInjectorError: No provider for ${Q(s)}!`);throw l.name="NullInjectorError",l}return o}}const Hf=new sn("Set Injector scope."),Za={},YC={};let hn;function It(){return void 0===hn&&(hn=new rm),hn}function ZC(i,s=null,o=null,l){return new Fy(i,o,s||It(),l)}class Fy{constructor(s,o,l,u=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];o&&bi(o,v=>this.processProvider(v,s,o)),bi([s],v=>this.processInjectorType(v,[],h)),this.records.set(Zt,_u(void 0,this));const m=this.records.get(Hf);this.scope=null!=m?m.value:null,this.source=u||("object"==typeof s?null:Q(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,o=Dt,l=We.Default){this.assertNotDestroyed();const u=rt(this),h=ur(void 0);try{if(!(l&We.SkipSelf)){let v=this.records.get(s);if(void 0===v){const C=("function"==typeof(i=s)||"object"==typeof i&&i instanceof sn)&&Rn(s);v=C&&this.injectableDefInScope(C)?_u(Ii(s),Za):null,this.records.set(s,v)}if(null!=v)return this.hydrate(s,v)}return(l&We.Self?It():this.parent).get(s,o=l&We.Optional&&o===Dt?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[wn]=m[wn]||[]).unshift(Q(s)),u)throw m;return ii(m,s,"R3InjectorError",this.source)}throw m}finally{ur(h),rt(u)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,u)=>s.push(Q(u))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,o,l){if(!(s=G(s)))return!1;let u=Zr(s);const h=null==u&&s.ngModule||void 0,m=void 0===h?s:h,v=-1!==l.indexOf(m);if(void 0!==h&&(u=Zr(h)),null==u)return!1;if(null!=u.imports&&!v){let M;l.push(m);try{bi(u.imports,x=>{this.processInjectorType(x,o,l)&&(void 0===M&&(M=[]),M.push(x))})}finally{}if(void 0!==M)for(let x=0;x<M.length;x++){const{ngModule:N,providers:$}=M[x];bi($,K=>this.processProvider(K,N,$||H))}}this.injectorDefTypes.add(m);const C=mi(m)||(()=>new m);this.records.set(m,_u(C,Za));const D=u.providers;if(null!=D&&!v){const M=s;bi(D,x=>this.processProvider(x,M,D))}return void 0!==h&&void 0!==s.providers}processProvider(s,o,l){let u=Xd(s=G(s))?s:G(s&&s.provide);const h=tc(i=s)?_u(void 0,i.useValue):_u(qC(i),Za);var i;if(Xd(s)||!0!==s.multi)this.records.get(u);else{let m=this.records.get(u);m||(m=_u(void 0,Za,!0),m.factory=()=>Fa(m.multi),this.records.set(u,m)),u=s,m.multi.push(s)}this.records.set(u,h)}hydrate(s,o){return o.value===Za&&(o.value=YC,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(i=o.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const o=G(s.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function Ii(i){const s=Rn(i),o=null!==s?s.factory:mi(i);if(null!==o)return o;if(i instanceof sn)throw new Error(`Token ${Q(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const l=Gi(s,"?");throw new Error(`Can't resolve all parameters for ${Q(i)}: (${l.join(", ")}).`)}const o=function(i){const s=i&&(i[fi]||i[Vn]);if(s){const o=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new Error("unreachable")}function qC(i,s,o){let l;if(Xd(i)){const u=G(i);return mi(u)||Ii(u)}if(tc(i))l=()=>G(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...Fa(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))l=()=>on(G(i.useExisting));else{const u=G(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return mi(u)||Ii(u);l=()=>new u(...Fa(i.deps))}return l}function _u(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function tc(i){return null!==i&&"object"==typeof i&&ni in i}function Xd(i){return"function"==typeof i}const nc=function(i,s,o){return function(i,s=null,o=null,l){const u=ZC(i,s,o,l);return u._resolveInjectorDefTypes(),u}({name:o},s,i,o)};let Ye=(()=>{class i{static create(o,l){return Array.isArray(o)?nc(o,l,""):nc(o.providers,o.parent,o.name||"")}}return i.THROW_IF_NOT_FOUND=Dt,i.NULL=new rm,i.\u0275prov=Ht({token:i,providedIn:"any",factory:()=>on(Zt)}),i.__NG_ELEMENT_ID__=-1,i})();function aE(i,s){Cl(Cf(i)[1],Kt())}function Cu(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const l=[i];for(;s;){let u;if(Qr(i))u=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");u=s.\u0275dir}if(u){if(o){l.push(u);const m=i;m.inputs=$y(i.inputs),m.declaredInputs=$y(i.declaredInputs),m.outputs=$y(i.outputs);const v=u.hostBindings;v&&SI(i,v);const C=u.viewQuery,D=u.contentQueries;if(C&&Gy(i,C),D&&Zf(i,D),oe(i.inputs,u.inputs),oe(i.declaredInputs,u.declaredInputs),oe(i.outputs,u.outputs),Qr(u)&&u.data.animation){const M=i.data;M.animation=(M.animation||[]).concat(u.data.animation)}}const h=u.features;if(h)for(let m=0;m<h.length;m++){const v=h[m];v&&v.ngInherit&&v(i),v===Cu&&(o=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,o=null;for(let l=i.length-1;l>=0;l--){const u=i[l];u.hostVars=s+=u.hostVars,u.hostAttrs=El(u.hostAttrs,o=El(o,u.hostAttrs))}}(l)}function $y(i){return i===Y?{}:i===H?[]:i}function Gy(i,s){const o=i.viewQuery;i.viewQuery=o?(l,u)=>{s(l,u),o(l,u)}:s}function Zf(i,s){const o=i.contentQueries;i.contentQueries=o?(l,u,h)=>{s(l,u,h),o(l,u,h)}:s}function SI(i,s){const o=i.hostBindings;i.hostBindings=o?(l,u)=>{s(l,u),o(l,u)}:s}let lm=null;function ic(){if(!lm){const i=et.Symbol;if(i&&i.iterator)lm=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const l=s[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(lm=l)}}}return lm}function qf(i){return!!um(i)&&(Array.isArray(i)||!(i instanceof Map)&&ic()in i)}function um(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function or(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function Wy(i,s,o,l){const u=we();return or(u,jr(),s)&&(gt(),Yo(dn(),u,i,s,o,l)),Wy}function Eu(i,s,o,l){return or(i,jr(),o)?s+se(o)+l:ht}function Jf(i,s,o,l,u,h,m,v){const C=we(),D=gt(),M=i+20,x=D.firstCreatePass?function(i,s,o,l,u,h,m,v,C){const D=s.consts,M=za(s,i,4,m||null,vn(D,v));Dy(s,o,M,vn(D,C)),Cl(s,M);const x=M.tViews=Lf(2,M,l,u,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,D);return null!==s.queries&&(s.queries.template(s,M),x.queries=s.queries.embeddedTView(M)),M}(M,D,C,s,o,l,u,h,m):D.data[M];nr(x,!1);const N=C[11].createComment("");kf(D,C,N,x),sr(N,C),em(C,C[M]=HC(N,C,N,x)),ll(x)&&Kg(D,C,x),null!=m&&Qg(C,x,v)}function hh(i,s=We.Default){const o=we();return null===o?on(i,s):Oa(Kt(),o,G(i),s)}function mm(i,s,o){const l=we();return or(l,jr(),s)&&qi(gt(),dn(),l,i,s,l[11],o,!1),mm}function rp(i,s,o,l,u){const m=u?"class":"style";Ny(i,o,s.inputs[m],m,l)}function tv(i,s,o,l){const u=we(),h=gt(),m=20+i,v=u[11],C=u[m]=Cs(v,s,Xe.lFrame.currentNamespace),D=h.firstCreatePass?function(i,s,o,l,u,h,m){const v=s.consts,D=za(s,i,2,u,vn(v,h));return Dy(s,o,D,vn(v,m)),null!==D.attrs&&jt(D,D.attrs,!1),null!==D.mergedAttrs&&jt(D,D.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,D),D}(m,h,u,0,s,o,l):h.data[m];nr(D,!0);const M=D.mergedAttrs;null!==M&&vd(v,C,M);const x=D.classes;null!==x&&ly(v,C,x);const N=D.styles;null!==N&&vC(v,C,N),64!=(64&D.flags)&&kf(h,u,C,D),0===Xe.lFrame.elementDepthCount&&sr(C,u),Xe.lFrame.elementDepthCount++,ll(D)&&(Kg(h,u,D),function(i,s,o){if(ed(s)){const u=s.directiveEnd;for(let h=s.directiveStart;h<u;h++){const m=i.data[h];m.contentQueries&&m.contentQueries(1,o[h],h)}}}(h,D,u)),null!==l&&Qg(u,D)}function nv(){let i=Kt();Io()?Ea():(i=i.parent,nr(i,!1));const s=i;Xe.lFrame.elementDepthCount--;const o=gt();o.firstCreatePass&&(Cl(o,i),ed(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&rp(o,s,we(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&rp(o,s,we(),s.stylesWithoutHost,!1)}function AE(i,s,o,l){tv(i,s,o,l),nv()}function iv(){return we()}function _m(i){return!!i&&"function"==typeof i.then}function RE(i){return!!i&&"function"==typeof i.subscribe}const ym=RE;function fh(i,s,o,l){const u=we(),h=gt(),m=Kt();return OE(h,u,u[11],m,i,s,!!o,l),fh}function vm(i,s){const o=Kt(),l=we(),u=gt();return OE(u,l,ky(Ta(u.data),o,l),o,i,s,!1),vm}function OE(i,s,o,l,u,h,m,v){const C=ll(l),M=i.firstCreatePass&&xy(i),x=s[8],N=Py(s);let $=!0;if(3&l.type||v){const ne=Dr(l,s),Ae=v?v(ne):ne,be=N.length,qe=v?it=>v(Vt(it[l.index])):l.index;if(Wt(o)){let it=null;if(!v&&C&&(it=function(i,s,o,l){const u=i.cleanup;if(null!=u)for(let h=0;h<u.length-1;h+=2){const m=u[h];if(m===o&&u[h+1]===l){const v=s[7],C=u[h+2];return v.length>C?v[C]:null}"string"==typeof m&&(h+=2)}return null}(i,s,u,l.index)),null!==it)(it.__ngLastListenerFn__||it).__ngNextListenerFn__=h,it.__ngLastListenerFn__=h,$=!1;else{h=ip(l,s,x,h,!1);const xt=o.listen(Ae,u,h);N.push(h,xt),M&&M.push(u,qe,be,be+1)}}else h=ip(l,s,x,h,!0),Ae.addEventListener(u,h,m),N.push(h),M&&M.push(u,qe,be,m)}else h=ip(l,s,x,h,!1);const K=l.outputs;let fe;if($&&null!==K&&(fe=K[u])){const ne=fe.length;if(ne)for(let Ae=0;Ae<ne;Ae+=2){const cr=s[fe[Ae]][fe[Ae+1]].subscribe(h),hi=N.length;N.push(h,cr),M&&M.push(u,l.index,hi,-(hi+1))}}}function PE(i,s,o,l){try{return!1!==o(l)}catch(u){return jf(i,u),!1}}function ip(i,s,o,l,u){return function h(m){if(m===Function)return l;const v=2&i.flags?Zn(i.index,s):s;0==(32&s[2])&&Uf(v);let C=PE(s,0,l,m),D=h.__ngNextListenerFn__;for(;D;)C=PE(s,0,D,m)&&C,D=D.__ngNextListenerFn__;return u&&!1===C&&(m.preventDefault(),m.returnValue=!1),C}}function sv(i=1){return function(i){return(Xe.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,Xe.lFrame.contextLView))[8]}(i)}function WI(i,s){let o=null;const l=function(i){const s=i.attrs;if(null!=s){const o=s.indexOf(5);if(0==(1&o))return s[o+1]}return null}(i);for(let u=0;u<s.length;u++){const h=s[u];if("*"!==h){if(null===l?CC(i,h,!0):zM(l,h))return u}else o=u}return o}function xE(i){const s=we()[16][6];if(!s.projection){const l=s.projection=Gi(i?i.length:1,null),u=l.slice();let h=s.child;for(;null!==h;){const m=i?WI(h,i):0;null!==m&&(u[m]?u[m].projectionNext=h:l[m]=h,u[m]=h),h=h.next}}}function ov(i,s=0,o){const l=we(),u=gt(),h=za(u,20+i,16,null,o||null);null===h.projection&&(h.projection=s),Ea(),64!=(64&h.flags)&&function(i,s,o){ql(s[11],0,s,o,fC(i,o,s),Bg(o.parent||s[6],o,s))}(u,l,h)}function Qo(i,s,o){return bm(i,"",s,"",o),Qo}function bm(i,s,o,l,u){const h=we(),m=Eu(h,s,o,l);return m!==ht&&qi(gt(),dn(),h,i,m,h[11],u,!1),bm}function ph(i,s,o,l,u){const h=i[o+1],m=null===s;let v=l?eo(h):Ga(h),C=!1;for(;0!==v&&(!1===C||m);){const M=i[v+1];YI(i[v],s)&&(C=!0,i[v+1]=l?Zi(M):hy(M)),v=l?eo(M):Ga(M)}C&&(i[o+1]=l?hy(h):Zi(h))}function YI(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&No(i,s)>=0}function cp(i,s,o){return ro(i,s,o,!1),cp}function up(i,s){return ro(i,s,null,!0),up}function ro(i,s,o,l){const u=we(),h=gt(),m=function(i){const s=Xe.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}(2);h.firstUpdatePass&&function(i,s,o,l){const u=i.data;if(null===u[o+1]){const h=u[Pn()],m=function(i,s){return s>=i.expandoStartIndex}(i,o);(function(i,s){return 0!=(i.flags&(s?16:32))})(h,l)&&null===s&&!m&&(s=!1),s=function(i,s,o,l){const u=Ta(i);let h=l?s.residualClasses:s.residualStyles;if(null===u)0===(l?s.classBindings:s.styleBindings)&&(o=Su(o=hp(null,i,s,o,l),s.attrs,l),h=null);else{const m=s.directiveStylingLast;if(-1===m||i[m]!==u)if(o=hp(u,i,s,o,l),null===h){let C=function(i,s,o){const l=o?s.classBindings:s.styleBindings;if(0!==Ga(l))return i[eo(l)]}(i,s,l);void 0!==C&&Array.isArray(C)&&(C=hp(null,i,s,C[1],l),C=Su(C,s.attrs,l),function(i,s,o,l){i[eo(o?s.classBindings:s.styleBindings)]=l}(i,s,l,C))}else h=function(i,s,o){let l;const u=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<u;h++)l=Su(l,i[h].hostAttrs,o);return Su(l,s.attrs,o)}(i,s,l)}return void 0!==h&&(l?s.residualClasses=h:s.residualStyles=h),o}(u,h,s,l),function(i,s,o,l,u,h){let m=h?s.classBindings:s.styleBindings,v=eo(m),C=Ga(m);i[l]=o;let M,D=!1;if(Array.isArray(o)){const x=o;M=x[1],(null===M||No(x,M)>0)&&(D=!0)}else M=o;if(u)if(0!==C){const N=eo(i[v+1]);i[l+1]=zg(N,v),0!==N&&(i[N+1]=fy(i[N+1],l)),i[v+1]=function(i,s){return 131071&i|s<<17}(i[v+1],l)}else i[l+1]=zg(v,0),0!==v&&(i[v+1]=fy(i[v+1],l)),v=l;else i[l+1]=zg(C,0),0===v?v=l:i[C+1]=fy(i[C+1],l),C=l;D&&(i[l+1]=hy(i[l+1])),ph(i,M,l,!0),ph(i,M,l,!1),function(i,s,o,l,u){const h=u?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof s&&No(h,s)>=0&&(o[l+1]=Zi(o[l+1]))}(s,M,i,l,h),m=zg(v,C),h?s.classBindings=m:s.styleBindings=m}(u,h,s,o,m,l)}}(h,i,m,l),s!==ht&&or(u,m,s)&&function(i,s,o,l,u,h,m,v){if(!(3&s.type))return;const C=i.data,D=C[v+1];Dm(function(i){return 1==(1&i)}(D)?hv(C,s,o,u,Ga(D),m):void 0)||(Dm(h)||function(i){return 2==(2&i)}(D)&&(h=hv(C,null,o,u,v,m)),function(i,s,o,l,u){const h=Wt(i);if(s)u?h?i.addClass(o,l):o.classList.add(l):h?i.removeClass(o,l):o.classList.remove(l);else{let m=-1===l.indexOf("-")?void 0:bs.DashCase;if(null==u)h?i.removeStyle(o,l,m):o.style.removeProperty(l);else{const v="string"==typeof u&&u.endsWith("!important");v&&(u=u.slice(0,-10),m|=bs.Important),h?i.setStyle(o,l,u,m):o.style.setProperty(l,u,v?"important":"")}}}(l,m,Hs(Pn(),o),u,h))}(h,h.data[Pn()],u,u[11],i,u[m+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Q(Qs(i)))),i}(s,o),l,m)}function hp(i,s,o,l,u){let h=null;const m=o.directiveEnd;let v=o.directiveStylingLast;for(-1===v?v=o.directiveStart:v++;v<m&&(h=s[v],l=Su(l,h.hostAttrs,u),h!==i);)v++;return null!==i&&(o.directiveStylingLast=v),l}function Su(i,s,o){const l=o?1:2;let u=-1;if(null!==s)for(let h=0;h<s.length;h++){const m=s[h];"number"==typeof m?u=m:u===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),kn(i,m,!!o||s[++h]))}return void 0===i?null:i}function hv(i,s,o,l,u,h){const m=null===s;let v;for(;u>0;){const C=i[u],D=Array.isArray(C),M=D?C[1]:C,x=null===M;let N=o[u+1];N===ht&&(N=x?H:void 0);let $=x?Nn(N,l):M===l?N:void 0;if(D&&!Dm($)&&($=Nn(C,l)),Dm($)&&(v=$,m))return v;const K=i[u+1];u=m?eo(K):Ga(K)}if(null!==s){let C=h?s.residualClasses:s.residualStyles;null!=C&&(v=Nn(C,l))}return v}function Dm(i){return void 0!==i}function ZE(i,s=""){const o=we(),l=gt(),u=i+20,h=l.firstCreatePass?za(l,u,1,s,null):l.data[u],m=o[u]=function(i,s){return Wt(i)?i.createText(s):i.createTextNode(s)}(o[11],s);kf(l,o,m,h),nr(h,!1)}function Mu(i){return gh("",i,""),Mu}function gh(i,s,o){const l=we(),u=Eu(l,i,s,o);return u!==ht&&Zo(l,Pn(),u),gh}function bv(i,s,o){const l=we();return or(l,jr(),s)&&qi(gt(),dn(),l,i,s,l[11],o,!0),bv}function vp(i,s,o){const l=we();if(or(l,jr(),s)){const h=gt(),m=dn();qi(h,m,l,i,s,ky(Ta(h.data),m,l),o,!0)}return vp}const Ru=void 0;var iT=["en",[["a","p"],["AM","PM"],Ru],[["AM","PM"],Ru,Ru],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ru,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ru,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ru,"{1} 'at' {0}",Ru],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),o=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===o?1:5}];let Ou={};function Cv(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=Ev(s);if(o)return o;const l=s.split("-")[0];if(o=Ev(l),o)return o;if("en"===l)return iT;throw new Error(`Missing locale data for the locale "${i}".`)}function Mm(i){return Cv(i)[Ke.PluralCase]}function Ev(i){return i in Ou||(Ou[i]=et.ng&&et.ng.common&&et.ng.common.locales&&et.ng.common.locales[i]),Ou[i]}var Ke=(()=>((Ke=Ke||{})[Ke.LocaleId=0]="LocaleId",Ke[Ke.DayPeriodsFormat=1]="DayPeriodsFormat",Ke[Ke.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ke[Ke.DaysFormat=3]="DaysFormat",Ke[Ke.DaysStandalone=4]="DaysStandalone",Ke[Ke.MonthsFormat=5]="MonthsFormat",Ke[Ke.MonthsStandalone=6]="MonthsStandalone",Ke[Ke.Eras=7]="Eras",Ke[Ke.FirstDayOfWeek=8]="FirstDayOfWeek",Ke[Ke.WeekendRange=9]="WeekendRange",Ke[Ke.DateFormat=10]="DateFormat",Ke[Ke.TimeFormat=11]="TimeFormat",Ke[Ke.DateTimeFormat=12]="DateTimeFormat",Ke[Ke.NumberSymbols=13]="NumberSymbols",Ke[Ke.NumberFormats=14]="NumberFormats",Ke[Ke.CurrencyCode=15]="CurrencyCode",Ke[Ke.CurrencySymbol=16]="CurrencySymbol",Ke[Ke.CurrencyName=17]="CurrencyName",Ke[Ke.Currencies=18]="Currencies",Ke[Ke.Directionality=19]="Directionality",Ke[Ke.PluralCase=20]="PluralCase",Ke[Ke.ExtraData=21]="ExtraData",Ke))();const Pu="en-US";let Dv=Pu;function yh(i){tn(i,"Expected localeId to be defined"),"string"==typeof i&&(Dv=i.toLowerCase().replace(/_/g,"-"))}function Sw(i,s,o,l,u){if(i=G(i),Array.isArray(i))for(let h=0;h<i.length;h++)Sw(i[h],s,o,l,u);else{const h=gt(),m=we();let v=Xd(i)?i:G(i.provide),C=qC(i);const D=Kt(),M=1048575&D.providerIndexes,x=D.directiveStart,N=D.providerIndexes>>20;if(Xd(i)||!i.multi){const $=new Po(C,u,hh),K=Pv(v,s,u?M:M+N,x);-1===K?(lt(Ra(D,m),h,v),Ov(h,i,s.length),s.push(v),D.directiveStart++,D.directiveEnd++,u&&(D.providerIndexes+=1048576),o.push($),m.push($)):(o[K]=$,m[K]=$)}else{const $=Pv(v,s,M+N,x),K=Pv(v,s,M,M+N),fe=$>=0&&o[$],ne=K>=0&&o[K];if(u&&!ne||!u&&!fe){lt(Ra(D,m),h,v);const Ae=function(i,s,o,l,u){const h=new Po(i,o,hh);return h.multi=[],h.index=s,h.componentProviders=0,Aw(h,u,l&&!o),h}(u?VT:Mw,o.length,u,l,C);!u&&ne&&(o[K].providerFactory=Ae),Ov(h,i,s.length,0),s.push(v),D.directiveStart++,D.directiveEnd++,u&&(D.providerIndexes+=1048576),o.push(Ae),m.push(Ae)}else Ov(h,i,$>-1?$:K,Aw(o[u?K:$],C,!u&&l));!u&&l&&ne&&o[K].componentProviders++}}}function Ov(i,s,o,l){const u=Xd(s);if(u||function(i){return!!i.useClass}(s)){const m=(s.useClass||s).prototype.ngOnDestroy;if(m){const v=i.destroyHooks||(i.destroyHooks=[]);if(!u&&s.multi){const C=v.indexOf(o);-1===C?v.push(o,[l,m]):v[C+1].push(l,m)}else v.push(o,m)}}}function Aw(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function Pv(i,s,o,l){for(let u=o;u<l;u++)if(s[u]===i)return u;return-1}function Mw(i,s,o,l){return xv(this.multi,[])}function VT(i,s,o,l){const u=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,v=an(o,o[1],this.providerFactory.index,l);h=v.slice(0,m),xv(u,h);for(let C=m;C<v.length;C++)h.push(v[C])}else h=[],xv(u,h);return h}function xv(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function Rw(i,s=[]){return o=>{o.providersResolver=(l,u)=>function(i,s,o){const l=gt();if(l.firstCreatePass){const u=Qr(i);Sw(o,l.data,l.blueprint,u,!0),Sw(s,l.data,l.blueprint,u,!1)}}(l,u?u(i):i,s)}}class mr{}const Eh="ngComponent";class UT{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${Q(i)}. Did you add it to @NgModule.entryComponents?`);return s[Eh]=i,s}(s)}}let wh=(()=>{class i{}return i.NULL=new UT,i})();function Bm(...i){}function Dh(i,s){return new lo(Dr(i,s))}const $T=function(){return Dh(Kt(),we())};let lo=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=$T,i})();function Um(i){return i instanceof lo?i.nativeElement:i}class ku{}let WT=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>kv(),i})();const kv=function(){const i=we(),o=Zn(Kt().index,i);return function(i){return i[11]}(nn(o)?o:i)};let Nv=(()=>{class i{}return i.\u0275prov=Ht({token:i,providedIn:"root",factory:()=>null}),i})();class Pw{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const xw=new Pw("12.2.16");class zT{constructor(){}supports(s){return qf(s)}create(s){return new yR(s)}}const _R=(i,s)=>s;class yR{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||_R}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,l=this._removalsHead,u=0,h=null;for(;o||l;){const m=!l||o&&o.currentIndex<Fv(l,u,h)?o:l,v=Fv(m,u,h),C=m.currentIndex;if(m===l)u--,l=l._nextRemoved;else if(o=o._next,null==m.previousIndex)u++;else{h||(h=[]);const D=v-u,M=C-u;if(D!=M){for(let N=0;N<D;N++){const $=N<h.length?h[N]:h[N]=0,K=$+N;M<=K&&K<D&&(h[N]=$+1)}h[m.previousIndex]=M-D}}v!==C&&s(m,v,C)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!qf(s))throw new Error(`Error trying to diff '${Q(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u,h,m,o=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let v=0;v<this.length;v++)h=s[v],m=this._trackByFn(v,h),null!==o&&Object.is(o.trackById,m)?(l&&(o=this._verifyReinsertion(o,h,m,v)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,v),l=!0),o=o._next}else u=0,function(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[ic()]();let l;for(;!(l=o.next()).done;)s(l.value)}}(s,v=>{m=this._trackByFn(u,v),null!==o&&Object.is(o.trackById,m)?(l&&(o=this._verifyReinsertion(o,v,m,u)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,m,u),l=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,l,u){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,h,u)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,u))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,h,u)):s=this._addAfter(new vR(o,l),h,u),s}_verifyReinsertion(s,o,l,u){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?s=this._reinsertAfter(h,s._prev,u):s.currentIndex!=u&&(s.currentIndex=u,this._addToMoves(s,u)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const u=s._prevRemoved,h=s._nextRemoved;return null===u?this._removalsHead=h:u._nextRemoved=h,null===h?this._removalsTail=u:h._prevRemoved=u,this._insertAfter(s,o,l),this._addToMoves(s,l),s}_moveAfter(s,o,l){return this._unlink(s),this._insertAfter(s,o,l),this._addToMoves(s,l),s}_addAfter(s,o,l){return this._insertAfter(s,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,l){const u=null===o?this._itHead:o._next;return s._next=u,s._prev=o,null===u?this._itTail=s:u._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new YT),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,l=s._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new YT),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class vR{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bR{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const o=s._prevDup,l=s._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class YT{constructor(){this.map=new Map}put(s){const o=s.trackById;let l=this.map.get(o);l||(l=new bR,this.map.set(o,l)),l.add(s)}get(s,o){const u=this.map.get(s);return u?u.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Fv(i,s,o){const l=i.previousIndex;if(null===l)return l;let u=0;return o&&l<o.length&&(u=o[l]),l+s+u}class kw{constructor(){}supports(s){return s instanceof Map||um(s)}create(){return new ZT}}class ZT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||um(s)))throw new Error(`Error trying to diff '${Q(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(u,l);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const l=s._prev;return o._next=s,o._prev=l,s._prev=o,l&&(l._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const u=this._records.get(s);this._maybeAddToChanges(u,o);const h=u._prev,m=u._next;return h&&(h._next=m),m&&(m._prev=h),u._next=null,u._prev=null,u}const l=new _r(s);return this._records.set(s,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(l=>o(s[l],l))}}class _r{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ss(){return new Nu([new zT])}let Nu=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(null!=l){const u=l.factories.slice();o=o.concat(u)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||Ss()),deps:[[i,new Hn,new Lo]]}}find(o){const l=this.factories.find(u=>u.supports(o));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(i){return i.name||typeof i}(o)}'`)}}return i.\u0275prov=Ht({token:i,providedIn:"root",factory:Ss}),i})();function Nw(){return new jm([new kw])}let jm=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(l){const u=l.factories.slice();o=o.concat(u)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||Nw()),deps:[[i,new Hn,new Lo]]}}find(o){const l=this.factories.find(u=>u.supports(o));if(l)return l;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return i.\u0275prov=Ht({token:i,providedIn:"root",factory:Nw}),i})();function Hm(i,s,o,l,u=!1){for(;null!==o;){const h=s[o.index];if(null!==h&&l.push(Vt(h)),Yn(h))for(let v=10;v<h.length;v++){const C=h[v],D=C[1].firstChild;null!==D&&Hm(C[1],C,D,l)}const m=o.type;if(8&m)Hm(i,s,o.child,l);else if(32&m){const v=y(o,s);let C;for(;C=v();)l.push(C)}else if(16&m){const v=sy(s,o);if(Array.isArray(v))l.push(...v);else{const C=b(s[16]);Hm(C[1],C,v,l,!0)}}o=u?o.projectionNext:o.next}return l}class Ih{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return Hm(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Yn(s)){const o=s[8],l=o?o.indexOf(this):-1;l>-1&&(Yl(s,l),Wr(o,l))}this._attachedToViewContainer=!1}Pf(this._lView[1],this._lView)}onDestroy(s){Cy(this._lView[1],this._lView,null,s)}markForCheck(){Uf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){tm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,o){So(!0);try{tm(i,s,o)}finally{So(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,pu(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class qT extends Ih{constructor(s){super(s),this._view=s}detectChanges(){GC(this._view)}checkNoChanges(){!function(i){So(!0);try{GC(i)}finally{So(!1)}}(this._view)}get context(){return null}}const QT=function(i){return function(i,s,o){if(da(i)&&!o){const l=Zn(i.index,s);return new Ih(l,l)}return 47&i.type?new Ih(s[16],s):null}(Kt(),we(),16==(16&i))};let ui=(()=>{class i{}return i.__NG_ELEMENT_ID__=QT,i})();const JT=[new kw],Gm=new Nu([new zT]),Bv=new jm(JT),XT=function(){return Ip(Kt(),we())};let wp=(()=>{class i{}return i.__NG_ELEMENT_ID__=XT,i})();const eS=wp,tS=class extends eS{constructor(s,o,l){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(s){const o=this._declarationTContainer.tViews,l=gu(this._declarationLView,o,s,16,null,o.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(l[19]=h.createEmbeddedView(o)),Ya(o,l,s),new Ih(l)}};function Ip(i,s){return 4&i.type?new tS(s,i,Dh(i,s)):null}class ta{}class jv{}const rS=function(){return Th(Kt(),we())};let Wm=(()=>{class i{}return i.__NG_ELEMENT_ID__=rS,i})();const Hv=Wm,$v=class extends Hv{constructor(s,o,l){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=l}get element(){return Dh(this._hostTNode,this._hostLView)}get injector(){return new Ui(this._hostTNode,this._hostLView)}get parentInjector(){const s=je(this._hostTNode,this._hostLView);if($c(s)){const o=Ir(s,this._hostLView),l=ps(s);return new Ui(o[1].data[l+8],o)}return new Ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=zm(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,l){const u=s.createEmbeddedView(o||{});return this.insert(u,l),u}createComponent(s,o,l,u,h){const m=l||this.parentInjector;if(!h&&null==s.ngModule&&m){const C=m.get(ta,null);C&&(h=C)}const v=s.create(m,u,void 0,h);return this.insert(v.hostView,o),v}insert(s,o){const l=s._lView,u=l[1];if(Yn(l[3])){const M=this.indexOf(s);if(-1!==M)this.detach(M);else{const x=l[3],N=new $v(x,x[6],x[3]);N.detach(N.indexOf(s))}}const h=this._adjustIndex(o),m=this._lContainer;!function(i,s,o,l){const u=10+l,h=o.length;l>0&&(o[u-1][4]=s),l<h-10?(s[4]=o[u],Na(o,10+l,s)):(o.push(s),s[4]=null),s[3]=o;const m=s[17];null!==m&&o!==m&&function(i,s){const o=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===o?i[9]=[s]:o.push(s)}(m,s);const v=s[19];null!==v&&v.insertView(i),s[2]|=128}(u,l,m,h);const v=oy(h,m),C=l[11],D=Lg(C,m[7]);return null!==D&&function(i,s,o,l,u,h){l[0]=u,l[6]=s,pu(i,l,o,1,u,h)}(u,m[6],C,l,D,v),s.attachToViewContainerRef(),Na(Ym(m),h,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=zm(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),l=Yl(this._lContainer,o);l&&(Wr(Ym(this._lContainer),o),Pf(l[1],l))}detach(s){const o=this._adjustIndex(s,-1),l=Yl(this._lContainer,o);return l&&null!=Wr(Ym(this._lContainer),o)?new Ih(l):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function zm(i){return i[8]}function Ym(i){return i[8]||(i[8]=[])}function Th(i,s){let o;const l=s[i.index];if(Yn(l))o=l;else{let u;if(8&i.type)u=Vt(l);else{const h=s[11];u=h.createComment("");const m=Dr(i,s);Zl(h,Lg(h,m),u,function(i,s){return Wt(i)?i.nextSibling(s):s.nextSibling}(h,m),!1)}s[i.index]=o=HC(l,s,u,i),em(s,o)}return new $v(o,i,s)}const gc={};class h0 extends wh{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=On(s);return new nb(o,this.ngModule)}}function f0(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}const LR=new sn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Hd});class nb extends mr{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=s.selectors.map(GD).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return f0(this.componentDef.inputs)}get outputs(){return f0(this.componentDef.outputs)}create(s,o,l,u){const h=(u=u||this.ngModule)?function(i,s){return{get:(o,l,u)=>{const h=i.get(o,gc,u);return h!==gc||l===gc?h:s.get(o,l,u)}}}(s,u.injector):s,m=h.get(ku,yi),v=h.get(Nv,null),C=m.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",M=l?function(i,s,o){if(Wt(i))return i.selectRootElement(s,o===ke.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(C,l,this.componentDef.encapsulation):Cs(m.createRenderer(null,this.componentDef),D,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(D)),x=this.componentDef.onPush?576:528,N=function(i,s){return{components:[],scheduler:i||Hd,clean:pI,playerHandler:s||null,flags:0}}(),$=Lf(0,null,null,1,0,null,null,null,null,null),K=gu(null,$,N,x,null,null,m,C,v,h);let fe,ne;$s(K);try{const Ae=function(i,s,o,l,u,h){const m=o[1];o[20]=i;const C=za(m,20,2,"#host",null),D=C.mergedAttrs=s.hostAttrs;null!==D&&(jt(C,D,!0),null!==i&&(vd(u,i,D),null!==C.classes&&ly(u,i,C.classes),null!==C.styles&&vC(u,i,C.styles)));const M=l.createRenderer(i,s),x=gu(o,vy(s),null,s.onPush?64:16,o[20],C,l,M,h||null,null);return m.firstCreatePass&&(lt(Ra(C,o),m,s.type),jC(m,C),Iy(C,o.length,1)),em(o,x),o[20]=x}(M,this.componentDef,K,m,C);if(M)if(l)vd(C,M,["ng-version",xw.full]);else{const{attrs:be,classes:qe}=function(i){const s=[],o=[];let l=1,u=2;for(;l<i.length;){let h=i[l];if("string"==typeof h)2===u?""!==h&&s.push(h,i[++l]):8===u&&o.push(h);else{if(!Xs(u))break;u=h}l++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);be&&vd(C,M,be),qe&&qe.length>0&&ly(C,M,qe.join(" "))}if(ne=cs($,20),void 0!==o){const be=ne.projection=[];for(let qe=0;qe<this.ngContentSelectors.length;qe++){const it=o[qe];be.push(null!=it?Array.from(it):null)}}fe=function(i,s,o,l,u){const h=o[1],m=function(i,s,o){const l=Kt();i.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Ty(i,l,s,qd(i,s,1,null),o));const u=an(s,i,l.directiveStart,l);sr(u,s);const h=Dr(l,s);return h&&sr(h,s),u}(h,o,s);if(l.components.push(m),i[8]=m,u&&u.forEach(C=>C(m,s)),s.contentQueries){const C=Kt();s.contentQueries(1,m,C.directiveStart)}const v=Kt();return!h.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Ro(v.index),FC(o[1],v,0,v.directiveStart,v.directiveEnd,s),UC(s,m)),m}(Ae,this.componentDef,K,N,[aE]),Ya($,K,null)}finally{Fi()}return new MS(this.componentType,fe,Dh(ne,K),K,ne)}}class MS extends class{}{constructor(s,o,l,u,h){super(),this.location=l,this._rootLView=u,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new qT(u),this.componentType=s}get injector(){return new Ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const Oh=new Map;class RS extends ta{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new h0(this);const l=Vr(s),u=s[De]||null;u&&yh(u),this._bootstrapComponents=zi(l.bootstrap),this._r3Injector=ZC(s,o,[{provide:ta,useValue:this},{provide:wh,useValue:this.componentFactoryResolver}],Q(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,o=Ye.THROW_IF_NOT_FOUND,l=We.Default){return s===Ye||s===ta||s===Zt?this:this._r3Injector.get(s,o,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class rb extends jv{constructor(s){super(),this.moduleType=s,null!==Vr(s)&&function(i){const s=new Set;!function o(l){const u=Vr(l,!0),h=u.id;null!==h&&(function(i,s,o){if(s&&s!==o)throw new Error(`Duplicate module registered for ${i} - ${Q(s)} vs ${Q(s.name)}`)}(h,Oh.get(h),l),Oh.set(h,l));const m=zi(u.imports);for(const v of m)s.has(v)||(s.add(v),o(v))}(i)}(s)}create(s){return new RS(this.moduleType,s)}}function s_(i,s,o,l){return function(i,s,o,l,u,h){const m=s+o;return or(i,m,u)?function(i,s,o){return i[s]=o}(i,m+1,h?l.call(h,u):l(u)):function(i,s){const o=i[s];return o===ht?void 0:o}(i,m+1)}(we(),function(){const i=Xe.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}(),i,s,o,l)}function ab(i){return s=>{setTimeout(i,void 0,s)}}const ra=class extends d.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,l){var u,h,m;let v=s,C=o||(()=>null),D=l;if(s&&"object"==typeof s){const x=s;v=null===(u=x.next)||void 0===u?void 0:u.bind(x),C=null===(h=x.error)||void 0===h?void 0:h.bind(x),D=null===(m=x.complete)||void 0===m?void 0:m.bind(x)}this.__isAsync&&(C=ab(C),v&&(v=ab(v)),D&&(D=ab(D)));const M=super.subscribe({next:v,error:C,complete:D});return s instanceof te.w&&s.add(M),M}};function HR(){return this._results[ic()]()}class u_{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=ic(),l=u_.prototype;l[o]||(l[o]=HR)}get changes(){return this._changes||(this._changes=new ra)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const l=this;l.dirty=!1;const u=Sr(s);(this._changesDetected=!function(i,s,o){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let u=i[l],h=s[l];if(o&&(u=o(u),h=o(h)),h!==u)return!1}return!0}(l._results,u,o))&&(l._results=u,l.length=u.length,l.last=u[this.length-1],l.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class d_{constructor(s){this.queryList=s,this.matches=null}clone(){return new d_(this.queryList)}setDirty(){this.queryList.setDirty()}}class lb{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const l=null!==s.contentQueries?s.contentQueries[0]:o.length,u=[];for(let h=0;h<l;h++){const m=o.getByIndex(h);u.push(this.queries[m.indexInDeclarationView].clone())}return new lb(u)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==BS(s,o).matches&&this.queries[o].setDirty()}}class v0{constructor(s,o,l=null){this.predicate=s,this.flags=o,this.read=l}}class h_{constructor(s=[]){this.queries=s}elementStart(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let l=0;l<this.length;l++){const u=null!==o?o.length:0,h=this.getByIndex(l).embeddedTView(s,u);h&&(h.indexInDeclarationView=l,null!==o?o.push(h):o=[h])}return null!==o?new h_(o):null}template(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class cb{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new cb(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let u=0;u<l.length;u++){const h=l[u];this.matchTNodeWithReadOption(s,o,FS(o,h)),this.matchTNodeWithReadOption(s,o,gs(o,s,h,!1,!1))}else l===wp?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,gs(o,s,l,!1,!1))}matchTNodeWithReadOption(s,o,l){if(null!==l){const u=this.metadata.read;if(null!==u)if(u===lo||u===Wm||u===wp&&4&o.type)this.addMatch(o.index,-2);else{const h=gs(o,s,u,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,l)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function FS(i,s){const o=i.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===s)return o[l+1];return null}function LS(i,s,o,l){return-1===o?function(i,s){return 11&i.type?Dh(i,s):4&i.type?Ip(i,s):null}(s,i):-2===o?function(i,s,o){return o===lo?Dh(s,i):o===wp?Ip(s,i):o===Wm?Th(s,i):void 0}(i,s,l):an(i,i[1],o,s)}function ub(i,s,o,l){const u=s[19].queries[l];if(null===u.matches){const h=i.data,m=o.matches,v=[];for(let C=0;C<m.length;C+=2){const D=m[C];v.push(D<0?null:LS(s,h[D],m[C+1],o.metadata.read))}u.matches=v}return u.matches}function db(i,s,o,l){const u=i.queries.getByIndex(o),h=u.matches;if(null!==h){const m=ub(i,s,u,o);for(let v=0;v<h.length;v+=2){const C=h[v];if(C>0)l.push(m[v/2]);else{const D=h[v+1],M=s[-C];for(let x=10;x<M.length;x++){const N=M[x];N[17]===N[3]&&db(N[1],N,D,l)}if(null!==M[9]){const x=M[9];for(let N=0;N<x.length;N++){const $=x[N];db($[1],$,D,l)}}}}}return l}function kh(i){const s=we(),o=gt(),l=bl();Ao(l+1);const u=BS(o,l);if(i.dirty&&fl(s)===(2==(2&u.metadata.flags))){if(null===u.matches)i.reset([]);else{const h=u.crossesNgTemplate?db(o,s,l,[]):ub(o,s,u,l);i.reset(h,Um),i.notifyOnChanges()}return!0}return!1}function b0(i,s,o){const l=gt();l.firstCreatePass&&(hb(l,new v0(i,s,o),-1),2==(2&s)&&(l.staticViewQueries=!0)),VS(l,we(),s)}function C0(i,s,o,l){const u=gt();if(u.firstCreatePass){const h=Kt();hb(u,new v0(s,o,l),h.index),function(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(u,i),2==(2&o)&&(u.staticContentQueries=!0)}VS(u,we(),o)}function E0(){return i=we(),s=bl(),i[19].queries[s].queryList;var i,s}function VS(i,s,o){const l=new u_(4==(4&o));Cy(i,s,l,l.destroy),null===s[19]&&(s[19]=new lb),s[19].queries.push(new d_(l))}function hb(i,s,o){null===i.queries&&(i.queries=new h_),i.queries.track(new cb(s,o))}function BS(i,s){return i.queries.getByIndex(s)}const R0=new sn("Application Initializer");let Lp=(()=>{class i{constructor(o){this.appInits=o,this.resolve=Bm,this.reject=Bm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,u)=>{this.resolve=l,this.reject=u})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const h=this.appInits[u]();if(_m(h))o.push(h);else if(ym(h)){const m=new Promise((v,C)=>{h.subscribe({complete:v,error:C})});o.push(m)}}Promise.all(o).then(()=>{l()}).catch(u=>{this.reject(u)}),0===o.length&&l(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(on(R0,8))},i.\u0275prov=Ht({token:i,factory:i.\u0275fac}),i})();const iA=new sn("AppId"),fO={provide:iA,useFactory:function(){return`${yb()}${yb()}${yb()}`},deps:[]};function yb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sA=new sn("Platform Initializer"),oA=new sn("Platform ID"),aA=new sn("appBootstrapListener");let lA=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Ht({token:i,factory:i.\u0275fac}),i})();const vb=new sn("LocaleId"),cA=new sn("DefaultCurrencyCode");class gO{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}const O0=function(i){return new rb(i)},mO=O0,_O=function(i){return Promise.resolve(O0(i))},uA=function(i){const s=O0(i),l=zi(Vr(i).declarations).reduce((u,h)=>{const m=On(h);return m&&u.push(new nb(m)),u},[]);return new gO(s,l)},yO=uA,vO=function(i){return Promise.resolve(uA(i))};let g_=(()=>{class i{constructor(){this.compileModuleSync=mO,this.compileModuleAsync=_O,this.compileModuleAndAllComponentsSync=yO,this.compileModuleAndAllComponentsAsync=vO}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Ht({token:i,factory:i.\u0275fac}),i})();const EO=(()=>Promise.resolve(0))();function P0(i){"undefined"==typeof Zone?EO.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Os{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ra(!1),this.onMicrotaskEmpty=new ra(!1),this.onStable=new ra(!1),this.onError=new ra(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!l&&o,u.shouldCoalesceRunChangeDetection=l,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function(){let i=et.requestAnimationFrame,s=et.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(et,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,k0(i),i.isCheckStableRunning=!0,x0(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),k0(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,u,h,m,v)=>{try{return dA(i),o.invokeTask(u,h,m,v)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&s(),hA(i)}},onInvoke:(o,l,u,h,m,v,C)=>{try{return dA(i),o.invoke(u,h,m,v,C)}finally{i.shouldCoalesceRunChangeDetection&&s(),hA(i)}},onHasTask:(o,l,u,h)=>{o.hasTask(u,h),l===u&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,k0(i),x0(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,l,u,h)=>(o.handleError(u,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(u)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Os.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Os.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,o,l){return this._inner.run(s,o,l)}runTask(s,o,l,u){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+u,s,DO,Bm,Bm);try{return h.runTask(m,o,l)}finally{h.cancelTask(m)}}runGuarded(s,o,l){return this._inner.runGuarded(s,o,l)}runOutsideAngular(s){return this._outer.run(s)}}const DO={};function x0(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function k0(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function dA(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function hA(i){i._nesting--,x0(i)}class SO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ra,this.onMicrotaskEmpty=new ra,this.onStable=new ra,this.onError=new ra}run(s,o,l){return s.apply(o,l)}runGuarded(s,o,l){return s.apply(o,l)}runOutsideAngular(s){return s()}runTask(s,o,l,u){return s.apply(o,l)}}let fA=(()=>{class i{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Os.assertNotInAngularZone(),P0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())P0(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,u){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:u})}whenStable(o,l,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,l,u){return[]}}return i.\u0275fac=function(o){return new(o||i)(on(Os))},i.\u0275prov=Ht({token:i,factory:i.\u0275fac}),i})(),pA=(()=>{class i{constructor(){this._applications=new Map,N0.addToWindow(this)}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return N0.findTestabilityInTree(this,o,l)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Ht({token:i,factory:i.\u0275fac}),i})();class AO{addToWindow(s){}findTestabilityInTree(s,o,l){return null}}function MO(i){N0=i}let N0=new AO,gA=!0,mA=!1;function F0(){return mA=!0,gA}function RO(){if(mA)throw new Error("Cannot enable prod mode after platform setup.");gA=!1}let ia;const wb=new sn("AllowMultipleToken");class CA{constructor(s,o){this.name=s,this.token=o}}function Vp(i,s,o=[]){const l=`Platform: ${s}`,u=new sn(l);return(h=[])=>{let m=L0();if(!m||m.injector.get(wb,!1))if(i)i(o.concat(h).concat({provide:u,useValue:!0}));else{const v=o.concat(h).concat({provide:u,useValue:!0},{provide:Hf,useValue:"platform"});!function(i){if(ia&&!ia.destroyed&&!ia.injector.get(wb,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ia=i.get(DA);const s=i.get(sA,null);s&&s.forEach(o=>o())}(Ye.create({providers:v,name:l}))}return function(i){const s=L0();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(u)}}function L0(){return ia&&!ia.destroyed?ia:null}let DA=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const v=function(i,s){let o;return o="noop"===i?new SO:("zone.js"===i?void 0:i)||new Os({enableLongStackTrace:F0(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),o}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),C=[{provide:Os,useValue:v}];return v.run(()=>{const D=Ye.create({providers:C,parent:this.injector,name:o.moduleType.name}),M=o.create(D),x=M.injector.get(jo,null);if(!x)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const N=v.onError.subscribe({next:$=>{x.handleError($)}});M.onDestroy(()=>{$u(this._modules,M),N.unsubscribe()})}),function(i,s,o){try{const l=o();return _m(l)?l.catch(u=>{throw s.runOutsideAngular(()=>i.handleError(u)),u}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(x,v,()=>{const N=M.injector.get(Lp);return N.runInitializers(),N.donePromise.then(()=>(yh(M.injector.get(vb,Pu)||Pu),this._moduleDoBootstrap(M),M))})})}bootstrapModule(o,l=[]){const u=B0({},l);return function(i,s,o){const l=new rb(o);return Promise.resolve(l)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,u))}_moduleDoBootstrap(o){const l=o.injector.get(Bp);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>l.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${Q(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(on(Ye))},i.\u0275prov=Ht({token:i,factory:i.\u0275fac}),i})();function B0(i,s){return Array.isArray(s)?s.reduce(B0,i):Object.assign(Object.assign({},i),s)}let Bp=(()=>{class i{constructor(o,l,u,h,m){this._zone=o,this._injector=l,this._exceptionHandler=u,this._componentFactoryResolver=h,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new L.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),C=new L.y(D=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{Os.assertNotInAngularZone(),P0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{Os.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{M.unsubscribe(),x.unsubscribe()}});this.isStable=(0,he.T)(v,C.pipe((0,ae.B)()))}bootstrap(o,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let u;u=o instanceof mr?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(u.componentType);const h=function(i){return i.isBoundToModule}(u)?void 0:this._injector.get(ta),v=u.create(Ye.NULL,[],l||u.selector,h),C=v.location.nativeElement,D=v.injector.get(fA,null),M=D&&v.injector.get(pA);return D&&M&&M.registerApplication(C,D),v.onDestroy(()=>{this.detachView(v.hostView),$u(this.components,v),M&&M.unregisterApplication(C)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;$u(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(aA,[]).concat(this._bootstrapListeners).forEach(u=>u(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(o){return new(o||i)(on(Os),on(Ye),on(jo),on(wh),on(Lp))},i.\u0275prov=Ht({token:i,factory:i.\u0275fac}),i})();function $u(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}class IA{}class AA{}const MA={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let RA=(()=>{class i{constructor(o,l){this._compiler=o,this._config=l||MA}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[l,u]=o.split("#");return void 0===u&&(u="default"),V(8255)(l).then(h=>h[u]).then(h=>tl(h,l,u)).then(h=>this._compiler.compileModuleAsync(h))}loadFactory(o){let[l,u]=o.split("#"),h="NgFactory";return void 0===u&&(u="default",h=""),V(8255)(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then(m=>m[u+h]).then(m=>tl(m,l,u))}}return i.\u0275fac=function(o){return new(o||i)(on(g_),on(AA,8))},i.\u0275prov=Ht({token:i,factory:i.\u0275fac}),i})();function tl(i,s,o){if(!i)throw new Error(`Cannot find '${o}' in '${s}'`);return i}const BO=function(i){return null},HO=Vp(null,"core",[{provide:oA,useValue:"unknown"},{provide:DA,deps:[Ye]},{provide:pA,deps:[]},{provide:lA,deps:[]}]),FA=[{provide:Bp,useClass:Bp,deps:[Os,Ye,jo,wh,Lp]},{provide:LR,deps:[Os],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(o){s.push(o)}}},{provide:Lp,useClass:Lp,deps:[[new Lo,R0]]},{provide:g_,useClass:g_,deps:[]},fO,{provide:Nu,useFactory:function(){return Gm},deps:[]},{provide:jm,useFactory:function(){return Bv},deps:[]},{provide:vb,useFactory:function(i){return yh(i=i||"undefined"!=typeof $localize&&$localize.locale||Pu),i},deps:[[new Fo(vb),new Lo,new Hn]]},{provide:cA,useValue:"USD"}];let VA=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(on(Bp))},i.\u0275mod=Fs({type:i}),i.\u0275inj=un({providers:FA}),i})()},8939:($e,Ee,V)=>{"use strict";V.d(Ee,{hO:()=>ce,xv:()=>J,Dh:()=>Q,GT:()=>X,cc:()=>ie,on:()=>F,pX:()=>ae});var d=V(7716),te=V(7841),L=V(4784);$e=V.hmd($e);const he=["ngOnDestroy"],ae=(se,ve,Oe,Le={})=>new Proxy(se,{get:(wt,Rt)=>Oe.runOutsideAngular(()=>{var Nt;if(se[Rt])return(null===(Nt=null==Le?void 0:Le.spy)||void 0===Nt?void 0:Nt.get)&&Le.spy.get(Rt,se[Rt]),se[Rt];if(he.indexOf(Rt)>-1)return()=>{};const yt=ve.toPromise().then(cn=>{const ft=cn&&cn[Rt];return"function"==typeof ft?ft.bind(cn):ft&&ft.then?ft.then(ot=>Oe.run(()=>ot)):Oe.run(()=>ft)});return new Proxy(()=>{},{get:(cn,ft)=>yt[ft],apply:(cn,ft,ot)=>yt.then(Ft=>{var at;const Ot=Ft&&Ft(...ot);return(null===(at=null==Le?void 0:Le.spy)||void 0===at?void 0:at.apply)&&Le.spy.apply(Rt,ot,Ot),Ot})})})}),X=(se,ve)=>{ve.forEach(Oe=>{Object.getOwnPropertyNames(Oe.prototype||Oe).forEach(Le=>{Object.defineProperty(se.prototype,Le,Object.getOwnPropertyDescriptor(Oe.prototype||Oe,Le))})})};class oe{constructor(ve){return ve}}const Q=new d.OlP("angularfire2.app.options"),J=new d.OlP("angularfire2.app.name");function F(se,ve,Oe){const wt="object"==typeof Oe&&Oe||{};wt.name=wt.name||"string"==typeof Oe&&Oe||"[DEFAULT]";const Nt=te.Z.apps.filter(yt=>yt&&yt.name===wt.name)[0]||ve.runOutsideAngular(()=>te.Z.initializeApp(se,wt));try{JSON.stringify(se)!==JSON.stringify(Nt.options)&&j("error",`${Nt.name} Firebase App already initialized with different options${$e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(yt){}return new oe(Nt)}const j=(se,...ve)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[se](...ve)},G={provide:oe,useFactory:F,deps:[Q,d.R0b,[new d.FiY,J]]};let ce=(()=>{class se{constructor(Oe){te.Z.registerVersion("angularfire",L.q4.full,"core"),te.Z.registerVersion("angularfire",L.q4.full,"app-compat"),te.Z.registerVersion("angular",d.q4F.full,Oe.toString())}static initializeApp(Oe,Le){return{ngModule:se,providers:[{provide:Q,useValue:Oe},{provide:J,useValue:Le}]}}}return se.\u0275fac=function(Oe){return new(Oe||se)(d.LFG(d.Lbi))},se.\u0275mod=d.oAB({type:se}),se.\u0275inj=d.cJS({providers:[G]}),se})();function ie(se,ve,Oe,Le,wt){const[,Rt,Nt]=globalThis.\u0275AngularfireInstanceCache.find(yt=>yt[0]===se)||[];if(Rt)return function(se,ve){try{return se.toString()===ve.toString()}catch(Oe){return se===ve}}(wt,Nt)||(ge("error",`${ve} was already initialized on the ${Oe} Firebase App with different settings.${me?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:wt,was:Nt})),Rt;{const yt=Le();return globalThis.\u0275AngularfireInstanceCache.push([se,yt,wt]),yt}}const me=!!$e.hot,ge=(se,...ve)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[se](...ve)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4784:($e,Ee,V)=>{"use strict";V.d(Ee,{q4:()=>Td,iC:()=>Nn,HU:()=>Zc,vb:()=>Na,JM:()=>bi});var d=V(7716),te=V(2329),L=V(8239),he=V(8026),ae=V(3854),X=V(3910),oe=V(5422),Q=V(6676);const J="@firebase/installations",F="0.5.5",G=`w:${F}`,ce="FIS_v2",ve=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Oe(w){return w instanceof ae.ZR&&w.code.includes("request-failed")}function Le({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function wt(w){return{token:w.token,requestStatus:2,expiresIn:Ft(w.expiresIn),creationTime:Date.now()}}function Rt(w,S){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,L.Z)(function*(w,S){const U=(yield S.json()).error;return ve.create("request-failed",{requestName:w,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function yt({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function cn(w,{refreshToken:S}){const O=yt(w);return O.append("Authorization",function(w){return`${ce} ${w}`}(S)),O}function ft(w){return ot.apply(this,arguments)}function ot(){return(ot=(0,L.Z)(function*(w){const S=yield w();return S.status>=500&&S.status<600?w():S})).apply(this,arguments)}function Ft(w){return Number(w.replace("s","000"))}function Ot(w,S){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,L.Z)(function*(w,{fid:S}){const O=Le(w),ue={method:"POST",headers:yt(w),body:JSON.stringify({fid:S,authVersion:ce,appId:w.appId,sdkVersion:G})},Ie=yield ft(()=>fetch(O,ue));if(Ie.ok){const Fe=yield Ie.json();return{fid:Fe.fid||S,registrationStatus:2,refreshToken:Fe.refreshToken,authToken:wt(Fe.authToken)}}throw yield Rt("Create Installation",Ie)})).apply(this,arguments)}function sl(w){return new Promise(S=>{setTimeout(S,w)})}const go=/^[cdef][\w-]{21}$/;function tn(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const O=function(w){return function(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return go.test(O)?O:""}catch(w){return""}}function Fr(w){return`${w.appName}!${w.appId}`}const xi=new Map;function ss(w,S){const O=Fr(w);un(O,S),function(w,S){const O=(!Bt&&"BroadcastChannel"in self&&(Bt=new BroadcastChannel("[Firebase] FID Change"),Bt.onmessage=w=>{un(w.data.key,w.data.fid)}),Bt);O&&O.postMessage({key:w,fid:S}),0===xi.size&&Bt&&(Bt.close(),Bt=null)}(O,S)}function un(w,S){const O=xi.get(w);if(O)for(const U of O)U(S)}let Bt=null;const Te="firebase-installations-store";let Vn=null;function Bn(){return Vn||(Vn=(0,Q.openDb)("firebase-installations-database",1,w=>{switch(w.oldVersion){case 0:w.createObjectStore(Te)}})),Vn}function We(w,S){return St.apply(this,arguments)}function St(){return(St=(0,L.Z)(function*(w,S){const O=Fr(w),ee=(yield Bn()).transaction(Te,"readwrite"),ue=ee.objectStore(Te),Ie=yield ue.get(O);return yield ue.put(S,O),yield ee.complete,(!Ie||Ie.fid!==S.fid)&&ss(w,S.fid),S})).apply(this,arguments)}function qr(w){return ur.apply(this,arguments)}function ur(){return(ur=(0,L.Z)(function*(w){const S=Fr(w),U=(yield Bn()).transaction(Te,"readwrite");yield U.objectStore(Te).delete(S),yield U.complete})).apply(this,arguments)}function Un(w,S){return ks.apply(this,arguments)}function ks(){return(ks=(0,L.Z)(function*(w,S){const O=Fr(w),ee=(yield Bn()).transaction(Te,"readwrite"),ue=ee.objectStore(Te),Ie=yield ue.get(O),Fe=S(Ie);return void 0===Fe?yield ue.delete(O):yield ue.put(Fe,O),yield ee.complete,Fe&&(!Ie||Ie.fid!==Fe.fid)&&ss(w,Fe.fid),Fe})).apply(this,arguments)}function pn(w){return rn.apply(this,arguments)}function rn(){return(rn=(0,L.Z)(function*(w){let S;const O=yield Un(w,U=>{const ee=_o(U),ue=Xt(w,ee);return S=ue.registrationPromise,ue.installationEntry});return""===O.fid?{installationEntry:yield S}:{installationEntry:O,registrationPromise:S}})).apply(this,arguments)}function _o(w){return et(w||{fid:tn(),registrationStatus:0})}function Xt(w,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(ve.create("app-offline"))};const O={fid:S.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:O,registrationPromise:function(w,S){return Je.apply(this,arguments)}(w,O)}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Ns(w)}:{installationEntry:S}}function Je(){return(Je=(0,L.Z)(function*(w,S){try{return We(w,yield Ot(w,S))}catch(O){throw Oe(O)&&409===O.customData.serverCode?yield qr(w):yield We(w,{fid:S.fid,registrationStatus:0}),O}})).apply(this,arguments)}function Ns(w){return pi.apply(this,arguments)}function pi(){return(pi=(0,L.Z)(function*(w){let S=yield Pt(w);for(;1===S.registrationStatus;)yield sl(100),S=yield Pt(w);if(0===S.registrationStatus){const{installationEntry:O,registrationPromise:U}=yield pn(w);return U||O}return S})).apply(this,arguments)}function Pt(w){return Un(w,S=>{if(!S)throw ve.create("installation-not-found");return et(S)})}function et(w){return function(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function ua(w,S){return Y.apply(this,arguments)}function Y(){return(Y=(0,L.Z)(function*({appConfig:w,platformLoggerProvider:S},O){const U=H(w,O),ee=cn(w,O),ue=S.getImmediate({optional:!0});ue&&ee.append("x-firebase-client",ue.getPlatformInfoString());const Fe={method:"POST",headers:ee,body:JSON.stringify({installation:{sdkVersion:G}})},Ue=yield ft(()=>fetch(U,Fe));if(Ue.ok)return wt(yield Ue.json());throw yield Rt("Generate Auth Token",Ue)})).apply(this,arguments)}function H(w,{fid:S}){return`${Le(w)}/${S}/authTokens:generate`}function q(w){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,L.Z)(function*(w,S=!1){let O;const U=yield Un(w.appConfig,ue=>{if(!ze(ue))throw ve.create("not-registered");const Ie=ue.authToken;if(!S&&ut(Ie))return ue;if(1===Ie.requestStatus)return O=le(w,S),ue;{if(!navigator.onLine)throw ve.create("app-offline");const Fe=qt(ue);return O=_e(w,Fe),Fe}});return O?yield O:U.authToken})).apply(this,arguments)}function le(w,S){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,L.Z)(function*(w,S){let O=yield De(w.appConfig);for(;1===O.authToken.requestStatus;)yield sl(100),O=yield De(w.appConfig);const U=O.authToken;return 0===U.requestStatus?q(w,S):U})).apply(this,arguments)}function De(w){return Un(w,S=>{if(!ze(S))throw ve.create("not-registered");return function(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function _e(w,S){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,L.Z)(function*(w,S){try{const O=yield ua(w,S),U=Object.assign(Object.assign({},S),{authToken:O});return yield We(w.appConfig,U),O}catch(O){if(!Oe(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const U=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield We(w.appConfig,U)}else yield qr(w.appConfig);throw O}})).apply(this,arguments)}function ze(w){return void 0!==w&&2===w.registrationStatus}function ut(w){return 2===w.requestStatus&&!function(w){const S=Date.now();return S<w.creationTime||w.creationTime+w.expiresIn<S+36e5}(w)}function qt(w){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:S})}function Fs(){return(Fs=(0,L.Z)(function*(w){const S=w,{installationEntry:O,registrationPromise:U}=yield pn(S.appConfig);return U?U.catch(console.error):q(S).catch(console.error),O.fid})).apply(this,arguments)}function Ls(){return(Ls=(0,L.Z)(function*(w,S=!1){const O=w;return yield Sc(O.appConfig),(yield q(O,S)).token})).apply(this,arguments)}function Sc(w){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,L.Z)(function*(w){const{registrationPromise:S}=yield pn(w);S&&(yield S)})).apply(this,arguments)}function $t(w){return ve.create("missing-app-config-values",{valueName:w})}const dr="installations";(0,he._registerComponent)(new X.wA(dr,w=>{const S=w.getProvider("app").getImmediate();return{app:S,appConfig:function(w){if(!w||!w.options)throw $t("App Configuration");if(!w.name)throw $t("App Name");const S=["projectId","apiKey","appId"];for(const O of S)if(!w.options[O])throw $t(O);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(S),platformLoggerProvider:(0,he._getProvider)(S,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,he._registerComponent)(new X.wA("installations-internal",w=>{const S=w.getProvider("app").getImmediate(),O=(0,he._getProvider)(S,dr).getImmediate();return{getId:()=>function(w){return Fs.apply(this,arguments)}(O),getToken:ee=>function(w){return Ls.apply(this,arguments)}(O,ee)}},"PRIVATE")),(0,he.registerVersion)(J,F),(0,he.registerVersion)(J,F,"esm2017");const Cr="@firebase/remote-config",jn=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ll{constructor(S,O,U,ee){this.client=S,this.storage=O,this.storageCache=U,this.logger=ee}isCachedDataFresh(S,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-O,ee=U<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${ee}.`),ee}fetch(S){var O=this;return(0,L.Z)(function*(){const[U,ee]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(ee&&O.isCachedDataFresh(S.cacheMaxAgeMillis,U))return ee;S.eTag=ee&&ee.eTag;const ue=yield O.client.fetch(S),Ie=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ue.status&&Ie.push(O.storage.setLastSuccessfulFetchResponse(ue)),yield Promise.all(Ie),ue})()}}function Qr(w=navigator){return w.languages&&w.languages[0]||w.language}class Jr{constructor(S,O,U,ee,ue,Ie){this.firebaseInstallations=S,this.sdkVersion=O,this.namespace=U,this.projectId=ee,this.apiKey=ue,this.appId=Ie}fetch(S){var O=this;return(0,L.Z)(function*(){const[U,ee]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Ie=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,Fe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},Ue={sdk_version:O.sdkVersion,app_instance_id:U,app_instance_id_token:ee,app_id:O.appId,language_code:Qr()},Dt={method:"POST",headers:Fe,body:JSON.stringify(Ue)},zt=fetch(Ie,Dt),wn=new Promise((ni,ri)=>{S.signal.addEventListener(()=>{const rt=new Error("The operation was aborted.");rt.name="AbortError",ri(rt)})});let pr;try{yield Promise.race([zt,wn]),pr=yield zt}catch(ni){let ri="fetch-client-network";throw"AbortError"===ni.name&&(ri="fetch-timeout"),jn.create(ri,{originalErrorMessage:ni.message})}let Fn=pr.status;const Ml=pr.headers.get("ETag")||void 0;let Ys,Rl;if(200===pr.status){let ni;try{ni=yield pr.json()}catch(ri){throw jn.create("fetch-client-parse",{originalErrorMessage:ri.message})}Ys=ni.entries,Rl=ni.state}if("INSTANCE_STATE_UNSPECIFIED"===Rl?Fn=500:"NO_CHANGE"===Rl?Fn=304:("NO_TEMPLATE"===Rl||"EMPTY_CONFIG"===Rl)&&(Ys={}),304!==Fn&&200!==Fn)throw jn.create("fetch-status",{httpStatus:Fn});return{status:Fn,eTag:Ml,config:Ys}})()}}class Mc{constructor(S,O){this.client=S,this.storage=O}fetch(S){var O=this;return(0,L.Z)(function*(){const U=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(S,U)})()}attemptFetch(S,{throttleEndTimeMillis:O,backoffCount:U}){var ee=this;return(0,L.Z)(function*(){yield function(w,S){return new Promise((O,U)=>{const ee=Math.max(S-Date.now(),0),ue=setTimeout(O,ee);w.addEventListener(()=>{clearTimeout(ue),U(jn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,O);try{const ue=yield ee.client.fetch(S);return yield ee.storage.deleteThrottleMetadata(),ue}catch(ue){if(!function(w){if(!(w instanceof ae.ZR&&w.customData))return!1;const S=Number(w.customData.httpStatus);return 429===S||500===S||503===S||504===S}(ue))throw ue;const Ie={throttleEndTimeMillis:Date.now()+(0,ae.$s)(U),backoffCount:U+1};return yield ee.storage.setThrottleMetadata(Ie),ee.attemptFetch(S,Ie)}})()}}class ig{constructor(S,O,U,ee,ue){this.app=S,this._client=O,this._storageCache=U,this._storage=ee,this._logger=ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function fa(w,S){const O=w.target.error||void 0;return jn.create(S,{originalErrorMessage:O&&O.message})}const Eo="app_namespace_store";class sg{constructor(S,O,U,ee=function(){return new Promise((w,S)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=U=>{S(fa(U,"storage-open"))},O.onsuccess=U=>{w(U.target.result)},O.onupgradeneeded=U=>{const ee=U.target.result;switch(U.oldVersion){case 0:ee.createObjectStore(Eo,{keyPath:"compositeKey"})}}}catch(O){S(jn.create("storage-open",{originalErrorMessage:O}))}})}()){this.appId=S,this.appName=O,this.namespace=U,this.openDbPromise=ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var O=this;return(0,L.Z)(function*(){const U=yield O.openDbPromise;return new Promise((ee,ue)=>{const Fe=U.transaction([Eo],"readonly").objectStore(Eo),Ue=O.createCompositeKey(S);try{const Dt=Fe.get(Ue);Dt.onerror=zt=>{ue(fa(zt,"storage-get"))},Dt.onsuccess=zt=>{const wn=zt.target.result;ee(wn?wn.value:void 0)}}catch(Dt){ue(jn.create("storage-get",{originalErrorMessage:Dt&&Dt.message}))}})})()}set(S,O){var U=this;return(0,L.Z)(function*(){const ee=yield U.openDbPromise;return new Promise((ue,Ie)=>{const Ue=ee.transaction([Eo],"readwrite").objectStore(Eo),Dt=U.createCompositeKey(S);try{const zt=Ue.put({compositeKey:Dt,value:O});zt.onerror=wn=>{Ie(fa(wn,"storage-set"))},zt.onsuccess=()=>{ue()}}catch(zt){Ie(jn.create("storage-set",{originalErrorMessage:zt&&zt.message}))}})})()}delete(S){var O=this;return(0,L.Z)(function*(){const U=yield O.openDbPromise;return new Promise((ee,ue)=>{const Fe=U.transaction([Eo],"readwrite").objectStore(Eo),Ue=O.createCompositeKey(S);try{const Dt=Fe.delete(Ue);Dt.onerror=zt=>{ue(fa(zt,"storage-delete"))},Dt.onsuccess=()=>{ee()}}catch(Dt){ue(jn.create("storage-delete",{originalErrorMessage:Dt&&Dt.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class sd{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,L.Z)(function*(){const O=S.storage.getLastFetchStatus(),U=S.storage.getLastSuccessfulFetchTimestampMillis(),ee=S.storage.getActiveConfig(),ue=yield O;ue&&(S.lastFetchStatus=ue);const Ie=yield U;Ie&&(S.lastSuccessfulFetchTimestampMillis=Ie);const Fe=yield ee;Fe&&(S.activeConfig=Fe)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function Oc(){return cl.apply(this,arguments)}function cl(){return(cl=(0,L.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(w){return!1}})).apply(this,arguments)}(0,he._registerComponent)(new X.wA("remote-config",function(S,{instanceIdentifier:O}){const U=S.getProvider("app").getImmediate(),ee=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw jn.create("registration-window");if(!(0,ae.hl)())throw jn.create("indexed-db-unavailable");const{projectId:ue,apiKey:Ie,appId:Fe}=U.options;if(!ue)throw jn.create("registration-project-id");if(!Ie)throw jn.create("registration-api-key");if(!Fe)throw jn.create("registration-app-id");const Ue=new sg(Fe,U.name,O=O||"firebase"),Dt=new sd(Ue),zt=new oe.Yd(Cr);zt.logLevel=oe.in.ERROR;const wn=new Jr(ee,he.SDK_VERSION,O,ue,Ie,Fe),pr=new Mc(wn,Ue),Fn=new ll(pr,Ue,Dt,zt),Ml=new ig(U,Fn,Dt,Ue,zt);return function(w){const S=(0,ae.m9)(w);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Ml),Ml},"PUBLIC").setMultipleInstances(!0)),(0,he.registerVersion)(Cr,"0.3.4"),(0,he.registerVersion)(Cr,"0.3.4","esm2017");const pa="/firebase-messaging-sw.js",ag="/firebase-cloud-messaging-push-scope",ga="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",mi="google.c.a.c_id",ma="google.c.a.c_l",Er="google.c.a.ts",_a="google.c.a.e";var tr=(()=>{return(w=tr||(tr={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",tr;var w})();function _i(w){const S=new Uint8Array(w);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ul(w){const O=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(O),ee=new Uint8Array(U.length);for(let ue=0;ue<U.length;++ue)ee[ue]=U.charCodeAt(ue);return ee}const Pc="fcm_token_details_db",Kh="fcm_token_object_Store";function wr(w){return ya.apply(this,arguments)}function ya(){return(ya=(0,L.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ue=>ue.name).includes(Pc))return null;let S=null;return(yield(0,Q.openDb)(Pc,5,function(){var U=(0,L.Z)(function*(ee){var ue;if(ee.oldVersion<2||!ee.objectStoreNames.contains(Kh))return;const Ie=ee.transaction.objectStore(Kh),Fe=yield Ie.index("fcmSenderId").get(w);if(yield Ie.clear(),Fe)if(2===ee.oldVersion){const Ue=Fe;if(!Ue.auth||!Ue.p256dh||!Ue.endpoint)return;S={token:Ue.fcmToken,createTime:null!==(ue=Ue.createTime)&&void 0!==ue?ue:Date.now(),subscriptionOptions:{auth:Ue.auth,p256dh:Ue.p256dh,endpoint:Ue.endpoint,swScope:Ue.swScope,vapidKey:"string"==typeof Ue.vapidKey?Ue.vapidKey:_i(Ue.vapidKey)}}}else if(3===ee.oldVersion){const Ue=Fe;S={token:Ue.fcmToken,createTime:Ue.createTime,subscriptionOptions:{auth:_i(Ue.auth),p256dh:_i(Ue.p256dh),endpoint:Ue.endpoint,swScope:Ue.swScope,vapidKey:_i(Ue.vapidKey)}}}else if(4===ee.oldVersion){const Ue=Fe;S={token:Ue.fcmToken,createTime:Ue.createTime,subscriptionOptions:{auth:_i(Ue.auth),p256dh:_i(Ue.p256dh),endpoint:Ue.endpoint,swScope:Ue.swScope,vapidKey:_i(Ue.vapidKey)}}}});return function(ee){return U.apply(this,arguments)}}())).close(),yield(0,Q.deleteDb)(Pc),yield(0,Q.deleteDb)("fcm_vapid_details_db"),yield(0,Q.deleteDb)("undefined"),ld(S)?S:null})).apply(this,arguments)}function ld(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:S}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const ls="firebase-messaging-store";let cd=null;function Wt(){return cd||(cd=(0,Q.openDb)("firebase-messaging-database",1,w=>{switch(w.oldVersion){case 0:w.createObjectStore(ls)}})),cd}function ud(w){return yi.apply(this,arguments)}function yi(){return(yi=(0,L.Z)(function*(w){const S=Hs(w),U=yield(yield Wt()).transaction(ls).objectStore(ls).get(S);if(U)return U;{const ee=yield wr(w.appConfig.senderId);if(ee)return yield Xr(w,ee),ee}})).apply(this,arguments)}function Xr(w,S){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,L.Z)(function*(w,S){const O=Hs(w),ee=(yield Wt()).transaction(ls,"readwrite");return yield ee.objectStore(ls).put(S,O),yield ee.complete,S})).apply(this,arguments)}function Do(w){return hl.apply(this,arguments)}function hl(){return(hl=(0,L.Z)(function*(w){const S=Hs(w),U=(yield Wt()).transaction(ls,"readwrite");yield U.objectStore(ls).delete(S),yield U.complete})).apply(this,arguments)}function Hs({appConfig:w}){return w.appId}const Tn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function cs(w,S){return us.apply(this,arguments)}function us(){return(us=(0,L.Z)(function*(w,S){const O=yield va(w),U=Xe(S),ee={method:"POST",headers:O,body:JSON.stringify(U)};let ue;try{ue=yield(yield fetch(vn(w.appConfig),ee)).json()}catch(Ie){throw Tn.create("token-subscribe-failed",{errorInfo:Ie})}if(ue.error)throw Tn.create("token-subscribe-failed",{errorInfo:ue.error.message});if(!ue.token)throw Tn.create("token-subscribe-no-token");return ue.token})).apply(this,arguments)}function Zn(w,S){return fl.apply(this,arguments)}function fl(){return(fl=(0,L.Z)(function*(w,S){const O=yield va(w),U=Xe(S.subscriptionOptions),ee={method:"PATCH",headers:O,body:JSON.stringify(U)};let ue;try{ue=yield(yield fetch(`${vn(w.appConfig)}/${S.token}`,ee)).json()}catch(Ie){throw Tn.create("token-update-failed",{errorInfo:Ie})}if(ue.error)throw Tn.create("token-update-failed",{errorInfo:ue.error.message});if(!ue.token)throw Tn.create("token-update-no-token");return ue.token})).apply(this,arguments)}function pl(w,S){return ds.apply(this,arguments)}function ds(){return(ds=(0,L.Z)(function*(w,S){const U={method:"DELETE",headers:yield va(w)};try{const ue=yield(yield fetch(`${vn(w.appConfig)}/${S}`,U)).json();if(ue.error)throw Tn.create("token-unsubscribe-failed",{errorInfo:ue.error.message})}catch(ee){throw Tn.create("token-unsubscribe-failed",{errorInfo:ee})}})).apply(this,arguments)}function vn({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function va(w){return ba.apply(this,arguments)}function ba(){return(ba=(0,L.Z)(function*({appConfig:w,installations:S}){const O=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Xe({p256dh:w,auth:S,endpoint:O,vapidKey:U}){const ee={web:{endpoint:O,auth:S,p256dh:w}};return U!==ga&&(ee.web.applicationPubKey=U),ee}const gl=6048e5;function dd(w){return ml.apply(this,arguments)}function ml(){return(ml=(0,L.Z)(function*(w){const S=yield _l(w.swRegistration,w.vapidKey),O={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:S.endpoint,auth:_i(S.getKey("auth")),p256dh:_i(S.getKey("p256dh"))},U=yield ud(w.firebaseDependencies);if(U){if(yl(U.subscriptionOptions,O))return Date.now()>=U.createTime+gl?xc(w,{token:U.token,createTime:Date.now(),subscriptionOptions:O}):U.token;try{yield pl(w.firebaseDependencies,U.token)}catch(ee){console.warn(ee)}return we(w.firebaseDependencies,O)}return we(w.firebaseDependencies,O)})).apply(this,arguments)}function hd(w){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,L.Z)(function*(w){const S=yield ud(w.firebaseDependencies);S&&(yield pl(w.firebaseDependencies,S.token),yield Do(w.firebaseDependencies));const O=yield w.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function xc(w,S){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,L.Z)(function*(w,S){try{const O=yield Zn(w.firebaseDependencies,S),U=Object.assign(Object.assign({},S),{token:O,createTime:Date.now()});return yield Xr(w.firebaseDependencies,U),O}catch(O){throw yield hd(w),O}})).apply(this,arguments)}function we(w,S){return gt.apply(this,arguments)}function gt(){return(gt=(0,L.Z)(function*(w,S){const U={token:yield cs(w,S),createTime:Date.now(),subscriptionOptions:S};return yield Xr(w,U),U.token})).apply(this,arguments)}function _l(w,S){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,L.Z)(function*(w,S){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ul(S)})})).apply(this,arguments)}function yl(w,S){return S.vapidKey===w.vapidKey&&S.endpoint===w.endpoint&&S.auth===w.auth&&S.p256dh===w.p256dh}function vi(w){const S={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function(w,S){if(!S.notification)return;w.notification={};const O=S.notification.title;O&&(w.notification.title=O);const U=S.notification.body;U&&(w.notification.body=U);const ee=S.notification.image;ee&&(w.notification.image=ee)}(S,w),function(w,S){!S.data||(w.data=S.data)}(S,w),function(w,S){if(!S.fcmOptions)return;w.fcmOptions={};const O=S.fcmOptions.link;O&&(w.fcmOptions.link=O);const U=S.fcmOptions.analytics_label;U&&(w.fcmOptions.analyticsLabel=U)}(S,w),S}function fd(w){return"object"==typeof w&&!!w&&mi in w}function kc(w,S){const O=[];for(let U=0;U<w.length;U++)O.push(w.charAt(U)),U<S.length&&O.push(S.charAt(U));return O.join("")}function So(w){return Tn.create("missing-app-config-values",{valueName:w})}kc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),kc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class bn{constructor(S,O,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ee=function(w){if(!w||!w.options)throw So("App Configuration Object");if(!w.name)throw So("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:O}=w;for(const U of S)if(!O[U])throw So(U);return{appName:w.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:ee,installations:O,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Ur(w){return wa.apply(this,arguments)}function wa(){return(wa=(0,L.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(pa,{scope:ag}),w.swRegistration.update().catch(()=>{})}catch(S){throw Tn.create("failed-service-worker-registration",{browserErrorMessage:S.message})}})).apply(this,arguments)}function jr(w,S){return rr.apply(this,arguments)}function rr(){return(rr=(0,L.Z)(function*(w,S){if(!S&&!w.swRegistration&&(yield Ur(w)),S||!w.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw Tn.create("invalid-sw-registration");w.swRegistration=S}})).apply(this,arguments)}function Nc(w,S){return vl.apply(this,arguments)}function vl(){return(vl=(0,L.Z)(function*(w,S){S?w.vapidKey=S:w.vapidKey||(w.vapidKey=ga)})).apply(this,arguments)}function Fc(){return(Fc=(0,L.Z)(function*(w,S){if(!navigator)throw Tn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Tn.create("permission-blocked");return yield Nc(w,null==S?void 0:S.vapidKey),yield jr(w,null==S?void 0:S.serviceWorkerRegistration),dd(w)})).apply(this,arguments)}function Ia(w,S,O){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,L.Z)(function*(w,S,O){const U=bl(S);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:O[mi],message_name:O[ma],message_time:O[Er],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function bl(w){switch(w){case tr.NOTIFICATION_CLICKED:return"notification_open";case tr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Mo(){return(Mo=(0,L.Z)(function*(w,S){const O=S.data;if(!O.isFirebaseMessaging)return;w.onMessageHandler&&O.messageType===tr.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(vi(O)):w.onMessageHandler.next(vi(O)));const U=O.data;fd(U)&&"1"===U[_a]&&(yield Ia(w,O.messageType,U))})).apply(this,arguments)}const Lc="@firebase/messaging";function md(){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,L.Z)(function*(){try{yield(0,ae.eu)()}catch(w){return!1}return"undefined"!=typeof window&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,he._registerComponent)(new X.wA("messaging",w=>{const S=new bn(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function(w,S){return Mo.apply(this,arguments)}(S,O)),S},"PUBLIC")),(0,he._registerComponent)(new X.wA("messaging-internal",w=>{const S=w.getProvider("messaging").getImmediate();return{getToken:U=>function(w,S){return Fc.apply(this,arguments)}(S,U)}},"PRIVATE")),(0,he.registerVersion)(Lc,"0.9.9"),(0,he.registerVersion)(Lc,"0.9.9","esm2017");const Oo="analytics",Xh="firebase_id",hs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Aa="https://www.googletagmanager.com/gtag/js",gn=new oe.Yd("@firebase/analytics");function Uc(w){return Promise.all(w.map(S=>S.catch(O=>O)))}function ef(w,S){const O=document.createElement("script");O.src=`${Aa}?l=${w}&id=${S}`,O.async=!0,document.head.appendChild(O)}function Po(w,S,O,U,ee,ue){return yd.apply(this,arguments)}function yd(){return(yd=(0,L.Z)(function*(w,S,O,U,ee,ue){const Ie=U[ee];try{if(Ie)yield S[Ie];else{const Ue=(yield Uc(O)).find(Dt=>Dt.measurementId===ee);Ue&&(yield S[Ue.appId])}}catch(Fe){gn.error(Fe)}w("config",ee,ue)})).apply(this,arguments)}function xo(w,S,O,U,ee){return fs.apply(this,arguments)}function fs(){return(fs=(0,L.Z)(function*(w,S,O,U,ee){try{let ue=[];if(ee&&ee.send_to){let Ie=ee.send_to;Array.isArray(Ie)||(Ie=[Ie]);const Fe=yield Uc(O);for(const Ue of Ie){const Dt=Fe.find(wn=>wn.measurementId===Ue),zt=Dt&&S[Dt.appId];if(!zt){ue=[];break}ue.push(zt)}}0===ue.length&&(ue=Object.values(S)),yield Promise.all(ue),w("event",U,ee||{})}catch(ue){gn.error(ue)}})).apply(this,arguments)}function ug(){const w=window.document.getElementsByTagName("script");for(const S of Object.values(w))if(S.src&&S.src.includes(Aa))return S;return null}const ei=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),El=new class{constructor(S={},O=1e3){this.throttleMetadata=S,this.intervalMillis=O}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,O){this.throttleMetadata[S]=O}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function nf(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function $c(w){return ps.apply(this,arguments)}function ps(){return(ps=(0,L.Z)(function*(w){var S;const{appId:O,apiKey:U}=w,ee={method:"GET",headers:nf(U)},ue=hs.replace("{app-id}",O),Ie=yield fetch(ue,ee);if(200!==Ie.status&&304!==Ie.status){let Fe="";try{const Ue=yield Ie.json();(null===(S=Ue.error)||void 0===S?void 0:S.message)&&(Fe=Ue.error.message)}catch(Ue){}throw ei.create("config-fetch-failed",{httpStatus:Ie.status,responseMessage:Fe})}return Ie.json()})).apply(this,arguments)}function bd(w){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,L.Z)(function*(w,S=El,O){const{appId:U,apiKey:ee,measurementId:ue}=w.options;if(!U)throw ei.create("no-app-id");if(!ee){if(ue)return{measurementId:ue,appId:U};throw ei.create("no-api-key")}const Ie=S.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Fe=new rf;return setTimeout((0,L.Z)(function*(){Fe.abort()}),void 0!==O?O:6e4),Ma({appId:U,apiKey:ee,measurementId:ue},Ie,Fe,S)})).apply(this,arguments)}function Ma(w,S,O){return ko.apply(this,arguments)}function ko(){return(ko=(0,L.Z)(function*(w,{throttleEndTimeMillis:S,backoffCount:O},U,ee=El){const{appId:ue,measurementId:Ie}=w;try{yield F_(U,S)}catch(Fe){if(Ie)return gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ie} provided in the "measurementId" field in the local Firebase config. [${Fe.message}]`),{appId:ue,measurementId:Ie};throw Fe}try{const Fe=yield $c(w);return ee.deleteThrottleMetadata(ue),Fe}catch(Fe){if(!Cd(Fe)){if(ee.deleteThrottleMetadata(ue),Ie)return gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ie} provided in the "measurementId" field in the local Firebase config. [${Fe.message}]`),{appId:ue,measurementId:Ie};throw Fe}const Ue=503===Number(Fe.customData.httpStatus)?(0,ae.$s)(O,ee.intervalMillis,30):(0,ae.$s)(O,ee.intervalMillis),Dt={throttleEndTimeMillis:Date.now()+Ue,backoffCount:O+1};return ee.setThrottleMetadata(ue,Dt),gn.debug(`Calling attemptFetch again in ${Ue} millis`),Ma(w,Dt,U,ee)}})).apply(this,arguments)}function F_(w,S){return new Promise((O,U)=>{const ee=Math.max(S-Date.now(),0),ue=setTimeout(O,ee);w.addEventListener(()=>{clearTimeout(ue),U(ei.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function Cd(w){if(!(w instanceof ae.ZR&&w.customData))return!1;const S=Number(w.customData.httpStatus);return 429===S||500===S||503===S||504===S}class rf{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function Ed(){return wl.apply(this,arguments)}function wl(){return(wl=(0,L.Z)(function*(){if(!(0,ae.hl)())return gn.warn(ei.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(w){return gn.warn(ei.create("indexeddb-unavailable",{errorInfo:w}).message),!1}return!0})).apply(this,arguments)}function Gs(){return(Gs=(0,L.Z)(function*(w,S,O,U,ee,ue,Ie){var Fe;const Ue=bd(w);Ue.then(Fn=>{O[Fn.measurementId]=Fn.appId,w.options.measurementId&&Fn.measurementId!==w.options.measurementId&&gn.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${Fn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Fn=>gn.error(Fn)),S.push(Ue);const Dt=Ed().then(Fn=>{if(Fn)return U.getId()}),[zt,wn]=yield Promise.all([Ue,Dt]);ug()||ef(ue,zt.measurementId),ee("js",new Date);const pr=null!==(Fe=null==Ie?void 0:Ie.config)&&void 0!==Fe?Fe:{};return pr.origin="firebase",pr.update=!0,null!=wn&&(pr[Xh]=wn),ee("config",zt.measurementId,pr),zt.measurementId})).apply(this,arguments)}class mn{constructor(S){this.app=S}_delete(){return delete je[this.app.options.appId],Promise.resolve()}}let je={},lt=[];const Gc={};let Oa,Qt,ir="dataLayer",Dl=!1;function an(w,S,O){!function(){const w=[];if((0,ae.ru)()&&w.push("This is a browser extension environment."),(0,ae.zI)()||w.push("Cookies are not available."),w.length>0){const S=w.map((U,ee)=>`(${ee+1}) ${U}`).join(" "),O=ei.create("invalid-analytics-context",{errorInfo:S});gn.warn(O.message)}}();const U=w.options.appId;if(!U)throw ei.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw ei.create("no-api-key");gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=je[U])throw ei.create("already-exists",{id:U});if(!Dl){!function(w){let S=[];Array.isArray(window[w])?S=window[w]:window[w]=S}(ir);const{wrappedGtag:ue,gtagCore:Ie}=function(w,S,O,U,ee){let ue=function(...Ie){window[U].push(arguments)};return window[ee]&&"function"==typeof window[ee]&&(ue=window[ee]),window[ee]=function(w,S,O,U){function ue(){return(ue=(0,L.Z)(function*(Ie,Fe,Ue){try{"event"===Ie?yield xo(w,S,O,Fe,Ue):"config"===Ie?yield Po(w,S,O,U,Fe,Ue):w("set",Fe)}catch(Dt){gn.error(Dt)}})).apply(this,arguments)}return function(Ie,Fe,Ue){return ue.apply(this,arguments)}}(ue,w,S,O),{gtagCore:ue,wrappedGtag:window[ee]}}(je,lt,Gc,ir,"gtag");Qt=ue,Oa=Ie,Dl=!0}return je[U]=function(w,S,O,U,ee,ue,Ie){return Gs.apply(this,arguments)}(w,lt,Gc,S,Oa,ir,O),new mn(w)}function Il(){return(Il=(0,L.Z)(function*(w,S,O,U,ee){if(ee&&ee.global)w("event",O,U);else{const ue=yield S;w("event",O,Object.assign(Object.assign({},U),{send_to:ue}))}})).apply(this,arguments)}function $r(){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,L.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(w){return!1}})).apply(this,arguments)}const Id="@firebase/analytics";(0,he._registerComponent)(new X.wA(Oo,(S,{options:O})=>an(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,he._registerComponent)(new X.wA("analytics-internal",function(S){try{const O=S.getProvider(Oo).getImmediate();return{logEvent:(U,ee,ue)=>function(w,S,O,U){w=(0,ae.m9)(w),function(w,S,O,U,ee){return Il.apply(this,arguments)}(Qt,je[w.app.options.appId],S,O,U).catch(ee=>gn.error(ee))}(O,U,ee,ue)}}catch(O){throw ei.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,he.registerVersion)(Id,"0.7.5"),(0,he.registerVersion)(Id,"0.7.5","esm2017");var L_=V(7771),ka=V(3637),Al=V(3342),Wc=V(9673),pg=V(309);const Td=new d.GfV("7.2.1"),Tr="__angularfire_symbol__analyticsIsSupportedValue",zc="__angularfire_symbol__analyticsIsSupported",_s="__angularfire_symbol__remoteConfigIsSupportedValue",ys="__angularfire_symbol__remoteConfigIsSupported",_n="__angularfire_symbol__messagingIsSupportedValue",$i="__angularfire_symbol__messagingIsSupported";function bi(w,S,O){if(S){if(1===S.length)return S[0];const ue=S.filter(Ie=>Ie.app===O);if(1===ue.length)return ue[0]}return O.container.getProvider(w).getImmediate({optional:!0})}globalThis[zc]||(globalThis[zc]=$r().then(w=>globalThis[Tr]=w).catch(()=>globalThis[Tr]=!1)),globalThis[$i]||(globalThis[$i]=md().then(w=>globalThis[_n]=w).catch(()=>globalThis[_n]=!1)),globalThis[ys]||(globalThis[ys]=Oc().then(w=>globalThis[_s]=w).catch(()=>globalThis[_s]=!1));const Na=(w,S)=>{const O=S?[S]:(0,te.C6)(),U=[];return O.forEach(ee=>{ee.container.getProvider(w).instances.forEach(Ie=>{U.includes(Ie)||U.push(Ie)})}),U};function Wr(){}class Gi{constructor(S,O=L_.N){this.zone=S,this.delegate=O}now(){return this.delegate.now()}schedule(S,O,U){const ee=this.zone;return this.delegate.schedule(function(Ie){ee.runGuarded(()=>{S.apply(this,[Ie])})},O,U)}}class Ad{constructor(S){this.zone=S,this.task=null}call(S,O){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wr,{},Wr,Wr)),O.pipe((0,Al.b)({next:U,complete:U,error:U})).subscribe(S).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Zc=(()=>{class w{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new Gi(Zone.current)),this.insideAngular=O.run(()=>new Gi(Zone.current,ka.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(O){return new(O||w)(d.LFG(d.R0b))},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function Ws(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function Nn(w){return Ws(),function(w){return function(O){return(O=O.lift(new Ad(w.ngZone))).pipe((0,Wc.R)(w.outsideAngular),(0,pg.QV)(w.insideAngular))}}(Ws())(w)}},3854:($e,Ee,V)=>{"use strict";V.d(Ee,{BH:()=>ce,LL:()=>Ge,ZR:()=>Ot,gQ:()=>Te,zI:()=>ot,hu:()=>te,g5:()=>L,US:()=>X,tV:()=>J,h$:()=>oe,$s:()=>Pt,r3:()=>Ht,Sg:()=>ie,ne:()=>Vn,p$:()=>F,vZ:()=>Bt,ZB:()=>j,gK:()=>Un,pd:()=>fi,m9:()=>ua,z$:()=>ye,GJ:()=>ss,jU:()=>se,ru:()=>ve,xb:()=>un,w1:()=>wt,hl:()=>cn,uI:()=>me,UG:()=>ge,Yr:()=>Nt,b$:()=>Oe,w9:()=>xi,cI:()=>go,UI:()=>Rn,xO:()=>mo,zd:()=>Zr,DV:()=>xs,ug:()=>Xt,dS:()=>_o,Pz:()=>is,Dv:()=>ur,Wj:()=>pn,lb:()=>rn,eu:()=>ft});const te=function(Y,H){if(!Y)throw L(H)},L=function(Y){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Y)},he=function(Y){const H=[];let q=0;for(let Ce=0;Ce<Y.length;Ce++){let le=Y.charCodeAt(Ce);le<128?H[q++]=le:le<2048?(H[q++]=le>>6|192,H[q++]=63&le|128):55296==(64512&le)&&Ce+1<Y.length&&56320==(64512&Y.charCodeAt(Ce+1))?(le=65536+((1023&le)<<10)+(1023&Y.charCodeAt(++Ce)),H[q++]=le>>18|240,H[q++]=le>>12&63|128,H[q++]=le>>6&63|128,H[q++]=63&le|128):(H[q++]=le>>12|224,H[q++]=le>>6&63|128,H[q++]=63&le|128)}return H},X={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,H){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ce=[];for(let le=0;le<Y.length;le+=3){const Ve=Y[le],De=le+1<Y.length,_e=De?Y[le+1]:0,Pe=le+2<Y.length,ze=Pe?Y[le+2]:0;let qt=(15&_e)<<2|ze>>6,Gn=63&ze;Pe||(Gn=64,De||(qt=64)),Ce.push(q[Ve>>2],q[(3&Ve)<<4|_e>>4],q[qt],q[Gn])}return Ce.join("")},encodeString(Y,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(Y):this.encodeByteArray(he(Y),H)},decodeString(Y,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(Y):function(Y){const H=[];let q=0,Ce=0;for(;q<Y.length;){const le=Y[q++];if(le<128)H[Ce++]=String.fromCharCode(le);else if(le>191&&le<224){const Ve=Y[q++];H[Ce++]=String.fromCharCode((31&le)<<6|63&Ve)}else if(le>239&&le<365){const Pe=((7&le)<<18|(63&Y[q++])<<12|(63&Y[q++])<<6|63&Y[q++])-65536;H[Ce++]=String.fromCharCode(55296+(Pe>>10)),H[Ce++]=String.fromCharCode(56320+(1023&Pe))}else{const Ve=Y[q++],De=Y[q++];H[Ce++]=String.fromCharCode((15&le)<<12|(63&Ve)<<6|63&De)}}return H.join("")}(this.decodeStringToByteArray(Y,H))},decodeStringToByteArray(Y,H){this.init_();const q=H?this.charToByteMapWebSafe_:this.charToByteMap_,Ce=[];for(let le=0;le<Y.length;){const Ve=q[Y.charAt(le++)],_e=le<Y.length?q[Y.charAt(le)]:0;++le;const ze=le<Y.length?q[Y.charAt(le)]:64;++le;const Qe=le<Y.length?q[Y.charAt(le)]:64;if(++le,null==Ve||null==_e||null==ze||null==Qe)throw Error();Ce.push(Ve<<2|_e>>4),64!==ze&&(Ce.push(_e<<4&240|ze>>2),64!==Qe&&Ce.push(ze<<6&192|Qe))}return Ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}},oe=function(Y){const H=he(Y);return X.encodeByteArray(H,!0)},Q=function(Y){return oe(Y).replace(/\./g,"")},J=function(Y){try{return X.decodeString(Y,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function F(Y){return j(void 0,Y)}function j(Y,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===Y&&(Y={});break;case Array:Y=[];break;default:return H}for(const q in H)!H.hasOwnProperty(q)||!G(q)||(Y[q]=j(Y[q],H[q]));return Y}function G(Y){return"__proto__"!==Y}class ce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,q)=>{this.resolve=H,this.reject=q})}wrapCallback(H){return(q,Ce)=>{q?this.reject(q):this.resolve(Ce),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(q):H(q,Ce))}}}function ie(Y,H){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ce=H||"demo-project",le=Y.iat||0,Ve=Y.sub||Y.user_id;if(!Ve)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const De=Object.assign({iss:`https://securetoken.google.com/${Ce}`,aud:Ce,iat:le,exp:le+3600,auth_time:le,sub:Ve,user_id:Ve,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[Q(JSON.stringify({alg:"none",type:"JWT"})),Q(JSON.stringify(De)),""].join(".")}function ye(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function me(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ye())}function ge(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Y){return!1}}function se(){return"object"==typeof self&&self.self===self}function ve(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function Oe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function wt(){const Y=ye();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function Nt(){return!1}function cn(){return"object"==typeof indexedDB}function ft(){return new Promise((Y,H)=>{try{let q=!0;const Ce="validate-browser-context-for-indexeddb-analytics-module",le=self.indexedDB.open(Ce);le.onsuccess=()=>{le.result.close(),q||self.indexedDB.deleteDatabase(Ce),Y(!0)},le.onupgradeneeded=()=>{q=!1},le.onerror=()=>{var Ve;H((null===(Ve=le.error)||void 0===Ve?void 0:Ve.message)||"")}}catch(q){H(q)}})}function ot(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ot extends Error{constructor(H,q,Ce){super(q),this.code=H,this.customData=Ce,this.name="FirebaseError",Object.setPrototypeOf(this,Ot.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ge.prototype.create)}}class Ge{constructor(H,q,Ce){this.service=H,this.serviceName=q,this.errors=Ce}create(H,...q){const Ce=q[0]||{},le=`${this.service}/${H}`,Ve=this.errors[H],De=Ve?function(Y,H){return Y.replace(rs,(q,Ce)=>{const le=H[Ce];return null!=le?String(le):`<${Ce}?>`})}(Ve,Ce):"Error";return new Ot(le,`${this.serviceName}: ${De} (${le}).`,Ce)}}const rs=/\{\$([^}]+)}/g;function go(Y){return JSON.parse(Y)}function is(Y){return JSON.stringify(Y)}const tn=function(Y){let H={},q={},Ce={},le="";try{const Ve=Y.split(".");H=go(J(Ve[0])||""),q=go(J(Ve[1])||""),le=Ve[2],Ce=q.d||{},delete q.d}catch(Ve){}return{header:H,claims:q,data:Ce,signature:le}},xi=function(Y){const q=tn(Y).claims;return!!q&&"object"==typeof q&&q.hasOwnProperty("iat")},ss=function(Y){const H=tn(Y).claims;return"object"==typeof H&&!0===H.admin};function Ht(Y,H){return Object.prototype.hasOwnProperty.call(Y,H)}function xs(Y,H){if(Object.prototype.hasOwnProperty.call(Y,H))return Y[H]}function un(Y){for(const H in Y)if(Object.prototype.hasOwnProperty.call(Y,H))return!1;return!0}function Rn(Y,H,q){const Ce={};for(const le in Y)Object.prototype.hasOwnProperty.call(Y,le)&&(Ce[le]=H.call(q,Y[le],le,Y));return Ce}function Bt(Y,H){if(Y===H)return!0;const q=Object.keys(Y),Ce=Object.keys(H);for(const le of q){if(!Ce.includes(le))return!1;const Ve=Y[le],De=H[le];if(Lt(Ve)&&Lt(De)){if(!Bt(Ve,De))return!1}else if(Ve!==De)return!1}for(const le of Ce)if(!q.includes(le))return!1;return!0}function Lt(Y){return null!==Y&&"object"==typeof Y}function mo(Y){const H=[];for(const[q,Ce]of Object.entries(Y))Array.isArray(Ce)?Ce.forEach(le=>{H.push(encodeURIComponent(q)+"="+encodeURIComponent(le))}):H.push(encodeURIComponent(q)+"="+encodeURIComponent(Ce));return H.length?"&"+H.join("&"):""}function Zr(Y){const H={};return Y.replace(/^\?/,"").split("&").forEach(Ce=>{if(Ce){const[le,Ve]=Ce.split("=");H[decodeURIComponent(le)]=decodeURIComponent(Ve)}}),H}function fi(Y){const H=Y.indexOf("?");if(!H)return"";const q=Y.indexOf("#",H);return Y.substring(H,q>0?q:void 0)}class Te{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let H=1;H<this.blockSize;++H)this.pad_[H]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(H,q){q||(q=0);const Ce=this.W_;if("string"==typeof H)for(let Qe=0;Qe<16;Qe++)Ce[Qe]=H.charCodeAt(q)<<24|H.charCodeAt(q+1)<<16|H.charCodeAt(q+2)<<8|H.charCodeAt(q+3),q+=4;else for(let Qe=0;Qe<16;Qe++)Ce[Qe]=H[q]<<24|H[q+1]<<16|H[q+2]<<8|H[q+3],q+=4;for(let Qe=16;Qe<80;Qe++){const qt=Ce[Qe-3]^Ce[Qe-8]^Ce[Qe-14]^Ce[Qe-16];Ce[Qe]=4294967295&(qt<<1|qt>>>31)}let ze,ut,le=this.chain_[0],Ve=this.chain_[1],De=this.chain_[2],_e=this.chain_[3],Pe=this.chain_[4];for(let Qe=0;Qe<80;Qe++){Qe<40?Qe<20?(ze=_e^Ve&(De^_e),ut=1518500249):(ze=Ve^De^_e,ut=1859775393):Qe<60?(ze=Ve&De|_e&(Ve|De),ut=2400959708):(ze=Ve^De^_e,ut=3395469782);const qt=(le<<5|le>>>27)+ze+Pe+ut+Ce[Qe]&4294967295;Pe=_e,_e=De,De=4294967295&(Ve<<30|Ve>>>2),Ve=le,le=qt}this.chain_[0]=this.chain_[0]+le&4294967295,this.chain_[1]=this.chain_[1]+Ve&4294967295,this.chain_[2]=this.chain_[2]+De&4294967295,this.chain_[3]=this.chain_[3]+_e&4294967295,this.chain_[4]=this.chain_[4]+Pe&4294967295}update(H,q){if(null==H)return;void 0===q&&(q=H.length);const Ce=q-this.blockSize;let le=0;const Ve=this.buf_;let De=this.inbuf_;for(;le<q;){if(0===De)for(;le<=Ce;)this.compress_(H,le),le+=this.blockSize;if("string"==typeof H){for(;le<q;)if(Ve[De]=H.charCodeAt(le),++De,++le,De===this.blockSize){this.compress_(Ve),De=0;break}}else for(;le<q;)if(Ve[De]=H[le],++De,++le,De===this.blockSize){this.compress_(Ve),De=0;break}}this.inbuf_=De,this.total_+=q}digest(){const H=[];let q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let le=this.blockSize-1;le>=56;le--)this.buf_[le]=255&q,q/=256;this.compress_(this.buf_);let Ce=0;for(let le=0;le<5;le++)for(let Ve=24;Ve>=0;Ve-=8)H[Ce]=this.chain_[le]>>Ve&255,++Ce;return H}}function Vn(Y,H){const q=new Bn(Y,H);return q.subscribe.bind(q)}class Bn{constructor(H,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{H(this)}).catch(Ce=>{this.error(Ce)})}next(H){this.forEachObserver(q=>{q.next(H)})}error(H){this.forEachObserver(q=>{q.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,q,Ce){let le;if(void 0===H&&void 0===q&&void 0===Ce)throw new Error("Missing Observer.");le=function(Y,H){if("object"!=typeof Y||null===Y)return!1;for(const q of["next","error","complete"])if(q in Y&&"function"==typeof Y[q])return!0;return!1}(H)?H:{next:H,error:q,complete:Ce},void 0===le.next&&(le.next=qr),void 0===le.error&&(le.error=qr),void 0===le.complete&&(le.complete=qr);const Ve=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?le.error(this.finalError):le.complete()}catch(De){}}),this.observers.push(le),Ve}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,H)}sendOne(H,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{q(this.observers[H])}catch(Ce){"undefined"!=typeof console&&console.error&&console.error(Ce)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qr(){}const ur=function(Y,H,q,Ce){let le;if(Ce<H?le="at least "+H:Ce>q&&(le=0===q?"none":"no more than "+q),le)throw new Error(Y+" failed: Was called with "+Ce+(1===Ce?" argument.":" arguments.")+" Expects "+le+".")};function Un(Y,H){return`${Y} failed: ${H} argument `}function pn(Y,H,q,Ce){if((!Ce||q)&&"function"!=typeof q)throw new Error(Un(Y,H)+"must be a valid function.")}function rn(Y,H,q,Ce){if((!Ce||q)&&("object"!=typeof q||null===q))throw new Error(Un(Y,H)+"must be a valid context object.")}const _o=function(Y){const H=[];let q=0;for(let Ce=0;Ce<Y.length;Ce++){let le=Y.charCodeAt(Ce);if(le>=55296&&le<=56319){const Ve=le-55296;Ce++,te(Ce<Y.length,"Surrogate pair missing trail surrogate."),le=65536+(Ve<<10)+(Y.charCodeAt(Ce)-56320)}le<128?H[q++]=le:le<2048?(H[q++]=le>>6|192,H[q++]=63&le|128):le<65536?(H[q++]=le>>12|224,H[q++]=le>>6&63|128,H[q++]=63&le|128):(H[q++]=le>>18|240,H[q++]=le>>12&63|128,H[q++]=le>>6&63|128,H[q++]=63&le|128)}return H},Xt=function(Y){let H=0;for(let q=0;q<Y.length;q++){const Ce=Y.charCodeAt(q);Ce<128?H++:Ce<2048?H+=2:Ce>=55296&&Ce<=56319?(H+=4,q++):H+=3}return H};function Pt(Y,H=1e3,q=2){const Ce=H*Math.pow(q,Y),le=Math.round(.5*Ce*(Math.random()-.5)*2);return Math.min(144e5,Ce+le)}function ua(Y){return Y&&Y._delegate?Y._delegate:Y}},2329:($e,Ee,V)=>{"use strict";V.d(Ee,{Mq:()=>d.getApp,C6:()=>d.getApps});var d=V(8026);(0,d.registerVersion)("firebase","9.6.8","app")},7841:($e,Ee,V)=>{"use strict";V.d(Ee,{Z:()=>d.Z});var d=V(3394);d.Z.registerVersion("firebase","9.6.8","app-compat")},8426:($e,Ee,V)=>{"use strict";V.r(Ee);var d=V(8239),te=V(3394),L=V(3854),he=V(8026);function Q(y,p){var g={};for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&p.indexOf(b)<0&&(g[b]=y[b]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var T=0;for(b=Object.getOwnPropertySymbols(y);T<b.length;T++)p.indexOf(b[T])<0&&Object.prototype.propertyIsEnumerable.call(y,b[T])&&(g[b[T]]=y[b[T]])}return g}var Ot=V(5422),Ge=V(3910);const xi=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ss=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ht=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),un=new Ot.Yd("@firebase/auth");function Rn(y,...p){un.logLevel<=Ot.in.ERROR&&un.error(`Auth (${he.SDK_VERSION}): ${y}`,...p)}function Bt(y,...p){throw fi(y,...p)}function Lt(y,...p){return fi(y,...p)}function mo(y,p,g){const b=Object.assign(Object.assign({},ss()),{[p]:g});return new L.LL("auth","Firebase",b).create(p,{appName:y.name})}function Zr(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Bt(y,"argument-error"),mo(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fi(y,...p){if("string"!=typeof y){const g=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(g,...b)}return Ht.create(y,...p)}function Te(y,p,...g){if(!y)throw fi(p,...g)}function Vn(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Rn(p),new Error(p)}function Bn(y,p){y||Vn(p)}const We=new Map;function St(y){Bn(y instanceof Function,"Expected a class definition");let p=We.get(y);return p?(Bn(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,We.set(y,p),p)}function Un(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ks(){return"http:"===pn()||"https:"===pn()}function pn(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Xt{constructor(p,g){this.shortDelay=p,this.longDelay=g,Bn(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ks()||(0,L.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function ke(y,p){Bn(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Je{static initialize(p,g,b){this.fetchImpl=p,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ns={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},pi=new Xt(3e4,6e4);function Pt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function et(y,p,g,b){return $n.apply(this,arguments)}function $n(){return($n=(0,d.Z)(function*(y,p,g,b,T={}){return ua(y,T,(0,d.Z)(function*(){let R={},W={};b&&("GET"===p?W=b:R={body:JSON.stringify(b)});const de=(0,L.xO)(Object.assign({key:y.config.apiKey},W)).slice(1),Re=yield y._getAdditionalHeaders();return Re["Content-Type"]="application/json",y.languageCode&&(Re["X-Firebase-Locale"]=y.languageCode),Je.fetch()(Ce(y,y.config.apiHost,g,de),Object.assign({method:p,headers:Re,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function ua(y,p,g){return Y.apply(this,arguments)}function Y(){return(Y=(0,d.Z)(function*(y,p,g){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},Ns),p);try{const T=new le(y),R=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const W=yield R.json();if("needConfirmation"in W)throw Ve(y,"account-exists-with-different-credential",W);if(R.ok&&!("errorMessage"in W))return W;{const de=R.ok?W.errorMessage:W.error.message,[Re,Se]=de.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Re)throw Ve(y,"credential-already-in-use",W);if("EMAIL_EXISTS"===Re)throw Ve(y,"email-already-in-use",W);const Be=b[Re]||Re.toLowerCase().replace(/[_\s]+/g,"-");if(Se)throw mo(y,Be,Se);Bt(y,Be)}}catch(T){if(T instanceof L.ZR)throw T;Bt(y,"network-request-failed")}})).apply(this,arguments)}function H(y,p,g,b){return q.apply(this,arguments)}function q(){return(q=(0,d.Z)(function*(y,p,g,b,T={}){const R=yield et(y,p,g,b,T);return"mfaPendingCredential"in R&&Bt(y,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Ce(y,p,g,b){const T=`${p}${g}?${b}`;return y.config.emulator?ke(y.config,T):`${y.config.apiScheme}://${T}`}class le{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(Lt(this.auth,"network-request-failed")),pi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ve(y,p,g){const b={appName:y.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const T=Lt(y,p,b);return T.customData._tokenResponse=g,T}function _e(){return(_e=(0,d.Z)(function*(y,p){return et(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Pe(y,p){return ze.apply(this,arguments)}function ze(){return(ze=(0,d.Z)(function*(y,p){return et(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ut(y,p){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,d.Z)(function*(y,p){return et(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function qt(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Fs(){return(Fs=(0,d.Z)(function*(y,p=!1){const g=(0,L.m9)(y),b=yield g.getIdToken(p),T=Ls(b);Te(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const R="object"==typeof T.firebase?T.firebase:void 0,W=null==R?void 0:R.sign_in_provider;return{claims:T,token:b,authTime:qt(al(T.auth_time)),issuedAtTime:qt(al(T.iat)),expirationTime:qt(al(T.exp)),signInProvider:W||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function al(y){return 1e3*Number(y)}function Ls(y){const[p,g,b]=y.split(".");if(void 0===p||void 0===g||void 0===b)return Rn("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,L.tV)(g);return T?JSON.parse(T):(Rn("Failed to decode base64 JWT payload"),null)}catch(T){return Rn("Caught error parsing JWT payload as JSON",T),null}}function Lr(y,p){return On.apply(this,arguments)}function On(){return(On=(0,d.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(b){throw b instanceof L.ZR&&vr(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function vr({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Kr{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,d.Z)(function*(){yield g.iteration()}),b)}iteration(){var p=this;return(0,d.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class Vr{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=qt(this.lastLoginAt),this.creationTime=qt(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vs(y){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,d.Z)(function*(y){var p;const g=y.auth,b=yield y.getIdToken(),T=yield Lr(y,ut(g,{idToken:b}));Te(null==T?void 0:T.users.length,g,"internal-error");const R=T.users[0];y._notifyReloadListener(R);const W=(null===(p=R.providerUserInfo)||void 0===p?void 0:p.length)?dr(R.providerUserInfo):[],de=$t(y.providerData,W),Be=!!y.isAnonymous&&!(y.email&&R.passwordHash||(null==de?void 0:de.length)),He={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:de,metadata:new Vr(R.createdAt,R.lastLoginAt),isAnonymous:Be};Object.assign(y,He)})).apply(this,arguments)}function pt(){return(pt=(0,d.Z)(function*(y){const p=(0,L.m9)(y);yield Vs(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function $t(y,p){return[...y.filter(b=>!p.some(T=>T.providerId===b.providerId)),...p]}function dr(y){return y.map(p=>{var{providerId:g}=p,b=Q(p,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function yn(){return(yn=(0,d.Z)(function*(y,p){const g=yield ua(y,{},(0,d.Z)(function*(){const b=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:T,apiKey:R}=y.config,W=Ce(y,T,"/v1/token",`key=${R}`),de=yield y._getAdditionalHeaders();return de["Content-Type"]="application/x-www-form-urlencoded",Je.fetch()(W,{method:"POST",headers:de,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class br{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Te(p.idToken,"internal-error"),Te(void 0!==p.idToken,"internal-error"),Te(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(y){const p=Ls(y);return Te(p,"internal-error"),Te(void 0!==p.exp,"internal-error"),Te(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var b=this;return(0,d.Z)(function*(){return Te(!b.accessToken||b.refreshToken,p,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var b=this;return(0,d.Z)(function*(){const{accessToken:T,refreshToken:R,expiresIn:W}=yield function(y,p){return yn.apply(this,arguments)}(p,g);b.updateTokensAndExpiration(T,R,Number(W))})()}updateTokensAndExpiration(p,g,b){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,g){const{refreshToken:b,accessToken:T,expirationTime:R}=g,W=new br;return b&&(Te("string"==typeof b,"internal-error",{appName:p}),W.refreshToken=b),T&&(Te("string"==typeof T,"internal-error",{appName:p}),W.accessToken=T),R&&(Te("number"==typeof R,"internal-error",{appName:p}),W.expirationTime=R),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new br,this.toJSON())}_performRefresh(){return Vn("not implemented")}}function Gt(y,p){Te("string"==typeof y||void 0===y,"internal-error",{appName:p})}class Cr{constructor(p){var{uid:g,auth:b,stsTokenManager:T}=p,R=Q(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Vr(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,d.Z)(function*(){const b=yield Lr(g,g.stsTokenManager.getToken(g.auth,p));return Te(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(p){return function(y){return Fs.apply(this,arguments)}(this,p)}reload(){return function(y){return pt.apply(this,arguments)}(this)}_assign(p){this!==p&&(Te(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Cr(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var b=this;return(0,d.Z)(function*(){let T=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),T=!0),g&&(yield Vs(b)),yield b.auth._persistUserIfCurrent(b),T&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,d.Z)(function*(){const g=yield p.getIdToken();return yield Lr(p,function(y,p){return _e.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var b,T,R,W,de,Re,Se,Be;const He=null!==(b=g.displayName)&&void 0!==b?b:void 0,At=null!==(T=g.email)&&void 0!==T?T:void 0,qn=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,Cs=null!==(W=g.photoURL)&&void 0!==W?W:void 0,$d=null!==(de=g.tenantId)&&void 0!==de?de:void 0,Rf=null!==(Re=g._redirectEventId)&&void 0!==Re?Re:void 0,Gd=null!==(Se=g.createdAt)&&void 0!==Se?Se:void 0,Ng=null!==(Be=g.lastLoginAt)&&void 0!==Be?Be:void 0,{uid:Of,emailVerified:Fg,isAnonymous:hu,providerData:Yl,stsTokenManager:Pf}=g;Te(Of&&Pf,p,"internal-error");const $o=br.fromJSON(this.name,Pf);Te("string"==typeof Of,p,"internal-error"),Gt(He,p.name),Gt(At,p.name),Te("boolean"==typeof Fg,p,"internal-error"),Te("boolean"==typeof hu,p,"internal-error"),Gt(qn,p.name),Gt(Cs,p.name),Gt($d,p.name),Gt(Rf,p.name),Gt(Gd,p.name),Gt(Ng,p.name);const xf=new Cr({uid:Of,auth:p,email:At,emailVerified:Fg,displayName:He,isAnonymous:hu,photoURL:Cs,phoneNumber:qn,tenantId:$d,stsTokenManager:$o,createdAt:Gd,lastLoginAt:Ng});return Yl&&Array.isArray(Yl)&&(xf.providerData=Yl.map(ry=>Object.assign({},ry))),Rf&&(xf._redirectEventId=Rf),xf}static _fromIdTokenResponse(p,g,b=!1){return(0,d.Z)(function*(){const T=new br;T.updateFromServerResponse(g);const R=new Cr({uid:g.localId,auth:p,stsTokenManager:T,isAnonymous:b});return yield Vs(R),R})()}}const tt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(g,b){var T=this;return(0,d.Z)(function*(){T.storage[g]=b})()}_get(g){var b=this;return(0,d.Z)(function*(){const T=b.storage[g];return void 0===T?null:T})()}_remove(g){var b=this;return(0,d.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return y.type="NONE",y})();function hr(y,p,g){return`firebase:${y}:${p}:${g}`}class Br{constructor(p,g,b){this.persistence=p,this.auth=g,this.userKey=b;const{config:T,name:R}=this.auth;this.fullUserKey=hr(this.userKey,T.apiKey,R),this.fullPersistenceKey=hr("persistence",T.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Cr._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,d.Z)(function*(){if(g.persistence===p)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,b="authUser"){return(0,d.Z)(function*(){if(!g.length)return new Br(St(tt),p,b);const T=(yield Promise.all(g.map(function(){var Se=(0,d.Z)(function*(Be){if(yield Be._isAvailable())return Be});return function(Be){return Se.apply(this,arguments)}}()))).filter(Se=>Se);let R=T[0]||St(tt);const W=hr(b,p.config.apiKey,p.name);let de=null;for(const Se of g)try{const Be=yield Se._get(W);if(Be){const He=Cr._fromJSON(p,Be);Se!==R&&(de=He),R=Se;break}}catch(Be){}const Re=T.filter(Se=>Se._shouldAllowMigration);return R._shouldAllowMigration&&Re.length?(R=Re[0],de&&(yield R._set(W,de.toJSON())),yield Promise.all(g.map(function(){var Se=(0,d.Z)(function*(Be){if(Be!==R)try{yield Be._remove(W)}catch(He){}});return function(Be){return Se.apply(this,arguments)}}())),new Br(R,p,b)):new Br(R,p,b)})()}}function jn(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(os(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(vo(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ut(p))return"Blackberry";if(Xu(p))return"Webos";if(Wn(p))return"Safari";if((p.includes("chrome/")||Us(p))&&!p.includes("edge/"))return"Chrome";if(er(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function vo(y=(0,L.z$)()){return/firefox\//i.test(y)}function Wn(y=(0,L.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Us(y=(0,L.z$)()){return/crios\//i.test(y)}function os(y=(0,L.z$)()){return/iemobile/i.test(y)}function er(y=(0,L.z$)()){return/android/i.test(y)}function Ut(y=(0,L.z$)()){return/blackberry/i.test(y)}function Xu(y=(0,L.z$)()){return/webos/i.test(y)}function bo(y=(0,L.z$)()){return/iphone|ipad|ipod/i.test(y)}function ki(y=(0,L.z$)()){return bo(y)||er(y)||Xu(y)||Ut(y)||/windows phone/i.test(y)||os(y)}function zn(y,p=[]){let g;switch(y){case"Browser":g=jn((0,L.z$)());break;case"Worker":g=`${jn((0,L.z$)())}-${y}`;break;default:g=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${he.SDK_VERSION}/${b}`}class rg{constructor(p,g){this.app=p,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yn(this),this.idTokenSubscription=new Yn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ht,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(p,g){var b=this;return g&&(this._popupRedirectResolver=St(g)),this._initializationPromise=this.queue((0,d.Z)(function*(){var T,R;if(!b._deleted&&(b.persistenceManager=yield Br.create(b,p),!b._deleted)){if(null===(T=b._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(W){}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(R=b.currentUser)||void 0===R?void 0:R.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,d.Z)(function*(){var b;let T=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const R=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,W=null==T?void 0:T._redirectEventId,de=yield g.tryRedirectSignIn(p);(!R||R===W)&&(null==de?void 0:de.user)&&(T=de.user)}return T?T._redirectEventId?(Te(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===T._redirectEventId?g.directlySetCurrentUser(T):g.reloadAndSetCurrentUserOrClear(T)):g.reloadAndSetCurrentUserOrClear(T):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,d.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(T){yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,d.Z)(function*(){try{yield Vs(p)}catch(b){if("auth/network-request-failed"!==b.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,d.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,d.Z)(function*(){const b=p?(0,L.m9)(p):null;return b&&Te(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,d.Z)(function*(){if(!g._deleted)return p&&Te(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,d.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,d.Z)(function*(){yield g.assertedPersistence.setPersistence(St(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,g,b){return this.registerStateListener(this.authStateSubscription,p,g,b)}onIdTokenChanged(p,g,b){return this.registerStateListener(this.idTokenSubscription,p,g,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var b=this;return(0,d.Z)(function*(){const T=yield b.getOrInitRedirectPersistenceManager(g);return null===p?T.removeCurrentUser():T.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,d.Z)(function*(){if(!g.redirectPersistenceManager){const b=p&&St(p)||g._popupRedirectResolver;Te(b,g,"argument-error"),g.redirectPersistenceManager=yield Br.create(g,[St(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,d.Z)(function*(){var b,T;return g._isInitialized&&(yield g.queue((0,d.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===p?g._currentUser:(null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,d.Z)(function*(){if(p===g.currentUser)return g.queue((0,d.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,b,T){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),W=this._isInitialized?Promise.resolve():this._initializationPromise;return Te(W,this,"internal-error"),W.then(()=>R(this.currentUser)),"function"==typeof g?p.addObserver(g,b,T):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,d.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=zn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,d.Z)(function*(){const g={"X-Client-Version":p.clientVersion};return p.app.options.appId&&(g["X-Firebase-gmpid"]=p.app.options.appId),g})()}}function nn(y){return(0,L.m9)(y)}class Yn{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(g=>this.observer=g)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function da(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Qr(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class ha{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return Vn("not implemented")}_getIdTokenResponse(p){return Vn("not implemented")}_linkToIdToken(p,g){return Vn("not implemented")}_getReauthenticationResolver(p){return Vn("not implemented")}}function td(y,p){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,d.Z)(function*(y,p){return et(y,"POST","/v1/accounts:resetPassword",Pt(y,p))})).apply(this,arguments)}function Zh(y,p){return nd.apply(this,arguments)}function nd(){return(nd=(0,d.Z)(function*(y,p){return et(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ig(y,p){return fa.apply(this,arguments)}function fa(){return(fa=(0,d.Z)(function*(y,p){return et(y,"POST","/v1/accounts:update",Pt(y,p))})).apply(this,arguments)}function rd(){return(rd=(0,d.Z)(function*(y,p){return H(y,"POST","/v1/accounts:signInWithPassword",Pt(y,p))})).apply(this,arguments)}function Rc(y,p){return id.apply(this,arguments)}function id(){return(id=(0,d.Z)(function*(y,p){return et(y,"POST","/v1/accounts:sendOobCode",Pt(y,p))})).apply(this,arguments)}function sg(y,p){return sd.apply(this,arguments)}function sd(){return(sd=(0,d.Z)(function*(y,p){return Rc(y,p)})).apply(this,arguments)}function og(y,p){return qh.apply(this,arguments)}function qh(){return(qh=(0,d.Z)(function*(y,p){return Rc(y,p)})).apply(this,arguments)}function od(y,p){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,d.Z)(function*(y,p){return Rc(y,p)})).apply(this,arguments)}function cl(y,p){return pa.apply(this,arguments)}function pa(){return(pa=(0,d.Z)(function*(y,p){return Rc(y,p)})).apply(this,arguments)}function ga(){return(ga=(0,d.Z)(function*(y,p){return H(y,"POST","/v1/accounts:signInWithEmailLink",Pt(y,p))})).apply(this,arguments)}function mi(){return(mi=(0,d.Z)(function*(y,p){return H(y,"POST","/v1/accounts:signInWithEmailLink",Pt(y,p))})).apply(this,arguments)}class ma extends ha{constructor(p,g,b,T=null){super("password",b),this._email=p,this._password=g,this._tenantId=T}static _fromEmailAndPassword(p,g){return new ma(p,g,"password")}static _fromEmailAndCode(p,g,b=null){return new ma(p,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,d.Z)(function*(){switch(g.signInMethod){case"password":return function(y,p){return rd.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(y,p){return ga.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Bt(p,"internal-error")}})()}_linkToIdToken(p,g){var b=this;return(0,d.Z)(function*(){switch(b.signInMethod){case"password":return Zh(p,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function(y,p){return mi.apply(this,arguments)}(p,{idToken:g,email:b._email,oobCode:b._password});default:Bt(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Er(y,p){return _a.apply(this,arguments)}function _a(){return(_a=(0,d.Z)(function*(y,p){return H(y,"POST","/v1/accounts:signInWithIdp",Pt(y,p))})).apply(this,arguments)}class tr extends ha{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new tr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Bt("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:T}=g,R=Q(g,["providerId","signInMethod"]);if(!b||!T)return null;const W=new tr(b,T);return W.idToken=R.idToken||void 0,W.accessToken=R.accessToken||void 0,W.secret=R.secret,W.nonce=R.nonce,W.pendingToken=R.pendingToken||null,W}_getIdTokenResponse(p){return Er(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,Er(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Er(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,L.xO)(g)}return p}}function _i(y,p){return ul.apply(this,arguments)}function ul(){return(ul=(0,d.Z)(function*(y,p){return et(y,"POST","/v1/accounts:sendVerificationCode",Pt(y,p))})).apply(this,arguments)}function dl(){return(dl=(0,d.Z)(function*(y,p){return H(y,"POST","/v1/accounts:signInWithPhoneNumber",Pt(y,p))})).apply(this,arguments)}function wr(){return(wr=(0,d.Z)(function*(y,p){const g=yield H(y,"POST","/v1/accounts:signInWithPhoneNumber",Pt(y,p));if(g.temporaryProof)throw Ve(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const ya={USER_NOT_FOUND:"user-not-found"};function wo(){return(wo=(0,d.Z)(function*(y,p){return H(y,"POST","/v1/accounts:signInWithPhoneNumber",Pt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),ya)})).apply(this,arguments)}class js extends ha{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new js({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new js({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function(y,p){return dl.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function(y,p){return wr.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(y,p){return wo.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:b,verificationCode:T}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:b,code:T}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:b,phoneNumber:T,temporaryProof:R}=p;return b||g||T||R?new js({verificationId:g,verificationCode:b,phoneNumber:T,temporaryProof:R}):null}}class Wt{constructor(p){var g,b,T,R,W,de;const Re=(0,L.zd)((0,L.pd)(p)),Se=null!==(g=Re.apiKey)&&void 0!==g?g:null,Be=null!==(b=Re.oobCode)&&void 0!==b?b:null,He=function(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Re.mode)&&void 0!==T?T:null);Te(Se&&Be&&He,"argument-error"),this.apiKey=Se,this.operation=He,this.code=Be,this.continueUrl=null!==(R=Re.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(W=Re.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(de=Re.tenantId)&&void 0!==de?de:null}static parseLink(p){const g=function(y){const p=(0,L.zd)((0,L.pd)(y)).link,g=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,b=(0,L.zd)((0,L.pd)(y)).deep_link_id;return(b?(0,L.zd)((0,L.pd)(b)).link:null)||b||g||p||y}(p);try{return new Wt(g)}catch(b){return null}}}let yi=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,b){return ma._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const T=Wt.parseLink(b);return Te(T,"argument-error"),ma._fromEmailAndCode(g,T.code,T.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Xr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Vt extends Xr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Do extends Vt{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return Te("providerId"in g&&"signInMethod"in g,"argument-error"),tr._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Te(p.idToken||p.accessToken,"argument-error"),tr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Do.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Do.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:T,pendingToken:R,nonce:W,providerId:de}=p;if(!b&&!T&&!g&&!R||!de)return null;try{return new Do(de)._credential({idToken:g,accessToken:b,nonce:W,pendingToken:R})}catch(Re){return null}}}let hl=(()=>{class y extends Vt{constructor(){super("facebook.com")}static credential(g){return tr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Hs=(()=>{class y extends Vt{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return tr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:T}=g;if(!b&&!T)return null;try{return y.credential(b,T)}catch(R){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Dr=(()=>{class y extends Vt{constructor(){super("github.com")}static credential(g){return tr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class cs extends ha{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Er(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,Er(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Er(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:T,pendingToken:R}=g;return b&&T&&R&&b===T?new cs(b,R):null}static _create(p,g){return new cs(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Zn extends Xr{constructor(p){Te(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Zn.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Zn.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=cs.fromJSON(p);return Te(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:b}=p;if(!g||!b)return null;try{return cs._create(b,g)}catch(T){return null}}}let fl=(()=>{class y extends Vt{constructor(){super("twitter.com")}static credential(g,b){return tr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:T}=g;if(!b||!T)return null;try{return y.credential(b,T)}catch(R){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function pl(y,p){return ds.apply(this,arguments)}function ds(){return(ds=(0,d.Z)(function*(y,p){return H(y,"POST","/v1/accounts:signUp",Pt(y,p))})).apply(this,arguments)}class vn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,b,T=!1){return(0,d.Z)(function*(){const R=yield Cr._fromIdTokenResponse(p,b,T),W=va(b);return new vn({user:R,providerId:W,_tokenResponse:b,operationType:g})})()}static _forOperation(p,g,b){return(0,d.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const T=va(b);return new vn({user:p,providerId:T,_tokenResponse:b,operationType:g})})()}}function va(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Xe(){return(Xe=(0,d.Z)(function*(y){var p;const g=nn(y);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new vn({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield pl(g,{returnSecureToken:!0}),T=yield vn._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class gl extends L.ZR{constructor(p,g,b,T){var R;super(g.code,g.message),this.operationType=b,this.user=T,Object.setPrototypeOf(this,gl.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,g,b,T){return new gl(p,g,b,T)}}function dd(y,p,g,b){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?gl._fromErrorAndOperation(y,R,p,b):R})}function ml(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Ca(){return(Ca=(0,d.Z)(function*(y,p){const g=(0,L.m9)(y);yield we(!0,g,p);const{providerUserInfo:b}=yield Pe(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),T=ml(b||[]);return g.providerData=g.providerData.filter(R=>T.has(R.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function xc(y,p){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,d.Z)(function*(y,p,g=!1){const b=yield Lr(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return vn._forOperation(y,"link",b)})).apply(this,arguments)}function we(y,p,g){return gt.apply(this,arguments)}function gt(){return(gt=(0,d.Z)(function*(y,p,g){yield Vs(p);const T=!1===y?"provider-already-linked":"no-such-provider";Te(ml(p.providerData).has(g)===y,p.auth,T)})).apply(this,arguments)}function _l(y,p){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,d.Z)(function*(y,p,g=!1){const{auth:b}=y,T="reauthenticate";try{const R=yield Lr(y,dd(b,T,p,y),g);Te(R.idToken,b,"internal-error");const W=Ls(R.idToken);Te(W,b,"internal-error");const{sub:de}=W;return Te(y.uid===de,b,"user-mismatch"),vn._forOperation(y,T,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&Bt(b,"user-mismatch"),R}})).apply(this,arguments)}function yl(y,p){return vi.apply(this,arguments)}function vi(){return(vi=(0,d.Z)(function*(y,p,g=!1){const b="signIn",T=yield dd(y,b,p),R=yield vn._fromIdTokenResponse(y,b,T);return g||(yield y._updateCurrentUser(R.user)),R})).apply(this,arguments)}function nr(y,p){return Io.apply(this,arguments)}function Io(){return(Io=(0,d.Z)(function*(y,p){return yl(nn(y),p)})).apply(this,arguments)}function Ea(y,p){return fd.apply(this,arguments)}function fd(){return(fd=(0,d.Z)(function*(y,p){const g=(0,L.m9)(y);return yield we(!1,g,p.providerId),xc(g,p)})).apply(this,arguments)}function kc(y,p){return To.apply(this,arguments)}function To(){return(To=(0,d.Z)(function*(y,p){return _l((0,L.m9)(y),p)})).apply(this,arguments)}function So(y,p){return bn.apply(this,arguments)}function bn(){return(bn=(0,d.Z)(function*(y,p){return H(y,"POST","/v1/accounts:signInWithCustomToken",Pt(y,p))})).apply(this,arguments)}function wa(){return(wa=(0,d.Z)(function*(y,p){const g=nn(y),b=yield So(g,{token:p,returnSecureToken:!0}),T=yield vn._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class jr{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?rr._fromServerResponse(p,g):Bt(p,"internal-error")}}class rr extends jr{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new rr(g)}}function Nc(y,p,g){var b;Te((null===(b=g.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),Te(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Te(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(Te(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Da(){return(Da=(0,d.Z)(function*(y,p,g){const b=(0,L.m9)(y),T={requestType:"PASSWORD_RESET",email:p};g&&Nc(b,T,g),yield og(b,T)})).apply(this,arguments)}function Ia(){return(Ia=(0,d.Z)(function*(y,p,g){yield td((0,L.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function bl(){return(bl=(0,d.Z)(function*(y,p){yield ig((0,L.m9)(y),{oobCode:p})})).apply(this,arguments)}function Ao(y,p){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,d.Z)(function*(y,p){const g=(0,L.m9)(y),b=yield td(g,{oobCode:p}),T=b.requestType;switch(Te(T,g,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Te(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Te(b.mfaInfo,g,"internal-error");default:Te(b.email,g,"internal-error")}let R=null;return b.mfaInfo&&(R=jr._fromServerResponse(nn(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:R},operation:T}})).apply(this,arguments)}function $s(){return($s=(0,d.Z)(function*(y,p){const{data:g}=yield Ao((0,L.m9)(y),p);return g.email})).apply(this,arguments)}function Vc(){return(Vc=(0,d.Z)(function*(y,p,g){const b=nn(y),T=yield pl(b,{returnSecureToken:!0,email:p,password:g}),R=yield vn._fromIdTokenResponse(b,"signIn",T);return yield b._updateCurrentUser(R.user),R})).apply(this,arguments)}function Fi(){return(Fi=(0,d.Z)(function*(y,p,g){const b=(0,L.m9)(y),T={requestType:"EMAIL_SIGNIN",email:p};Te(g.handleCodeInApp,b,"argument-error"),g&&Nc(b,T,g),yield od(b,T)})).apply(this,arguments)}function Pn(){return(Pn=(0,d.Z)(function*(y,p,g){const b=(0,L.m9)(y),T=yi.credentialWithLink(p,g||Un());return Te(T._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),nr(b,T)})).apply(this,arguments)}function Ro(y,p){return dn.apply(this,arguments)}function dn(){return(dn=(0,d.Z)(function*(y,p){return et(y,"POST","/v1/accounts:createAuthUri",Pt(y,p))})).apply(this,arguments)}function Jh(){return(Jh=(0,d.Z)(function*(y,p){const b={identifier:p,continueUri:ks()?Un():"http://localhost"},{signinMethods:T}=yield Ro((0,L.m9)(y),b);return T||[]})).apply(this,arguments)}function Oo(){return(Oo=(0,d.Z)(function*(y,p){const g=(0,L.m9)(y),T={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Nc(g.auth,T,p);const{email:R}=yield sg(g.auth,T);R!==y.email&&(yield y.reload())})).apply(this,arguments)}function Sa(){return(Sa=(0,d.Z)(function*(y,p,g){const b=(0,L.m9)(y),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&Nc(b.auth,R,g);const{email:W}=yield cl(b.auth,R);W!==y.email&&(yield y.reload())})).apply(this,arguments)}function Cl(y,p){return hs.apply(this,arguments)}function hs(){return(hs=(0,d.Z)(function*(y,p){return et(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function gn(){return(gn=(0,d.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const b=(0,L.m9)(y),R={idToken:yield b.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},W=yield Lr(b,Cl(b.auth,R));b.displayName=W.displayName||null,b.photoURL=W.photoUrl||null;const de=b.providerData.find(({providerId:Re})=>"password"===Re);de&&(de.displayName=b.displayName,de.photoURL=b.photoURL),yield b._updateTokensIfNecessary(W)})).apply(this,arguments)}function Li(y,p,g){return Po.apply(this,arguments)}function Po(){return(Po=(0,d.Z)(function*(y,p,g){const{auth:b}=y,R={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(R.email=p),g&&(R.password=g);const W=yield Lr(y,Zh(b,R));yield y._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class xo{constructor(p,g,b={}){this.isNewUser=p,this.providerId=g,this.profile=b}}class fs extends xo{constructor(p,g,b,T){super(p,g,b),this.username=T}}class jc extends xo{constructor(p,g){super(p,"facebook.com",g)}}class Hc extends fs{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class ug extends xo{constructor(p,g){super(p,"google.com",g)}}class dg extends fs{constructor(p,g,b){super(p,"twitter.com",g,b)}}function ei(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(y){var p,g;if(!y)return null;const{providerId:b}=y,T=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},R=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&(null==y?void 0:y.idToken)){const W=null===(g=null===(p=Ls(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(W)return new xo(R,"anonymous"!==W&&"custom"!==W?W:null)}if(!b)return null;switch(b){case"facebook.com":return new jc(R,T);case"github.com":return new Hc(R,T);case"google.com":return new ug(R,T);case"twitter.com":return new dg(R,T,y.screenName||null);case"custom":case"anonymous":return new xo(R,null);default:return new xo(R,b,T)}}(g)}class Ir{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new Ir("enroll",p)}static _fromMfaPendingCredential(p){return new Ir("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,b;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Ir._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(b=p.multiFactorSession)||void 0===b?void 0:b.idToken)return Ir._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Ma{constructor(p,g,b){this.session=p,this.hints=g,this.signInResolver=b}static _fromError(p,g){const b=nn(p),T=g.customData._serverResponse,R=(T.mfaInfo||[]).map(de=>jr._fromServerResponse(b,de));Te(T.mfaPendingCredential,b,"internal-error");const W=Ir._fromMfaPendingCredential(T.mfaPendingCredential);return new Ma(W,R,function(){var de=(0,d.Z)(function*(Re){const Se=yield Re._process(b,W);delete T.mfaInfo,delete T.mfaPendingCredential;const Be=Object.assign(Object.assign({},T),{idToken:Se.idToken,refreshToken:Se.refreshToken});switch(g.operationType){case"signIn":const He=yield vn._fromIdTokenResponse(b,g.operationType,Be);return yield b._updateCurrentUser(He.user),He;case"reauthenticate":return Te(g.user,b,"internal-error"),vn._forOperation(g.user,g.operationType,Be);default:Bt(b,"internal-error")}});return function(Re){return de.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,d.Z)(function*(){return g.signInResolver(p)})()}}function F_(y,p){return et(y,"POST","/v2/accounts/mfaEnrollment:start",Pt(y,p))}class Ed{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>jr._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new Ed(p)}getSession(){var p=this;return(0,d.Z)(function*(){return Ir._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var b=this;return(0,d.Z)(function*(){const T=p,R=yield b.getSession(),W=yield Lr(b.user,T._process(b.user.auth,R,g));return yield b.user._updateTokensIfNecessary(W),b.user.reload()})()}unenroll(p){var g=this;return(0,d.Z)(function*(){const b="string"==typeof p?p:p.uid,T=yield g.user.getIdToken(),R=yield Lr(g.user,function(y,p){return et(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Pt(y,p))}(g.user.auth,{idToken:T,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:W})=>W!==b),yield g.user._updateTokensIfNecessary(R);try{yield g.user.reload()}catch(W){if("auth/user-token-expired"!==W.code)throw W}})()}}const wl=new WeakMap,Gs="__sak";class mn{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Gs,"1"),this.storage.removeItem(Gs),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Bi=(()=>{class y extends mn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const y=(0,L.z$)();return Wn(y)||bo(y)}()&&function(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=ki(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const T=this.storage.getItem(b),R=this.localCache[b];T!==R&&g(b,R,T)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((de,Re,Se)=>{this.notifyListeners(de,Se)});const T=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const de=this.storage.getItem(T);if(g.newValue!==de)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!b)return}const R=()=>{const de=this.storage.getItem(T);!b&&this.localCache[T]===de||this.notifyListeners(T,de)},W=this.storage.getItem(T);(0,L.w1)()&&10===document.documentMode&&W!==g.newValue&&g.newValue!==g.oldValue?setTimeout(R,10):R()}notifyListeners(g,b){this.localCache[g]=b;const T=this.listeners[g];if(T)for(const R of Array.from(T))R(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var T=()=>super._set,R=this;return(0,d.Z)(function*(){yield T().call(R,g,b),R.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,T=this;return(0,d.Z)(function*(){const R=yield b().call(T,g);return T.localCache[g]=JSON.stringify(R),R})()}_remove(g){var b=()=>super._remove,T=this;return(0,d.Z)(function*(){yield b().call(T,g),delete T.localCache[g]})()}}return y.type="LOCAL",y})(),Qt=(()=>{class y extends mn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return y.type="SESSION",y})();let hg=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(R=>R.isListeningto(g));if(b)return b;const T=new y(g);return this.receivers.push(T),T}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,d.Z)(function*(){const T=g,{eventId:R,eventType:W,data:de}=T.data,Re=b.handlersMap[W];if(!(null==Re?void 0:Re.size))return;T.ports[0].postMessage({status:"ack",eventId:R,eventType:W});const Se=Array.from(Re).map(function(){var He=(0,d.Z)(function*(At){return At(T.origin,de)});return function(At){return He.apply(this,arguments)}}()),Be=yield function(y){return Promise.all(y.map(function(){var p=(0,d.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return p.apply(this,arguments)}}()))}(Se);T.ports[0].postMessage({status:"done",eventId:R,eventType:W,response:Be})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function gs(y="",p=10){let g="";for(let b=0;b<p;b++)g+=Math.floor(10*Math.random());return y+g}class an{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,b=50){var T=this;return(0,d.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let W,de;return new Promise((Re,Se)=>{const Be=gs("",20);R.port1.start();const He=setTimeout(()=>{Se(new Error("unsupported_event"))},b);de={messageChannel:R,onMessage(At){const qn=At;if(qn.data.eventId===Be)switch(qn.data.status){case"ack":clearTimeout(He),W=setTimeout(()=>{Se(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Re(qn.data.response);break;default:clearTimeout(He),clearTimeout(W),Se(new Error("invalid_response"))}}},T.handlers.add(de),R.port1.addEventListener("message",de.onMessage),T.target.postMessage({eventType:p,eventId:Be,data:g},[R.port2])}).finally(()=>{de&&T.removeMessageHandler(de)})})()}}function Cn(){return window}function Pa(){return void 0!==Cn().WorkerGlobalScope&&"function"==typeof Cn().importScripts}function Tl(){return(Tl=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Hr="firebaseLocalStorageDb",ti="firebaseLocalStorage",ms="fbase_key";class fr{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function $r(y,p){return y.transaction([ti],p?"readwrite":"readonly").objectStore(ti)}function bt(){const y=indexedDB.open(Hr,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(ti,{keyPath:ms})}catch(T){g(T)}}),y.addEventListener("success",(0,d.Z)(function*(){const b=y.result;b.objectStoreNames.contains(ti)?p(b):(b.close(),yield function(){const y=indexedDB.deleteDatabase(Hr);return new fr(y).toPromise()}(),p(yield bt()))}))})}function Gr(y,p,g){return xn.apply(this,arguments)}function xn(){return(xn=(0,d.Z)(function*(y,p,g){const b=$r(y,!0).put({[ms]:p,value:g});return new fr(b).toPromise()})).apply(this,arguments)}function sn(){return(sn=(0,d.Z)(function*(y,p){const g=$r(y,!1).get(p),b=yield new fr(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Id(y,p){const g=$r(y,!0).delete(p);return new fr(g).toPromise()}const ka=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,d.Z)(function*(){return g.db||(g.db=yield bt()),g.db})()}_withRetries(g){var b=this;return(0,d.Z)(function*(){let T=0;for(;;)try{const R=yield b._openDb();return yield g(R)}catch(R){if(T++>3)throw R;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,d.Z)(function*(){return Pa()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,d.Z)(function*(){g.receiver=hg._getInstance(Pa()?self:null),g.receiver._subscribe("keyChanged",function(){var b=(0,d.Z)(function*(T,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(T,R){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,d.Z)(function*(T,R){return["keyChanged"]});return function(T,R){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,d.Z)(function*(){var b,T;if(g.activeServiceWorker=yield function(){return Tl.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new an(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);!R||(null===(b=R[0])||void 0===b?void 0:b.fulfilled)&&(null===(T=R[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,d.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const g=yield bt();return yield Gr(g,Gs,"1"),yield Id(g,Gs),!0}catch(g){}return!1})()}_withPendingWrite(g){var b=this;return(0,d.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var T=this;return(0,d.Z)(function*(){return T._withPendingWrite((0,d.Z)(function*(){return yield T._withRetries(R=>Gr(R,g,b)),T.localCache[g]=b,T.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,d.Z)(function*(){const T=yield b._withRetries(R=>function(y,p){return sn.apply(this,arguments)}(R,g));return b.localCache[g]=T,T})()}_remove(g){var b=this;return(0,d.Z)(function*(){return b._withPendingWrite((0,d.Z)(function*(){return yield b._withRetries(T=>Id(T,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,d.Z)(function*(){const b=yield g._withRetries(W=>{const de=$r(W,!1).getAll();return new fr(de).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const T=[],R=new Set;for(const{fbase_key:W,value:de}of b)R.add(W),JSON.stringify(g.localCache[W])!==JSON.stringify(de)&&(g.notifyListeners(W,de),T.push(W));for(const W of Object.keys(g.localCache))g.localCache[W]&&!R.has(W)&&(g.notifyListeners(W,null),T.push(W));return T})()}notifyListeners(g,b){this.localCache[g]=b;const T=this.listeners[g];if(T)for(const R of Array.from(T))R(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Al(y,p){return et(y,"POST","/v2/accounts/mfaSignIn:start",Pt(y,p))}function Td(){return(Td=(0,d.Z)(function*(y){return(yield et(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function zc(y){return new Promise((p,g)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=T=>{const R=Lt("internal-error");R.customData=T,g(R)},b.type="text/javascript",b.charset="UTF-8",function(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function _s(y){return`__${y}${Math.floor(1e6*Math.random())}`}const $i=1e12;class En{constructor(p){this.auth=p,this.counter=$i,this._widgets=new Map}render(p,g){const b=this.counter;return this._widgets.set(b,new Yc(p,this.auth.name,g||{})),this.counter++,b}reset(p){var g;const b=p||$i;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(p){var g;return(null===(g=this._widgets.get(p||$i))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,d.Z)(function*(){var b;return null===(b=g._widgets.get(p||$i))||void 0===b||b.execute(),""})()}}class Yc{constructor(p,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof p?document.getElementById(p):p;Te(T,"argument-error",{appName:g}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<50;b++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}();const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Sr=_s("rcb"),bi=new Xt(3e4,6e4);class Wr{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Cn().grecaptcha}load(p,g=""){return Te((y=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Cn().grecaptcha):new Promise((b,T)=>{const R=Cn().setTimeout(()=>{T(Lt(p,"network-request-failed"))},bi.get());Cn()[Sr]=()=>{Cn().clearTimeout(R),delete Cn()[Sr];const de=Cn().grecaptcha;if(!de)return void T(Lt(p,"internal-error"));const Re=de.render;de.render=(Se,Be)=>{const He=Re(Se,Be);return this.counter++,He},this.hostLanguage=g,b(de)},zc(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Sr,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),T(Lt(p,"internal-error"))})});var y}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Cn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ad{load(p){return(0,d.Z)(function*(){return new En(p)})()}clearedOneInstance(){}}const Zc="recaptcha",Ws={theme:"light",type:"image"};class gg{constructor(p,g=Object.assign({},Ws),b){this.parameters=g,this.type=Zc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=nn(b),this.isInvisible="invisible"===this.parameters.size,Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof p?document.getElementById(p):p;Te(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ad:new Wr,this.validateStartingState()}verify(){var p=this;return(0,d.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(g)||new Promise(R=>{const W=de=>{!de||(p.tokenChangeListeners.delete(W),R(de))};p.tokenChangeListeners.add(W),p.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Te(!this.parameters.sitekey,this.auth,"argument-error"),Te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof p)p(g);else if("string"==typeof p){const b=Cn()[p];"function"==typeof b&&b(g)}}}assertNotDestroyed(){Te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.Z)(function*(){Te(ks()&&!Pa(),p.auth,"internal-error"),yield function(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function(y){return Td.apply(this,arguments)}(p.auth);Te(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return Te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class qc{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=js._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Nn(){return(Nn=(0,d.Z)(function*(y,p,g){const b=nn(y),T=yield S(b,p,(0,L.m9)(g));return new qc(T,R=>nr(b,R))})).apply(this,arguments)}function Ci(){return(Ci=(0,d.Z)(function*(y,p,g){const b=(0,L.m9)(y);yield we(!1,b,"phone");const T=yield S(b.auth,p,(0,L.m9)(g));return new qc(T,R=>Ea(b,R))})).apply(this,arguments)}function w(){return(w=(0,d.Z)(function*(y,p,g){const b=(0,L.m9)(y),T=yield S(b.auth,p,(0,L.m9)(g));return new qc(T,R=>kc(b,R))})).apply(this,arguments)}function S(y,p,g){return O.apply(this,arguments)}function O(){return(O=(0,d.Z)(function*(y,p,g){var b;const T=yield g.verify();try{let R;if(Te("string"==typeof T,y,"argument-error"),Te(g.type===Zc,y,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const W=R.session;if("phoneNumber"in R)return Te("enroll"===W.type,y,"internal-error"),(yield F_(y,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{Te("signin"===W.type,y,"internal-error");const de=(null===(b=R.multiFactorHint)||void 0===b?void 0:b.uid)||R.multiFactorUid;return Te(de,y,"missing-multi-factor-info"),(yield Al(y,{mfaPendingCredential:W.credential,mfaEnrollmentId:de,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield _i(y,{phoneNumber:R.phoneNumber,recaptchaToken:T});return W}}finally{g._reset()}})).apply(this,arguments)}function ee(){return(ee=(0,d.Z)(function*(y,p){yield xc((0,L.m9)(y),p)})).apply(this,arguments)}let ue=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=nn(g)}verifyPhoneNumber(g,b){return S(this.auth,g,(0,L.m9)(b))}static credential(g,b){return js._fromVerification(g,b)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:T}=g;return b&&T?js._fromTokenResponse(b,T):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Ie(y,p){return p?St(p):(Te(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Fe extends ha{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Er(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Er(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Er(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Ue(y){return yl(y.auth,new Fe(y),y.bypassAuthState)}function Dt(y){const{auth:p,user:g}=y;return Te(g,p,"internal-error"),_l(g,new Fe(y),y.bypassAuthState)}function zt(y){return wn.apply(this,arguments)}function wn(){return(wn=(0,d.Z)(function*(y){const{auth:p,user:g}=y;return Te(g,p,"internal-error"),xc(g,new Fe(y),y.bypassAuthState)})).apply(this,arguments)}class pr{constructor(p,g,b,T,R=!1){this.auth=p,this.resolver=b,this.user=T,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,d.Z)(function*(b,T){p.pendingPromise={resolve:b,reject:T};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(b,T){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,d.Z)(function*(){const{urlResponse:b,sessionId:T,postBody:R,tenantId:W,error:de,type:Re}=p;if(de)return void g.reject(de);const Se={auth:g.auth,requestUri:b,sessionId:T,tenantId:W||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Re)(Se))}catch(Be){g.reject(Be)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Ue;case"linkViaPopup":case"linkViaRedirect":return zt;case"reauthViaPopup":case"reauthViaRedirect":return Dt;default:Bt(this.auth,"internal-error")}}resolve(p){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Fn=new Xt(2e3,1e4);function Ys(){return(Ys=(0,d.Z)(function*(y,p,g){const b=nn(y);Zr(y,p,Xr);const T=Ie(b,g);return new of(b,"signInViaPopup",p,T).executeNotNull()})).apply(this,arguments)}function ni(){return(ni=(0,d.Z)(function*(y,p,g){const b=(0,L.m9)(y);Zr(b.auth,p,Xr);const T=Ie(b.auth,g);return new of(b.auth,"reauthViaPopup",p,T,b).executeNotNull()})).apply(this,arguments)}function rt(){return(rt=(0,d.Z)(function*(y,p,g){const b=(0,L.m9)(y);Zr(b.auth,p,Xr);const T=Ie(b.auth,g);return new of(b.auth,"linkViaPopup",p,T,b).executeNotNull()})).apply(this,arguments)}let of=(()=>{class y extends pr{constructor(g,b,T,R,W){super(g,b,R,W),this.provider=T,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,d.Z)(function*(){const b=yield g.execute();return Te(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,d.Z)(function*(){Bn(1===g.filter.length,"Popup operations only handle one event");const b=gs();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(Lt(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Lt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,T;this.pollId=(null===(T=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Lt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Fn.get())};g()}}return y.currentPopupAction=null,y})();const Ol=new Map;class af extends pr{constructor(p,g,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,d.Z)(function*(){let b=Ol.get(g.auth._key());if(!b){try{const R=(yield function(y,p){return La.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;b=()=>Promise.resolve(R)}catch(T){b=()=>Promise.reject(T)}Ol.set(g.auth._key(),b)}return g.bypassAuthState||Ol.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,b=this;return(0,d.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(b,p);if("unknown"!==p.type){if(p.eventId){const T=yield b.auth._redirectUserForId(p.eventId);if(T)return b.user=T,g().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function La(){return(La=(0,d.Z)(function*(y,p){const g=Fo(p),b=mg(y);if(!(yield b._isAvailable()))return!1;const T="true"===(yield b._get(g));return yield b._remove(g),T})).apply(this,arguments)}function lf(y,p){return ii.apply(this,arguments)}function ii(){return(ii=(0,d.Z)(function*(y,p){return mg(y)._set(Fo(p),"true")})).apply(this,arguments)}function mg(y){return St(y._redirectPersistence)}function Fo(y){return hr("pendingRedirect",y.config.apiKey,y.name)}function Hn(){return(Hn=(0,d.Z)(function*(y,p,g){const b=nn(y);Zr(y,p,Xr);const T=Ie(b,g);return yield lf(T,b),T._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function Pl(){return(Pl=(0,d.Z)(function*(y,p,g){const b=(0,L.m9)(y);Zr(b.auth,p,Xr);const T=Ie(b.auth,g);yield lf(T,b.auth);const R=yield Va(b);return T._openRedirect(b.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function Md(){return(Md=(0,d.Z)(function*(y,p,g){const b=(0,L.m9)(y);Zr(b.auth,p,Xr);const T=Ie(b.auth,g);yield we(!1,b,p.providerId),yield lf(T,b.auth);const R=yield Va(b);return T._openRedirect(b.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function Zs(){return(Zs=(0,d.Z)(function*(y,p){return yield nn(y)._initializationPromise,qs(y,p,!1)})).apply(this,arguments)}function qs(y,p){return xl.apply(this,arguments)}function xl(){return(xl=(0,d.Z)(function*(y,p,g=!1){const b=nn(y),T=Ie(b,p),W=yield new af(b,T,g).execute();return W&&!g&&(delete W.user._redirectEventId,yield b._persistUserIfCurrent(W.user),yield b._setRedirectUser(null,p)),W})).apply(this,arguments)}function Va(y){return Et.apply(this,arguments)}function Et(){return(Et=(0,d.Z)(function*(y){const p=gs(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class U_{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(g=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vg(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var b;if(p.error&&!vg(p)){const T=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(Lt(this.auth,T))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const b=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vo(p))}saveEventToCache(p){this.cachedEventUids.add(Vo(p)),this.lastProcessedEventTime=Date.now()}}function Vo(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function vg({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function kl(y){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,d.Z)(function*(y,p={}){return et(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Ks=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xc=/^https?/;function eu(){return(eu=(0,d.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield kl(y);for(const g of p)try{if(Rd(g))return}catch(b){}Bt(y,"unauthorized-domain")})).apply(this,arguments)}function Rd(y){const p=Un(),{protocol:g,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const W=new URL(y);return""===W.hostname&&""===b?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&W.hostname===b}if(!Xc.test(g))return!1;if(Ks.test(y))return b===y;const T=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(b)}const tu=new Xt(3e4,6e4);function Nl(){const y=Cn().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Fl=null;function Ba(y){return Fl=Fl||function(y){return new Promise((p,g)=>{var b,T,R;function W(){Nl(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Nl(),g(Lt(y,"network-request-failed"))},timeout:tu.get()})}if(null===(T=null===(b=Cn().gapi)||void 0===b?void 0:b.iframes)||void 0===T?void 0:T.Iframe)p(gapi.iframes.getContext());else{if(!(null===(R=Cn().gapi)||void 0===R?void 0:R.load)){const de=_s("iframefcb");return Cn()[de]=()=>{gapi.load?W():g(Lt(y,"network-request-failed"))},zc(`https://apis.google.com/js/api.js?onload=${de}`).catch(Re=>g(Re))}W()}}).catch(p=>{throw Fl=null,p})}(y),Fl}const j_=new Xt(5e3,15e3),$_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},G_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qs(y){const p=y.config;Te(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?ke(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:y.name,v:he.SDK_VERSION},T=G_.get(y.config.apiHost);T&&(b.eid=T);const R=y._getFrameworks();return R.length&&(b.fw=R.join(",")),`${g}?${(0,L.xO)(b).slice(1)}`}function Pd(){return(Pd=(0,d.Z)(function*(y){const p=yield Ba(y),g=Cn().gapi;return Te(g,y,"internal-error"),p.open({where:document.body,url:Qs(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$_,dontclear:!0},b=>new Promise(function(){var T=(0,d.Z)(function*(R,W){yield b.restyle({setHideOnLeave:!1});const de=Lt(y,"network-request-failed"),Re=Cn().setTimeout(()=>{W(de)},j_.get());function Se(){Cn().clearTimeout(Re),R(b)}b.ping(Se).then(Se,()=>{W(de)})});return function(R,W){return T.apply(this,arguments)}}()))})).apply(this,arguments)}const Cg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xd{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Dg(y,p,g,b,T,R){Te(y.config.authDomain,y,"auth-domain-config-required"),Te(y.config.apiKey,y,"invalid-api-key");const W={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:b,v:he.SDK_VERSION,eventId:T};if(p instanceof Xr){p.setDefaultLanguage(y.languageCode),W.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||(W.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Re,Se]of Object.entries(R||{}))W[Re]=Se}if(p instanceof Vt){const Re=p.getScopes().filter(Se=>""!==Se);Re.length>0&&(W.scopes=Re.join(","))}y.tenantId&&(W.tid=y.tenantId);const de=W;for(const Re of Object.keys(de))void 0===de[Re]&&delete de[Re];return`${function({config:y}){return y.emulator?ke(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,L.xO)(de).slice(1)}`}const Bo="webStorageSupport";class Bl extends class{constructor(p){this.factorId=p}_process(p,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,b);case"signin":return this._finalizeSignIn(p,g.credential);default:return Vn("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Bl(p)}_finalizeEnroll(p,g,b){return function(y,p){return et(y,"POST","/v2/accounts/mfaEnrollment:finalize",Pt(y,p))}(p,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function(y,p){return et(y,"POST","/v2/accounts/mfaSignIn:finalize",Pt(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ig=(()=>{class y{constructor(){}static assertion(g){return Bl._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var y,Ul="@firebase/auth";class lC{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,d.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(b=>{var T;p((null===(T=b)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function si(){return window}function iu(){return(iu=(0,d.Z)(function*(y,p,g){var b;const{BuildInfo:T}=si();Bn(p.sessionId,"AuthEvent did not contain a session ID");const R=yield au(p.sessionId),W={};return bo()?W.ibi=T.packageName:er()?W.apn=T.packageName:Bt(y,"operation-not-supported-in-this-environment"),T.displayName&&(W.appDisplayName=T.displayName),W.sessionId=R,Dg(y,g,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,W)})).apply(this,arguments)}function su(){return(su=(0,d.Z)(function*(y){const{BuildInfo:p}=si(),g={};bo()?g.iosBundleId=p.packageName:er()?g.androidPackageName=p.packageName:Bt(y,"operation-not-supported-in-this-environment"),yield kl(y,g)})).apply(this,arguments)}function Fd(){return(Fd=(0,d.Z)(function*(y,p,g){const{cordova:b}=si();let T=()=>{};try{yield new Promise((R,W)=>{let de=null;function Re(){var He;R();const At=null===(He=b.plugins.browsertab)||void 0===He?void 0:He.close;"function"==typeof At&&At(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Se(){de||(de=window.setTimeout(()=>{W(Lt(y,"redirect-cancelled-by-user"))},2e3))}function Be(){"visible"===(null==document?void 0:document.visibilityState)&&Se()}p.addPassiveListener(Re),document.addEventListener("resume",Se,!1),er()&&document.addEventListener("visibilitychange",Be,!1),T=()=>{p.removePassiveListener(Re),document.removeEventListener("resume",Se,!1),document.removeEventListener("visibilitychange",Be,!1),de&&window.clearTimeout(de)}})}finally{T()}})).apply(this,arguments)}function au(y){return lu.apply(this,arguments)}function lu(){return(lu=(0,d.Z)(function*(y){const p=gf(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function gf(y){if(Bn(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let b=0;b<y.length;b++)g[b]=y.charCodeAt(b);return g}y="Browser",(0,he._registerComponent)(new Ge.wA("auth",(p,{options:g})=>{const b=p.getProvider("app").getImmediate(),{apiKey:T,authDomain:R}=b.options;return(W=>{Te(T&&!T.includes(":"),"invalid-api-key",{appName:W.name}),Te(!(null==R?void 0:R.includes(":")),"argument-error",{appName:W.name});const de={apiKey:T,authDomain:R,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zn(y)},Re=new rg(W,de);return function(y,p){const g=(null==p?void 0:p.persistence)||[],b=(Array.isArray(g)?g:[g]).map(St);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,null==p?void 0:p.popupRedirectResolver)}(Re,g),Re})(b)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,b)=>{p.getProvider("auth-internal").initialize()})),(0,he._registerComponent)(new Ge.wA("auth-internal",p=>{const g=nn(p.getProvider("auth").getImmediate());return new lC(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,he.registerVersion)(Ul,"0.19.9",void 0),(0,he.registerVersion)(Ul,"0.19.9","esm2017");class Ag extends U_{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,d.Z)(function*(){yield p.initPromise})()}}function _f(y){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,d.Z)(function*(y){const p=yield vs()._get(vf(y));return p&&(yield vs()._remove(vf(y))),p})).apply(this,arguments)}function yf(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function vs(){return St(Bi)}function vf(y){return hr("authEvent",y.config.apiKey,y.name)}function Uo(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...g]=y.split("?");return(0,L.zd)(g.join("?"))}function ja(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Lt("no-auth-event")}}function Gl(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Ef(y=(0,L.z$)()){return!("file:"!==Gl()&&"ionic:"!==Gl()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Rg(){try{const y=self.localStorage,p=gs();if(y)return y.setItem(p,"1"),y.removeItem(p),!function(y=(0,L.z$)()){return(0,L.w1)()&&11===(null==document?void 0:document.documentMode)||function(y=(0,L.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,L.hl)()}catch(y){return Df()&&(0,L.hl)()}return!1}function Df(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Bd(){return("http:"===Gl()||"https:"===Gl()||(0,L.ru)()||Ef())&&!((0,L.b$)()||(0,L.UG)())&&Rg()&&!Df()}function Ha(){return Ef()&&"undefined"!=typeof document}function Ud(){return(Ud=(0,d.Z)(function*(){return!!Ha()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Mr={LOCAL:"local",NONE:"none",SESSION:"session"},Wi=Te,Tf="persistence";function jo(y){return Sf.apply(this,arguments)}function Sf(){return(Sf=(0,d.Z)(function*(y){yield y._initializationPromise;const p=Og(),g=hr(Tf,y.config.apiKey,y.name);p&&p.setItem(g,y._getPersistence())})).apply(this,arguments)}function Og(){var y;try{return(null===(y="undefined"!=typeof window?window:null)||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const Af=Te;class Ho{constructor(){this.browserResolver=St(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qt,this._completeRedirectFn=qs}_openPopup(p,g,b,T){var R=this;return(0,d.Z)(function*(){var W;Bn(null===(W=R.eventManagers[p._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const de=Dg(p,g,b,Un(),T);return function(y,p,g,b=500,T=600){const R=Math.max((window.screen.availHeight-T)/2,0).toString(),W=Math.max((window.screen.availWidth-b)/2,0).toString();let de="";const Re=Object.assign(Object.assign({},Cg),{width:b.toString(),height:T.toString(),top:R,left:W}),Se=(0,L.z$)().toLowerCase();g&&(de=Us(Se)?"_blank":g),vo(Se)&&(p=p||"http://localhost",Re.scrollbars="yes");const Be=Object.entries(Re).reduce((At,[qn,Cs])=>`${At}${qn}=${Cs},`,"");if(function(y=(0,L.z$)()){var p;return bo(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Se)&&"_self"!==de)return function(y,p){const g=document.createElement("a");g.href=y,g.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(p||"",de),new xd(null);const He=window.open(p||"",de,Be);Te(He,y,"popup-blocked");try{He.focus()}catch(At){}return new xd(He)}(p,de,gs())})()}_openRedirect(p,g,b,T){var R=this;return(0,d.Z)(function*(){return yield R._originValidation(p),y=Dg(p,g,b,Un(),T),Cn().location.href=y,new Promise(()=>{});var y})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:T,promise:R}=this.eventManagers[g];return T?Promise.resolve(T):(Bn(R,"If manager is not set, promise should be"),R)}const b=this.initAndGetManager(p);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(p){var g=this;return(0,d.Z)(function*(){const b=yield function(y){return Pd.apply(this,arguments)}(p),T=new U_(p);return b.register("authEvent",R=>(Te(null==R?void 0:R.authEvent,p,"invalid-auth-event"),{status:T.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:T},g.iframes[p._key()]=b,T})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Bo,{type:Bo},T=>{var R;const W=null===(R=null==T?void 0:T[0])||void 0===R?void 0:R[Bo];void 0!==W&&g(!!W),Bt(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(y){return eu.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return ki()||Wn()||bo()}}),this.cordovaResolver=St(class{constructor(){this._redirectPersistence=Qt,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=qs}_initialize(p){var g=this;return(0,d.Z)(function*(){const b=p._key();let T=g.eventManagers.get(b);return T||(T=new Ag(p),g.eventManagers.set(b,T),g.attachCallbackListeners(p,T)),T})()}_openPopup(p){Bt(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,b,T){var R=this;return(0,d.Z)(function*(){!function(y){var p,g,b,T,R,W,de,Re,Se,Be;const He=si();Te("function"==typeof(null===(p=null==He?void 0:He.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Te(void 0!==(null===(g=null==He?void 0:He.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Te("function"==typeof(null===(R=null===(T=null===(b=null==He?void 0:He.cordova)||void 0===b?void 0:b.plugins)||void 0===T?void 0:T.browsertab)||void 0===R?void 0:R.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Te("function"==typeof(null===(Re=null===(de=null===(W=null==He?void 0:He.cordova)||void 0===W?void 0:W.plugins)||void 0===de?void 0:de.browsertab)||void 0===Re?void 0:Re.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Te("function"==typeof(null===(Be=null===(Se=null==He?void 0:He.cordova)||void 0===Se?void 0:Se.InAppBrowser)||void 0===Be?void 0:Be.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const W=yield R._initialize(p);yield W.initialized(),W.resetRedirect(),Ol.clear(),yield R._originValidation(p);const de=function(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:yf(),postBody:null,tenantId:y.tenantId,error:Lt(y,"no-auth-event")}}(p,b,T);yield function(y,p){return vs()._set(vf(y),p)}(p,de);const Re=yield function(y,p,g){return iu.apply(this,arguments)}(p,de,g),Se=yield function(y){const{cordova:p}=si();return new Promise(g=>{p.plugins.browsertab.isAvailable(b=>{let T=null;b?p.plugins.browsertab.openUrl(y):T=p.InAppBrowser.open(y,function(y=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(T)})})}(Re);return function(y,p,g){return Fd.apply(this,arguments)}(p,W,Se)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(y){return su.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:b,handleOpenURL:T,BuildInfo:R}=si(),W=setTimeout((0,d.Z)(function*(){yield _f(p),g.onEvent(ja())}),500),de=function(){var Be=(0,d.Z)(function*(He){clearTimeout(W);const At=yield _f(p);let qn=null;At&&(null==He?void 0:He.url)&&(qn=function(y,p){var g,b;const T=function(y){const p=Uo(y),g=p.link?decodeURIComponent(p.link):void 0,b=Uo(g).link,T=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Uo(T).link||T||b||g||y}(p);if(T.includes("/__/auth/callback")){const R=Uo(T),W=R.firebaseError?function(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(R.firebaseError)):null,de=null===(b=null===(g=null==W?void 0:W.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Re=de?Lt(de):null;return Re?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Re,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:T,postBody:null}}return null}(At,He.url)),g.onEvent(qn||ja())});return function(At){return Be.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,de);const Re=T,Se=`${R.packageName.toLowerCase()}://`;si().handleOpenURL=function(){var Be=(0,d.Z)(function*(He){if(He.toLowerCase().startsWith(Se)&&de({url:He}),"function"==typeof Re)try{Re(He)}catch(At){console.error(At)}});return function(He){return Be.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Qt,this._completeRedirectFn=qs}_initialize(p){var g=this;return(0,d.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,b,T){var R=this;return(0,d.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,g,b,T)})()}_openRedirect(p,g,b,T){var R=this;return(0,d.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,g,b,T)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Ha()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Af(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,d.Z)(function*(){if(p.underlyingResolver)return;const g=yield function(){return Ud.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Wl(y){return y.unwrap()}function Pg(y){return uu(y)}function uu(y){const{_tokenResponse:p}=y instanceof L.ZR?y.customData:y;if(!p)return null;if(!(y instanceof L.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return ue.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=Hs;break;case"facebook.com":b=hl;break;case"github.com":b=Dr;break;case"twitter.com":b=fl;break;default:const{oauthIdToken:T,oauthAccessToken:R,oauthTokenSecret:W,pendingToken:de,nonce:Re}=p;return R||W||T||de?de?g.startsWith("saml.")?cs._create(g,de):tr._fromParams({providerId:g,signInMethod:g,pendingToken:de,idToken:T,accessToken:R}):new Do(g).credential({idToken:T,accessToken:R,rawNonce:Re}):null}return y instanceof L.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function Or(y,p){return p.catch(g=>{throw g instanceof L.ZR&&function(y,p){var g;const b=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new ny(y,function(y,p){var g;const b=(0,L.m9)(y),T=p;return Te(p.customData.operationType,b,"argument-error"),Te(null===(g=T.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),Ma._fromError(b,T)}(y,p));else if(b){const T=uu(p),R=p;T&&(R.credential=T,R.tenantId=b.tenantId||void 0,R.email=b.email||void 0,R.phoneNumber=b.phoneNumber||void 0)}}(y,g),g}).then(g=>{const T=g.user;return{operationType:g.operationType,credential:Pg(g),additionalUserInfo:ei(g),user:ai.getOrCreate(T)}})}function zl(y,p){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,d.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:b=>Or(y,g.confirm(b))}})).apply(this,arguments)}class ny{constructor(p,g){this.resolver=g,this.auth=function(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Or(Wl(this.auth),this.resolver.resolveSignIn(p))}}class ai{constructor(p){this._delegate=p,this.multiFactor=function(y){const p=(0,L.m9)(y);return wl.has(p)||wl.set(p,Ed._fromUser(p)),wl.get(p)}(p)}static getOrCreate(p){return ai.USER_MAP.has(p)||ai.USER_MAP.set(p,new ai(p)),ai.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,d.Z)(function*(){return Or(g.auth,Ea(g._delegate,p))})()}linkWithPhoneNumber(p,g){var b=this;return(0,d.Z)(function*(){return zl(b.auth,function(y,p,g){return Ci.apply(this,arguments)}(b._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,d.Z)(function*(){return Or(g.auth,function(y,p,g){return rt.apply(this,arguments)}(g._delegate,p,Ho))})()}linkWithRedirect(p){var g=this;return(0,d.Z)(function*(){return yield jo(nn(g.auth)),function(y,p,g){return function(y,p,g){return Md.apply(this,arguments)}(y,p,g)}(g._delegate,p,Ho)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,d.Z)(function*(){return Or(g.auth,kc(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return zl(this.auth,function(y,p,g){return w.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Or(this.auth,function(y,p,g){return ni.apply(this,arguments)}(this._delegate,p,Ho))}reauthenticateWithRedirect(p){var g=this;return(0,d.Z)(function*(){return yield jo(nn(g.auth)),function(y,p,g){return function(y,p,g){return Pl.apply(this,arguments)}(y,p,g)}(g._delegate,p,Ho)})()}sendEmailVerification(p){return function(y,p){return Oo.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,d.Z)(function*(){return yield function(y,p){return Ca.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function(y,p){return Li((0,L.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function(y,p){return Li((0,L.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function(y,p){return ee.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function(y,p){return gn.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function(y,p,g){return Sa.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ai.USER_MAP=new WeakMap;const du=Te;let $a=(()=>{class y{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=g.options;du(T,"invalid-api-key",{appName:g.name}),du(T,"invalid-api-key",{appName:g.name});const R="undefined"!=typeof window?Ho:void 0;this._delegate=b.initialize({options:{persistence:dC(T,g.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(xi),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ai.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function(y,p,g){const b=nn(y);Te(b._canInitEmulator,b,"emulator-config-failed"),Te(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const T=!!(null==g?void 0:g.disableWarnings),R=da(p),{host:W,port:de}=function(y){const p=da(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(b);if(T){const R=T[1];return{host:R,port:Qr(b.substr(R.length+1))}}{const[R,W]=b.split(":");return{host:R,port:Qr(W)}}}(p);b.config.emulator={url:`${R}//${W}${null===de?"":`:${de}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:W,port:de,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,b)}applyActionCode(g){return function(y,p){return bl.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Ao(this._delegate,g)}confirmPasswordReset(g,b){return function(y,p,g){return Ia.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var T=this;return(0,d.Z)(function*(){return Or(T._delegate,function(y,p,g){return Vc.apply(this,arguments)}(T._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(y,p){return Jh.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(y,p){const g=Wt.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,d.Z)(function*(){du(Bd(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function(y,p){return Zs.apply(this,arguments)}(g._delegate,Ho);return b?Or(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(y,p){nn(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,b,T){const{next:R,error:W,complete:de}=zi(g,b,T);return this._delegate.onAuthStateChanged(R,W,de)}onIdTokenChanged(g,b,T){const{next:R,error:W,complete:de}=zi(g,b,T);return this._delegate.onIdTokenChanged(R,W,de)}sendSignInLinkToEmail(g,b){return function(y,p,g){return Fi.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function(y,p,g){return Da.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,d.Z)(function*(){let T;switch(function(y,p){Wi(Object.values(Mr).includes(p),y,"invalid-persistence-type"),(0,L.b$)()?Wi(p!==Mr.SESSION,y,"unsupported-persistence-type"):(0,L.UG)()?Wi(p===Mr.NONE,y,"unsupported-persistence-type"):Df()?Wi(p===Mr.NONE||p===Mr.LOCAL&&(0,L.hl)(),y,"unsupported-persistence-type"):Wi(p===Mr.NONE||Rg(),y,"unsupported-persistence-type")}(b._delegate,g),g){case Mr.SESSION:T=Qt;break;case Mr.LOCAL:T=(yield St(ka)._isAvailable())?ka:Bi;break;case Mr.NONE:T=tt;break;default:return Bt("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Or(this._delegate,function(y){return Xe.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Or(this._delegate,nr(this._delegate,g))}signInWithCustomToken(g){return Or(this._delegate,function(y,p){return wa.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return Or(this._delegate,function(y,p,g){return nr((0,L.m9)(y),yi.credential(p,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return Or(this._delegate,function(y,p,g){return Pn.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return zl(this._delegate,function(y,p,g){return Nn.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,d.Z)(function*(){return du(Bd(),b._delegate,"operation-not-supported-in-this-environment"),Or(b._delegate,function(y,p,g){return Ys.apply(this,arguments)}(b._delegate,g,Ho))})()}signInWithRedirect(g){var b=this;return(0,d.Z)(function*(){return du(Bd(),b._delegate,"operation-not-supported-in-this-environment"),yield jo(b._delegate),function(y,p,g){return function(y,p,g){return Hn.apply(this,arguments)}(y,p,g)}(b._delegate,g,Ho)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(y,p){return $s.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Mr,y})();function zi(y,p,g){let b=y;"function"!=typeof y&&({next:b,error:p,complete:g}=y);const T=b;return{next:W=>T(W&&ai.getOrCreate(W)),error:p,complete:g}}function dC(y,p){const g=function(y,p){const g=Og();if(!g)return[];const b=hr(Tf,y,p);switch(g.getItem(b)){case Mr.NONE:return[tt];case Mr.LOCAL:return[ka,Qt];case Mr.SESSION:return[Qt];default:return[]}}(y,p);if("undefined"!=typeof self&&!g.includes(ka)&&g.push(ka),"undefined"!=typeof window)for(const b of[Bi,Qt])g.includes(b)||g.push(b);return g.includes(tt)||g.push(tt),g}class xg{constructor(){this.providerId="phone",this._delegate=new ue(Wl(te.Z.auth()))}static credential(p,g){return ue.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}xg.PHONE_SIGN_IN_METHOD=ue.PHONE_SIGN_IN_METHOD,xg.PROVIDER_ID=ue.PROVIDER_ID;const kg=Te;class hC{constructor(p,g,b=te.Z.app()){var T;kg(null===(T=b.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new gg(p,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(y){y.INTERNAL.registerComponent(new Ge.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new $a(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:yi,FacebookAuthProvider:hl,GithubAuthProvider:Dr,GoogleAuthProvider:Hs,OAuthProvider:Do,SAMLAuthProvider:Zn,PhoneAuthProvider:xg,PhoneMultiFactorGenerator:Ig,RecaptchaVerifier:hC,TwitterAuthProvider:fl,Auth:$a,AuthCredential:ha,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.9")}(te.Z)},6676:function($e,Ee){!function(V){"use strict";function d(ge){return Array.prototype.slice.call(ge)}function te(ge){return new Promise(function(se,ve){ge.onsuccess=function(){se(ge.result)},ge.onerror=function(){ve(ge.error)}})}function L(ge,se,ve){var Oe,Le=new Promise(function(wt,Rt){te(Oe=ge[se].apply(ge,ve)).then(wt,Rt)});return Le.request=Oe,Le}function he(ge,se,ve){var Oe=L(ge,se,ve);return Oe.then(function(Le){if(Le)return new F(Le,Oe.request)})}function ae(ge,se,ve){ve.forEach(function(Oe){Object.defineProperty(ge.prototype,Oe,{get:function(){return this[se][Oe]},set:function(Le){this[se][Oe]=Le}})})}function X(ge,se,ve,Oe){Oe.forEach(function(Le){Le in ve.prototype&&(ge.prototype[Le]=function(){return L(this[se],Le,arguments)})})}function oe(ge,se,ve,Oe){Oe.forEach(function(Le){Le in ve.prototype&&(ge.prototype[Le]=function(){return this[se][Le].apply(this[se],arguments)})})}function Q(ge,se,ve,Oe){Oe.forEach(function(Le){Le in ve.prototype&&(ge.prototype[Le]=function(){return he(this[se],Le,arguments)})})}function J(ge){this._index=ge}function F(ge,se){this._cursor=ge,this._request=se}function j(ge){this._store=ge}function G(ge){this._tx=ge,this.complete=new Promise(function(se,ve){ge.oncomplete=function(){se()},ge.onerror=function(){ve(ge.error)},ge.onabort=function(){ve(ge.error)}})}function ce(ge,se,ve){this._db=ge,this.oldVersion=se,this.transaction=new G(ve)}function ie(ge){this._db=ge}ae(J,"_index",["name","keyPath","multiEntry","unique"]),X(J,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Q(J,"_index",IDBIndex,["openCursor","openKeyCursor"]),ae(F,"_cursor",["direction","key","primaryKey","value"]),X(F,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(ge){ge in IDBCursor.prototype&&(F.prototype[ge]=function(){var se=this,ve=arguments;return Promise.resolve().then(function(){return se._cursor[ge].apply(se._cursor,ve),te(se._request).then(function(Oe){if(Oe)return new F(Oe,se._request)})})})}),j.prototype.createIndex=function(){return new J(this._store.createIndex.apply(this._store,arguments))},j.prototype.index=function(){return new J(this._store.index.apply(this._store,arguments))},ae(j,"_store",["name","keyPath","indexNames","autoIncrement"]),X(j,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Q(j,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),oe(j,"_store",IDBObjectStore,["deleteIndex"]),G.prototype.objectStore=function(){return new j(this._tx.objectStore.apply(this._tx,arguments))},ae(G,"_tx",["objectStoreNames","mode"]),oe(G,"_tx",IDBTransaction,["abort"]),ce.prototype.createObjectStore=function(){return new j(this._db.createObjectStore.apply(this._db,arguments))},ae(ce,"_db",["name","version","objectStoreNames"]),oe(ce,"_db",IDBDatabase,["deleteObjectStore","close"]),ie.prototype.transaction=function(){return new G(this._db.transaction.apply(this._db,arguments))},ae(ie,"_db",["name","version","objectStoreNames"]),oe(ie,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(ge){[j,J].forEach(function(se){ge in se.prototype&&(se.prototype[ge.replace("open","iterate")]=function(){var ve=d(arguments),Oe=ve[ve.length-1],Le=this._store||this._index,wt=Le[ge].apply(Le,ve.slice(0,-1));wt.onsuccess=function(){Oe(wt.result)}})})}),[J,j].forEach(function(ge){ge.prototype.getAll||(ge.prototype.getAll=function(se,ve){var Oe=this,Le=[];return new Promise(function(wt){Oe.iterateCursor(se,function(Rt){Rt?(Le.push(Rt.value),void 0===ve||Le.length!=ve?Rt.continue():wt(Le)):wt(Le)})})})}),V.openDb=function(ge,se,ve){var Oe=L(indexedDB,"open",[ge,se]),Le=Oe.request;return Le&&(Le.onupgradeneeded=function(wt){ve&&ve(new ce(Le.result,wt.oldVersion,Le.transaction))}),Oe.then(function(wt){return new ie(wt)})},V.deleteDb=function(ge){return L(indexedDB,"deleteDatabase",[ge])},Object.defineProperty(V,"__esModule",{value:!0})}(Ee)},7574:($e,Ee,V)=>{"use strict";V.d(Ee,{y:()=>j});var d=V(7393),L=V(9181),he=V(6490),X=V(6554),oe=V(4487);var F=V(2494);let j=(()=>{class ce{constructor(ye){this._isScalar=!1,ye&&(this._subscribe=ye)}lift(ye){const me=new ce;return me.source=this,me.operator=ye,me}subscribe(ye,me,ge){const{operator:se}=this,ve=function(ce,ie,ye){if(ce){if(ce instanceof d.L)return ce;if(ce[L.b])return ce[L.b]()}return ce||ie||ye?new d.L(ce,ie,ye):new d.L(he.c)}(ye,me,ge);if(ve.add(se?se.call(ve,this.source):this.source||F.v.useDeprecatedSynchronousErrorHandling&&!ve.syncErrorThrowable?this._subscribe(ve):this._trySubscribe(ve)),F.v.useDeprecatedSynchronousErrorHandling&&ve.syncErrorThrowable&&(ve.syncErrorThrowable=!1,ve.syncErrorThrown))throw ve.syncErrorValue;return ve}_trySubscribe(ye){try{return this._subscribe(ye)}catch(me){F.v.useDeprecatedSynchronousErrorHandling&&(ye.syncErrorThrown=!0,ye.syncErrorValue=me),function(ce){for(;ce;){const{closed:ie,destination:ye,isStopped:me}=ce;if(ie||me)return!1;ce=ye&&ye instanceof d.L?ye:null}return!0}(ye)?ye.error(me):console.warn(me)}}forEach(ye,me){return new(me=G(me))((ge,se)=>{let ve;ve=this.subscribe(Oe=>{try{ye(Oe)}catch(Le){se(Le),ve&&ve.unsubscribe()}},se,ge)})}_subscribe(ye){const{source:me}=this;return me&&me.subscribe(ye)}[X.L](){return this}pipe(...ye){return 0===ye.length?this:function(ce){return 0===ce.length?oe.y:1===ce.length?ce[0]:function(ye){return ce.reduce((me,ge)=>ge(me),ye)}}(ye)(this)}toPromise(ye){return new(ye=G(ye))((me,ge)=>{let se;this.subscribe(ve=>se=ve,ve=>ge(ve),()=>me(se))})}}return ce.create=ie=>new ce(ie),ce})();function G(ce){if(ce||(ce=F.v.Promise||Promise),!ce)throw new Error("no Promise impl found");return ce}},6490:($e,Ee,V)=>{"use strict";V.d(Ee,{c:()=>L});var d=V(2494),te=V(4449);const L={closed:!0,next(he){},error(he){if(d.v.useDeprecatedSynchronousErrorHandling)throw he;(0,te.z)(he)},complete(){}}},9765:($e,Ee,V)=>{"use strict";V.d(Ee,{Yc:()=>oe,xQ:()=>Q});var d=V(7574),te=V(7393),L=V(5319),he=V(7971),ae=V(8858),X=V(9181);class oe extends te.L{constructor(j){super(j),this.destination=j}}let Q=(()=>{class F extends d.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[X.b](){return new oe(this)}lift(G){const ce=new J(this,this);return ce.operator=G,ce}next(G){if(this.closed)throw new he.N;if(!this.isStopped){const{observers:ce}=this,ie=ce.length,ye=ce.slice();for(let me=0;me<ie;me++)ye[me].next(G)}}error(G){if(this.closed)throw new he.N;this.hasError=!0,this.thrownError=G,this.isStopped=!0;const{observers:ce}=this,ie=ce.length,ye=ce.slice();for(let me=0;me<ie;me++)ye[me].error(G);this.observers.length=0}complete(){if(this.closed)throw new he.N;this.isStopped=!0;const{observers:G}=this,ce=G.length,ie=G.slice();for(let ye=0;ye<ce;ye++)ie[ye].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(G){if(this.closed)throw new he.N;return super._trySubscribe(G)}_subscribe(G){if(this.closed)throw new he.N;return this.hasError?(G.error(this.thrownError),L.w.EMPTY):this.isStopped?(G.complete(),L.w.EMPTY):(this.observers.push(G),new ae.W(this,G))}asObservable(){const G=new d.y;return G.source=this,G}}return F.create=(j,G)=>new J(j,G),F})();class J extends Q{constructor(j,G){super(),this.destination=j,this.source=G}next(j){const{destination:G}=this;G&&G.next&&G.next(j)}error(j){const{destination:G}=this;G&&G.error&&this.destination.error(j)}complete(){const{destination:j}=this;j&&j.complete&&this.destination.complete()}_subscribe(j){const{source:G}=this;return G?this.source.subscribe(j):L.w.EMPTY}}},8858:($e,Ee,V)=>{"use strict";V.d(Ee,{W:()=>te});var d=V(5319);class te extends d.w{constructor(he,ae){super(),this.subject=he,this.subscriber=ae,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const he=this.subject,ae=he.observers;if(this.subject=null,!ae||0===ae.length||he.isStopped||he.closed)return;const X=ae.indexOf(this.subscriber);-1!==X&&ae.splice(X,1)}}},7393:($e,Ee,V)=>{"use strict";V.d(Ee,{L:()=>oe});var d=V(9105),te=V(6490),L=V(5319),he=V(9181),ae=V(2494),X=V(4449);class oe extends L.w{constructor(F,j,G){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=te.c;break;case 1:if(!F){this.destination=te.c;break}if("object"==typeof F){F instanceof oe?(this.syncErrorThrowable=F.syncErrorThrowable,this.destination=F,F.add(this)):(this.syncErrorThrowable=!0,this.destination=new Q(this,F));break}default:this.syncErrorThrowable=!0,this.destination=new Q(this,F,j,G)}}[he.b](){return this}static create(F,j,G){const ce=new oe(F,j,G);return ce.syncErrorThrowable=!1,ce}next(F){this.isStopped||this._next(F)}error(F){this.isStopped||(this.isStopped=!0,this._error(F))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(F){this.destination.next(F)}_error(F){this.destination.error(F),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:F}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=F,this}}class Q extends oe{constructor(F,j,G,ce){super(),this._parentSubscriber=F;let ie,ye=this;(0,d.m)(j)?ie=j:j&&(ie=j.next,G=j.error,ce=j.complete,j!==te.c&&(ye=Object.create(j),(0,d.m)(ye.unsubscribe)&&this.add(ye.unsubscribe.bind(ye)),ye.unsubscribe=this.unsubscribe.bind(this))),this._context=ye,this._next=ie,this._error=G,this._complete=ce}next(F){if(!this.isStopped&&this._next){const{_parentSubscriber:j}=this;ae.v.useDeprecatedSynchronousErrorHandling&&j.syncErrorThrowable?this.__tryOrSetError(j,this._next,F)&&this.unsubscribe():this.__tryOrUnsub(this._next,F)}}error(F){if(!this.isStopped){const{_parentSubscriber:j}=this,{useDeprecatedSynchronousErrorHandling:G}=ae.v;if(this._error)G&&j.syncErrorThrowable?(this.__tryOrSetError(j,this._error,F),this.unsubscribe()):(this.__tryOrUnsub(this._error,F),this.unsubscribe());else if(j.syncErrorThrowable)G?(j.syncErrorValue=F,j.syncErrorThrown=!0):(0,X.z)(F),this.unsubscribe();else{if(this.unsubscribe(),G)throw F;(0,X.z)(F)}}}complete(){if(!this.isStopped){const{_parentSubscriber:F}=this;if(this._complete){const j=()=>this._complete.call(this._context);ae.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?(this.__tryOrSetError(F,j),this.unsubscribe()):(this.__tryOrUnsub(j),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(F,j){try{F.call(this._context,j)}catch(G){if(this.unsubscribe(),ae.v.useDeprecatedSynchronousErrorHandling)throw G;(0,X.z)(G)}}__tryOrSetError(F,j,G){if(!ae.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{j.call(this._context,G)}catch(ce){return ae.v.useDeprecatedSynchronousErrorHandling?(F.syncErrorValue=ce,F.syncErrorThrown=!0,!0):((0,X.z)(ce),!0)}return!1}_unsubscribe(){const{_parentSubscriber:F}=this;this._context=null,this._parentSubscriber=null,F.unsubscribe()}}},5319:($e,Ee,V)=>{"use strict";V.d(Ee,{w:()=>X});var d=V(9796),te=V(1555),L=V(9105);const ae=(()=>{function Q(J){return Error.call(this),this.message=J?`${J.length} errors occurred during unsubscription:\n${J.map((F,j)=>`${j+1}) ${F.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=J,this}return Q.prototype=Object.create(Error.prototype),Q})();class X{constructor(J){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,J&&(this._ctorUnsubscribe=!0,this._unsubscribe=J)}unsubscribe(){let J;if(this.closed)return;let{_parentOrParents:F,_ctorUnsubscribe:j,_unsubscribe:G,_subscriptions:ce}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,F instanceof X)F.remove(this);else if(null!==F)for(let ie=0;ie<F.length;++ie)F[ie].remove(this);if((0,L.m)(G)){j&&(this._unsubscribe=void 0);try{G.call(this)}catch(ie){J=ie instanceof ae?oe(ie.errors):[ie]}}if((0,d.k)(ce)){let ie=-1,ye=ce.length;for(;++ie<ye;){const me=ce[ie];if((0,te.K)(me))try{me.unsubscribe()}catch(ge){J=J||[],ge instanceof ae?J=J.concat(oe(ge.errors)):J.push(ge)}}}if(J)throw new ae(J)}add(J){let F=J;if(!J)return X.EMPTY;switch(typeof J){case"function":F=new X(J);case"object":if(F===this||F.closed||"function"!=typeof F.unsubscribe)return F;if(this.closed)return F.unsubscribe(),F;if(!(F instanceof X)){const ce=F;F=new X,F._subscriptions=[ce]}break;default:throw new Error("unrecognized teardown "+J+" added to Subscription.")}let{_parentOrParents:j}=F;if(null===j)F._parentOrParents=this;else if(j instanceof X){if(j===this)return F;F._parentOrParents=[j,this]}else{if(-1!==j.indexOf(this))return F;j.push(this)}const G=this._subscriptions;return null===G?this._subscriptions=[F]:G.push(F),F}remove(J){const F=this._subscriptions;if(F){const j=F.indexOf(J);-1!==j&&F.splice(j,1)}}}var Q;function oe(Q){return Q.reduce((J,F)=>J.concat(F instanceof ae?F.errors:F),[])}X.EMPTY=((Q=new X).closed=!0,Q)},2494:($e,Ee,V)=>{"use strict";V.d(Ee,{v:()=>te});let d=!1;const te={Promise:void 0,set useDeprecatedSynchronousErrorHandling(L){if(L){const he=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+he.stack)}else d&&console.log("RxJS: Back to a better error behavior. Thank you. <3");d=L},get useDeprecatedSynchronousErrorHandling(){return d}}},5345:($e,Ee,V)=>{"use strict";V.d(Ee,{IY:()=>he,Ds:()=>X,ft:()=>Q});var d=V(7393),te=V(7574),L=V(7444);class he extends d.L{constructor(F){super(),this.parent=F}_next(F){this.parent.notifyNext(F)}_error(F){this.parent.notifyError(F),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class X extends d.L{notifyNext(F){this.destination.next(F)}notifyError(F){this.destination.error(F)}notifyComplete(){this.destination.complete()}}function Q(J,F){if(F.closed)return;if(J instanceof te.y)return J.subscribe(F);let j;try{j=(0,L.s)(J)(F)}catch(G){F.error(G)}return j}},2441:($e,Ee,V)=>{"use strict";V.d(Ee,{c:()=>ae,N:()=>X});var d=V(9765),te=V(7574),L=V(5319),he=V(1307);class ae extends te.y{constructor(j,G){super(),this.source=j,this.subjectFactory=G,this._refCount=0,this._isComplete=!1}_subscribe(j){return this.getSubject().subscribe(j)}getSubject(){const j=this._subject;return(!j||j.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let j=this._connection;return j||(this._isComplete=!1,j=this._connection=new L.w,j.add(this.source.subscribe(new oe(this.getSubject(),this))),j.closed&&(this._connection=null,j=L.w.EMPTY)),j}refCount(){return(0,he.x)()(this)}}const X=(()=>{const F=ae.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:F._subscribe},_isComplete:{value:F._isComplete,writable:!0},getSubject:{value:F.getSubject},connect:{value:F.connect},refCount:{value:F.refCount}}})();class oe extends d.Yc{constructor(j,G){super(j),this.connectable=G}_error(j){this._unsubscribe(),super._error(j)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const j=this.connectable;if(j){this.connectable=null;const G=j._connection;j._refCount=0,j._subject=null,j._connection=null,G&&G.unsubscribe()}}}},9193:($e,Ee,V)=>{"use strict";V.d(Ee,{E:()=>te,c:()=>L});var d=V(7574);const te=new d.y(ae=>ae.complete());function L(ae){return ae?function(ae){return new d.y(X=>ae.schedule(()=>X.complete()))}(ae):te}},4402:($e,Ee,V)=>{"use strict";V.d(Ee,{D:()=>ye});var d=V(7574),te=V(7444),L=V(5319),he=V(6554),oe=V(4087),Q=V(377),j=V(4072),G=V(9489);function ye(me,ge){return ge?function(me,ge){if(null!=me){if(function(me){return me&&"function"==typeof me[he.L]}(me))return function(me,ge){return new d.y(se=>{const ve=new L.w;return ve.add(ge.schedule(()=>{const Oe=me[he.L]();ve.add(Oe.subscribe({next(Le){ve.add(ge.schedule(()=>se.next(Le)))},error(Le){ve.add(ge.schedule(()=>se.error(Le)))},complete(){ve.add(ge.schedule(()=>se.complete()))}}))})),ve})}(me,ge);if((0,j.t)(me))return function(me,ge){return new d.y(se=>{const ve=new L.w;return ve.add(ge.schedule(()=>me.then(Oe=>{ve.add(ge.schedule(()=>{se.next(Oe),ve.add(ge.schedule(()=>se.complete()))}))},Oe=>{ve.add(ge.schedule(()=>se.error(Oe)))}))),ve})}(me,ge);if((0,G.z)(me))return(0,oe.r)(me,ge);if(function(me){return me&&"function"==typeof me[Q.hZ]}(me)||"string"==typeof me)return function(me,ge){if(!me)throw new Error("Iterable cannot be null");return new d.y(se=>{const ve=new L.w;let Oe;return ve.add(()=>{Oe&&"function"==typeof Oe.return&&Oe.return()}),ve.add(ge.schedule(()=>{Oe=me[Q.hZ](),ve.add(ge.schedule(function(){if(se.closed)return;let Le,wt;try{const Rt=Oe.next();Le=Rt.value,wt=Rt.done}catch(Rt){return void se.error(Rt)}wt?se.complete():(se.next(Le),this.schedule())}))})),ve})}(me,ge)}throw new TypeError((null!==me&&typeof me||me)+" is not observable")}(me,ge):me instanceof d.y?me:new d.y((0,te.s)(me))}},6693:($e,Ee,V)=>{"use strict";V.d(Ee,{n:()=>he});var d=V(7574),te=V(5015),L=V(4087);function he(ae,X){return X?(0,L.r)(ae,X):new d.y((0,te.V)(ae))}},6682:($e,Ee,V)=>{"use strict";V.d(Ee,{T:()=>ae});var d=V(7574),te=V(4869),L=V(3282),he=V(6693);function ae(...X){let oe=Number.POSITIVE_INFINITY,Q=null,J=X[X.length-1];return(0,te.K)(J)?(Q=X.pop(),X.length>1&&"number"==typeof X[X.length-1]&&(oe=X.pop())):"number"==typeof J&&(oe=X.pop()),null===Q&&1===X.length&&X[0]instanceof d.y?X[0]:(0,L.J)(oe)((0,he.n)(X,Q))}},5917:($e,Ee,V)=>{"use strict";V.d(Ee,{of:()=>he});var d=V(4869),te=V(6693),L=V(4087);function he(...ae){let X=ae[ae.length-1];return(0,d.K)(X)?(ae.pop(),(0,L.r)(ae,X)):(0,te.n)(ae)}},8002:($e,Ee,V)=>{"use strict";V.d(Ee,{U:()=>te});var d=V(7393);function te(ae,X){return function(Q){if("function"!=typeof ae)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Q.lift(new L(ae,X))}}class L{constructor(X,oe){this.project=X,this.thisArg=oe}call(X,oe){return oe.subscribe(new he(X,this.project,this.thisArg))}}class he extends d.L{constructor(X,oe,Q){super(X),this.project=oe,this.count=0,this.thisArg=Q||this}_next(X){let oe;try{oe=this.project.call(this.thisArg,X,this.count++)}catch(Q){return void this.destination.error(Q)}this.destination.next(oe)}}},3282:($e,Ee,V)=>{"use strict";V.d(Ee,{J:()=>L});var d=V(9773),te=V(4487);function L(he=Number.POSITIVE_INFINITY){return(0,d.zg)(te.y,he)}},9773:($e,Ee,V)=>{"use strict";V.d(Ee,{zg:()=>he});var d=V(8002),te=V(4402),L=V(5345);function he(Q,J,F=Number.POSITIVE_INFINITY){return"function"==typeof J?j=>j.pipe(he((G,ce)=>(0,te.D)(Q(G,ce)).pipe((0,d.U)((ie,ye)=>J(G,ie,ce,ye))),F)):("number"==typeof J&&(F=J),j=>j.lift(new ae(Q,F)))}class ae{constructor(J,F=Number.POSITIVE_INFINITY){this.project=J,this.concurrent=F}call(J,F){return F.subscribe(new X(J,this.project,this.concurrent))}}class X extends L.Ds{constructor(J,F,j=Number.POSITIVE_INFINITY){super(J),this.project=F,this.concurrent=j,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(J){this.active<this.concurrent?this._tryNext(J):this.buffer.push(J)}_tryNext(J){let F;const j=this.index++;try{F=this.project(J,j)}catch(G){return void this.destination.error(G)}this.active++,this._innerSub(F)}_innerSub(J){const F=new L.IY(this),j=this.destination;j.add(F);const G=(0,L.ft)(J,F);G!==F&&j.add(G)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(J){this.destination.next(J)}notifyComplete(){const J=this.buffer;this.active--,J.length>0?this._next(J.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:($e,Ee,V)=>{"use strict";V.d(Ee,{ht:()=>j,QV:()=>J});var d=V(7393),te=V(9193),L=V(5917),he=V(7574);class Q{constructor(ie,ye,me){this.kind=ie,this.value=ye,this.error=me,this.hasValue="N"===ie}observe(ie){switch(this.kind){case"N":return ie.next&&ie.next(this.value);case"E":return ie.error&&ie.error(this.error);case"C":return ie.complete&&ie.complete()}}do(ie,ye,me){switch(this.kind){case"N":return ie&&ie(this.value);case"E":return ye&&ye(this.error);case"C":return me&&me()}}accept(ie,ye,me){return ie&&"function"==typeof ie.next?this.observe(ie):this.do(ie,ye,me)}toObservable(){switch(this.kind){case"N":return(0,L.of)(this.value);case"E":return ce=this.error,new he.y(ye=>ye.error(ce));case"C":return(0,te.c)()}var ce;throw new Error("unexpected notification kind value")}static createNext(ie){return void 0!==ie?new Q("N",ie):Q.undefinedValueNotification}static createError(ie){return new Q("E",void 0,ie)}static createComplete(){return Q.completeNotification}}function J(ce,ie=0){return function(me){return me.lift(new F(ce,ie))}}Q.completeNotification=new Q("C"),Q.undefinedValueNotification=new Q("N",void 0);class F{constructor(ie,ye=0){this.scheduler=ie,this.delay=ye}call(ie,ye){return ye.subscribe(new j(ie,this.scheduler,this.delay))}}class j extends d.L{constructor(ie,ye,me=0){super(ie),this.scheduler=ye,this.delay=me}static dispatch(ie){const{notification:ye,destination:me}=ie;ye.observe(me),this.unsubscribe()}scheduleMessage(ie){this.destination.add(this.scheduler.schedule(j.dispatch,this.delay,new G(ie,this.destination)))}_next(ie){this.scheduleMessage(Q.createNext(ie))}_error(ie){this.scheduleMessage(Q.createError(ie)),this.unsubscribe()}_complete(){this.scheduleMessage(Q.createComplete()),this.unsubscribe()}}class G{constructor(ie,ye){this.notification=ie,this.destination=ye}}},1307:($e,Ee,V)=>{"use strict";V.d(Ee,{x:()=>te});var d=V(7393);function te(){return function(X){return X.lift(new L(X))}}class L{constructor(X){this.connectable=X}call(X,oe){const{connectable:Q}=this;Q._refCount++;const J=new he(X,Q),F=oe.subscribe(J);return J.closed||(J.connection=Q.connect()),F}}class he extends d.L{constructor(X,oe){super(X),this.connectable=oe}_unsubscribe(){const{connectable:X}=this;if(!X)return void(this.connection=null);this.connectable=null;const oe=X._refCount;if(oe<=0)return void(this.connection=null);if(X._refCount=oe-1,oe>1)return void(this.connection=null);const{connection:Q}=this,J=X._connection;this.connection=null,J&&(!Q||J===Q)&&J.unsubscribe()}}},8819:($e,Ee,V)=>{"use strict";V.d(Ee,{B:()=>oe});var d=V(2441);var he=V(1307),ae=V(9765);function X(){return new ae.xQ}function oe(){return Q=>(0,he.x)()(function(Q,J){return function(j){let G;G="function"==typeof Q?Q:function(){return Q};const ce=Object.create(j,d.N);return ce.source=j,ce.subjectFactory=G,ce}}(X)(Q))}},9673:($e,Ee,V)=>{"use strict";V.d(Ee,{R:()=>ae});var d=V(7574),te=V(4581),L=V(6561);class he extends d.y{constructor(Q,J=0,F=te.e){super(),this.source=Q,this.delayTime=J,this.scheduler=F,(!(0,L.k)(J)||J<0)&&(this.delayTime=0),(!F||"function"!=typeof F.schedule)&&(this.scheduler=te.e)}static create(Q,J=0,F=te.e){return new he(Q,J,F)}static dispatch(Q){const{source:J,subscriber:F}=Q;return this.add(J.subscribe(F))}_subscribe(Q){return this.scheduler.schedule(he.dispatch,this.delayTime,{source:this.source,subscriber:Q})}}function ae(oe,Q=0){return function(F){return F.lift(new X(oe,Q))}}class X{constructor(Q,J){this.scheduler=Q,this.delay=J}call(Q,J){return new he(J,this.delay,this.scheduler).subscribe(Q)}}},3342:($e,Ee,V)=>{"use strict";V.d(Ee,{b:()=>he});var d=V(7393);function te(){}var L=V(9105);function he(oe,Q,J){return function(j){return j.lift(new ae(oe,Q,J))}}class ae{constructor(Q,J,F){this.nextOrObserver=Q,this.error=J,this.complete=F}call(Q,J){return J.subscribe(new X(Q,this.nextOrObserver,this.error,this.complete))}}class X extends d.L{constructor(Q,J,F,j){super(Q),this._tapNext=te,this._tapError=te,this._tapComplete=te,this._tapError=F||te,this._tapComplete=j||te,(0,L.m)(J)?(this._context=this,this._tapNext=J):J&&(this._context=J,this._tapNext=J.next||te,this._tapError=J.error||te,this._tapComplete=J.complete||te)}_next(Q){try{this._tapNext.call(this._context,Q)}catch(J){return void this.destination.error(J)}this.destination.next(Q)}_error(Q){try{this._tapError.call(this._context,Q)}catch(J){return void this.destination.error(J)}this.destination.error(Q)}_complete(){try{this._tapComplete.call(this._context)}catch(Q){return void this.destination.error(Q)}return this.destination.complete()}}},4087:($e,Ee,V)=>{"use strict";V.d(Ee,{r:()=>L});var d=V(7574),te=V(5319);function L(he,ae){return new d.y(X=>{const oe=new te.w;let Q=0;return oe.add(ae.schedule(function(){Q!==he.length?(X.next(he[Q++]),X.closed||oe.add(this.schedule())):X.complete()})),oe})}},6465:($e,Ee,V)=>{"use strict";V.d(Ee,{o:()=>L});var d=V(5319);class te extends d.w{constructor(ae,X){super()}schedule(ae,X=0){return this}}class L extends te{constructor(ae,X){super(ae,X),this.scheduler=ae,this.work=X,this.pending=!1}schedule(ae,X=0){if(this.closed)return this;this.state=ae;const oe=this.id,Q=this.scheduler;return null!=oe&&(this.id=this.recycleAsyncId(Q,oe,X)),this.pending=!0,this.delay=X,this.id=this.id||this.requestAsyncId(Q,this.id,X),this}requestAsyncId(ae,X,oe=0){return setInterval(ae.flush.bind(ae,this),oe)}recycleAsyncId(ae,X,oe=0){if(null!==oe&&this.delay===oe&&!1===this.pending)return X;clearInterval(X)}execute(ae,X){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const oe=this._execute(ae,X);if(oe)return oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,X){let Q,oe=!1;try{this.work(ae)}catch(J){oe=!0,Q=!!J&&J||new Error(J)}if(oe)return this.unsubscribe(),Q}_unsubscribe(){const ae=this.id,X=this.scheduler,oe=X.actions,Q=oe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Q&&oe.splice(Q,1),null!=ae&&(this.id=this.recycleAsyncId(X,ae,null)),this.delay=null}}},6102:($e,Ee,V)=>{"use strict";V.d(Ee,{v:()=>te});let d=(()=>{class L{constructor(ae,X=L.now){this.SchedulerAction=ae,this.now=X}schedule(ae,X=0,oe){return new this.SchedulerAction(this,ae).schedule(oe,X)}}return L.now=()=>Date.now(),L})();class te extends d{constructor(he,ae=d.now){super(he,()=>te.delegate&&te.delegate!==this?te.delegate.now():ae()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(he,ae=0,X){return te.delegate&&te.delegate!==this?te.delegate.schedule(he,ae,X):super.schedule(he,ae,X)}flush(he){const{actions:ae}=this;if(this.active)return void ae.push(he);let X;this.active=!0;do{if(X=he.execute(he.state,he.delay))break}while(he=ae.shift());if(this.active=!1,X){for(;he=ae.shift();)he.unsubscribe();throw X}}}},4581:($e,Ee,V)=>{"use strict";V.d(Ee,{e:()=>G,E:()=>j});let d=1;const te=Promise.resolve(),L={};function he(ce){return ce in L&&(delete L[ce],!0)}const ae={setImmediate(ce){const ie=d++;return L[ie]=!0,te.then(()=>he(ie)&&ce()),ie},clearImmediate(ce){he(ce)}};var oe=V(6465),J=V(6102);const j=new class extends J.v{flush(ie){this.active=!0,this.scheduled=void 0;const{actions:ye}=this;let me,ge=-1,se=ye.length;ie=ie||ye.shift();do{if(me=ie.execute(ie.state,ie.delay))break}while(++ge<se&&(ie=ye.shift()));if(this.active=!1,me){for(;++ge<se&&(ie=ye.shift());)ie.unsubscribe();throw me}}}(class extends oe.o{constructor(ie,ye){super(ie,ye),this.scheduler=ie,this.work=ye}requestAsyncId(ie,ye,me=0){return null!==me&&me>0?super.requestAsyncId(ie,ye,me):(ie.actions.push(this),ie.scheduled||(ie.scheduled=ae.setImmediate(ie.flush.bind(ie,null))))}recycleAsyncId(ie,ye,me=0){if(null!==me&&me>0||null===me&&this.delay>0)return super.recycleAsyncId(ie,ye,me);0===ie.actions.length&&(ae.clearImmediate(ye),ie.scheduled=void 0)}}),G=j},3637:($e,Ee,V)=>{"use strict";V.d(Ee,{z:()=>L,P:()=>he});var d=V(6465);const L=new(V(6102).v)(d.o),he=L},7771:($e,Ee,V)=>{"use strict";V.d(Ee,{c:()=>X,N:()=>ae});var d=V(6465),L=V(6102);const ae=new class extends L.v{}(class extends d.o{constructor(Q,J){super(Q,J),this.scheduler=Q,this.work=J}schedule(Q,J=0){return J>0?super.schedule(Q,J):(this.delay=J,this.state=Q,this.scheduler.flush(this),this)}execute(Q,J){return J>0||this.closed?super.execute(Q,J):this._execute(Q,J)}requestAsyncId(Q,J,F=0){return null!==F&&F>0||null===F&&this.delay>0?super.requestAsyncId(Q,J,F):Q.flush(this)}}),X=ae},377:($e,Ee,V)=>{"use strict";V.d(Ee,{hZ:()=>te});const te="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:($e,Ee,V)=>{"use strict";V.d(Ee,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:($e,Ee,V)=>{"use strict";V.d(Ee,{b:()=>d});const d="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:($e,Ee,V)=>{"use strict";V.d(Ee,{N:()=>te});const te=(()=>{function L(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return L.prototype=Object.create(Error.prototype),L})()},4449:($e,Ee,V)=>{"use strict";function d(te){setTimeout(()=>{throw te},0)}V.d(Ee,{z:()=>d})},4487:($e,Ee,V)=>{"use strict";function d(te){return te}V.d(Ee,{y:()=>d})},9796:($e,Ee,V)=>{"use strict";V.d(Ee,{k:()=>d});const d=Array.isArray||(te=>te&&"number"==typeof te.length)},9489:($e,Ee,V)=>{"use strict";V.d(Ee,{z:()=>d});const d=te=>te&&"number"==typeof te.length&&"function"!=typeof te},9105:($e,Ee,V)=>{"use strict";function d(te){return"function"==typeof te}V.d(Ee,{m:()=>d})},6561:($e,Ee,V)=>{"use strict";V.d(Ee,{k:()=>te});var d=V(9796);function te(L){return!(0,d.k)(L)&&L-parseFloat(L)+1>=0}},1555:($e,Ee,V)=>{"use strict";function d(te){return null!==te&&"object"==typeof te}V.d(Ee,{K:()=>d})},4072:($e,Ee,V)=>{"use strict";function d(te){return!!te&&"function"!=typeof te.subscribe&&"function"==typeof te.then}V.d(Ee,{t:()=>d})},4869:($e,Ee,V)=>{"use strict";function d(te){return te&&"function"==typeof te.schedule}V.d(Ee,{K:()=>d})},7444:($e,Ee,V)=>{"use strict";V.d(Ee,{s:()=>j});var d=V(5015),te=V(4449),he=V(377),X=V(6554),Q=V(9489),J=V(4072),F=V(1555);const j=G=>{if(G&&"function"==typeof G[X.L])return(G=>ce=>{const ie=G[X.L]();if("function"!=typeof ie.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ie.subscribe(ce)})(G);if((0,Q.z)(G))return(0,d.V)(G);if((0,J.t)(G))return(G=>ce=>(G.then(ie=>{ce.closed||(ce.next(ie),ce.complete())},ie=>ce.error(ie)).then(null,te.z),ce))(G);if(G&&"function"==typeof G[he.hZ])return(G=>ce=>{const ie=G[he.hZ]();for(;;){let ye;try{ye=ie.next()}catch(me){return ce.error(me),ce}if(ye.done){ce.complete();break}if(ce.next(ye.value),ce.closed)break}return"function"==typeof ie.return&&ce.add(()=>{ie.return&&ie.return()}),ce})(G);{const ie=`You provided ${(0,F.K)(G)?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ie)}}},5015:($e,Ee,V)=>{"use strict";V.d(Ee,{V:()=>d});const d=te=>L=>{for(let he=0,ae=te.length;he<ae&&!L.closed;he++)L.next(te[he]);L.complete()}},5473:($e,Ee,V)=>{"use strict";var d=V(7716);let te=null;function L(){return te}const oe=new d.OlP("DocumentToken");let Q=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,d.Yz7)({factory:J,token:n,providedIn:"platform"}),n})();function J(){return(0,d.LFG)(j)}const F=new d.OlP("Location Initialized");let j=(()=>{class n extends Q{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(e){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,a){G()?this._history.pushState(e,r,a):this.location.hash=a}replaceState(e,r,a){G()?this._history.replaceState(e,r,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(oe))},n.\u0275prov=(0,d.Yz7)({factory:ce,token:n,providedIn:"platform"}),n})();function G(){return!!window.history.pushState}function ce(){return new j((0,d.LFG)(oe))}function ie(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function ye(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function me(n){return n&&"?"!==n[0]?"?"+n:n}let ge=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,d.Yz7)({factory:se,token:n,providedIn:"root"}),n})();function se(n){const t=(0,d.LFG)(oe).location;return new Oe((0,d.LFG)(Q),t&&t.origin||"")}const ve=new d.OlP("appBaseHref");let Oe=(()=>{class n extends ge{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ie(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+me(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${r}${a}`:r}pushState(e,r,a,c){const f=this.prepareExternalUrl(a+me(c));this._platformLocation.pushState(e,r,f)}replaceState(e,r,a,c){const f=this.prepareExternalUrl(a+me(c));this._platformLocation.replaceState(e,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(Q),d.LFG(ve,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Le=(()=>{class n extends ge{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=ie(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,a,c){let f=this.prepareExternalUrl(a+me(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(e,r,f)}replaceState(e,r,a,c){let f=this.prepareExternalUrl(a+me(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(Q),d.LFG(ve,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),wt=(()=>{class n{constructor(e,r){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const a=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=ye(yt(a)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+me(r))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,yt(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",a=null){this._platformStrategy.pushState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+me(r)),a)}replaceState(e,r="",a=null){this._platformStrategy.replaceState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+me(r)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformStrategy).historyGo)||void 0===a||a.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(a=>a(e,r))}subscribe(e,r,a){return this._subject.subscribe({next:e,error:r,complete:a})}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(ge),d.LFG(Q))},n.normalizeQueryParams=me,n.joinWithSlash=ie,n.stripTrailingSlash=ye,n.\u0275prov=(0,d.Yz7)({factory:Rt,token:n,providedIn:"root"}),n})();function Rt(){return new wt((0,d.LFG)(ge),(0,d.LFG)(Q))}function yt(n){return n.replace(/\/index.html$/,"")}var ot=(()=>((ot=ot||{})[ot.Zero=0]="Zero",ot[ot.One=1]="One",ot[ot.Two=2]="Two",ot[ot.Few=3]="Few",ot[ot.Many=4]="Many",ot[ot.Other=5]="Other",ot))();const fi=d.kL8;class hr{}let jn=(()=>{class n extends hr{constructor(e){super(),this.locale=e}getPluralCategory(e,r){switch(fi(r||this.locale)(e)){case ot.Zero:return"zero";case ot.One:return"one";case ot.Two:return"two";case ot.Few:return"few";case ot.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(d.soG))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Us=(()=>{class n{constructor(e,r,a,c){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=a,this._renderer=c,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(a=>{r?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})(),gi=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new Ac,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Co("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Co("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Ac{constructor(){this.$implicit=null,this.ngIf=null}}function Co(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(t)}'.`)}let Er=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[{provide:hr,useClass:jn}]}),n})();let ya=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new ld((0,d.LFG)(oe),window)}),n})();class ld{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=r.currentNode;for(;a;){const c=a.shadowRoot;if(c){const f=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(f)return f}a=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],a-c[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=wo(this.window.history)||wo(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function wo(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ud extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new ud,te||(te=n)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(yi=yi||document.querySelector("base"),yi?yi.getAttribute("href"):null);return null==e?null:function(n){Vt=Vt||document.createElement("a"),Vt.setAttribute("href",n);const t=Vt.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){yi=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[a,c]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(a.trim()===t)return decodeURIComponent(c)}return null}(document.cookie,t)}}let Vt,yi=null;const hl=new d.OlP("TRANSITION_ID"),Dr=[{provide:d.ip1,useFactory:function(n,t,e){return()=>{e.get(d.CZH).donePromise.then(()=>{const r=L(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<a.length;c++)r.remove(a[c])})}},deps:[hl,oe,d.zs3],multi:!0}];class Tn{static init(){(0,d.VLi)(new Tn)}addToWindow(t){d.dqk.getAngularTestability=(r,a=!0)=>{const c=t.findTestabilityInTree(r,a);if(null==c)throw new Error("Could not find testability for element.");return c},d.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const a=d.dqk.getAllAngularTestabilities();let c=a.length,f=!1;const _=function(E){f=f||E,c--,0==c&&r(f)};a.forEach(function(E){E.whenStable(_)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const a=t.getTestability(e);return null!=a?a:r?L().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let cs=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Ni=new d.OlP("EventManagerPlugins");let we=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,a){return this._findPluginFor(r).addEventListener(e,r,a)}addGlobalEventListener(e,r,a){return this._findPluginFor(r).addGlobalEventListener(e,r,a)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const a=this._plugins;for(let c=0;c<a.length;c++){const f=a[c];if(f.supports(e))return this._eventNameToPlugin.set(e,f),f}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(Ni),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class gt{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const a=L().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,r)}}let _l=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),r.add(a))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Kt=(()=>{class n extends _l{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,a){e.forEach(c=>{const f=this._doc.createElement("style");f.textContent=c,a.push(r.appendChild(f))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(yl),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,a)=>{this._addStylesToHost(e,a,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(yl))}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(oe))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function yl(n){L().remove(n)}const vi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nr=/%COMP%/g;function bn(n,t,e){for(let r=0;r<t.length;r++){let a=t[r];Array.isArray(a)?bn(n,a,e):(a=a.replace(nr,n),e.push(a))}return e}function Ur(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let jr=(()=>{class n{constructor(e,r,a){this.eventManager=e,this.sharedStylesHost=r,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new rr(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case d.ifc.Emulated:{let a=this.rendererByCompId.get(r.id);return a||(a=new Fc(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,a)),a.applyToHost(e),a}case 1:case d.ifc.ShadowDom:return new Ia(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const a=bn(r.id,r.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(we),d.LFG(Kt),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class rr{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(vi[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,a){if(a){e=a+":"+e;const c=vi[a];c?t.setAttributeNS(c,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const a=vi[r];a?t.removeAttributeNS(a,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,a){a&(d.JOm.DashCase|d.JOm.Important)?t.style.setProperty(e,r,a&d.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&d.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ur(r)):this.eventManager.addEventListener(t,e,Ur(r))}}class Fc extends rr{constructor(t,e,r,a){super(t),this.component=r;const c=bn(a+"-"+r.id,r.styles,[]);e.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(nr,a+"-"+r.id),this.hostAttr="_nghost-%COMP%".replace(nr,a+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class Ia extends rr{constructor(t,e,r,a){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=bn(a.id,a.styles,[]);for(let f=0;f<c.length;f++){const _=document.createElement("style");_.textContent=c[f],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Ta=(()=>{class n extends gt{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,a){return e.addEventListener(r,a,!1),()=>this.removeEventListener(e,r,a)}removeEventListener(e,r,a){return e.removeEventListener(r,a)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(oe))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Fi=["alt","control","meta","shift"],Bc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Pn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},cg={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Oo=(()=>{class n extends gt{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,a){const c=n.parseEventName(r),f=n.eventCallback(c.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(e,c.domEventName,f))}static parseEventName(e){const r=e.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const c=n._normalizeKey(r.pop());let f="";if(Fi.forEach(E=>{const I=r.indexOf(E);I>-1&&(r.splice(I,1),f+=E+".")}),f+=c,0!=r.length||0===c.length)return null;const _={};return _.domEventName=a,_.fullKey=f,_}static getEventFullKey(e){let r="",a=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Pn.hasOwnProperty(t)&&(t=Pn[t]))}return Bc[t]||t}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Fi.forEach(c=>{c!=a&&cg[c](e)&&(r+=c+".")}),r+=a,r}static eventCallback(e,r,a){return c=>{n.getEventFullKey(c)===e&&a.runGuarded(()=>r(c))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(oe))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const fs=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function(){ud.makeCurrent(),Tn.init()},multi:!0},{provide:oe,useFactory:function(){return(0,d.RDi)(document),document},deps:[]}]),jc=[[],{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function(){return new d.qLn},deps:[]},{provide:Ni,useClass:Ta,multi:!0,deps:[oe,d.R0b,d.Lbi]},{provide:Ni,useClass:Oo,multi:!0,deps:[oe]},[],{provide:jr,useClass:jr,deps:[we,Kt,d.AFp]},{provide:d.FYo,useExisting:jr},{provide:_l,useExisting:Kt},{provide:Kt,useClass:Kt,deps:[oe]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:we,useClass:we,deps:[Ni,d.R0b]},{provide:class{},useClass:cs,deps:[]},[]];let Hc=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:d.AFp,useValue:e.appId},{provide:hl,useExisting:d.AFp},Dr]}}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(n,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:jc,imports:[Er,d.hGG]}),n})();"undefined"!=typeof window&&window;var mn=V(4402),je=V(5917),lt=V(9765),Gc=V(7971);class ir extends lt.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Gc.N;return this._value}next(t){super.next(this._value=t)}}var Bi=V(4869),Oa=V(9796),Qt=V(7393);class Dl extends Qt.L{notifyNext(t,e,r,a,c){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class hg extends Qt.L{constructor(t,e,r){super(),this.parent=t,this.outerValue=e,this.outerIndex=r,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var gs=V(7444),an=V(7574);function Cn(n,t,e,r,a=new hg(n,e,r)){if(!a.closed)return t instanceof an.y?t.subscribe(a):(0,gs.s)(t)(a)}var Il=V(6693);const Pa={};function Ui(...n){let t,e;return(0,Bi.K)(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&(0,Oa.k)(n[0])&&(n=n[0]),(0,Il.n)(n,e).lift(new Tl(t))}class Tl{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new xa(t,this.resultSelector))}}class xa extends Dl{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Pa),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let r=0;r<e;r++)this.add(Cn(this,t[r],void 0,r))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,r){const a=this.values,f=this.toRespond?a[r]===Pa?--this.toRespond:this.toRespond:0;a[r]=e,0===f&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}const Hr=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var ji=V(3282);function ms(...n){return(0,ji.J)(1)((0,je.of)(...n))}var fr=V(9193);function $r(n){return new an.y(t=>{let e;try{e=n()}catch(a){return void t.error(a)}return(e?(0,mn.D)(e):(0,fr.c)()).subscribe(t)})}var Dd=V(2441),bt=V(8002),Gr=V(5345);function xn(n,t){return"function"==typeof t?e=>e.pipe(xn((r,a)=>(0,mn.D)(n(r,a)).pipe((0,bt.U)((c,f)=>t(r,c,a,f))))):e=>e.lift(new fg(n))}class fg{constructor(t){this.project=t}call(t,e){return e.subscribe(new sn(t,this.project))}}class sn extends Gr.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const r=this.index++;try{e=this.project(t,r)}catch(a){return void this.destination.error(a)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const r=new Gr.IY(this),a=this.destination;a.add(r),this.innerSubscription=(0,Gr.ft)(t,r),this.innerSubscription!==r&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Sl=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function Hi(n){return t=>0===n?(0,fr.c)():t.lift(new L_(n))}class L_{constructor(t){if(this.total=t,this.total<0)throw new Sl}call(t,e){return e.subscribe(new ka(t,this.total))}}class ka extends Qt.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))}}function Al(...n){const t=n[n.length-1];return(0,Bi.K)(t)?(n.pop(),e=>ms(n,e,t)):e=>ms(n,e)}function Wc(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(a){return a.lift(new pg(n,t,e))}}class pg{constructor(t,e,r=!1){this.accumulator=t,this.seed=e,this.hasSeed=r}call(t,e){return e.subscribe(new Td(t,this.accumulator,this.seed,this.hasSeed))}}class Td extends Qt.L{constructor(t,e,r,a){super(t),this.accumulator=e,this._seed=r,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let r;try{r=this.accumulator(this.seed,t,e)}catch(a){this.destination.error(a)}this.seed=r,this.destination.next(r)}}function Tr(n,t){return function(r){return r.lift(new zc(n,t))}}class zc{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new _s(t,this.predicate,this.thisArg))}}class _s extends Qt.L{constructor(t,e,r){super(t),this.predicate=e,this.thisArg=r,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}e&&this.destination.next(t)}}function ys(n){return function(e){const r=new _n(n),a=e.lift(r);return r.caught=a}}class _n{constructor(t){this.selector=t}call(t,e){return e.subscribe(new $i(t,this.selector,this.caught))}}class $i extends Gr.Ds{constructor(t,e,r){super(t),this.selector=e,this.caught=r}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(c){return void super.error(c)}this._unsubscribeAndRecycle();const r=new Gr.IY(this);this.add(r);const a=(0,Gr.ft)(e,r);a!==r&&this.add(a)}}}var En=V(9773);function Yc(n,t){return(0,En.zg)(n,t,1)}function Sd(n){return function(e){return 0===n?(0,fr.c)():e.lift(new Sr(n))}}class Sr{constructor(t){if(this.total=t,this.total<0)throw new Sl}call(t,e){return e.subscribe(new bi(t,this.total))}}class bi extends Qt.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,r=this.total,a=this.count++;e.length<r?e.push(t):e[a%r]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const r=this.count>=this.total?this.total:this.count,a=this.ring;for(let c=0;c<r;c++){const f=e++%r;t.next(a[f])}}t.complete()}}function Na(n=Ad){return t=>t.lift(new Wr(n))}class Wr{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Gi(t,this.errorFactory))}}class Gi extends Qt.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Ad(){return new Hr}function Zc(n=null){return t=>t.lift(new Ws(n))}class Ws{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new gg(t,this.defaultValue))}}class gg extends Qt.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var zs=V(4487);function kn(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Tr((a,c)=>n(a,c,r)):zs.y,Hi(1),e?Zc(t):Na(()=>new Hr))}var Nn=V(3342),No=V(1307),Ci=V(5319);class w{constructor(t){this.callback=t}call(t,e){return e.subscribe(new S(t,this.callback))}}class S extends Qt.L{constructor(t,e){super(t),this.add(new Ci.w(e))}}class O{constructor(t,e){this.id=t,this.url=e}}class U extends O{constructor(t,e,r="imperative",a=null){super(t,e),this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ee extends O{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ue extends O{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ie extends O{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Fe extends O{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ue extends O{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dt extends O{constructor(t,e,r,a,c){super(t,e),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zt extends O{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wn extends O{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pr{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fn{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ml{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ys{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rl{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ni{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ri{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const rt="primary";class of{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function on(n){return new of(n)}const Ol="ngNavigationCancelingError";function af(n){const t=Error("NavigationCancelingError: "+n);return t[Ol]=!0,t}function La(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const a={};for(let c=0;c<r.length;c++){const f=r[c],_=n[c];if(f.startsWith(":"))a[f.substring(1)]=_;else if(f!==_.path)return null}return{consumed:n.slice(0,r.length),posParams:a}}function ii(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let a;for(let c=0;c<e.length;c++)if(a=e[c],!cf(n[a],t[a]))return!1;return!0}function cf(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((a,c)=>r[c]===a)}return n===t}function mg(n){return Array.prototype.concat.apply([],n)}function Fo(n){return n.length>0?n[n.length-1]:null}function Ln(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Hn(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,mn.D)(Promise.resolve(n)):(0,je.of)(n)}const _g={exact:function Md(n,t,e){if(!Vo(n.segments,t.segments)||!xl(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!Md(n.children[r],t.children[r],e))return!1;return!0},subset:Zs},Pl={exact:function(n,t){return ii(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>cf(n[e],t[e]))},ignored:()=>!0};function Kc(n,t,e){return _g[e.paths](n.root,t.root,e.matrixParams)&&Pl[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Zs(n,t,e){return qs(n,t,t.segments,e)}function qs(n,t,e,r){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!Vo(a,e)||t.hasChildren()||!xl(a,e,r))}if(n.segments.length===e.length){if(!Vo(n.segments,e)||!xl(n.segments,e,r))return!1;for(const a in t.children)if(!n.children[a]||!Zs(n.children[a],t.children[a],r))return!1;return!0}{const a=e.slice(0,n.segments.length),c=e.slice(n.segments.length);return!!(Vo(n.segments,a)&&xl(n.segments,a,r)&&n.children[rt])&&qs(n.children[rt],t,c,r)}}function xl(n,t,e){return t.every((r,a)=>Pl[e](n[a].parameters,r.parameters))}class Va{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=on(this.queryParams)),this._queryParamMap}toString(){return Jc.serialize(this)}}class Et{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ln(e,(r,a)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ks(this)}}class Qc{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=on(this.parameters)),this._parameterMap}toString(){return Fl(this)}}function Vo(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class uf{}class kl{parse(t){const e=new Pd(t);return new Va(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var n;return`${`/${Xc(t.root,!0)}`}${function(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(a=>`${eu(e)}=${eu(a)}`).join("&"):`${eu(e)}=${eu(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${n=t.fragment,encodeURI(n)}`:""}`}}const Jc=new kl;function Ks(n){return n.segments.map(t=>Fl(t)).join("/")}function Xc(n,t){if(!n.hasChildren())return Ks(n);if(t){const e=n.children[rt]?Xc(n.children[rt],!1):"",r=[];return Ln(n.children,(a,c)=>{c!==rt&&r.push(`${c}:${Xc(a,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function(n,t){let e=[];return Ln(n.children,(r,a)=>{a===rt&&(e=e.concat(t(r,a)))}),Ln(n.children,(r,a)=>{a!==rt&&(e=e.concat(t(r,a)))}),e}(n,(r,a)=>a===rt?[Xc(n.children[rt],!1)]:[`${a}:${Xc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[rt]?`${Ks(n)}/${e[0]}`:`${Ks(n)}/(${e.join("//")})`}}function bg(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function eu(n){return bg(n).replace(/%3B/gi,";")}function tu(n){return bg(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nl(n){return decodeURIComponent(n)}function df(n){return Nl(n.replace(/\+/g,"%20"))}function Fl(n){return`${tu(n.path)}${function(n){return Object.keys(n).map(t=>`;${tu(t)}=${tu(n[t])}`).join("")}(n.parameters)}`}const H_=/^[^\/()?;=#]+/;function Od(n){const t=n.match(H_);return t?t[0]:""}const $_=/^[^=?&#]+/,Qs=/^[^?&#]+/;class Pd{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Et([],{}):new Et([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[rt]=new Et(t,e)),r}parseSegment(){const t=Od(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Qc(Nl(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Od(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const a=Od(this.remaining);a&&(r=a,this.capture(r))}t[Nl(e)]=Nl(r)}parseQueryParam(t){const e=function(n){const t=n.match($_);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const f=function(n){const t=n.match(Qs);return t?t[0]:""}(this.remaining);f&&(r=f,this.capture(r))}const a=df(e),c=df(r);if(t.hasOwnProperty(a)){let f=t[a];Array.isArray(f)||(f=[f],t[a]=f),f.push(c)}else t[a]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Od(this.remaining),a=this.remaining[r.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let c;r.indexOf(":")>-1?(c=r.substr(0,r.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=rt);const f=this.parseChildren();e[c]=1===Object.keys(f).length?f[rt]:new Et([],f),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Cg{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=hf(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=hf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=ff(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return ff(t,this._root).map(e=>e.value)}}function hf(n,t){if(n===t.value)return t;for(const e of t.children){const r=hf(n,e);if(r)return r}return null}function ff(n,t){if(n===t.value)return[t];for(const e of t.children){const r=ff(n,e);if(r.length)return r.unshift(t),r}return[]}class Js{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function nu(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class xd extends Cg{constructor(t,e){super(t),this.snapshot=e,Nd(this,t)}toString(){return this.snapshot.toString()}}function Eg(n,t){const e=function(n,t){const f=new kd([],{},{},"",{},rt,t,null,n.root,-1,{});return new Bo("",new Js(f,[]))}(n,t),r=new ir([new Qc("",{})]),a=new ir({}),c=new ir({}),f=new ir({}),_=new ir(""),E=new Vl(r,a,f,_,c,rt,t,e.root);return E.snapshot=e.root,new xd(new Js(E,[]),e)}class Vl{constructor(t,e,r,a,c,f,_,E){this.url=t,this.params=e,this.queryParams=r,this.fragment=a,this.data=c,this.outlet=f,this.component=_,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,bt.U)(t=>on(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,bt.U)(t=>on(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wg(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const a=e[r],c=e[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(c.component)break;r--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class kd{constructor(t,e,r,a,c,f,_,E,I,P,k){this.url=t,this.params=e,this.queryParams=r,this.fragment=a,this.data=c,this.outlet=f,this.component=_,this.routeConfig=E,this._urlSegment=I,this._lastPathIndex=P,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=on(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=on(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Bo extends Cg{constructor(t,e){super(e),this.url=t,Nd(this,e)}toString(){return Ei(this._root)}}function Nd(n,t){t.value._routerState=n,t.children.forEach(e=>Nd(n,e))}function Ei(n){const t=n.children.length>0?` { ${n.children.map(Ei).join(", ")} } `:"";return`${n.value}${t}`}function Ua(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ii(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),ii(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ii(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),ii(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Bl(n,t){return ii(n.params,t.params)&&function(n,t){return Vo(n,t)&&n.every((e,r)=>ii(e.parameters,t[r].parameters))}(n.url,t.url)&&!(!n.parent!=!t.parent)&&(!n.parent||Bl(n.parent,t.parent))}function Ul(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const a=function(n,t,e){return t.children.map(r=>{for(const a of e.children)if(n.shouldReuseRoute(r.value,a.value.snapshot))return Ul(n,r,a);return Ul(n,r)})}(n,t,e);return new Js(r,a)}{if(n.shouldAttach(t.value)){const c=n.retrieve(t.value);if(null!==c){const f=c.route;return Tg(t,f),f}}const r=function(n){return new Vl(new ir(n.url),new ir(n.params),new ir(n.queryParams),new ir(n.fragment),new ir(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(c=>Ul(n,c));return new Js(r,a)}}function Tg(n,t){if(n.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=n.value;for(let e=0;e<n.children.length;++e)Tg(n.children[e],t.children[e])}function ru(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function si(n){return"object"==typeof n&&null!=n&&n.outlets}function Sg(n,t,e,r,a){let c={};return r&&Ln(r,(f,_)=>{c[_]=Array.isArray(f)?f.map(E=>`${E}`):`${f}`}),new Va(e.root===n?t:z_(e.root,n,t),c,a)}function z_(n,t,e){const r={};return Ln(n.children,(a,c)=>{r[c]=a===t?e:z_(a,t,e)}),new Et(n.segments,r)}class iu{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&ru(r[0]))throw new Error("Root segment cannot have matrix parameters");const a=r.find(si);if(a&&a!==Fo(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class su{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function ou(n,t,e){if(n||(n=new Et([],{})),0===n.segments.length&&n.hasChildren())return au(n,t,e);const r=function(n,t,e){let r=0,a=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(r>=e.length)return c;const f=n.segments[a],_=e[r];if(si(_))break;const E=`${_}`,I=r<e.length-1?e[r+1]:null;if(a>0&&void 0===E)break;if(E&&I&&"object"==typeof I&&void 0===I.outlets){if(!Mg(E,I,f))return c;r+=2}else{if(!Mg(E,{},f))return c;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(n,t,e),a=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new Et(n.segments.slice(0,r.pathIndex),{});return c.children[rt]=new Et(n.segments.slice(r.pathIndex),n.children),au(c,0,a)}return r.match&&0===a.length?new Et(n.segments,{}):r.match&&!n.hasChildren()?gf(n,t,e):r.match?au(n,0,a):gf(n,t,e)}function au(n,t,e){if(0===e.length)return new Et(n.segments,{});{const r=function(n){return si(n[0])?n[0].outlets:{[rt]:n}}(e),a={};return Ln(r,(c,f)=>{"string"==typeof c&&(c=[c]),null!==c&&(a[f]=ou(n.children[f],t,c))}),Ln(n.children,(c,f)=>{void 0===r[f]&&(a[f]=c)}),new Et(n.segments,a)}}function gf(n,t,e){const r=n.segments.slice(0,t);let a=0;for(;a<e.length;){const c=e[a];if(si(c)){const E=Dn(c.outlets);return new Et(r,E)}if(0===a&&ru(e[0])){r.push(new Qc(n.segments[t].path,Ag(e[0]))),a++;continue}const f=si(c)?c.outlets[rt]:`${c}`,_=a<e.length-1?e[a+1]:null;f&&_&&ru(_)?(r.push(new Qc(f,Ag(_))),a+=2):(r.push(new Qc(f,{})),a++)}return new Et(r,{})}function Dn(n){const t={};return Ln(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=gf(new Et([],{}),0,e))}),t}function Ag(n){const t={};return Ln(n,(e,r)=>t[r]=`${e}`),t}function Mg(n,t,e){return n==e.path&&ii(t,e.parameters)}class _f{constructor(t,e,r,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=a}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Ua(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const a=nu(e);t.children.forEach(c=>{const f=c.value.outlet;this.deactivateRoutes(c,a[f],r),delete a[f]}),Ln(a,(c,f)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(t,e,r){const a=t.value,c=e?e.value:null;if(a===c)if(a.component){const f=r.getContext(a.outlet);f&&this.deactivateChildRoutes(t,e,f.children)}else this.deactivateChildRoutes(t,e,r);else c&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet);if(r&&r.outlet){const a=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),a=r&&t.value.component?r.children:e,c=nu(t);for(const f of Object.keys(c))this.deactivateRouteAndItsChildren(c[f],a);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const a=nu(e);t.children.forEach(c=>{this.activateRoutes(c,a[c.value.outlet],r),this.forwardEvent(new ni(c.value.snapshot))}),t.children.length&&this.forwardEvent(new Ys(t.value.snapshot))}activateRoutes(t,e,r){const a=t.value,c=e?e.value:null;if(Ua(a),a===c)if(a.component){const f=r.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,f.children)}else this.activateChildRoutes(t,e,r);else if(a.component){const f=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const _=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),f.children.onOutletReAttached(_.contexts),f.attachRef=_.componentRef,f.route=_.route.value,f.outlet&&f.outlet.attach(_.componentRef,_.route.value),Ld(_.route)}else{const _=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),E=_?_.module.componentFactoryResolver:null;f.attachRef=null,f.route=a,f.resolver=E,f.outlet&&f.outlet.activateWith(a,E),this.activateChildRoutes(t,null,f.children)}}else this.activateChildRoutes(t,null,r)}}function Ld(n){Ua(n.value),n.children.forEach(Ld)}class yf{constructor(t,e){this.routes=t,this.module=e}}function vs(n){return"function"==typeof n}function jl(n){return n instanceof Va}const Hl=Symbol("INITIAL_VALUE");function ja(){return xn(n=>Ui(n.map(t=>t.pipe(Hi(1),Al(Hl)))).pipe(Wc((t,e)=>{let r=!1;return e.reduce((a,c,f)=>a!==Hl?a:(c===Hl&&(r=!0),r||!1!==c&&f!==e.length-1&&!jl(c)?a:c),t)},Hl),Tr(t=>t!==Hl),(0,bt.U)(t=>jl(t)?t:!0===t),Hi(1)))}let sr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&d._UZ(0,"router-outlet")},directives:function(){return[kf]},encapsulation:2}),n})();function $l(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];Cf(r,Q_(t,r))}}function Cf(n,t){n.children&&$l(n.children,t)}function Q_(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Gl(n){const t=n.children&&n.children.map(Gl),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==rt&&(e.component=sr),e}function oi(n){return n.outlet||rt}function Ef(n,t){const e=n.filter(r=>oi(r)===t);return e.push(...n.filter(r=>oi(r)!==t)),e}const wf={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Vd(n,t,e){var r;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},wf):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const c=(t.matcher||La)(e,n,t);if(!c)return Object.assign({},wf);const f={};Ln(c.posParams,(E,I)=>{f[I]=E.path});const _=c.consumed.length>0?Object.assign(Object.assign({},f),c.consumed[c.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:c.consumed,lastChild:c.consumed.length,parameters:_,positionalParamSegments:null!==(r=c.posParams)&&void 0!==r?r:{}}}function cu(n,t,e,r,a="corrected"){if(e.length>0&&function(n,t,e){return e.some(r=>Ha(n,t,r)&&oi(r)!==rt)}(n,e,r)){const f=new Et(t,function(n,t,e,r){const a={};a[rt]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const c of e)if(""===c.path&&oi(c)!==rt){const f=new Et([],{});f._sourceSegment=n,f._segmentIndexShift=t.length,a[oi(c)]=f}return a}(n,t,r,new Et(e,n.children)));return f._sourceSegment=n,f._segmentIndexShift=t.length,{segmentGroup:f,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(r=>Ha(n,t,r))}(n,e,r)){const f=new Et(n.segments,function(n,t,e,r,a,c){const f={};for(const _ of r)if(Ha(n,e,_)&&!a[oi(_)]){const E=new Et([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===c?n.segments.length:t.length,f[oi(_)]=E}return Object.assign(Object.assign({},a),f)}(n,t,e,r,n.children,a));return f._sourceSegment=n,f._segmentIndexShift=t.length,{segmentGroup:f,slicedSegments:e}}const c=new Et(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}function Ha(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function If(n,t,e,r){return!!(oi(n)===r||r!==rt&&Ha(t,e,n))&&("**"===n.path||Vd(t,n,e).matched)}function Ud(n,t,e){return 0===t.length&&!n.children[e]}class jd{constructor(t){this.segmentGroup=t||null}}class Mr{constructor(t){this.urlTree=t}}function Wi(n){return new an.y(t=>t.error(new jd(n)))}function Tf(n){return new an.y(t=>t.error(new Mr(n)))}function X_(n){return new an.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class ey{constructor(t,e,r,a,c){this.configLoader=e,this.urlSerializer=r,this.urlTree=a,this.config=c,this.allowRedirects=!0,this.ngModule=t.get(d.h0i)}apply(){const t=cu(this.urlTree.root,[],[],this.config).segmentGroup,e=new Et(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,rt).pipe((0,bt.U)(c=>this.createUrlTree(Af(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ys(c=>{if(c instanceof Mr)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof jd?this.noMatchError(c):c}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,rt).pipe((0,bt.U)(a=>this.createUrlTree(Af(a),t.queryParams,t.fragment))).pipe(ys(a=>{throw a instanceof jd?this.noMatchError(a):a}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const a=t.segments.length>0?new Et([],{[rt]:t}):t;return new Va(a,e,r)}expandSegmentGroup(t,e,r,a){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,bt.U)(c=>new Et([],c))):this.expandSegment(t,r,e,r.segments,a,!0)}expandChildren(t,e,r){const a=[];for(const c of Object.keys(r.children))"primary"===c?a.unshift(c):a.push(c);return(0,mn.D)(a).pipe(Yc(c=>{const f=r.children[c],_=Ef(e,c);return this.expandSegmentGroup(t,_,f,c).pipe((0,bt.U)(E=>({segment:E,outlet:c})))}),Wc((c,f)=>(c[f.outlet]=f.segment,c),{}),function(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Tr((a,c)=>n(a,c,r)):zs.y,Sd(1),e?Zc(t):Na(()=>new Hr))}())}expandSegment(t,e,r,a,c,f){return(0,mn.D)(r).pipe(Yc(_=>this.expandSegmentAgainstRoute(t,e,r,_,a,c,f).pipe(ys(I=>{if(I instanceof jd)return(0,je.of)(null);throw I}))),kn(_=>!!_),ys((_,E)=>{if(_ instanceof Hr||"EmptyError"===_.name){if(Ud(e,a,c))return(0,je.of)(new Et([],{}));throw new jd(e)}throw _}))}expandSegmentAgainstRoute(t,e,r,a,c,f,_){return If(a,e,c,f)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,c,f):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,a,c,f):Wi(e):Wi(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,a,c,f){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,a,f):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,a,c,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,a){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Tf(c):this.lineralizeSegments(r,c).pipe((0,En.zg)(f=>{const _=new Et(f,{});return this.expandSegment(t,_,e,f,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,a,c,f){const{matched:_,consumedSegments:E,lastChild:I,positionalParamSegments:P}=Vd(e,a,c);if(!_)return Wi(e);const k=this.applyRedirectCommands(E,a.redirectTo,P);return a.redirectTo.startsWith("/")?Tf(k):this.lineralizeSegments(a,k).pipe((0,En.zg)(z=>this.expandSegment(t,e,r,z.concat(c.slice(I)),f,!1)))}matchSegmentAgainstRoute(t,e,r,a,c){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,je.of)(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe((0,bt.U)(z=>(r._loadedConfig=z,new Et(a,{})))):(0,je.of)(new Et(a,{}));const{matched:f,consumedSegments:_,lastChild:E}=Vd(e,r,a);if(!f)return Wi(e);const I=a.slice(E);return this.getChildConfig(t,r,a).pipe((0,En.zg)(k=>{const z=k.module,re=k.routes,{segmentGroup:pe,slicedSegments:Me}=cu(e,_,I,re),xe=new Et(pe.segments,pe.children);if(0===Me.length&&xe.hasChildren())return this.expandChildren(z,re,xe).pipe((0,bt.U)(_t=>new Et(_,_t)));if(0===re.length&&0===Me.length)return(0,je.of)(new Et(_,{}));const mt=oi(r)===c;return this.expandSegment(z,xe,re,Me,mt?rt:c,!0).pipe((0,bt.U)(kt=>new Et(_.concat(kt.segments),kt.children)))}))}getChildConfig(t,e,r){return e.children?(0,je.of)(new yf(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,je.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe((0,En.zg)(a=>{return a?this.configLoader.load(t.injector,e).pipe((0,bt.U)(c=>(e._loadedConfig=c,c))):(n=e,new an.y(t=>t.error(af(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,je.of)(new yf([],t))}runCanLoadGuards(t,e,r){const a=e.canLoad;if(!a||0===a.length)return(0,je.of)(!0);const c=a.map(f=>{const _=t.get(f);let E;if((n=_)&&vs(n.canLoad))E=_.canLoad(e,r);else{if(!vs(_))throw new Error("Invalid CanLoad guard");E=_(e,r)}var n;return Hn(E)});return(0,je.of)(c).pipe(ja(),(0,Nn.b)(f=>{if(!jl(f))return;const _=af(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw _.url=f,_}),(0,bt.U)(f=>!0===f))}lineralizeSegments(t,e){let r=[],a=e.root;for(;;){if(r=r.concat(a.segments),0===a.numberOfChildren)return(0,je.of)(r);if(a.numberOfChildren>1||!a.children[rt])return X_(t.redirectTo);a=a.children[rt]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,a){const c=this.createSegmentGroup(t,e.root,r,a);return new Va(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Ln(t,(a,c)=>{if("string"==typeof a&&a.startsWith(":")){const _=a.substring(1);r[c]=e[_]}else r[c]=a}),r}createSegmentGroup(t,e,r,a){const c=this.createSegments(t,e.segments,r,a);let f={};return Ln(e.children,(_,E)=>{f[E]=this.createSegmentGroup(t,_,r,a)}),new Et(c,f)}createSegments(t,e,r,a){return e.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,a):this.findOrReturn(c,r))}findPosParam(t,e,r){const a=r[e.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return a}findOrReturn(t,e){let r=0;for(const a of e){if(a.path===t.path)return e.splice(r),a;r++}return t}}function Af(n){const t={};for(const r of Object.keys(n.children)){const c=Af(n.children[r]);(c.segments.length>0||c.hasChildren())&&(t[r]=c)}return function(n){if(1===n.numberOfChildren&&n.children[rt]){const t=n.children[rt];return new Et(n.segments.concat(t.segments),t.children)}return n}(new Et(n.segments,t))}class Wl{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Rr{constructor(t,e){this.component=t,this.route=e}}function Pg(n,t,e){const r=n._root;return zl(r,t?t._root:null,e,[r.value])}function uu(n,t,e){const r=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function zl(n,t,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=nu(t);return n.children.forEach(f=>{(function(n,t,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,f=t?t.value:null,_=e?e.getContext(n.value.outlet):null;if(f&&c.routeConfig===f.routeConfig){const E=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Vo(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Vo(n.url,t.url)||!ii(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bl(n,t)||!ii(n.queryParams,t.queryParams);case"paramsChange":default:return!Bl(n,t)}}(f,c,c.routeConfig.runGuardsAndResolvers);E?a.canActivateChecks.push(new Wl(r)):(c.data=f.data,c._resolvedData=f._resolvedData),zl(n,t,c.component?_?_.children:null:e,r,a),E&&_&&_.outlet&&_.outlet.isActivated&&a.canDeactivateChecks.push(new Rr(_.outlet.component,f))}else f&&ai(t,_,a),a.canActivateChecks.push(new Wl(r)),zl(n,null,c.component?_?_.children:null:e,r,a)})(f,c[f.value.outlet],e,r.concat([f.value]),a),delete c[f.value.outlet]}),Ln(c,(f,_)=>ai(f,e.getContext(_),a)),a}function ai(n,t,e){const r=nu(n),a=n.value;Ln(r,(c,f)=>{ai(c,a.component?t?t.children.getContext(f):null:t,e)}),e.canDeactivateChecks.push(new Rr(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}class Mf{}function y(n){return new an.y(t=>t.error(n))}class g{constructor(t,e,r,a,c,f){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=f}recognize(){const t=cu(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,rt);if(null===e)return null;const r=new kd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},rt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Js(r,e),c=new Bo(this.url,a);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(t){const e=t.value,r=wg(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const c of Object.keys(e.children)){const f=e.children[c],_=Ef(t,c),E=this.processSegmentGroup(_,f,c);if(null===E)return null;r.push(...E)}const a=W(r);return a.sort((t,e)=>t.value.outlet===rt?-1:e.value.outlet===rt?1:t.value.outlet.localeCompare(e.value.outlet)),a}processSegment(t,e,r,a){for(const c of t){const f=this.processSegmentAgainstRoute(c,e,r,a);if(null!==f)return f}return Ud(e,r,a)?[]:null}processSegmentAgainstRoute(t,e,r,a){if(t.redirectTo||!If(t,e,r,a))return null;let c,f=[],_=[];if("**"===t.path){const re=r.length>0?Fo(r).parameters:{};c=new kd(r,re,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Be(t),oi(t),t.component,t,Re(e),Se(e)+r.length,He(t))}else{const re=Vd(e,t,r);if(!re.matched)return null;f=re.consumedSegments,_=r.slice(re.lastChild),c=new kd(f,re.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Be(t),oi(t),t.component,t,Re(e),Se(e)+f.length,He(t))}const E=(n=t).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:I,slicedSegments:P}=cu(e,f,_,E.filter(re=>void 0===re.redirectTo),this.relativeLinkResolution);var n;if(0===P.length&&I.hasChildren()){const re=this.processChildren(E,I);return null===re?null:[new Js(c,re)]}if(0===E.length&&0===P.length)return[new Js(c,[])];const k=oi(t)===a,z=this.processSegment(E,I,P,k?rt:a);return null===z?null:[new Js(c,z)]}}function R(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function W(n){const t=[],e=new Set;for(const r of n){if(!R(r)){t.push(r);continue}const a=t.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==a?(a.children.push(...r.children),e.add(a)):t.push(r)}for(const r of e){const a=W(r.children);t.push(new Js(r.value,a))}return t.filter(r=>!e.has(r))}function Re(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Se(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function Be(n){return n.data||{}}function He(n){return n.resolve||{}}function Gd(n){return xn(t=>{const e=n(t);return e?(0,mn.D)(e).pipe((0,bt.U)(()=>t)):(0,je.of)(t)})}class Fg extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const hu=new d.OlP("ROUTES");class Yl{constructor(t,e,r,a){this.loader=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=a}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const a=this.loadModuleFactory(e.loadChildren).pipe((0,bt.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e);const f=c.create(t);return new yf(mg(f.injector.get(hu,void 0,d.XFs.Self|d.XFs.Optional)).map(Gl),f)}),ys(c=>{throw e._loader$=void 0,c}));return e._loader$=new Dd.c(a,()=>new lt.xQ).pipe((0,No.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,mn.D)(this.loader.load(t)):Hn(t()).pipe((0,En.zg)(e=>e instanceof d.YKP?(0,je.of)(e):(0,mn.D)(this.compiler.compileModuleAsync(e))))}}class Pf{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new $o,this.attachRef=null}}class $o{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Pf,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class ry{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function fC(n){throw n}function pC(n,t,e){return t.parse("/")}function Zl(n,t){return(0,je.of)(null)}const gC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wi=(()=>{class n{constructor(e,r,a,c,f,_,E,I){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=a,this.location=c,this.config=I,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new lt.xQ,this.errorHandler=fC,this.malformedUriErrorHandler=pC,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Zl,afterPreactivation:Zl},this.urlHandlingStrategy=new ry,this.routeReuseStrategy=new Fg,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(d.h0i),this.console=f.get(d.c2e);const z=f.get(d.R0b);this.isNgZoneEnabled=z instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(I),this.currentUrlTree=new Va(new Et([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Yl(_,E,re=>this.triggerEvent(new pr(re)),re=>this.triggerEvent(new Fn(re))),this.routerState=Eg(this.currentUrlTree,this.rootComponentType),this.transitions=new ir({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(Tr(a=>0!==a.id),(0,bt.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),xn(a=>{let c=!1,f=!1;return(0,je.of)(a).pipe((0,Nn.b)(_=>{this.currentNavigation={id:_.id,initialUrl:_.currentRawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),xn(_=>{const E=this.browserUrlTree.toString(),I=!this.navigated||_.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||I)&&this.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return Vg(_.source)&&(this.browserUrlTree=_.extractedUrl),(0,je.of)(_).pipe(xn(k=>{const z=this.transitions.getValue();return r.next(new U(k.id,this.serializeUrl(k.extractedUrl),k.source,k.restoredState)),z!==this.transitions.getValue()?fr.E:Promise.resolve(k)}),function(n,t,e,r){return xn(a=>function(n,t,e,r,a){return new ey(n,t,e,r,a).apply()}(n,t,e,a.extractedUrl,r).pipe((0,bt.U)(c=>Object.assign(Object.assign({},a),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Nn.b)(k=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:k.urlAfterRedirects})}),function(n,t,e,r,a){return(0,En.zg)(c=>function(n,t,e,r,a="emptyOnly",c="legacy"){try{const f=new g(n,t,e,r,a,c).recognize();return null===f?y(new Mf):(0,je.of)(f)}catch(f){return y(f)}}(n,t,c.urlAfterRedirects,e(c.urlAfterRedirects),r,a).pipe((0,bt.U)(f=>Object.assign(Object.assign({},c),{targetSnapshot:f}))))}(this.rootComponentType,this.config,k=>this.serializeUrl(k),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Nn.b)(k=>{"eager"===this.urlUpdateStrategy&&(k.extras.skipLocationChange||this.setBrowserUrl(k.urlAfterRedirects,k),this.browserUrlTree=k.urlAfterRedirects);const z=new Fe(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);r.next(z)}));if(I&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:z,extractedUrl:re,source:pe,restoredState:Me,extras:xe}=_,mt=new U(z,this.serializeUrl(re),pe,Me);r.next(mt);const st=Eg(re,this.rootComponentType).snapshot;return(0,je.of)(Object.assign(Object.assign({},_),{targetSnapshot:st,urlAfterRedirects:re,extras:Object.assign(Object.assign({},xe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=_.rawUrl,this.browserUrlTree=_.urlAfterRedirects,_.resolve(null),fr.E}),Gd(_=>{const{targetSnapshot:E,id:I,extractedUrl:P,rawUrl:k,extras:{skipLocationChange:z,replaceUrl:re}}=_;return this.hooks.beforePreactivation(E,{navigationId:I,appliedUrlTree:P,rawUrlTree:k,skipLocationChange:!!z,replaceUrl:!!re})}),(0,Nn.b)(_=>{const E=new Ue(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(E)}),(0,bt.U)(_=>Object.assign(Object.assign({},_),{guards:Pg(_.targetSnapshot,_.currentSnapshot,this.rootContexts)})),function(n,t){return(0,En.zg)(e=>{const{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:c,canDeactivateChecks:f}}=e;return 0===f.length&&0===c.length?(0,je.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,r){return(0,mn.D)(n).pipe((0,En.zg)(a=>function(n,t,e,r,a){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,je.of)(!0);const f=c.map(_=>{const E=uu(_,t,a);let I;if(function(n){return n&&vs(n.canDeactivate)}(E))I=Hn(E.canDeactivate(n,t,e,r));else{if(!vs(E))throw new Error("Invalid CanDeactivate guard");I=Hn(E(n,t,e,r))}return I.pipe(kn())});return(0,je.of)(f).pipe(ja())}(a.component,a.route,e,t,r)),kn(a=>!0!==a,!0))}(f,r,a,n).pipe((0,En.zg)(_=>_&&function(n){return"boolean"==typeof n}(_)?function(n,t,e,r){return(0,mn.D)(t).pipe(Yc(a=>ms(function(n,t){return null!==n&&t&&t(new Ml(n)),(0,je.of)(!0)}(a.route.parent,r),function(n,t){return null!==n&&t&&t(new Rl(n)),(0,je.of)(!0)}(a.route,r),function(n,t,e){const r=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(f=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(f)).filter(f=>null!==f).map(f=>$r(()=>{const _=f.guards.map(E=>{const I=uu(E,f.node,e);let P;if(function(n){return n&&vs(n.canActivateChild)}(I))P=Hn(I.canActivateChild(r,n));else{if(!vs(I))throw new Error("Invalid CanActivateChild guard");P=Hn(I(r,n))}return P.pipe(kn())});return(0,je.of)(_).pipe(ja())}));return(0,je.of)(c).pipe(ja())}(n,a.path,e),function(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,je.of)(!0);const a=r.map(c=>$r(()=>{const f=uu(c,t,e);let _;if(function(n){return n&&vs(n.canActivate)}(f))_=Hn(f.canActivate(t,n));else{if(!vs(f))throw new Error("Invalid CanActivate guard");_=Hn(f(t,n))}return _.pipe(kn())}));return(0,je.of)(a).pipe(ja())}(n,a.route,e))),kn(a=>!0!==a,!0))}(r,c,n,t):(0,je.of)(_)),(0,bt.U)(_=>Object.assign(Object.assign({},e),{guardsResult:_})))})}(this.ngModule.injector,_=>this.triggerEvent(_)),(0,Nn.b)(_=>{if(jl(_.guardsResult)){const I=af(`Redirecting to "${this.serializeUrl(_.guardsResult)}"`);throw I.url=_.guardsResult,I}const E=new Dt(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.triggerEvent(E)}),Tr(_=>!!_.guardsResult||(this.restoreHistory(_),this.cancelNavigationTransition(_,""),!1)),Gd(_=>{if(_.guards.canActivateChecks.length)return(0,je.of)(_).pipe((0,Nn.b)(E=>{const I=new zt(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(I)}),xn(E=>{let I=!1;return(0,je.of)(E).pipe(function(n,t){return(0,En.zg)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:a}}=e;if(!a.length)return(0,je.of)(e);let c=0;return(0,mn.D)(a).pipe(Yc(f=>function(n,t,e,r){return function(n,t,e,r){const a=Object.keys(n);if(0===a.length)return(0,je.of)({});const c={};return(0,mn.D)(a).pipe((0,En.zg)(f=>function(n,t,e,r){const a=uu(n,t,r);return Hn(a.resolve?a.resolve(t,e):a(t,e))}(n[f],t,e,r).pipe((0,Nn.b)(_=>{c[f]=_}))),Sd(1),(0,En.zg)(()=>Object.keys(c).length===a.length?(0,je.of)(c):fr.E))}(n._resolve,n,t,r).pipe((0,bt.U)(c=>(n._resolvedData=c,n.data=Object.assign(Object.assign({},n.data),wg(n,e).resolve),null)))}(f.route,r,n,t)),(0,Nn.b)(()=>c++),Sd(1),(0,En.zg)(f=>c===a.length?(0,je.of)(e):fr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Nn.b)({next:()=>I=!0,complete:()=>{I||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,Nn.b)(E=>{const I=new wn(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(I)}))}),Gd(_=>{const{targetSnapshot:E,id:I,extractedUrl:P,rawUrl:k,extras:{skipLocationChange:z,replaceUrl:re}}=_;return this.hooks.afterPreactivation(E,{navigationId:I,appliedUrlTree:P,rawUrlTree:k,skipLocationChange:!!z,replaceUrl:!!re})}),(0,bt.U)(_=>{const E=function(n,t,e){const r=Ul(n,t._root,e?e._root:void 0);return new xd(r,t)}(this.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return Object.assign(Object.assign({},_),{targetRouterState:E})}),(0,Nn.b)(_=>{this.currentUrlTree=_.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl),this.routerState=_.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_),this.browserUrlTree=_.urlAfterRedirects)}),((n,t,e)=>(0,bt.U)(r=>(new _f(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,_=>this.triggerEvent(_)),(0,Nn.b)({next(){c=!0},complete(){c=!0}}),function(n){return t=>t.lift(new w(n))}(()=>{var _;if(!c&&!f){const E=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,E)):this.cancelNavigationTransition(a,E)}(null===(_=this.currentNavigation)||void 0===_?void 0:_.id)===a.id&&(this.currentNavigation=null)}),ys(_=>{if(f=!0,function(n){return n&&n[Ol]}(_)){const E=jl(_.url);E||(this.navigated=!0,this.restoreHistory(a,!0));const I=new ue(a.id,this.serializeUrl(a.extractedUrl),_.message);r.next(I),E?setTimeout(()=>{const P=this.urlHandlingStrategy.merge(_.url,this.rawUrlTree),k={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Vg(a.source)};this.scheduleNavigation(P,"imperative",null,k,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const E=new Ie(a.id,this.serializeUrl(a.extractedUrl),_);r.next(E);try{a.resolve(this.errorHandler(_))}catch(I){a.reject(I)}}return fr.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:a,state:c,urlTree:f}=r,_={replaceUrl:!0};if(c){const E=Object.assign({},c);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(_.state=E)}this.scheduleNavigation(f,a,c,_)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(e){var r;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,r){if(!e)return!0;const a=r.urlTree.toString()===e.urlTree.toString();return r.transitionId!==e.transitionId||!a||!("hashchange"===r.source&&"popstate"===e.source||"popstate"===r.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){$l(e),this.config=e.map(Gl),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:a,queryParams:c,fragment:f,queryParamsHandling:_,preserveFragment:E}=r,I=a||this.routerState.root,P=E?this.currentUrlTree.fragment:f;let k=null;switch(_){case"merge":k=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=c||null}return null!==k&&(k=this.removeEmptyProps(k)),function(n,t,e,r,a){if(0===e.length)return Sg(t.root,t.root,t,r,a);const c=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new iu(!0,0,n);let t=0,e=!1;const r=n.reduce((a,c,f)=>{if("object"==typeof c&&null!=c){if(c.outlets){const _={};return Ln(c.outlets,(E,I)=>{_[I]="string"==typeof E?E.split("/"):E}),[...a,{outlets:_}]}if(c.segmentPath)return[...a,c.segmentPath]}return"string"!=typeof c?[...a,c]:0===f?(c.split("/").forEach((_,E)=>{0==E&&"."===_||(0==E&&""===_?e=!0:".."===_?t++:""!=_&&a.push(_))}),a):[...a,c]},[]);return new iu(e,t,r)}(e);if(c.toRoot())return Sg(t.root,new Et([],{}),t,r,a);const f=function(n,t,e){if(n.isAbsolute)return new su(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const c=e.snapshot._urlSegment;return new su(c,c===t.root,0)}const r=ru(n.commands[0])?0:1;return function(n,t,e){let r=n,a=t,c=e;for(;c>a;){if(c-=a,r=r.parent,!r)throw new Error("Invalid number of '../'");a=r.segments.length}return new su(r,!1,a-c)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(c,t,n),_=f.processChildren?au(f.segmentGroup,f.index,c.commands):ou(f.segmentGroup,f.index,c.commands);return Sg(f.segmentGroup,_,t,r,a)}(I,this.currentUrlTree,e,k,null!=P?P:null)}navigateByUrl(e,r={skipLocationChange:!1}){const a=jl(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return r}isActive(e,r){let a;if(a=!0===r?Object.assign({},gC):!1===r?Object.assign({},mC):r,jl(e))return Kc(this.currentUrlTree,e,a);const c=this.parseUrl(e);return Kc(this.currentUrlTree,c,a)}removeEmptyProps(e){return Object.keys(e).reduce((r,a)=>{const c=e[a];return null!=c&&(r[a]=c),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new ee(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,a,c,f){var _,E;if(this.disposed)return Promise.resolve(!1);const I=this.getTransition(),P=Vg(r)&&I&&!Vg(I.source),re=(this.lastSuccessfulId===I.id||this.currentNavigation?I.rawUrl:I.urlAfterRedirects).toString()===e.toString();if(P&&re)return Promise.resolve(!0);let pe,Me,xe;f?(pe=f.resolve,Me=f.reject,xe=f.promise):xe=new Promise((kt,_t)=>{pe=kt,Me=_t});const mt=++this.navigationId;let st;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),st=a&&a.\u0275routerPageId?a.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(_=this.browserPageId)&&void 0!==_?_:0:(null!==(E=this.browserPageId)&&void 0!==E?E:0)+1):st=0,this.setTransition({id:mt,targetPageId:st,source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:pe,reject:Me,promise:xe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),xe.catch(kt=>Promise.reject(kt))}setBrowserUrl(e,r){const a=this.urlSerializer.serialize(e),c=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl?this.location.replaceState(a,"",c):this.location.go(a,"",c)}restoreHistory(e,r=!1){var a,c;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===f?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===f&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const a=new ue(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(d.DyG),d.LFG(uf),d.LFG($o),d.LFG(wt),d.LFG(d.zs3),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(void 0))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Vg(n){return"imperative"!==n}let kf=(()=>{class n{constructor(e,r,a,c,f){this.parentContexts=e,this.location=r,this.resolver=a,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.name=c||rt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const f=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),_=this.parentContexts.getOrCreateContext(this.name).children,E=new jg(e,_,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36($o),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class jg{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Vl?this.route:t===$o?this.childContexts:this.parent.get(t,e)}}class sy{}class ay{preload(t,e){return(0,je.of)(null)}}let Hg=(()=>{class n{constructor(e,r,a,c,f){this.router=e,this.injector=c,this.preloadingStrategy=f,this.loader=new Yl(r,a,I=>e.triggerEvent(new pr(I)),I=>e.triggerEvent(new Fn(I)))}setUpPreloading(){this.subscription=this.router.events.pipe(Tr(e=>e instanceof ee),Yc(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(d.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const a=[];for(const c of r)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const f=c._loadedConfig;a.push(this.processRoutes(f.module,f.routes))}else c.loadChildren&&!c.canLoad?a.push(this.preloadConfig(e,c)):c.children&&a.push(this.processRoutes(e,c.children));return(0,mn.D)(a).pipe((0,ji.J)(),(0,bt.U)(c=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,je.of)(r._loadedConfig):this.loader.load(e.injector,r)).pipe((0,En.zg)(c=>(r._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(wi),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(sy))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),pu=(()=>{class n{constructor(e,r,a={}){this.router=e,this.viewportScroller=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof U?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ee&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ri&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new ri(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(wi),d.LFG(ya),d.LFG(void 0))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const ql=new d.OlP("ROUTER_CONFIGURATION"),yC=new d.OlP("ROUTER_FORROOT_GUARD"),vC=[wt,{provide:uf,useClass:kl},{provide:wi,useFactory:function(n,t,e,r,a,c,f,_={},E,I){const P=new wi(null,n,t,e,r,a,c,mg(f));return E&&(P.urlHandlingStrategy=E),I&&(P.routeReuseStrategy=I),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy)}(_,P),_.enableTracing&&P.events.subscribe(k=>{var z,re;null===(z=console.group)||void 0===z||z.call(console,`Router Event: ${k.constructor.name}`),console.log(k.toString()),console.log(k),null===(re=console.groupEnd)||void 0===re||re.call(console)}),P},deps:[uf,$o,wt,d.zs3,d.v3s,d.Sil,hu,ql,[class{},new d.FiY],[class{},new d.FiY]]},$o,{provide:Vl,useFactory:function(n){return n.routerState.root},deps:[wi]},{provide:d.v3s,useClass:d.EAV},Hg,ay,class{preload(t,e){return e().pipe(ys(()=>(0,je.of)(null)))}},{provide:ql,useValue:{enableTracing:!1}}];function ly(){return new d.PXZ("Router",wi)}let cy=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[vC,uy(e),{provide:yC,useFactory:BD,deps:[[wi,new d.FiY,new d.tp0]]},{provide:ql,useValue:r||{}},{provide:ge,useFactory:bC,deps:[Q,[new d.tBr(ve),new d.FiY],ql]},{provide:pu,useFactory:WM,deps:[wi,ya,ql]},{provide:sy,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:ay},{provide:d.PXZ,multi:!0,useFactory:ly},[dy,{provide:d.ip1,multi:!0,useFactory:CC,deps:[dy]},{provide:EC,useFactory:HD,deps:[dy]},{provide:d.tb,multi:!0,useExisting:EC}]]}}static forChild(e){return{ngModule:n,providers:[uy(e)]}}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(yC,8),d.LFG(wi,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function WM(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new pu(n,t,e)}function bC(n,t,e={}){return e.useHash?new Le(n,t):new Oe(n,t)}function BD(n){return"guarded"}function uy(n){return[{provide:d.deG,multi:!0,useValue:n},{provide:hu,multi:!0,useValue:n}]}let dy=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new lt.xQ}appInitializer(){return this.injector.get(F,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const a=new Promise(_=>r=_),c=this.injector.get(wi),f=this.injector.get(ql);return"disabled"===f.initialNavigation?(c.setUpLocationChangeListener(),r(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?(0,je.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),c.initialNavigation()):r(!0),a})}bootstrapListener(e){const r=this.injector.get(ql),a=this.injector.get(Hg),c=this.injector.get(pu),f=this.injector.get(wi),_=this.injector.get(d.z2F);e===_.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&f.initialNavigation(),a.setUpPreloading(),c.init(),f.resetRootComponentType(_.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function CC(n){return n.appInitializer.bind(n)}function HD(n){return n.bootstrapListener.bind(n)}const EC=new d.OlP("Router Initializer"),wC=[];let GD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[cy.forRoot(wC)],cy]}),n})();var $g=V(3637),Gg=V(6682),ht=V(8819);function Wg(n,t){return e=>e.lift(new DC(n,t))}class DC{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new zg(t,this.compare,this.keySelector))}}class zg extends Qt.L{constructor(t,e,r){super(t),this.keySelector=r,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:a}=this;e=a?a(t):t}catch(a){return this.destination.error(a)}let r=!1;if(this.hasKey)try{const{compare:a}=this;r=a(this.key,e)}catch(a){return this.destination.error(a)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}class IC{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new WD(t,this.observables,this.project))}}class WD extends Dl{constructor(t,e,r){super(t),this.observables=e,this.project=r,this.toRespond=[];const a=e.length;this.values=new Array(a);for(let c=0;c<a;c++)this.toRespond.push(c);for(let c=0;c<a;c++)this.add(Cn(this,e[c],void 0,c))}notifyNext(t,e,r){this.values[r]=e;const a=this.toRespond;if(a.length>0){const c=a.indexOf(r);-1!==c&&a.splice(c,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}class Ga{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new fy(t,this.predicate))}}class fy extends Qt.L{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}var Yi=V(4784),Zi=V(8939),TC=(V(8426),V(3394)),Wd=V(3910),li=V(8239),Go=V(8026),B=V(3854),zd=V(5422);const zD="@firebase/database";let Yg="";function YD(n){Yg=n}class ZD{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,B.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,B.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class YM{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,B.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const py=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ZD(t)}}catch(t){}return new YM},Kl=py("localStorage"),gy=py("sessionStorage"),Ql=new zd.Yd("@firebase/database"),qD=function(){let n=1;return function(){return n++}}(),KD=function(n){const t=(0,B.dS)(n),e=new B.gQ;e.update(t);const r=e.digest();return B.US.encodeByteArray(r)},Zg=function(...n){let t="";for(let e=0;e<n.length;e++){const r=n[e];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=Zg.apply(null,r):t+="object"==typeof r?(0,B.Pz)(r):r,t+=" "}return t};let Yd=null,QD=!0;const JD=function(n,t){(0,B.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Ql.logLevel=zd.in.VERBOSE,Yd=Ql.log.bind(Ql),t&&gy.set("logging_enabled",!0)):"function"==typeof n?Yd=n:(Yd=null,gy.remove("logging_enabled"))},Pr=function(...n){if(!0===QD&&(QD=!1,null===Yd&&!0===gy.get("logging_enabled")&&JD(!0)),Yd){const t=Zg.apply(null,n);Yd(t)}},qg=function(n){return function(...t){Pr(n,...t)}},AC=function(...n){const t="FIREBASE INTERNAL ERROR: "+Zg(...n);Ql.error(t)},Wa=function(...n){const t=`FIREBASE FATAL ERROR: ${Zg(...n)}`;throw Ql.error(t),new Error(t)},Di=function(...n){const t="FIREBASE WARNING: "+Zg(...n);Ql.warn(t)},Zd=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Wo="[MIN_NAME]",Es="[MAX_NAME]",Xl=function(n,t){if(n===t)return 0;if(n===Wo||t===Es)return-1;if(t===Wo||n===Es)return 1;{const e=za(n),r=za(t);return null!==e?null!==r?e-r==0?n.length-t.length:e-r:-1:null!==r?1:n<t?-1:1}},my=function(n,t){return n===t?0:n<t?-1:1},Nf=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,B.Pz)(t))},zo=function(n){if("object"!=typeof n||null===n)return(0,B.Pz)(n);const t=[];for(const r in n)t.push(r);t.sort();let e="{";for(let r=0;r<t.length;r++)0!==r&&(e+=","),e+=(0,B.Pz)(t[r]),e+=":",e+=zo(n[t[r]]);return e+="}",e},_y=function(n,t){const e=n.length;if(e<=t)return[n];const r=[];for(let a=0;a<e;a+=t)r.push(n.substring(a,a+t>e?e:a+t));return r};function gr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const eI=function(n){(0,B.hu)(!Zd(n),"Invalid JSON number");const r=1023;let a,c,f,_,E;0===n?(c=0,f=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(_=Math.min(Math.floor(Math.log(n)/Math.LN2),r),c=_+r,f=Math.round(n*Math.pow(2,52-_)-Math.pow(2,52))):(c=0,f=Math.round(n/Math.pow(2,-1074))));const I=[];for(E=52;E;E-=1)I.push(f%2?1:0),f=Math.floor(f/2);for(E=11;E;E-=1)I.push(c%2?1:0),c=Math.floor(c/2);I.push(a?1:0),I.reverse();const P=I.join("");let k="";for(E=0;E<64;E+=8){let z=parseInt(P.substr(E,8),2).toString(16);1===z.length&&(z="0"+z),k+=z}return k.toLowerCase()},nI=new RegExp("^-?(0*)\\d{1,10}$"),RC=-2147483648,gu=2147483647,za=function(n){if(nI.test(n)){const t=Number(n);if(t>=RC&&t<=gu)return t}return null},ec=function(n){try{n()}catch(t){setTimeout(()=>{throw Di("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Ya=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class Kd{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Di(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class rI{constructor(t,e,r){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Pr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Di(t)}}let Qd=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const OC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Cy="websocket",PC="long_polling";class Xg{constructor(t,e,r,a,c=!1,f="",_=!1){this.secure=e,this.namespace=r,this.webSocketOnly=a,this.nodeAdmin=c,this.persistenceKey=f,this.includeNamespaceInQueryParams=_,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Kl.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Kl.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function xC(n,t,e){let r;if((0,B.hu)("string"==typeof t,"typeof type must == string"),(0,B.hu)("object"==typeof e,"typeof params must == object"),t===Cy)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==PC)throw new Error("Unknown connection type: "+t);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const a=[];return gr(e,(c,f)=>{a.push(c+"="+f)}),r+a.join("&")}class qi{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,B.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,B.p$)(this.counters_)}}const Ey={},wy={};function kC(n){const t=n.toString();return Ey[t]||(Ey[t]=new qi),Ey[t]}class NC{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<r.length;++a)r[a]&&ec(()=>{this.onMessage_(r[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Jd{constructor(t,e,r,a,c,f,_){this.connId=t,this.repoInfo=e,this.applicationId=r,this.appCheckToken=a,this.authToken=c,this.transportSessionId=f,this.lastSessionId=_,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=qg(t),this.stats_=kC(e),this.urlFn=E=>(this.appCheckToken&&(E.ac=this.appCheckToken),xC(e,PC,E))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new NC(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,B.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ay((...c)=>{const[f,_,E,I,P]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===f)this.id=_,this.password=E;else{if("close"!==f)throw new Error("Unrecognized command received: "+f);_?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(_,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[f,_]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(f,_)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&OC.test(location.hostname)&&(r.r="f");const a=this.urlFn(r);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Jd.forceAllow_=!0}static forceDisallow(){Jd.forceDisallow_=!0}static isAvailable(){return!((0,B.Yr)()||!Jd.forceAllow_&&(Jd.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,B.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const r=(0,B.h$)(e),a=_y(r,1840);for(let c=0;c<a.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[c]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,B.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,B.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Ay{constructor(t,e,r,a){if(this.onDisconnect=r,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,B.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=qD(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Ay.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(_){Pr("frame writing exception"),_.stack&&Pr(_.stack),Pr(_)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Pr("No IE domain setting required")}catch(e){const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),r="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const f=this.pendingSegs.shift();r=r+"&seg"+a+"="+f.seg+"&ts"+a+"="+f.ts+"&d"+a+"="+f.d,a++}return e+=r,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,r){this.pendingSegs.push({seg:t,ts:e,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const r=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),r()})}addTag(t,e){(0,B.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const a=r.readyState;(!a||"loaded"===a||"complete"===a)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=()=>{Pr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let Vf=null;"undefined"!=typeof MozWebSocket?Vf=MozWebSocket:"undefined"!=typeof WebSocket&&(Vf=WebSocket);let Bf=(()=>{class n{constructor(e,r,a,c,f,_,E){this.connId=e,this.applicationId=a,this.appCheckToken=c,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=qg(this.connId),this.stats_=kC(r),this.connURL=n.connectionURL_(r,_,E,c),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,a,c){const f={v:"5"};return!(0,B.Yr)()&&"undefined"!=typeof location&&location.hostname&&OC.test(location.hostname)&&(f.r="f"),r&&(f.s=r),a&&(f.ls=a),c&&(f.ac=c),xC(e,Cy,f)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Kl.set("previous_websocket_failure",!0);try{if((0,B.Yr)()){const c={headers:{"User-Agent":`Firebase/5/${Yg}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(c.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(c.headers["X-Firebase-AppCheck"]=this.appCheckToken);const f=process.env,_=0===this.connURL.indexOf("wss://")?f.HTTPS_PROXY||f.https_proxy:f.HTTP_PROXY||f.http_proxy;_&&(c.proxy={origin:_}),this.mySock=new Vf(this.connURL,[],c)}else this.mySock=new Vf(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(a){this.log_("Error instantiating WebSocket.");const c=a.message||a.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const c=a.message||a.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==Vf&&!n.forceDisallow_}static previouslyFailed(){return Kl.isInMemoryStorage||!0===Kl.get("previous_websocket_failure")}markConnectionHealthy(){Kl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const a=(0,B.cI)(r);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,B.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const a=this.extractFrameCount_(r);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const r=(0,B.Pz)(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const a=_y(r,16384);a.length>1&&this.sendString_(String(a.length));for(let c=0;c<a.length;c++)this.sendString_(a[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class My{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Jd,Bf]}initTransports_(t){const e=Bf&&Bf.isAvailable();let r=e&&!Bf.previouslyFailed();if(t.webSocketOnly&&(e||Di("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Bf];else{const a=this.transports_=[];for(const c of My.ALL_TRANSPORTS)c&&c.isAvailable()&&a.push(c)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class Py{constructor(t,e,r,a,c,f,_,E,I,P){this.id=t,this.repoInfo_=e,this.applicationId_=r,this.appCheckToken_=a,this.authToken_=c,this.onMessage_=f,this.onReady_=_,this.onDisconnect_=E,this.onKill_=I,this.lastSessionId=P,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=qg("c:"+this.id+":"),this.transportManager_=new My(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,r)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Ya(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Nf("t",t),r=Nf("d",t);if("c"===e)this.onSecondaryControl_(r);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Nf("t",t),r=Nf("d",t);"c"===e?this.onControl_(r):"d"===e&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Nf("t",t);if("d"in t){const r=t.d;if("h"===e)this.onHandshake_(r);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(r):"r"===e?this.onReset_(r):"e"===e?AC("Server Error: "+r):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):AC("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,r=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==r&&Di("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,r),Ya(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ya(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Kl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class xy{put(t,e,r,a){}merge(t,e,r,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,r){}onDisconnectMerge(t,e,r){}onDisconnectCancel(t,e){}reportStats(t){}}class ky{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,B.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let a=0;a<r.length;a++)r[a].callback.apply(r[a].context,e)}}on(t,e,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:r});const a=this.getInitialEvent(t);a&&e.apply(r,a)}off(t,e,r){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let c=0;c<a.length;c++)if(a[c].callback===e&&(!r||r===a[c].context))return void a.splice(c,1)}validateEventType_(t){(0,B.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class jf extends ky{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,B.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new jf}getInitialEvent(t){return(0,B.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class jt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let r=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[r]=this.pieces_[a],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Yt(){return new jt("")}function Mt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function mu(n){return n.pieces_.length-n.pieceNum_}function Zt(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new jt(n.pieces_,t)}function rm(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Za(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function YC(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new jt(t,0)}function hn(n,t){const e=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)e.push(n.pieces_[r]);if(t instanceof jt)for(let r=t.pieceNum_;r<t.pieces_.length;r++)e.push(t.pieces_[r]);else{const r=t.split("/");for(let a=0;a<r.length;a++)r[a].length>0&&e.push(r[a])}return new jt(e,0)}function It(n){return n.pieceNum_>=n.pieces_.length}function ci(n,t){const e=Mt(n),r=Mt(t);if(null===e)return t;if(e===r)return ci(Zt(n),Zt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function ZC(n,t){const e=Za(n,0),r=Za(t,0);for(let a=0;a<e.length&&a<r.length;a++){const c=Xl(e[a],r[a]);if(0!==c)return c}return e.length===r.length?0:e.length<r.length?-1:1}function Fy(n,t){if(mu(n)!==mu(t))return!1;for(let e=n.pieceNum_,r=t.pieceNum_;e<=n.pieces_.length;e++,r++)if(n.pieces_[e]!==t.pieces_[r])return!1;return!0}function Ii(n,t){let e=n.pieceNum_,r=t.pieceNum_;if(mu(n)>mu(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[r])return!1;++e,++r}return!0}class gI{constructor(t,e){this.errorPrefix_=e,this.parts_=Za(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,B.ug)(this.parts_[r]);_u(this)}}function _u(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+tc(n))}function tc(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Ly extends ky{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Ly}getInitialEvent(t){return(0,B.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const $f=1e3;let Vy,nc=(()=>{class n extends xy{constructor(e,r,a,c,f,_,E,I){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=a,this.onConnectStatus_=c,this.onServerInfoUpdate_=f,this.authTokenProvider_=_,this.appCheckTokenProvider_=E,this.authOverride_=I,this.id=n.nextPersistentConnectionId_++,this.log_=qg("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=$f,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,I&&!(0,B.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ly.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&jf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,a){const c=++this.requestNumber_,f={r:c,a:e,b:r};this.log_((0,B.Pz)(f)),(0,B.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),a&&(this.requestCBHash_[c]=a)}get(e){this.initConnection_();const r=new B.BH,a={p:e._path.toString(),q:e._queryObject},c={action:"g",request:a,onComplete:_=>{const E=_.d;"ok"===_.s?(this.onDataUpdate_(a.p,E,!1,null),r.resolve(E)):r.reject(E)}};this.outstandingGets_.push(c),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const _=this.outstandingGets_[f];void 0===_||c!==_||(delete this.outstandingGets_[f],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+f+" timed out on connection"),r.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(f),r.promise}listen(e,r,a,c){this.initConnection_();const f=e._queryIdentifier,_=e._path.toString();this.log_("Listen called for "+_+" "+f),this.listens.has(_)||this.listens.set(_,new Map),(0,B.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,B.hu)(!this.listens.get(_).has(f),"listen() called twice for same path/queryId.");const E={onComplete:c,hashFn:r,query:e,tag:a};this.listens.get(_).set(f,E),this.connected_&&this.sendListen_(E)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(a)})}sendListen_(e){const r=e.query,a=r._path.toString(),c=r._queryIdentifier;this.log_("Listen on "+a+" for "+c);const f={p:a};e.tag&&(f.q=r._queryObject,f.t=e.tag),f.h=e.hashFn(),this.sendRequest("q",f,E=>{const I=E.d,P=E.s;n.warnOnListenWarnings_(I,r),(this.listens.get(a)&&this.listens.get(a).get(c))===e&&(this.log_("listen response",E),"ok"!==P&&this.removeListen_(a,c),e.onComplete&&e.onComplete(P,I))})}static warnOnListenWarnings_(e,r){if(e&&"object"==typeof e&&(0,B.r3)(e,"w")){const a=(0,B.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const c='".indexOn": "'+r._queryParams.getIndex().toString()+'"',f=r._path.toString();Di(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,B.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=(0,B.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(r,a,c=>{const f=c.s,_=c.d||"error";this.authToken_===e&&("ok"===f?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,_))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,a=e.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,a)})}unlisten(e,r){const a=e._path.toString(),c=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+c),(0,B.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,c)&&this.connected_&&this.sendUnlisten_(a,c,e._queryObject,r)}sendUnlisten_(e,r,a,c){this.log_("Unlisten on "+e+" for "+r);const f={p:e};c&&(f.q=a,f.t=c),this.sendRequest("n",f)}onDisconnectPut(e,r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:a})}onDisconnectMerge(e,r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:a})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,a,c){const f={p:r,d:a};this.log_("onDisconnect "+e,f),this.sendRequest(e,f,_=>{c&&setTimeout(()=>{c(_.s,_.d)},Math.floor(0))})}put(e,r,a,c){this.putInternal("p",e,r,a,c)}merge(e,r,a,c){this.putInternal("m",e,r,a,c)}putInternal(e,r,a,c,f){this.initConnection_();const _={p:r,d:a};void 0!==f&&(_.h=f),this.outstandingPuts_.push({action:e,request:_,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,c=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,a,f=>{this.log_(r+" response",f),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(f.s,f.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,B.Pz)(e));const r=e.r,a=this.requestCBHash_[r];a&&(delete this.requestCBHash_[r],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),"d"===e?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===e?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===e?this.onListenRevoked_(r.p,r.q):"ac"===e?this.onAuthRevoked_(r.s,r.d):"apc"===e?this.onAppCheckRevoked_(r.s,r.d):"sd"===e?this.onSecurityDebugPacket_(r):AC("Unrecognized action received from server: "+(0,B.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,B.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=$f,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=$f,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=$f),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,li.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const r=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),c=e.onRealtimeDisconnect_.bind(e),f=e.id+":"+n.nextConnectionId_++,_=e.lastSessionId;let E=!1,I=null;const P=function(){I?I.close():(E=!0,c())};e.realtime_={close:P,sendRequest:function(re){(0,B.hu)(I,"sendRequest call when we're not connected not allowed."),I.sendRequest(re)}};const z=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[re,pe]=yield Promise.all([e.authTokenProvider_.getToken(z),e.appCheckTokenProvider_.getToken(z)]);E?Pr("getToken() completed but was canceled"):(Pr("getToken() completed. Creating connection."),e.authToken_=re&&re.accessToken,e.appCheckToken_=pe&&pe.token,I=new Py(f,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,r,a,c,Me=>{Di(Me+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},_))}catch(re){e.log_("Failed to get token: "+re),E||(e.repoInfo_.nodeAdmin&&Di(re),P())}}})()}interrupt(e){Pr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Pr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,B.xb)(this.interruptReasons_)&&(this.reconnectDelay_=$f,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let a;a=r?r.map(f=>zo(f)).join("$"):"default";const c=this.removeListen_(e,a);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(e,r){const a=new jt(e).toString();let c;if(this.listens.has(a)){const f=this.listens.get(a);c=f.get(r),f.delete(r),0===f.size&&this.listens.delete(a)}else c=void 0;return c}onAuthRevoked_(e,r){Pr("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){Pr("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";(0,B.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+r+"."+Yg.replace(/\./g,"-")]=1,(0,B.uI)()?e["framework.cordova"]=1:(0,B.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=jf.getInstance().currentlyOnline();return(0,B.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Ye{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Ye(t,e)}}class eh{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const r=new Ye(Wo,t),a=new Ye(Wo,e);return 0!==this.compare(r,a)}minPost(){return Ye.MIN}}class qo extends eh{static get __EMPTY_NODE(){return Vy}static set __EMPTY_NODE(t){Vy=t}compare(t,e){return Xl(t.name,e.name)}isDefinedOn(t){throw(0,B.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Ye.MIN}maxPost(){return new Ye(Es,Vy)}makePost(t,e){return(0,B.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Ye(t,Vy)}toString(){return".key"}}const ws=new qo;class th{constructor(t,e,r,a,c=null){this.isReverse_=a,this.resultGenerator_=c,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(t=t,f=e?r(t.key,e):1,a&&(f*=-1),f<0)t=this.isReverse_?t.left:t.right;else{if(0===f){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let sm,Ko=(()=>{class n{constructor(e,r,a,c,f){this.key=e,this.value=r,this.color=null!=a?a:n.RED,this.left=null!=c?c:Ti.EMPTY_NODE,this.right=null!=f?f:Ti.EMPTY_NODE}copy(e,r,a,c,f){return new n(null!=e?e:this.key,null!=r?r:this.value,null!=a?a:this.color,null!=c?c:this.left,null!=f?f:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let c=this;const f=a(e,c.key);return c=f<0?c.copy(null,null,null,c.left.insert(e,r,a),null):0===f?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(e,r,a)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ti.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let a,c;if(a=this,r(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===r(e,a.key)){if(a.right.isEmpty())return Ti.EMPTY_NODE;c=a.right.min_(),a=a.copy(c.key,c.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ti{constructor(t,e=Ti.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Ti(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Ko.BLACK,null,null))}remove(t){return new Ti(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ko.BLACK,null,null))}get(t){let e,r=this.root_;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e)return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null}getPredecessorKey(t){let e,r=this.root_,a=null;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e){if(r.left.isEmpty())return a?a.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}e<0?r=r.left:e>0&&(a=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new th(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new th(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new th(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new th(this.root_,null,this.comparator_,!0,t)}}function JC(n,t){return Xl(n.name,t.name)}function im(n,t){return Xl(n,t)}Ti.EMPTY_NODE=new class{copy(t,e,r,a,c){return this}insert(t,e,r){return new Ko(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const eE=function(n){return"number"==typeof n?"number:"+eI(n):"string:"+n},tE=function(n){if(n.isLeafNode()){const t=n.val();(0,B.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,B.r3)(t,".sv"),"Priority must be a string or number.")}else(0,B.hu)(n===sm||n.isEmpty(),"priority of unexpected type.");(0,B.hu)(n===sm||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let nh,By,Uy,rc=(()=>{class n{constructor(e,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,(0,B.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),tE(this.priorityNode_)}static set __childrenNodeConstructor(e){nh=e}static get __childrenNodeConstructor(){return nh}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return It(e)?this:".priority"===Mt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return".priority"===e?this.updatePriority(r):r.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const a=Mt(e);return null===a?r:r.isEmpty()&&".priority"!==a?this:((0,B.hu)(".priority"!==a||1===mu(e),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Zt(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+eE(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",e+="number"===r?eI(this.value_):this.value_,this.lazyHash_=KD(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,B.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,a=typeof this.value_,c=n.VALUE_TYPE_ORDER.indexOf(r),f=n.VALUE_TYPE_ORDER.indexOf(a);return(0,B.hu)(c>=0,"Unknown leaf type: "+r),(0,B.hu)(f>=0,"Unknown leaf type: "+a),c===f?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:f-c}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const fn=new class extends eh{compare(t,e){const r=t.node.getPriority(),a=e.node.getPriority(),c=r.compareTo(a);return 0===c?Xl(t.name,e.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Ye.MIN}maxPost(){return new Ye(Es,new rc("[PRIORITY-POST]",Uy))}makePost(t,e){const r=By(t);return new Ye(e,new rc("[PRIORITY-POST]",r))}toString(){return".priority"}},EI=Math.log(2);class wI{constructor(t){this.count=parseInt(Math.log(t+1)/EI,10),this.current_=this.count-1;const a=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Gf=function(n,t,e,r){n.sort(t);const a=function(E,I){const P=I-E;let k,z;if(0===P)return null;if(1===P)return k=n[E],z=e?e(k):k,new Ko(z,k.node,Ko.BLACK,null,null);{const re=parseInt(P/2,10)+E,pe=a(E,re),Me=a(re+1,I);return k=n[re],z=e?e(k):k,new Ko(z,k.node,Ko.BLACK,pe,Me)}},_=function(E){let I=null,P=null,k=n.length;const z=function(pe,Me){const xe=k-pe,mt=k;k-=pe;const st=a(xe+1,mt),kt=n[xe],_t=e?e(kt):kt;re(new Ko(_t,kt.node,Me,null,st))},re=function(pe){I?(I.left=pe,I=pe):(P=pe,I=pe)};for(let pe=0;pe<E.count;++pe){const Me=E.nextBitIsOne(),xe=Math.pow(2,E.count-(pe+1));Me?z(xe,Ko.BLACK):(z(xe,Ko.BLACK),z(xe,Ko.RED))}return P}(new wI(n.length));return new Ti(r||t,_)};let iE;const yu={};class qa{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,B.hu)(yu&&fn,"ChildrenNode.ts has not been loaded"),iE=iE||new qa({".priority":yu},{".priority":fn}),iE}get(t){const e=(0,B.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ti?e:null}hasIndex(t){return(0,B.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,B.hu)(t!==ws,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let a=!1;const c=e.getIterator(Ye.Wrap);let _,f=c.getNext();for(;f;)a=a||t.isDefinedOn(f.node),r.push(f),f=c.getNext();_=a?Gf(r,t.getCompare()):yu;const E=t.toString(),I=Object.assign({},this.indexSet_);I[E]=t;const P=Object.assign({},this.indexes_);return P[E]=_,new qa(P,I)}addToIndexes(t,e){const r=(0,B.UI)(this.indexes_,(a,c)=>{const f=(0,B.DV)(this.indexSet_,c);if((0,B.hu)(f,"Missing index implementation for "+c),a===yu){if(f.isDefinedOn(t.node)){const _=[],E=e.getIterator(Ye.Wrap);let I=E.getNext();for(;I;)I.name!==t.name&&_.push(I),I=E.getNext();return _.push(t),Gf(_,f.getCompare())}return yu}{const _=e.get(t.name);let E=a;return _&&(E=E.remove(new Ye(t.name,_))),E.insert(t,t.node)}});return new qa(r,this.indexSet_)}removeFromIndexes(t,e){const r=(0,B.UI)(this.indexes_,a=>{if(a===yu)return a;{const c=e.get(t.name);return c?a.remove(new Ye(t.name,c)):a}});return new qa(r,this.indexSet_)}}let Wf,Ct=(()=>{class n{constructor(e,r,a){this.children_=e,this.priorityNode_=r,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&tE(this.priorityNode_),this.children_.isEmpty()&&(0,B.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Wf||(Wf=new n(new Ti(im),null,qa.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Wf}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const r=this.children_.get(e);return null===r?Wf:r}}getChild(e){const r=Mt(e);return null===r?this:this.getImmediateChild(r).getChild(Zt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,r){if((0,B.hu)(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);{const a=new Ye(e,r);let c,f;r.isEmpty()?(c=this.children_.remove(e),f=this.indexMap_.removeFromIndexes(a,this.children_)):(c=this.children_.insert(e,r),f=this.indexMap_.addToIndexes(a,this.children_));const _=c.isEmpty()?Wf:this.priorityNode_;return new n(c,_,f)}}updateChild(e,r){const a=Mt(e);if(null===a)return r;{(0,B.hu)(".priority"!==Mt(e)||1===mu(e),".priority must be the last token in a path");const c=this.getImmediateChild(a).updateChild(Zt(e),r);return this.updateImmediateChild(a,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let a=0,c=0,f=!0;if(this.forEachChild(fn,(_,E)=>{r[_]=E.val(e),a++,f&&n.INTEGER_REGEXP_.test(_)?c=Math.max(c,Number(_)):f=!1}),!e&&f&&c<2*a){const _=[];for(const E in r)_[E]=r[E];return _}return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+eE(this.getPriority().val())+":"),this.forEachChild(fn,(r,a)=>{const c=a.hash();""!==c&&(e+=":"+r+":"+c)}),this.lazyHash_=""===e?"":KD(e)}return this.lazyHash_}getPredecessorChildName(e,r,a){const c=this.resolveIndex_(a);if(c){const f=c.getPredecessorKey(new Ye(e,r));return f?f.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const a=r.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new Ye(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const a=r.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new Ye(r,this.children_.get(r)):null}forEachChild(e,r){const a=this.resolveIndex_(e);return a?a.inorderTraversal(c=>r(c.name,c.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const a=this.resolveIndex_(r);if(a)return a.getIteratorFrom(e,c=>c);{const c=this.children_.getIteratorFrom(e.name,Ye.Wrap);let f=c.peek();for(;null!=f&&r.compare(f,e)<0;)c.getNext(),f=c.peek();return c}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const a=this.resolveIndex_(r);if(a)return a.getReverseIteratorFrom(e,c=>c);{const c=this.children_.getReverseIteratorFrom(e.name,Ye.Wrap);let f=c.peek();for(;null!=f&&r.compare(f,e)>0;)c.getNext(),f=c.peek();return c}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===vu?-1:0}withIndex(e){if(e===ws||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===ws||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const a=this.getIterator(fn),c=r.getIterator(fn);let f=a.getNext(),_=c.getNext();for(;f&&_;){if(f.name!==_.name||!f.node.equals(_.node))return!1;f=a.getNext(),_=c.getNext()}return null===f&&null===_}return!1}return!1}}resolveIndex_(e){return e===ws?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const vu=new class extends Ct{constructor(){super(new Ti(im),Ct.EMPTY_NODE,qa.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Ct.EMPTY_NODE}isEmpty(){return!1}};function In(n,t=null){if(null===n)return Ct.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,B.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new rc(n,In(t));if(n instanceof Array){let e=Ct.EMPTY_NODE;return gr(n,(r,a)=>{if((0,B.r3)(n,r)&&"."!==r.substring(0,1)){const c=In(a);(c.isLeafNode()||!c.isEmpty())&&(e=e.updateImmediateChild(r,c))}}),e.updatePriority(In(t))}{const e=[];let r=!1;if(gr(n,(f,_)=>{if("."!==f.substring(0,1)){const E=In(_);E.isEmpty()||(r=r||!E.getPriority().isEmpty(),e.push(new Ye(f,E)))}}),0===e.length)return Ct.EMPTY_NODE;const c=Gf(e,JC,f=>f.name,im);if(r){const f=Gf(e,fn.getCompare());return new Ct(c,In(t),new qa({".priority":f},{".priority":fn}))}return new Ct(c,In(t),qa.Default)}}Object.defineProperties(Ye,{MIN:{value:new Ye(Wo,Ct.EMPTY_NODE)},MAX:{value:new Ye(Es,vu)}}),qo.__EMPTY_NODE=Ct.EMPTY_NODE,rc.__childrenNodeConstructor=Ct,sm=vu,Uy=vu,function(n){By=n}(In);class om extends eh{constructor(t){super(),this.indexPath_=t,(0,B.hu)(!It(t)&&".priority"!==Mt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const r=this.extractChild(t.node),a=this.extractChild(e.node),c=r.compareTo(a);return 0===c?Xl(t.name,e.name):c}makePost(t,e){const r=In(t),a=Ct.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ye(e,a)}maxPost(){const t=Ct.EMPTY_NODE.updateChild(this.indexPath_,vu);return new Ye(Es,t)}toString(){return Za(this.indexPath_,0).join("/")}}const Ki=new class extends eh{compare(t,e){const r=t.node.compareTo(e.node);return 0===r?Xl(t.name,e.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Ye.MIN}maxPost(){return Ye.MAX}makePost(t,e){const r=In(t);return new Ye(e,r)}toString(){return".value"}},zf="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",oE=function(){let n=0;const t=[];return function(e){const r=e===n;let a;n=e;const c=new Array(8);for(a=7;a>=0;a--)c[a]=zf.charAt(e%64),e=Math.floor(e/64);(0,B.hu)(0===e,"Cannot push at time == 0");let f=c.join("");if(r){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)f+=zf.charAt(t[a]);return(0,B.hu)(20===f.length,"nextPushId: Length should be 20."),f}}(),Hy=function(n){if(n===""+gu)return"-";const t=za(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let f=0;f<e.length;f++)e[f]=n.charAt(f);if(e.length<786)return e.push("-"),e.join("");let r=e.length-1;for(;r>=0&&"z"===e[r];)r--;if(-1===r)return Es;const c=zf.charAt(zf.indexOf(e[r])+1);return e[r]=c,e.slice(0,r+1).join("")},aE=function(n){if(n===""+RC)return Wo;const t=za(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let r=0;r<e.length;r++)e[r]=n.charAt(r);return"-"===e[e.length-1]?1===e.length?""+gu:(delete e[e.length-1],e.join("")):(e[e.length-1]=zf.charAt(zf.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function TI(n){return{type:"value",snapshotNode:n}}function bu(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Cu(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Yf(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class Gy{constructor(t){this.index_=t}updateChild(t,e,r,a,c,f){(0,B.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const _=t.getImmediateChild(e);return _.getChild(a).equals(r.getChild(a))&&_.isEmpty()===r.isEmpty()||(null!=f&&(r.isEmpty()?t.hasChild(e)?f.trackChildChange(Cu(e,_)):(0,B.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):_.isEmpty()?f.trackChildChange(bu(e,r)):f.trackChildChange(Yf(e,r,_))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(e,r).withIndex(this.index_)}updateFullNode(t,e,r){return null!=r&&(t.isLeafNode()||t.forEachChild(fn,(a,c)=>{e.hasChild(a)||r.trackChildChange(Cu(a,c))}),e.isLeafNode()||e.forEachChild(fn,(a,c)=>{if(t.hasChild(a)){const f=t.getImmediateChild(a);f.equals(c)||r.trackChildChange(Yf(a,c,f))}else r.trackChildChange(bu(a,c))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Ct.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Zf{constructor(t){this.indexedFilter_=new Gy(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Zf.getStartPost_(t),this.endPost_=Zf.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,r,a,c,f){return this.matches(new Ye(e,r))||(r=Ct.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,r,a,c,f)}updateFullNode(t,e,r){e.isLeafNode()&&(e=Ct.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(Ct.EMPTY_NODE);const c=this;return e.forEachChild(fn,(f,_)=>{c.matches(new Ye(f,_))||(a=a.updateImmediateChild(f,Ct.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class SI{constructor(t){this.rangedFilter_=new Zf(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,r,a,c,f){return this.rangedFilter_.matches(new Ye(e,r))||(r=Ct.EMPTY_NODE),t.getImmediateChild(e).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,r,a,c,f):this.fullLimitUpdateChild_(t,e,r,c,f)}updateFullNode(t,e,r){let a;if(e.isLeafNode()||e.isEmpty())a=Ct.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let c;a=Ct.EMPTY_NODE.withIndex(this.index_),c=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;c.hasNext()&&f<this.limit_;){const _=c.getNext();let E;if(E=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),_)<=0:this.index_.compare(_,this.rangedFilter_.getEndPost())<=0,!E)break;a=a.updateImmediateChild(_.name,_.node),f++}}else{let c,f,_,E;if(a=e.withIndex(this.index_),a=a.updatePriority(Ct.EMPTY_NODE),this.reverse_){E=a.getReverseIterator(this.index_),c=this.rangedFilter_.getEndPost(),f=this.rangedFilter_.getStartPost();const k=this.index_.getCompare();_=(z,re)=>k(re,z)}else E=a.getIterator(this.index_),c=this.rangedFilter_.getStartPost(),f=this.rangedFilter_.getEndPost(),_=this.index_.getCompare();let I=0,P=!1;for(;E.hasNext();){const k=E.getNext();!P&&_(c,k)<=0&&(P=!0),P&&I<this.limit_&&_(k,f)<=0?I++:a=a.updateImmediateChild(k.name,Ct.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,r,a,c){let f;if(this.reverse_){const k=this.index_.getCompare();f=(z,re)=>k(re,z)}else f=this.index_.getCompare();const _=t;(0,B.hu)(_.numChildren()===this.limit_,"");const E=new Ye(e,r),I=this.reverse_?_.getFirstChild(this.index_):_.getLastChild(this.index_),P=this.rangedFilter_.matches(E);if(_.hasChild(e)){const k=_.getImmediateChild(e);let z=a.getChildAfterChild(this.index_,I,this.reverse_);for(;null!=z&&(z.name===e||_.hasChild(z.name));)z=a.getChildAfterChild(this.index_,z,this.reverse_);const re=null==z?1:f(z,E);if(P&&!r.isEmpty()&&re>=0)return null!=c&&c.trackChildChange(Yf(e,r,k)),_.updateImmediateChild(e,r);{null!=c&&c.trackChildChange(Cu(e,k));const Me=_.updateImmediateChild(e,Ct.EMPTY_NODE);return null!=z&&this.rangedFilter_.matches(z)?(null!=c&&c.trackChildChange(bu(z.name,z.node)),Me.updateImmediateChild(z.name,z.node)):Me}}return r.isEmpty()?t:P&&f(I,E)>=0?(null!=c&&(c.trackChildChange(Cu(I.name,I.node)),c.trackChildChange(bu(e,r))),_.updateImmediateChild(e,r).updateImmediateChild(I.name,Ct.EMPTY_NODE)):t}}class am{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=fn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,B.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,B.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Wo}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,B.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,B.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Es}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,B.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===fn}copy(){const t=new am;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function ic(n,t,e){const r=n.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=e?(r.startNameSet_=!0,r.indexStartName_=e):(r.startNameSet_=!1,r.indexStartName_=""),r}function Qi(n,t,e){const r=n.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==e?(r.endNameSet_=!0,r.indexEndName_=e):(r.endNameSet_=!1,r.indexEndName_=""),r}function cm(n,t){const e=n.copy();return e.index_=t,e}function cE(n){const t={};if(n.isDefault())return t;let e;return n.index_===fn?e="$priority":n.index_===Ki?e="$value":n.index_===ws?e="$key":((0,B.hu)(n.index_ instanceof om,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,B.Pz)(e),n.startSet_&&(t.startAt=(0,B.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,B.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,B.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,B.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function um(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==fn&&(t.i=n.index_.toString()),t}class Ji extends xy{constructor(t,e,r,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=r,this.appCheckTokenProvider_=a,this.log_=qg("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,B.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,r,a){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const f=Ji.getListenId_(t,r),_={};this.listens_[f]=_;const E=cE(t._queryParams);this.restRequest_(c+".json",E,(I,P)=>{let k=P;if(404===I&&(k=null,I=null),null===I&&this.onDataUpdate_(c,k,!1,r),(0,B.DV)(this.listens_,f)===_){let z;z=I?401===I?"permission_denied":"rest_error:"+I:"ok",a(z,null)}})}unlisten(t,e){const r=Ji.getListenId_(t,e);delete this.listens_[r]}get(t){const e=cE(t._queryParams),r=t._path.toString(),a=new B.BH;return this.restRequest_(r+".json",e,(c,f)=>{let _=f;404===c&&(_=null,c=null),null===c?(this.onDataUpdate_(r,_,!1,null),a.resolve(_)):a.reject(new Error(_))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},r){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,c])=>{a&&a.accessToken&&(e.auth=a.accessToken),c&&c.token&&(e.ac=c.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,B.xO)(e);this.log_("Sending REST request for "+f);const _=new XMLHttpRequest;_.onreadystatechange=()=>{if(r&&4===_.readyState){this.log_("REST Response for "+f+" received. status:",_.status,"response:",_.responseText);let E=null;if(_.status>=200&&_.status<300){try{E=(0,B.cI)(_.responseText)}catch(I){Di("Failed to parse JSON response for "+f+": "+_.responseText)}r(null,E)}else 401!==_.status&&404!==_.status&&Di("Got unsuccessful REST response for "+f+" Status: "+_.status),r(_.status);r=null}},_.open("GET",f,!0),_.send()})}}class Kf{constructor(){this.rootNode_=Ct.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function or(){return{value:null,children:new Map}}function Ds(n,t,e){if(It(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const r=Mt(t);n.children.has(r)||n.children.set(r,or()),Ds(n.children.get(r),t=Zt(t),e)}}function rh(n,t){if(It(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(fn,(r,a)=>{Ds(n,new jt(r),a)}),rh(n,t)}}if(n.children.size>0){const e=Mt(t);return t=Zt(t),n.children.has(e)&&rh(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function Si(n,t,e){null!==n.value?e(t,n.value):function(n,t){n.children.forEach((e,r)=>{t(r,e)})}(n,(r,a)=>{Si(a,new jt(t.toString()+"/"+r),e)})}class ih{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&gr(this.last_,(r,a)=>{e[r]=e[r]-a}),this.last_=t,e}}class ah{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new ih(t);const r=1e4+2e4*Math.random();Ya(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),e={};let r=!1;gr(t,(a,c)=>{c>0&&(0,B.r3)(this.statsToReport_,a)&&(e[a]=c,r=!0)}),r&&this.server_.reportStats(e),Ya(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var xr=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(xr||(xr={})),xr))();function ac(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Qf{constructor(t,e,r){this.path=t,this.affectedTree=e,this.revert=r,this.type=xr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(It(this.path)){if(null!=this.affectedTree.value)return(0,B.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new jt(t));return new Qf(Yt(),e,this.revert)}}return(0,B.hu)(Mt(this.path)===t,"operationForChild called for unrelated child."),new Qf(Zt(this.path),this.affectedTree,this.revert)}}class lh{constructor(t,e){this.source=t,this.path=e,this.type=xr.LISTEN_COMPLETE}operationForChild(t){return It(this.path)?new lh(this.source,Yt()):new lh(this.source,Zt(this.path))}}class lc{constructor(t,e,r){this.source=t,this.path=e,this.snap=r,this.type=xr.OVERWRITE}operationForChild(t){return It(this.path)?new lc(this.source,Yt(),this.snap.getImmediateChild(t)):new lc(this.source,Zt(this.path),this.snap)}}class wu{constructor(t,e,r){this.source=t,this.path=e,this.children=r,this.type=xr.MERGE}operationForChild(t){if(It(this.path)){const e=this.children.subtree(new jt(t));return e.isEmpty()?null:e.value?new lc(this.source,Yt(),e.value):new wu(this.source,Yt(),e)}return(0,B.hu)(Mt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new wu(this.source,Zt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ka{constructor(t,e,r){this.node_=t,this.fullyInitialized_=e,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(It(t))return this.isFullyInitialized()&&!this.filtered_;const e=Mt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class uE{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function ch(n,t,e,r,a,c){const f=r.filter(_=>_.type===e);f.sort((_,E)=>function(n,t,e){if(null==t.childName||null==e.childName)throw(0,B.g5)("Should only compare child_ events.");const r=new Ye(t.childName,t.snapshotNode),a=new Ye(e.childName,e.snapshotNode);return n.index_.compare(r,a)}(n,_,E)),f.forEach(_=>{const E=function(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,_,c);a.forEach(I=>{I.respondsTo(_.type)&&t.push(I.createEvent(E,n.query_))})})}function Jf(n,t){return{eventCache:n,serverCache:t}}function Xf(n,t,e,r){return Jf(new Ka(t,e,r),n.serverCache)}function fE(n,t,e,r){return Jf(n.eventCache,new Ka(t,e,r))}function ep(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Du(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let pE;class ln{constructor(t,e=(()=>(pE||(pE=new Ti(my)),pE))()){this.value=t,this.children=e}static fromObject(t){let e=new ln(null);return gr(t,(r,a)=>{e=e.set(new jt(r),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Yt(),value:this.value};if(It(t))return null;{const r=Mt(t),a=this.children.get(r);if(null!==a){const c=a.findRootMostMatchingPathAndValue(Zt(t),e);return null!=c?{path:hn(new jt(r),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(It(t))return this;{const e=Mt(t),r=this.children.get(e);return null!==r?r.subtree(Zt(t)):new ln(null)}}set(t,e){if(It(t))return new ln(e,this.children);{const r=Mt(t),c=(this.children.get(r)||new ln(null)).set(Zt(t),e),f=this.children.insert(r,c);return new ln(this.value,f)}}remove(t){if(It(t))return this.children.isEmpty()?new ln(null):new ln(null,this.children);{const e=Mt(t),r=this.children.get(e);if(r){const a=r.remove(Zt(t));let c;return c=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&c.isEmpty()?new ln(null):new ln(this.value,c)}return this}}get(t){if(It(t))return this.value;{const e=Mt(t),r=this.children.get(e);return r?r.get(Zt(t)):null}}setTree(t,e){if(It(t))return e;{const r=Mt(t),c=(this.children.get(r)||new ln(null)).setTree(Zt(t),e);let f;return f=c.isEmpty()?this.children.remove(r):this.children.insert(r,c),new ln(this.value,f)}}fold(t){return this.fold_(Yt(),t)}fold_(t,e){const r={};return this.children.inorderTraversal((a,c)=>{r[a]=c.fold_(hn(t,a),e)}),e(t,this.value,r)}findOnPath(t,e){return this.findOnPath_(t,Yt(),e)}findOnPath_(t,e,r){const a=!!this.value&&r(e,this.value);if(a)return a;if(It(t))return null;{const c=Mt(t),f=this.children.get(c);return f?f.findOnPath_(Zt(t),hn(e,c),r):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Yt(),e)}foreachOnPath_(t,e,r){if(It(t))return this;{this.value&&r(e,this.value);const a=Mt(t),c=this.children.get(a);return c?c.foreachOnPath_(Zt(t),hn(e,a),r):new ln(null)}}foreach(t){this.foreach_(Yt(),t)}foreach_(t,e){this.children.inorderTraversal((r,a)=>{a.foreach_(hn(t,r),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,r)=>{r.value&&t(e,r.value)})}}class to{constructor(t){this.writeTree_=t}static empty(){return new to(new ln(null))}}function uh(n,t,e){if(It(t))return new to(new ln(e));{const r=n.writeTree_.findRootMostValueAndPath(t);if(null!=r){const a=r.path;let c=r.value;const f=ci(a,t);return c=c.updateChild(f,e),new to(n.writeTree_.set(a,c))}{const a=new ln(e),c=n.writeTree_.setTree(t,a);return new to(c)}}}function zy(n,t,e){let r=n;return gr(e,(a,c)=>{r=uh(r,hn(t,a),c)}),r}function gE(n,t){if(It(t))return to.empty();{const e=n.writeTree_.setTree(t,new ln(null));return new to(e)}}function mE(n,t){return null!=Iu(n,t)}function Iu(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(ci(e.path,t)):null}function Yy(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(fn,(r,a)=>{t.push(new Ye(r,a))}):n.writeTree_.children.inorderTraversal((r,a)=>{null!=a.value&&t.push(new Ye(r,a.value))}),t}function Tu(n,t){if(It(t))return n;{const e=Iu(n,t);return new to(null!=e?new ln(e):n.writeTree_.subtree(t))}}function _E(n){return n.writeTree_.isEmpty()}function tp(n,t){return yE(Yt(),n.writeTree_,t)}function yE(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let r=null;return t.children.inorderTraversal((a,c)=>{".priority"===a?((0,B.hu)(null!==c.value,"Priority writes must always be leaf nodes"),r=c.value):e=yE(hn(n,a),c,e)}),!e.getChild(n).isEmpty()&&null!==r&&(e=e.updateChild(hn(n,".priority"),r)),e}}function Zy(n,t){return DE(t,n)}function kI(n,t){if(n.snap)return Ii(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Ii(hn(n.path,e),t))return!0;return!1}function tR(n){return n.visible}function NI(n,t,e){let r=to.empty();for(let a=0;a<n.length;++a){const c=n[a];if(t(c)){const f=c.path;let _;if(c.snap)Ii(e,f)?(_=ci(e,f),r=uh(r,_,c.snap)):Ii(f,e)&&(_=ci(f,e),r=uh(r,Yt(),c.snap.getChild(_)));else{if(!c.children)throw(0,B.g5)("WriteRecord should have .snap or .children");if(Ii(e,f))_=ci(e,f),r=zy(r,_,c.children);else if(Ii(f,e))if(_=ci(f,e),It(_))r=zy(r,Yt(),c.children);else{const E=(0,B.DV)(c.children,Mt(_));if(E){const I=E.getChild(Zt(_));r=uh(r,Yt(),I)}}}}}return r}function vE(n,t,e,r,a){if(r||a){const c=Tu(n.visibleWrites,t);return!a&&_E(c)?e:a||null!=e||mE(c,Yt())?tp(NI(n.allWrites,function(I){return(I.visible||a)&&(!r||!~r.indexOf(I.writeId))&&(Ii(I.path,t)||Ii(t,I.path))},t),e||Ct.EMPTY_NODE):null}{const c=Iu(n.visibleWrites,t);if(null!=c)return c;{const f=Tu(n.visibleWrites,t);return _E(f)?e:null!=e||mE(f,Yt())?tp(f,e||Ct.EMPTY_NODE):null}}}function dm(n,t,e,r){return vE(n.writeTree,n.treePath,t,e,r)}function hm(n,t){return function(n,t,e){let r=Ct.EMPTY_NODE;const a=Iu(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(fn,(c,f)=>{r=r.updateImmediateChild(c,f)}),r;if(e){const c=Tu(n.visibleWrites,t);return e.forEachChild(fn,(f,_)=>{const E=tp(Tu(c,new jt(f)),_);r=r.updateImmediateChild(f,E)}),Yy(c).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}return Yy(Tu(n.visibleWrites,t)).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}(n.writeTree,n.treePath,t)}function np(n,t,e,r){return function(n,t,e,r,a){(0,B.hu)(r||a,"Either existingEventSnap or existingServerSnap must exist");const c=hn(t,e);if(mE(n.visibleWrites,c))return null;{const f=Tu(n.visibleWrites,c);return _E(f)?a.getChild(e):tp(f,a.getChild(e))}}(n.writeTree,n.treePath,t,e,r)}function fm(n,t){return function(n,t){return Iu(n.visibleWrites,t)}(n.writeTree,hn(n.treePath,t))}function Qy(n,t,e){return function(n,t,e,r){const a=hn(t,e),c=Iu(n.visibleWrites,a);return null!=c?c:r.isCompleteForChild(e)?tp(Tu(n.visibleWrites,a),r.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function wE(n,t){return DE(hn(n.treePath,t),n.writeTree)}function DE(n,t){return{treePath:n,writeTree:t}}class VI{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,r=t.childName;(0,B.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,B.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(r);if(a){const c=a.type;if("child_added"===e&&"child_removed"===c)this.changeMap.set(r,Yf(r,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===c)this.changeMap.delete(r);else if("child_removed"===e&&"child_changed"===c)this.changeMap.set(r,Cu(r,a.oldSnap));else if("child_changed"===e&&"child_added"===c)this.changeMap.set(r,bu(r,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==c)throw(0,B.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(r,Yf(r,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const Jy=new class{getCompleteChild(t){return null}getChildAfterChild(t,e,r){return null}};class Xy{constructor(t,e,r=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=r}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new Ka(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Qy(this.writes_,t,r)}}getChildAfterChild(t,e,r){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Du(this.viewCache_),c=function(n,t,e,r,a,c){return function(n,t,e,r,a,c,f){let _;const E=Tu(n.visibleWrites,t),I=Iu(E,Yt());if(null!=I)_=I;else{if(null==e)return[];_=tp(E,e)}if(_=_.withIndex(f),_.isEmpty()||_.isLeafNode())return[];{const P=[],k=f.getCompare(),z=c?_.getReverseIteratorFrom(r,f):_.getIteratorFrom(r,f);let re=z.getNext();for(;re&&P.length<a;)0!==k(re,r)&&P.push(re),re=z.getNext();return P}}(n.writeTree,n.treePath,t,e,r,a,c)}(this.writes_,a,e,1,r,t);return 0===c.length?null:c[0]}}function pm(n,t,e,r,a,c){const f=t.eventCache;if(null!=fm(r,e))return t;{let _,E;if(It(e))if((0,B.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const I=Du(t),k=hm(r,I instanceof Ct?I:Ct.EMPTY_NODE);_=n.filter.updateFullNode(t.eventCache.getNode(),k,c)}else{const I=dm(r,Du(t));_=n.filter.updateFullNode(t.eventCache.getNode(),I,c)}else{const I=Mt(e);if(".priority"===I){(0,B.hu)(1===mu(e),"Can't have a priority with additional path components");const P=f.getNode();E=t.serverCache.getNode();const k=np(r,e,P,E);_=null!=k?n.filter.updatePriority(P,k):f.getNode()}else{const P=Zt(e);let k;if(f.isCompleteForChild(I)){E=t.serverCache.getNode();const z=np(r,e,f.getNode(),E);k=null!=z?f.getNode().getImmediateChild(I).updateChild(P,z):f.getNode().getImmediateChild(I)}else k=Qy(r,I,t.serverCache);_=null!=k?n.filter.updateChild(f.getNode(),I,k,P,a,c):f.getNode()}}return Xf(t,_,f.isFullyInitialized()||It(e),n.filter.filtersNodes())}}function gm(n,t,e,r,a,c,f,_){const E=t.serverCache;let I;const P=f?n.filter:n.filter.getIndexedFilter();if(It(e))I=P.updateFullNode(E.getNode(),r,null);else if(P.filtersNodes()&&!E.isFiltered()){const re=E.getNode().updateChild(e,r);I=P.updateFullNode(E.getNode(),re,null)}else{const re=Mt(e);if(!E.isCompleteForPath(e)&&mu(e)>1)return t;const pe=Zt(e),xe=E.getNode().getImmediateChild(re).updateChild(pe,r);I=".priority"===re?P.updatePriority(E.getNode(),xe):P.updateChild(E.getNode(),re,xe,pe,Jy,null)}const k=fE(t,I,E.isFullyInitialized()||It(e),P.filtersNodes());return pm(n,k,e,a,new Xy(a,k,c),_)}function SE(n,t,e,r,a,c,f){const _=t.eventCache;let E,I;const P=new Xy(a,t,c);if(It(e))I=n.filter.updateFullNode(t.eventCache.getNode(),r,f),E=Xf(t,I,!0,n.filter.filtersNodes());else{const k=Mt(e);if(".priority"===k)I=n.filter.updatePriority(t.eventCache.getNode(),r),E=Xf(t,I,_.isFullyInitialized(),_.isFiltered());else{const z=Zt(e),re=_.getNode().getImmediateChild(k);let pe;if(It(z))pe=r;else{const Me=P.getCompleteChild(k);pe=null!=Me?".priority"===rm(z)&&Me.getChild(YC(z)).isEmpty()?Me:Me.updateChild(z,r):Ct.EMPTY_NODE}E=re.equals(pe)?t:Xf(t,n.filter.updateChild(_.getNode(),k,pe,z,P,f),_.isFullyInitialized(),n.filter.filtersNodes())}}return E}function hh(n,t){return n.eventCache.isCompleteForChild(t)}function mm(n,t,e){return e.foreach((r,a)=>{t=t.updateChild(r,a)}),t}function rp(n,t,e,r,a,c,f,_){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let I,E=t;I=It(e)?r:new ln(null).setTree(e,r);const P=t.serverCache.getNode();return I.children.inorderTraversal((k,z)=>{if(P.hasChild(k)){const pe=mm(0,t.serverCache.getNode().getImmediateChild(k),z);E=gm(n,E,new jt(k),pe,a,c,f,_)}}),I.children.inorderTraversal((k,z)=>{const re=!t.serverCache.isCompleteForChild(k)&&void 0===z.value;if(!P.hasChild(k)&&!re){const Me=mm(0,t.serverCache.getNode().getImmediateChild(k),z);E=gm(n,E,new jt(k),Me,a,c,f,_)}}),E}class AE{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,a=new Gy(r.getIndex()),c=function(n){return n.loadsAllData()?new Gy(n.getIndex()):n.hasLimit()?new SI(n):new Zf(n)}(r);this.processor_=function(n){return{filter:n}}(c);const f=e.serverCache,_=e.eventCache,E=a.updateFullNode(Ct.EMPTY_NODE,f.getNode(),null),I=c.updateFullNode(Ct.EMPTY_NODE,_.getNode(),null),P=new Ka(E,f.isFullyInitialized(),a.filtersNodes()),k=new Ka(I,_.isFullyInitialized(),c.filtersNodes());this.viewCache_=Jf(k,P),this.eventGenerator_=new uE(this.query_)}get query(){return this.query_}}function ME(n,t){const e=Du(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!It(t)&&!e.getImmediateChild(Mt(t)).isEmpty())?e.getChild(t):null}function rv(n){return 0===n.eventRegistrations_.length}function iv(n,t,e){const r=[];if(e){(0,B.hu)(null==t,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(c=>{const f=c.createCancelEvent(e,a);f&&r.push(f)})}if(t){let a=[];for(let c=0;c<n.eventRegistrations_.length;++c){const f=n.eventRegistrations_[c];if(f.matches(t)){if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(c+1));break}}else a.push(f)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return r}function _m(n,t,e,r){t.type===xr.MERGE&&null!==t.source.queryId&&((0,B.hu)(Du(n.viewCache_),"We should always have a full cache before handling merges"),(0,B.hu)(ep(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,c=function(n,t,e,r,a){const c=new VI;let f,_;if(e.type===xr.OVERWRITE){const I=e;I.source.fromUser?f=SE(n,t,I.path,I.snap,r,a,c):((0,B.hu)(I.source.fromServer,"Unknown source."),_=I.source.tagged||t.serverCache.isFiltered()&&!It(I.path),f=gm(n,t,I.path,I.snap,r,a,_,c))}else if(e.type===xr.MERGE){const I=e;I.source.fromUser?f=function(n,t,e,r,a,c,f){let _=t;return r.foreach((E,I)=>{const P=hn(e,E);hh(t,Mt(P))&&(_=SE(n,_,P,I,a,c,f))}),r.foreach((E,I)=>{const P=hn(e,E);hh(t,Mt(P))||(_=SE(n,_,P,I,a,c,f))}),_}(n,t,I.path,I.children,r,a,c):((0,B.hu)(I.source.fromServer,"Unknown source."),_=I.source.tagged||t.serverCache.isFiltered(),f=rp(n,t,I.path,I.children,r,a,_,c))}else if(e.type===xr.ACK_USER_WRITE){const I=e;f=I.revert?function(n,t,e,r,a,c){let f;if(null!=fm(r,e))return t;{const _=new Xy(r,t,a),E=t.eventCache.getNode();let I;if(It(e)||".priority"===Mt(e)){let P;if(t.serverCache.isFullyInitialized())P=dm(r,Du(t));else{const k=t.serverCache.getNode();(0,B.hu)(k instanceof Ct,"serverChildren would be complete if leaf node"),P=hm(r,k)}P=P,I=n.filter.updateFullNode(E,P,c)}else{const P=Mt(e);let k=Qy(r,P,t.serverCache);null==k&&t.serverCache.isCompleteForChild(P)&&(k=E.getImmediateChild(P)),I=null!=k?n.filter.updateChild(E,P,k,Zt(e),_,c):t.eventCache.getNode().hasChild(P)?n.filter.updateChild(E,P,Ct.EMPTY_NODE,Zt(e),_,c):E,I.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=dm(r,Du(t)),f.isLeafNode()&&(I=n.filter.updateFullNode(I,f,c)))}return f=t.serverCache.isFullyInitialized()||null!=fm(r,Yt()),Xf(t,I,f,n.filter.filtersNodes())}}(n,t,I.path,r,a,c):function(n,t,e,r,a,c,f){if(null!=fm(a,e))return t;const _=t.serverCache.isFiltered(),E=t.serverCache;if(null!=r.value){if(It(e)&&E.isFullyInitialized()||E.isCompleteForPath(e))return gm(n,t,e,E.getNode().getChild(e),a,c,_,f);if(It(e)){let I=new ln(null);return E.getNode().forEachChild(ws,(P,k)=>{I=I.set(new jt(P),k)}),rp(n,t,e,I,a,c,_,f)}return t}{let I=new ln(null);return r.foreach((P,k)=>{const z=hn(e,P);E.isCompleteForPath(z)&&(I=I.set(P,E.getNode().getChild(z)))}),rp(n,t,e,I,a,c,_,f)}}(n,t,I.path,I.affectedTree,r,a,c)}else{if(e.type!==xr.LISTEN_COMPLETE)throw(0,B.g5)("Unknown operation type: "+e.type);f=function(n,t,e,r,a){const c=t.serverCache;return pm(n,fE(t,c.getNode(),c.isFullyInitialized()||It(e),c.isFiltered()),e,r,Jy,a)}(n,t,e.path,r,c)}const E=c.getChanges();return function(n,t,e){const r=t.eventCache;if(r.isFullyInitialized()){const a=r.getNode().isLeafNode()||r.getNode().isEmpty(),c=ep(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!r.getNode().equals(c)||!r.getNode().getPriority().equals(c.getPriority()))&&e.push(TI(ep(t)))}}(t,f,E),{viewCache:f,changes:E}}(n.processor_,a,t,e,r);return function(n,t){(0,B.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,B.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,c.viewCache),(0,B.hu)(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=c.viewCache,ym(n,c.changes,c.viewCache.eventCache.getNode(),null)}function ym(n,t,e,r){return function(n,t,e,r){const a=[],c=[];return t.forEach(f=>{"child_changed"===f.type&&n.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&c.push(function(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(f.childName,f.snapshotNode))}),ch(n,a,"child_removed",t,r,e),ch(n,a,"child_added",t,r,e),ch(n,a,"child_moved",c,r,e),ch(n,a,"child_changed",t,r,e),ch(n,a,"value",t,r,e),a}(n.eventGenerator_,t,e,r?[r]:n.eventRegistrations_)}let fh,op;class vm{constructor(){this.views=new Map}}function ip(n,t,e,r){const a=t.source.queryId;if(null!==a){const c=n.views.get(a);return(0,B.hu)(null!=c,"SyncTree gave us an op for an invalid query."),_m(c,t,e,r)}{let c=[];for(const f of n.views.values())c=c.concat(_m(f,t,e,r));return c}}function sv(n,t,e,r,a){const f=n.views.get(t._queryIdentifier);if(!f){let _=dm(e,a?r:null),E=!1;_?E=!0:r instanceof Ct?(_=hm(e,r),E=!1):(_=Ct.EMPTY_NODE,E=!1);const I=Jf(new Ka(_,E,!1),new Ka(r,a,!1));return new AE(t,I)}return f}function ov(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Qo(n,t){let e=null;for(const r of n.views.values())e=e||ME(r,t);return e}function bm(n,t){return t._queryParams.loadsAllData()?sp(n):n.views.get(t._queryIdentifier)}function av(n,t){return null!=bm(n,t)}function Qa(n){return null!=sp(n)}function sp(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let FE=1;class lv{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ln(null),this.pendingWriteTree_={visibleWrites:to.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function LE(n,t,e,r,a){return function(n,t,e,r,a){(0,B.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:r,visible:a}),a&&(n.visibleWrites=uh(n.visibleWrites,t,e)),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r,a),a?no(n,new lc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function cc(n,t,e=!1){const r=function(n,t){for(let e=0;e<n.allWrites.length;e++){const r=n.allWrites[e];if(r.writeId===t)return r}return null}(n.pendingWriteTree_,t);if(function(n,t){const e=n.allWrites.findIndex(_=>_.writeId===t);(0,B.hu)(e>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[e];n.allWrites.splice(e,1);let a=r.visible,c=!1,f=n.allWrites.length-1;for(;a&&f>=0;){const _=n.allWrites[f];_.visible&&(f>=e&&kI(_,r.path)?a=!1:Ii(r.path,_.path)&&(c=!0)),f--}return!!a&&(c?(function(n){n.visibleWrites=NI(n.allWrites,tR,Yt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=gE(n.visibleWrites,r.path):gr(r.children,E=>{n.visibleWrites=gE(n.visibleWrites,hn(r.path,E))}),!0))}(n.pendingWriteTree_,t)){let c=new ln(null);return null!=r.snap?c=c.set(Yt(),!0):gr(r.children,f=>{c=c.set(new jt(f),!0)}),no(n,new Qf(r.path,c,e))}return[]}function ph(n,t,e){return no(n,new lc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function cv(n,t,e,r){const a=t._path,c=n.syncPointTree_.get(a);let f=[];if(c&&("default"===t._queryIdentifier||av(c,t))){const _=function(n,t,e,r){const a=t._queryIdentifier,c=[];let f=[];const _=Qa(n);if("default"===a)for(const[E,I]of n.views.entries())f=f.concat(iv(I,e,r)),rv(I)&&(n.views.delete(E),I.query._queryParams.loadsAllData()||c.push(I.query));else{const E=n.views.get(a);E&&(f=f.concat(iv(E,e,r)),rv(E)&&(n.views.delete(a),E.query._queryParams.loadsAllData()||c.push(E.query)))}return _&&!Qa(n)&&c.push(new((0,B.hu)(fh,"Reference.ts has not been loaded"),fh)(t._repo,t._path)),{removed:c,events:f}}(c,t,e,r);(function(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(a));const E=_.removed;f=_.events;const I=-1!==E.findIndex(k=>k._queryParams.loadsAllData()),P=n.syncPointTree_.findOnPath(a,(k,z)=>Qa(z));if(I&&!P){const k=n.syncPointTree_.subtree(a);if(!k.isEmpty()){const z=function(n){return n.fold((t,e,r)=>{if(e&&Qa(e))return[sp(e)];{let a=[];return e&&(a=ov(e)),gr(r,(c,f)=>{a=a.concat(f)}),a}})}(k);for(let re=0;re<z.length;++re){const pe=z[re],Me=pe.query,xe=uv(n,pe);n.listenProvider_.startListening(dp(Me),Cm(n,Me),xe.hashFn,xe.onComplete)}}}if(!P&&E.length>0&&!r)if(I){const k=null;n.listenProvider_.stopListening(dp(t),k)}else E.forEach(k=>{const z=n.queryToTagMap.get(lp(k));n.listenProvider_.stopListening(dp(k),z)});!function(n,t){for(let e=0;e<t.length;++e){const r=t[e];if(!r._queryParams.loadsAllData()){const a=lp(r),c=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(c)}}}(n,E)}return f}function UE(n,t,e){const r=t._path;let a=null,c=!1;n.syncPointTree_.foreachOnPath(r,(k,z)=>{const re=ci(k,r);a=a||Qo(z,re),c=c||Qa(z)});let _,f=n.syncPointTree_.get(r);f?(c=c||Qa(f),a=a||Qo(f,Yt())):(f=new vm,n.syncPointTree_=n.syncPointTree_.set(r,f)),null!=a?_=!0:(_=!1,a=Ct.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((z,re)=>{const pe=Qo(re,Yt());pe&&(a=a.updateImmediateChild(z,pe))}));const E=av(f,t);if(!E&&!t._queryParams.loadsAllData()){const k=lp(t);(0,B.hu)(!n.queryToTagMap.has(k),"View does not exist, but we have a tag");const z=FE++;n.queryToTagMap.set(k,z),n.tagToQueryMap.set(z,k)}let P=function(n,t,e,r,a,c){const f=sv(n,t,r,a,c);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,f),function(n,t){n.eventRegistrations_.push(t)}(f,e),function(n,t){const e=n.viewCache_.eventCache,r=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(fn,(c,f)=>{r.push(bu(c,f))}),e.isFullyInitialized()&&r.push(TI(e.getNode())),ym(n,r,e.getNode(),t)}(f,e)}(f,t,e,Zy(n.pendingWriteTree_,r),a,_);if(!E&&!c){const k=bm(f,t);P=P.concat(function(n,t,e){const r=t._path,a=Cm(n,t),c=uv(n,e),f=n.listenProvider_.startListening(dp(t),a,c.hashFn,c.onComplete),_=n.syncPointTree_.subtree(r);if(a)(0,B.hu)(!Qa(_.value),"If we're adding a query, it shouldn't be shadowed");else{const E=_.fold((I,P,k)=>{if(!It(I)&&P&&Qa(P))return[sp(P).query];{let z=[];return P&&(z=z.concat(ov(P).map(re=>re.query))),gr(k,(re,pe)=>{z=z.concat(pe)}),z}});for(let I=0;I<E.length;++I){const P=E[I];n.listenProvider_.stopListening(dp(P),Cm(n,P))}}return f}(n,t,k))}return P}function ap(n,t,e){const a=n.pendingWriteTree_,c=n.syncPointTree_.findOnPath(t,(f,_)=>{const I=Qo(_,ci(f,t));if(I)return I});return vE(a,t,c,e,!0)}function no(n,t){return HE(t,n.syncPointTree_,null,Zy(n.pendingWriteTree_,Yt()))}function HE(n,t,e,r){if(It(n.path))return $E(n,t,e,r);{const a=t.get(Yt());null==e&&null!=a&&(e=Qo(a,Yt()));let c=[];const f=Mt(n.path),_=n.operationForChild(f),E=t.children.get(f);if(E&&_){const I=e?e.getImmediateChild(f):null,P=wE(r,f);c=c.concat(HE(_,E,I,P))}return a&&(c=c.concat(ip(a,n,r,e))),c}}function $E(n,t,e,r){const a=t.get(Yt());null==e&&null!=a&&(e=Qo(a,Yt()));let c=[];return t.children.inorderTraversal((f,_)=>{const E=e?e.getImmediateChild(f):null,I=wE(r,f),P=n.operationForChild(f);P&&(c=c.concat($E(P,_,E,I)))}),a&&(c=c.concat(ip(a,n,r,e))),c}function uv(n,t){const e=t.query,r=Cm(n,e);return{hashFn:()=>(function(n){return n.viewCache_.serverCache.getNode()}(t)||Ct.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return r?function(n,t,e){const r=GE(n,e);if(r){const a=cp(r),c=a.path,f=a.queryId,_=ci(c,t);return up(n,c,new lh(ac(f),_))}return[]}(n,e._path,r):function(n,t){return no(n,new lh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const c=function(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const r=new Error(n+" at "+t._path.toString()+": "+e);return r.code=n.toUpperCase(),r}(a,e);return cv(n,e,null,c)}}}}function Cm(n,t){const e=lp(t);return n.queryToTagMap.get(e)}function lp(n){return n._path.toString()+"$"+n._queryIdentifier}function GE(n,t){return n.tagToQueryMap.get(t)}function cp(n){const t=n.indexOf("$");return(0,B.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new jt(n.substr(0,t))}}function up(n,t,e){const r=n.syncPointTree_.get(t);return(0,B.hu)(r,"Missing sync point for query tag that we're tracking"),ip(r,e,Zy(n.pendingWriteTree_,t),null)}function dp(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new((0,B.hu)(op,"Reference.ts has not been loaded"),op)(n._repo,n._path):n}class Xi{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Xi(e)}node(){return this.node_}}class Em{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=hn(this.path_,t);return new Em(this.syncTree_,e)}node(){return ap(this.syncTree_,this.path_)}}const zE=function(n,t,e){return n&&"object"==typeof n?((0,B.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?KI(n[".sv"],t,e):"object"==typeof n[".sv"]?QI(n[".sv"],t):void(0,B.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},KI=function(n,t,e){switch(n){case"timestamp":return e.timestamp;default:(0,B.hu)(!1,"Unexpected server value: "+n)}},QI=function(n,t,e){n.hasOwnProperty("increment")||(0,B.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,B.hu)(!1,"Unexpected increment value: "+r);const a=t.node();if((0,B.hu)(null!=a,"Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return r;const f=a.getValue();return"number"!=typeof f?r:f+r},YE=function(n,t,e,r){return Su(t,new Em(e,n),r)},hp=function(n,t,e){return Su(n,new Xi(t),e)};function Su(n,t,e){const r=n.getPriority().val(),a=zE(r,t.getImmediateChild(".priority"),e);let c;if(n.isLeafNode()){const f=n,_=zE(f.getValue(),t,e);return _!==f.getValue()||a!==f.getPriority().val()?new rc(_,In(a)):n}{const f=n;return c=f,a!==f.getPriority().val()&&(c=c.updatePriority(new rc(a))),f.forEachChild(fn,(_,E)=>{const I=Su(E,t.getImmediateChild(_),e);I!==E&&(c=c.updateImmediateChild(_,I))}),c}}class dv{constructor(t="",e=null,r={children:{},childCount:0}){this.name=t,this.parent=e,this.node=r}}function fp(n,t){let e=t instanceof jt?t:new jt(t),r=n,a=Mt(e);for(;null!==a;){const c=(0,B.DV)(r.node.children,a)||{children:{},childCount:0};r=new dv(a,r,c),e=Zt(e),a=Mt(e)}return r}function Au(n){return n.node.value}function wm(n,t){n.node.value=t,gh(n)}function hv(n){return n.node.childCount>0}function Im(n,t){gr(n.node.children,(e,r)=>{t(new dv(e,n,r))})}function fv(n,t,e,r){e&&!r&&t(n),Im(n,a=>{fv(a,t,!0,r)}),e&&r&&t(n)}function Mu(n){return new jt(null===n.parent?n.name:Mu(n.parent)+"/"+n.name)}function gh(n){null!==n.parent&&function(n,t,e){const r=function(n){return void 0===Au(n)&&!hv(n)}(e),a=(0,B.r3)(n.node.children,t);r&&a?(delete n.node.children[t],n.node.childCount--,gh(n)):!r&&!a&&(n.node.children[t]=e.node,n.node.childCount++,gh(n))}(n.parent,n.name,n)}const KE=/[\[\].#$\/\u0000-\u001F\u007F]/,QE=/[\[\].#$\u0000-\u001F\u007F]/,Tm=10485760,pp=function(n){return"string"==typeof n&&0!==n.length&&!KE.test(n)},pv=function(n){return"string"==typeof n&&0!==n.length&&!QE.test(n)},mh=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Zd(n)||n&&"object"==typeof n&&(0,B.r3)(n,".sv")},ea=function(n,t,e,r){r&&void 0===t||gp((0,B.gK)(n,"value"),t,e)},gp=function(n,t,e){const r=e instanceof jt?new gI(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+tc(r));if("function"==typeof t)throw new Error(n+"contains a function "+tc(r)+" with contents = "+t.toString());if(Zd(t))throw new Error(n+"contains "+t.toString()+" "+tc(r));if("string"==typeof t&&t.length>Tm/3&&(0,B.ug)(t)>Tm)throw new Error(n+"contains a string greater than "+Tm+" utf8 bytes "+tc(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,c=!1;if(gr(t,(f,_)=>{if(".value"===f)a=!0;else if(".priority"!==f&&".sv"!==f&&(c=!0,!pp(f)))throw new Error(n+" contains an invalid key ("+f+") "+tc(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,B.ug)(t),_u(n)})(r,f),gp(n,_,r),function(n){const t=n.parts_.pop();n.byteLength_-=(0,B.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),a&&c)throw new Error(n+' contains ".value" child '+tc(r)+" in addition to actual children.")}},XE=function(n,t,e,r){if(r&&void 0===t)return;const a=(0,B.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const c=[];gr(t,(f,_)=>{const E=new jt(f);if(gp(a,_,hn(e,E)),".priority"===rm(E)&&!mh(_))throw new Error(a+"contains an invalid value for '"+E.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(E)}),function(n,t){let e,r;for(e=0;e<t.length;e++){r=t[e];const c=Za(r);for(let f=0;f<c.length;f++)if((".priority"!==c[f]||f!==c.length-1)&&!pp(c[f]))throw new Error(n+"contains an invalid key ("+c[f]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(ZC);let a=null;for(e=0;e<t.length;e++){if(r=t[e],null!==a&&Ii(a,r))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(a,c)},gv=function(n,t,e){if(!e||void 0!==t){if(Zd(t))throw new Error((0,B.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!mh(t))throw new Error((0,B.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},mp=function(n,t,e,r){if(!(r&&void 0===e||pp(e)))throw new Error((0,B.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},_p=function(n,t,e,r){if(!(r&&void 0===e||pv(e)))throw new Error((0,B.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Is=function(n,t){if(".info"===Mt(t))throw new Error(n+" failed = Can't modify data under /.info/")},ew=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!pp(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),pv(n)}(e))throw new Error((0,B.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class eT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Sm(n,t){let e=null;for(let r=0;r<t.length;r++){const a=t[r],c=a.getPath();null!==e&&!Fy(c,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:c}),e.events.push(a)}e&&n.eventLists_.push(e)}function mv(n,t,e){Sm(n,e),tw(n,r=>Fy(r,t))}function Ts(n,t,e){Sm(n,e),tw(n,r=>Ii(r,t)||Ii(t,r))}function tw(n,t){n.recursionDepth_++;let e=!0;for(let r=0;r<n.eventLists_.length;r++){const a=n.eventLists_[r];a&&(t(a.path)?(tT(n.eventLists_[r]),n.eventLists_[r]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function tT(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const r=e.getEventRunner();Yd&&Pr("event: "+e.toString()),ec(r)}}}const nw="repo_interrupt";class rw{constructor(t,e,r,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=r,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new eT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=or(),this.transactionQueueTree_=new dv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function _v(n){const e=n.infoData_.getNode(new jt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function _h(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:_v(n)})}function yv(n,t,e,r,a){n.dataUpdateCount++;const c=new jt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let f=[];if(a)if(r){const E=(0,B.UI)(e,I=>In(I));f=function(n,t,e,r){const a=GE(n,r);if(a){const c=cp(a),f=c.path,_=c.queryId,E=ci(f,t),I=ln.fromObject(e);return up(n,f,new wu(ac(_),E,I))}return[]}(n.serverSyncTree_,c,E,a)}else{const E=In(e);f=function(n,t,e,r){const a=GE(n,r);if(null!=a){const c=cp(a),f=c.path,_=c.queryId,E=ci(f,t);return up(n,f,new lc(ac(_),E,e))}return[]}(n.serverSyncTree_,c,E,a)}else if(r){const E=(0,B.UI)(e,I=>In(I));f=function(n,t,e){const r=ln.fromObject(e);return no(n,new wu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,c,E)}else{const E=In(e);f=ph(n.serverSyncTree_,c,E)}let _=c;f.length>0&&(_=Ja(n,c)),Ts(n.eventQueue_,_,f)}function vv(n,t){Am(n,"connected",t),!1===t&&function(n){Ke(n,"onDisconnectEvents");const t=_h(n),e=or();Si(n.onDisconnect_,Yt(),(a,c)=>{const f=YE(a,c,n.serverSyncTree_,t);Ds(e,a,f)});let r=[];Si(e,Yt(),(a,c)=>{r=r.concat(ph(n.serverSyncTree_,a,c));const f=Iv(n,a);Ja(n,f)}),n.onDisconnect_=or(),Ts(n.eventQueue_,Yt(),r)}(n)}function Am(n,t,e){const r=new jt("/.info/"+t),a=In(e);n.infoData_.updateSnapshot(r,a);const c=ph(n.infoSyncTree_,r,a);Ts(n.eventQueue_,r,c)}function yp(n){return n.nextWriteId_++}function vp(n,t,e,r,a){Ke(n,"set",{path:t.toString(),value:e,priority:r});const c=_h(n),f=In(e,r),_=ap(n.serverSyncTree_,t),E=hp(f,_,c),I=yp(n),P=LE(n.serverSyncTree_,t,E,I,!0);Sm(n.eventQueue_,P),n.server_.put(t.toString(),f.val(!0),(z,re)=>{const pe="ok"===z;pe||Di("set at "+t+" failed: "+z);const Me=cc(n.serverSyncTree_,I,!pe);Ts(n.eventQueue_,t,Me),uc(0,a,z,re)});const k=Iv(n,t);Ja(n,k),Ts(n.eventQueue_,k,[])}function iT(n,t,e){n.server_.onDisconnectCancel(t.toString(),(r,a)=>{"ok"===r&&rh(n.onDisconnect_,t),uc(0,e,r,a)})}function Ou(n,t,e,r){const a=In(e);n.server_.onDisconnectPut(t.toString(),a.val(!0),(c,f)=>{"ok"===c&&Ds(n.onDisconnect_,t,a),uc(0,r,c,f)})}function Mm(n,t,e){let r;r=".info"===Mt(t._path)?cv(n.infoSyncTree_,t,e):cv(n.serverSyncTree_,t,e),mv(n.eventQueue_,t._path,r)}function Ev(n){n.persistentConnection_&&n.persistentConnection_.interrupt(nw)}function Ke(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Pr(e,...t)}function uc(n,t,e,r){t&&ec(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let c=a;r&&(c+=": "+r);const f=new Error(c);f.code=a,t(f)}})}function wv(n,t,e){return ap(n.serverSyncTree_,t,e)||Ct.EMPTY_NODE}function Pu(n,t=n.transactionQueueTree_){if(t||yh(n,t),Au(t)){const e=aT(n,t);(0,B.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function(n,t,e){const r=e.map(I=>I.currentWriteId),a=wv(n,t,r);let c=a;const f=a.hash();for(let I=0;I<e.length;I++){const P=e[I];(0,B.hu)(0===P.status,"tryToSendTransactionQueue_: items in queue should all be run."),P.status=1,P.retryCount++;const k=ci(t,P.path);c=c.updateChild(k,P.currentOutputSnapshotRaw)}const _=c.val(!0),E=t;n.server_.put(E.toString(),_,I=>{Ke(n,"transaction put response",{path:E.toString(),status:I});let P=[];if("ok"===I){const k=[];for(let z=0;z<e.length;z++)e[z].status=2,P=P.concat(cc(n.serverSyncTree_,e[z].currentWriteId)),e[z].onComplete&&k.push(()=>e[z].onComplete(null,!0,e[z].currentOutputSnapshotResolved)),e[z].unwatcher();yh(n,fp(n.transactionQueueTree_,t)),Pu(n,n.transactionQueueTree_),Ts(n.eventQueue_,t,P);for(let z=0;z<k.length;z++)ec(k[z])}else{if("datastale"===I)for(let k=0;k<e.length;k++)e[k].status=3===e[k].status?4:0;else{Di("transaction at "+E.toString()+" failed: "+I);for(let k=0;k<e.length;k++)e[k].status=4,e[k].abortReason=I}Ja(n,t)}},f)}(n,Mu(t),e)}else hv(t)&&Im(t,e=>{Pu(n,e)})}function Ja(n,t){const e=Sn(n,t),r=Mu(e);return function(n,t,e){if(0===t.length)return;const r=[];let a=[];const f=t.filter(_=>0===_.status).map(_=>_.currentWriteId);for(let _=0;_<t.length;_++){const E=t[_],I=ci(e,E.path);let k,P=!1;if((0,B.hu)(null!==I,"rerunTransactionsUnderNode_: relativePath should not be null."),4===E.status)P=!0,k=E.abortReason,a=a.concat(cc(n.serverSyncTree_,E.currentWriteId,!0));else if(0===E.status)if(E.retryCount>=25)P=!0,k="maxretry",a=a.concat(cc(n.serverSyncTree_,E.currentWriteId,!0));else{const z=wv(n,E.path,f);E.currentInputSnapshot=z;const re=t[_].update(z.val());if(void 0!==re){gp("transaction failed: Data returned ",re,E.path);let pe=In(re);"object"==typeof re&&null!=re&&(0,B.r3)(re,".priority")||(pe=pe.updatePriority(z.getPriority()));const xe=E.currentWriteId,mt=_h(n),st=hp(pe,z,mt);E.currentOutputSnapshotRaw=pe,E.currentOutputSnapshotResolved=st,E.currentWriteId=yp(n),f.splice(f.indexOf(xe),1),a=a.concat(LE(n.serverSyncTree_,E.path,st,E.currentWriteId,E.applyLocally)),a=a.concat(cc(n.serverSyncTree_,xe,!0))}else P=!0,k="nodata",a=a.concat(cc(n.serverSyncTree_,E.currentWriteId,!0))}Ts(n.eventQueue_,e,a),a=[],P&&(t[_].status=2,setTimeout(t[_].unwatcher,Math.floor(0)),t[_].onComplete&&r.push("nodata"===k?()=>t[_].onComplete(null,!1,t[_].currentInputSnapshot):()=>t[_].onComplete(new Error(k),!1,null)))}yh(n,n.transactionQueueTree_);for(let _=0;_<r.length;_++)ec(r[_]);Pu(n,n.transactionQueueTree_)}(n,aT(n,e),r),r}function Sn(n,t){let e,r=n.transactionQueueTree_;for(e=Mt(t);null!==e&&void 0===Au(r);)r=fp(r,e),e=Mt(t=Zt(t));return r}function aT(n,t){const e=[];return Dv(n,t,e),e.sort((r,a)=>r.order-a.order),e}function Dv(n,t,e){const r=Au(t);if(r)for(let a=0;a<r.length;a++)e.push(r[a]);Im(t,a=>{Dv(n,a,e)})}function yh(n,t){const e=Au(t);if(e){let r=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[r]=e[a],r++);e.length=r,wm(t,e.length>0?e:void 0)}Im(t,r=>{yh(n,r)})}function Iv(n,t){const e=Mu(Sn(n,t)),r=fp(n.transactionQueueTree_,t);return function(n,t,e){let r=n.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,a=>{Om(n,a)}),Om(n,r),fv(r,a=>{Om(n,a)}),e}function Om(n,t){const e=Au(t);if(e){const r=[];let a=[],c=-1;for(let f=0;f<e.length;f++)3===e[f].status||(1===e[f].status?((0,B.hu)(c===f-1,"All SENT items should be at beginning of queue."),c=f,e[f].status=3,e[f].abortReason="set"):((0,B.hu)(0===e[f].status,"Unexpected transaction status in abort"),e[f].unwatcher(),a=a.concat(cc(n.serverSyncTree_,e[f].currentWriteId,!0)),e[f].onComplete&&r.push(e[f].onComplete.bind(null,new Error("set"),!1,null))));-1===c?wm(t,void 0):e.length=c+1,Ts(n.eventQueue_,Mu(t),a);for(let f=0;f<r.length;f++)ec(r[f])}}const Pm=function(n,t){const e=lT(n),r=e.namespace;return"firebase.com"===e.domain&&Wa(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==e.domain&&Wa("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Di("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Xg(e.host,e.secure,r,t,"ws"===e.scheme||"wss"===e.scheme,"",r!==e.subdomain),path:new jt(e.pathString)}},lT=function(n){let t="",e="",r="",a="",c="",f=!0,_="https",E=443;if("string"==typeof n){let I=n.indexOf("//");I>=0&&(_=n.substring(0,I-1),n=n.substring(I+2));let P=n.indexOf("/");-1===P&&(P=n.length);let k=n.indexOf("?");-1===k&&(k=n.length),t=n.substring(0,Math.min(P,k)),P<k&&(a=function(n){let t="";const e=n.split("/");for(let r=0;r<e.length;r++)if(e[r].length>0){let a=e[r];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch(c){}t+="/"+a}return t}(n.substring(P,k)));const z=function(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const r=e.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Di(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,k)));I=t.indexOf(":"),I>=0?(f="https"===_||"wss"===_,E=parseInt(t.substring(I+1),10)):I=t.length;const re=t.slice(0,I);if("localhost"===re.toLowerCase())e="localhost";else if(re.split(".").length<=2)e=re;else{const pe=t.indexOf(".");r=t.substring(0,pe).toLowerCase(),e=t.substring(pe+1),c=r}"ns"in z&&(c=z.ns)}return{host:t,port:E,domain:e,subdomain:r,secure:f,scheme:_,pathString:a,namespace:c}};class lw{constructor(t,e,r,a){this.eventType=t,this.eventRegistration=e,this.snapshot=r,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,B.Pz)(this.snapshot.exportVal())}}class cw{constructor(t,e,r){this.eventRegistration=t,this.error=e,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class vh{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,B.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class uw{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new B.BH;return iT(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Is("OnDisconnect.remove",this._path);const t=new B.BH;return Ou(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Is("OnDisconnect.set",this._path),ea("OnDisconnect.set",t,this._path,!1);const e=new B.BH;return Ou(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Is("OnDisconnect.setWithPriority",this._path),ea("OnDisconnect.setWithPriority",t,this._path,!1),gv("OnDisconnect.setWithPriority",e,!1);const r=new B.BH;return function(n,t,e,r,a){const c=In(e,r);n.server_.onDisconnectPut(t.toString(),c.val(!0),(f,_)=>{"ok"===f&&Ds(n.onDisconnect_,t,c),uc(0,a,f,_)})}(this._repo,this._path,t,e,r.wrapCallback(()=>{})),r.promise}update(t){Is("OnDisconnect.update",this._path),XE("OnDisconnect.update",t,this._path,!1);const e=new B.BH;return function(n,t,e,r){if((0,B.xb)(e))return Pr("onDisconnect().update() called with empty data.  Don't do anything."),void uc(0,r,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(a,c)=>{"ok"===a&&gr(e,(f,_)=>{const E=In(_);Ds(n.onDisconnect_,hn(t,f),E)}),uc(0,r,a,c)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Ai{constructor(t,e,r,a){this._repo=t,this._path=e,this._queryParams=r,this._orderByCalled=a}get key(){return It(this._path)?null:rm(this._path)}get ref(){return new es(this._repo,this._path)}get _queryIdentifier(){const t=um(this._queryParams),e=zo(t);return"{}"===e?"default":e}get _queryObject(){return um(this._queryParams)}isEqual(t){if(!((t=(0,B.m9)(t))instanceof Ai))return!1;const e=this._repo===t._repo,r=Fy(this._path,t._path);return e&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function xm(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function io(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===ws){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Wo)throw new Error(r);if("string"!=typeof t)throw new Error(a)}if(n.hasEnd()){if(n.getIndexEndName()!==Es)throw new Error(r);if("string"!=typeof e)throw new Error(a)}}else if(n.getIndex()===fn){if(null!=t&&!mh(t)||null!=e&&!mh(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,B.hu)(n.getIndex()instanceof om||n.getIndex()===Ki,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function bp(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class es extends Ai{constructor(t,e){super(t,e,new am,!1)}get parent(){const t=YC(this._path);return null===t?null:new es(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class dc{constructor(t,e,r){this._node=t,this.ref=e,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new jt(t),r=so(this.ref,t);return new dc(this._node.getChild(e),r,fn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,a)=>t(new dc(a,so(this.ref,r),fn)))}hasChild(t){const e=new jt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function dw(n,t){return(n=(0,B.m9)(n))._checkNotDeleted("ref"),void 0!==t?so(n._root,t):n._root}function bh(n,t){(n=(0,B.m9)(n))._checkNotDeleted("refFromURL");const e=Pm(t,n._repo.repoInfo_.nodeAdmin);ew("refFromURL",e);const r=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&Wa("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),dw(n,e.path.toString())}function so(n,t){return null===Mt((n=(0,B.m9)(n))._path)?((e=t)&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),_p("child","path",e,!1)):_p("child","path",t,!1),new es(n._repo,hn(n._path,t));var e}function km(n,t){n=(0,B.m9)(n),Is("set",n._path),ea("set",t,n._path,!1);const e=new B.BH;return vp(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function dT(n,t){XE("update",t,n._path,!1);const e=new B.BH;return function(n,t,e,r){Ke(n,"update",{path:t.toString(),value:e});let a=!0;const c=_h(n),f={};if(gr(e,(_,E)=>{a=!1,f[_]=YE(hn(t,_),In(E),n.serverSyncTree_,c)}),a)Pr("update() called with empty data.  Don't do anything."),uc(0,r,"ok",void 0);else{const _=yp(n),E=function(n,t,e,r){!function(n,t,e,r){(0,B.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:r,visible:!0}),n.visibleWrites=zy(n.visibleWrites,t,e),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r);const a=ln.fromObject(e);return no(n,new wu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}(n.serverSyncTree_,t,f,_);Sm(n.eventQueue_,E),n.server_.merge(t.toString(),e,(I,P)=>{const k="ok"===I;k||Di("update at "+t+" failed: "+I);const z=cc(n.serverSyncTree_,_,!k),re=z.length>0?Ja(n,t):t;Ts(n.eventQueue_,re,z),uc(0,r,I,P)}),gr(e,I=>{const P=Iv(n,hn(t,I));Ja(n,P)}),Ts(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function pw(n){return function(n,t){const e=function(n,t){const e=t._path;let r=null;n.syncPointTree_.foreachOnPath(e,(I,P)=>{const k=ci(I,e);r=r||Qo(P,k)});let a=n.syncPointTree_.get(e);a?r=r||Qo(a,Yt()):(a=new vm,n.syncPointTree_=n.syncPointTree_.set(e,a));const c=null!=r,f=c?new Ka(r,!0,!1):null;return function(n){return ep(n.viewCache_)}(sv(a,t,Zy(n.pendingWriteTree_,t._path),c?f.getNode():Ct.EMPTY_NODE,c))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(r=>{const a=In(r).withIndex(t._queryParams.getIndex()),c=ph(n.serverSyncTree_,t._path,a);return mv(n.eventQueue_,t._path,c),Promise.resolve(a)},r=>(Ke(n,"get for query "+(0,B.Pz)(t)+" failed: "+r),Promise.reject(new Error(r))))}((n=(0,B.m9)(n))._repo,n).then(t=>new dc(t,new es(n._repo,n._path),n._queryParams.getIndex()))}class Nm{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const r=e._queryParams.getIndex();return new lw("value",this,new dc(t.snapshotNode,new es(e._repo,e._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new cw(this,t,e):null}matches(t){return t instanceof Nm&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Fm{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new cw(this,t,e):null}createEvent(t,e){(0,B.hu)(null!=t.childName,"Child events should have a childName.");const r=so(new es(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new lw(t.type,this,new dc(t.snapshotNode,r,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Fm&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Lm(n,t,e,r,a){let c;if("object"==typeof r&&(c=void 0,a=r),"function"==typeof r&&(c=r),a&&a.onlyOnce){const E=e,I=(P,k)=>{Mm(n._repo,n,_),E(P,k)};I.userCallback=e.userCallback,I.context=e.context,e=I}const f=new vh(e,c||void 0),_="value"===t?new Nm(f):new Fm(t,f);return function(n,t,e){let r;r=".info"===Mt(t._path)?UE(n.infoSyncTree_,t,e):UE(n.serverSyncTree_,t,e),mv(n.eventQueue_,t._path,r)}(n._repo,n,_),()=>Mm(n._repo,n,_)}function gw(n,t,e,r){return Lm(n,"value",t,e,r)}function hT(n,t,e,r){return Lm(n,"child_added",t,e,r)}function fT(n,t,e,r){return Lm(n,"child_changed",t,e,r)}function Tv(n,t,e,r){return Lm(n,"child_moved",t,e,r)}function Cp(n,t,e,r){return Lm(n,"child_removed",t,e,r)}function mw(n,t,e){let r=null;const a=e?new vh(e):null;"value"===t?r=new Nm(a):t&&(r=new Fm(t,a)),Mm(n._repo,n,r)}class oo{}class Sv extends oo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ea("endAt",this._value,t._path,!0);const e=Qi(t._queryParams,this._value,this._key);if(bp(e),io(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ai(t._repo,t._path,e,t._orderByCalled)}}class pT extends oo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ea("endBefore",this._value,t._path,!1);const e=function(n,t,e){let r,a;return n.index_===ws?("string"==typeof t&&(t=aE(t)),a=Qi(n,t,e)):(r=null==e?Wo:aE(e),a=Qi(n,t,r)),a.endBeforeSet_=!0,a}(t._queryParams,this._value,this._key);if(bp(e),io(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ai(t._repo,t._path,e,t._orderByCalled)}}class _w extends oo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ea("startAt",this._value,t._path,!0);const e=ic(t._queryParams,this._value,this._key);if(bp(e),io(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ai(t._repo,t._path,e,t._orderByCalled)}}class _T extends oo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ea("startAfter",this._value,t._path,!1);const e=function(n,t,e){let r;if(n.index_===ws)"string"==typeof t&&(t=Hy(t)),r=ic(n,t,e);else{let a;a=null==e?Es:Hy(e),r=ic(n,t,a)}return r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(bp(e),io(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ai(t._repo,t._path,e,t._orderByCalled)}}class yT extends oo{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ai(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class Ch extends oo{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ai(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class vw extends oo{constructor(t){super(),this._path=t}_apply(t){xm(t,"orderByChild");const e=new jt(this._path);if(It(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new om(e),a=cm(t._queryParams,r);return io(a),new Ai(t._repo,t._path,a,!0)}}class bw extends oo{_apply(t){xm(t,"orderByKey");const e=cm(t._queryParams,ws);return io(e),new Ai(t._repo,t._path,e,!0)}}class Cw extends oo{_apply(t){xm(t,"orderByPriority");const e=cm(t._queryParams,fn);return io(e),new Ai(t._repo,t._path,e,!0)}}class Av extends oo{_apply(t){xm(t,"orderByValue");const e=cm(t._queryParams,Ki);return io(e),new Ai(t._repo,t._path,e,!0)}}class Ew extends oo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(ea("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Sv(this._value,this._key)._apply(new _w(this._value,this._key)._apply(t))}}function ao(n,...t){let e=(0,B.m9)(n);for(const r of t)e=r._apply(e);return e}(function(n){(0,B.hu)(!fh,"__referenceConstructor has already been defined"),fh=n})(es),function(n){(0,B.hu)(!op,"__referenceConstructor has already been defined"),op=n}(es);const Mv={};function Rv(n,t,e,r,a){let c=r||n.options.databaseURL;void 0===c&&(n.options.projectId||Wa("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Pr("Using default host for project ",n.options.projectId),c=`${n.options.projectId}-default-rtdb.firebaseio.com`);let E,I,f=Pm(c,a),_=f.repoInfo;"undefined"!=typeof process&&(I=process.env.FIREBASE_DATABASE_EMULATOR_HOST),I?(E=!0,c=`http://${I}?ns=${_.namespace}`,f=Pm(c,a),_=f.repoInfo):E=!f.repoInfo.secure;const P=a&&E?new Qd(Qd.OWNER):new rI(n.name,n.options,t);ew("Invalid Firebase Database URL",f),It(f.path)||Wa("Database URL must point to the root of a Firebase Database (not including a child path).");const k=function(n,t,e,r){let a=Mv[t.name];a||(a={},Mv[t.name]=a);let c=a[n.toURLString()];return c&&Wa("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new rw(n,false,e,r),a[n.toURLString()]=c,c}(_,n,P,new Kd(n.name,e));return new RT(k,n)}class RT{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(n,t,e){if(n.stats_=kC(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Ji(n.repoInfo_,(r,a,c,f)=>{yv(n,r,a,c,f)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>vv(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,B.Pz)(e)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new nc(n.repoInfo_,t,(r,a,c,f)=>{yv(n,r,a,c,f)},r=>{vv(n,r)},r=>{!function(n,t){gr(t,(e,r)=>{Am(n,e,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function(n,t){const e=n.toString();return wy[e]||(wy[e]=t()),wy[e]}(n.repoInfo_,()=>new ah(n.stats_,n.server_)),n.infoData_=new Kf,n.infoSyncTree_=new lv({startListening:(r,a,c,f)=>{let _=[];const E=n.infoData_.getNode(r._path);return E.isEmpty()||(_=ph(n.infoSyncTree_,r._path,E),setTimeout(()=>{f("ok")},0)),_},stopListening:()=>{}}),Am(n,"connected",!1),n.serverSyncTree_=new lv({startListening:(r,a,c,f)=>(n.server_.listen(r,c,a,(_,E)=>{const I=f(_,E);Ts(n.eventQueue_,r._path,I)}),[]),stopListening:(r,a)=>{n.server_.unlisten(r,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new es(this._repo,Yt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(n,t){const e=Mv[t];(!e||e[n.key]!==n)&&Wa(`Database ${t}(${n.repoInfo_}) has already been deleted.`),Ev(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Wa("Cannot call "+t+" on a deleted database.")}}function Dw(n,t){JD(n,t)}class FT{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}nc.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},nc.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},YD(Go.SDK_VERSION),(0,Go._registerComponent)(new Wd.wA("database",(t,{instanceIdentifier:e})=>Rv(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Go.registerVersion)(zD,"0.12.5",void 0),(0,Go.registerVersion)(zD,"0.12.5","esm2017");const Pv=new zd.Yd("@firebase/database-compat"),Mw=function(n){Pv.warn("FIREBASE WARNING: "+n)};class BT{constructor(t){this._delegate=t}cancel(t){(0,B.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,B.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),r=>t(r)),e}remove(t){(0,B.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,B.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),r=>t(r)),e}set(t,e){(0,B.Dv)("OnDisconnect.set",1,2,arguments.length),(0,B.Wj)("OnDisconnect.set","onComplete",e,!0);const r=this._delegate.set(t);return e&&r.then(()=>e(null),a=>e(a)),r}setWithPriority(t,e,r){(0,B.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,B.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const a=this._delegate.setWithPriority(t,e);return r&&a.then(()=>r(null),c=>r(c)),a}update(t,e){if((0,B.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let c=0;c<t.length;++c)a[""+c]=t[c];t=a,Mw("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,B.Wj)("OnDisconnect.update","onComplete",e,!0);const r=this._delegate.update(t);return e&&r.then(()=>e(null),a=>e(a)),r}}class Rw{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,B.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class hc{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,B.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,B.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,B.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,B.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,B.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),_p("DataSnapshot.child","path",t,!1),new hc(this._database,this._delegate.child(t))}hasChild(t){return(0,B.Dv)("DataSnapshot.hasChild",1,1,arguments.length),_p("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,B.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,B.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,B.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new hc(this._database,e)))}hasChildren(){return(0,B.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,B.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,B.Dv)("DataSnapshot.ref",0,0,arguments.length),new Mi(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class mr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,r,a){var c;(0,B.Dv)("Query.on",2,4,arguments.length),(0,B.Wj)("Query.on","callback",e,!1);const f=mr.getCancelAndContextArgs_("Query.on",r,a),_=(I,P)=>{e.call(f.context,new hc(this.database,I),P)};_.userCallback=e,_.context=f.context;const E=null===(c=f.cancel)||void 0===c?void 0:c.bind(f.context);switch(t){case"value":return gw(this._delegate,_,E),e;case"child_added":return hT(this._delegate,_,E),e;case"child_removed":return Cp(this._delegate,_,E),e;case"child_changed":return fT(this._delegate,_,E),e;case"child_moved":return Tv(this._delegate,_,E),e;default:throw new Error((0,B.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,r){if((0,B.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,B.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,B.Wj)("Query.off","callback",e,!0),(0,B.lb)("Query.off","context",r,!0),e){const a=()=>{};a.userCallback=e,a.context=r,mw(this._delegate,t,a)}else mw(this._delegate,t)}get(){return pw(this._delegate).then(t=>new hc(this.database,t))}once(t,e,r,a){(0,B.Dv)("Query.once",1,4,arguments.length),(0,B.Wj)("Query.once","callback",e,!0);const c=mr.getCancelAndContextArgs_("Query.once",r,a),f=new B.BH,_=(I,P)=>{const k=new hc(this.database,I);e&&e.call(c.context,k,P),f.resolve(k)};_.userCallback=e,_.context=c.context;const E=I=>{c.cancel&&c.cancel.call(c.context,I),f.reject(I)};switch(t){case"value":gw(this._delegate,_,E,{onlyOnce:!0});break;case"child_added":hT(this._delegate,_,E,{onlyOnce:!0});break;case"child_removed":Cp(this._delegate,_,E,{onlyOnce:!0});break;case"child_changed":fT(this._delegate,_,E,{onlyOnce:!0});break;case"child_moved":Tv(this._delegate,_,E,{onlyOnce:!0});break;default:throw new Error((0,B.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return f.promise}limitToFirst(t){return(0,B.Dv)("Query.limitToFirst",1,1,arguments.length),new mr(this.database,ao(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new yT(n)}(t)))}limitToLast(t){return(0,B.Dv)("Query.limitToLast",1,1,arguments.length),new mr(this.database,ao(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Ch(n)}(t)))}orderByChild(t){return(0,B.Dv)("Query.orderByChild",1,1,arguments.length),new mr(this.database,ao(this._delegate,function(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return _p("orderByChild","path",n,!1),new vw(n)}(t)))}orderByKey(){return(0,B.Dv)("Query.orderByKey",0,0,arguments.length),new mr(this.database,ao(this._delegate,new bw))}orderByPriority(){return(0,B.Dv)("Query.orderByPriority",0,0,arguments.length),new mr(this.database,ao(this._delegate,new Cw))}orderByValue(){return(0,B.Dv)("Query.orderByValue",0,0,arguments.length),new mr(this.database,ao(this._delegate,new Av))}startAt(t=null,e){return(0,B.Dv)("Query.startAt",0,2,arguments.length),new mr(this.database,ao(this._delegate,function(n=null,t){return mp("startAt","key",t,!0),new _w(n,t)}(t,e)))}startAfter(t=null,e){return(0,B.Dv)("Query.startAfter",0,2,arguments.length),new mr(this.database,ao(this._delegate,function(n,t){return mp("startAfter","key",t,!0),new _T(n,t)}(t,e)))}endAt(t=null,e){return(0,B.Dv)("Query.endAt",0,2,arguments.length),new mr(this.database,ao(this._delegate,function(n,t){return mp("endAt","key",t,!0),new Sv(n,t)}(t,e)))}endBefore(t=null,e){return(0,B.Dv)("Query.endBefore",0,2,arguments.length),new mr(this.database,ao(this._delegate,function(n,t){return mp("endBefore","key",t,!0),new pT(n,t)}(t,e)))}equalTo(t,e){return(0,B.Dv)("Query.equalTo",1,2,arguments.length),new mr(this.database,ao(this._delegate,function(n,t){return mp("equalTo","key",t,!0),new Ew(n,t)}(t,e)))}toString(){return(0,B.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,B.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,B.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof mr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,r){const a={cancel:void 0,context:void 0};if(e&&r)a.cancel=e,(0,B.Wj)(t,"cancel",a.cancel,!0),a.context=r,(0,B.lb)(t,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,B.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new Mi(this.database,new es(this._delegate._repo,this._delegate._path))}}class Mi extends mr{constructor(t,e){super(t,new Ai(e._repo,e._path,new am,!1)),this.database=t,this._delegate=e}getKey(){return(0,B.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,B.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Mi(this.database,so(this._delegate,t))}getParent(){(0,B.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Mi(this.database,t):null}getRoot(){return(0,B.Dv)("Reference.root",0,0,arguments.length),new Mi(this.database,this._delegate.root)}set(t,e){(0,B.Dv)("Reference.set",1,2,arguments.length),(0,B.Wj)("Reference.set","onComplete",e,!0);const r=km(this._delegate,t);return e&&r.then(()=>e(null),a=>e(a)),r}update(t,e){if((0,B.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let c=0;c<t.length;++c)a[""+c]=t[c];t=a,Mw("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Is("Reference.update",this._delegate._path),(0,B.Wj)("Reference.update","onComplete",e,!0);const r=dT(this._delegate,t);return e&&r.then(()=>e(null),a=>e(a)),r}setWithPriority(t,e,r){(0,B.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,B.Wj)("Reference.setWithPriority","onComplete",r,!0);const a=function(n,t,e){if(Is("setWithPriority",n._path),ea("setWithPriority",t,n._path,!1),gv("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new B.BH;return vp(n._repo,n._path,t,e,r.wrapCallback(()=>{})),r.promise}(this._delegate,t,e);return r&&a.then(()=>r(null),c=>r(c)),a}remove(t){(0,B.Dv)("Reference.remove",0,1,arguments.length),(0,B.Wj)("Reference.remove","onComplete",t,!0);const e=function(n){return Is("remove",n._path),km(n,null)}(this._delegate);return t&&e.then(()=>t(null),r=>t(r)),e}transaction(t,e,r){(0,B.Dv)("Reference.transaction",1,3,arguments.length),(0,B.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,B.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,r){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,B.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const a=function(n,t,e){var r;if(n=(0,B.m9)(n),Is("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const a=null===(r=null==e?void 0:e.applyLocally)||void 0===r||r,c=new B.BH,_=gw(n,()=>{});return function(n,t,e,r,a,c){Ke(n,"transaction on "+t);const f={path:t,update:e,onComplete:r,status:null,order:qD(),applyLocally:c,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},_=wv(n,t,void 0);f.currentInputSnapshot=_;const E=f.update(_.val());if(void 0===E)f.unwatcher(),f.currentOutputSnapshotRaw=null,f.currentOutputSnapshotResolved=null,f.onComplete&&f.onComplete(null,!1,f.currentInputSnapshot);else{gp("transaction failed: Data returned ",E,f.path),f.status=0;const I=fp(n.transactionQueueTree_,t),P=Au(I)||[];let k;P.push(f),wm(I,P),"object"==typeof E&&null!==E&&(0,B.r3)(E,".priority")?(k=(0,B.DV)(E,".priority"),(0,B.hu)(mh(k),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):k=(ap(n.serverSyncTree_,t)||Ct.EMPTY_NODE).getPriority().val();const z=_h(n),re=In(E,k),pe=hp(re,_,z);f.currentOutputSnapshotRaw=re,f.currentOutputSnapshotResolved=pe,f.currentWriteId=yp(n);const Me=LE(n.serverSyncTree_,t,pe,f.currentWriteId,f.applyLocally);Ts(n.eventQueue_,t,Me),Pu(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(E,I,P)=>{let k=null;E?c.reject(E):(k=new dc(P,new es(n._repo,n._path),fn),c.resolve(new FT(I,k)))},_,a),c.promise}(this._delegate,t,{applyLocally:r}).then(c=>new Rw(c.committed,new hc(this.database,c.snapshot)));return e&&a.then(c=>e(null,c.committed,c.snapshot),c=>e(c,!1,null)),a}setPriority(t,e){(0,B.Dv)("Reference.setPriority",1,2,arguments.length),(0,B.Wj)("Reference.setPriority","onComplete",e,!0);const r=function(n,t){n=(0,B.m9)(n),Is("setPriority",n._path),gv("setPriority",t,!1);const e=new B.BH;return vp(n._repo,hn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&r.then(()=>e(null),a=>e(a)),r}push(t,e){(0,B.Dv)("Reference.push",0,2,arguments.length),(0,B.Wj)("Reference.push","onComplete",e,!0);const r=function(n,t){n=(0,B.m9)(n),Is("push",n._path),ea("push",t,n._path,!0);const e=_v(n._repo),r=oE(e),a=so(n,r),c=so(n,r);let f;return f=null!=t?km(c,t).then(()=>c):Promise.resolve(c),a.then=f.then.bind(f),a.catch=f.then.bind(f,void 0),a}(this._delegate,t),a=r.then(f=>new Mi(this.database,f));e&&a.then(()=>e(null),f=>e(f));const c=new Mi(this.database,r);return c.then=a.then.bind(a),c.catch=a.catch.bind(a,void 0),c}onDisconnect(){return Is("Reference.onDisconnect",this._delegate._path),new BT(new uw(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Eh{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,r={}){!function(n,t,e,r={}){(n=(0,B.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Wa("Cannot call useEmulator() after instance has already been initialized.");const a=n._repoInternal;let c;if(a.repoInfo_.nodeAdmin)r.mockUserToken&&Wa('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Qd(Qd.OWNER);else if(r.mockUserToken){const f="string"==typeof r.mockUserToken?r.mockUserToken:(0,B.Sg)(r.mockUserToken,n.app.options.projectId);c=new Qd(f)}!function(n,t,e,r){n.repoInfo_=new Xg(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(a,t,e,c)}(this._delegate,t,e,r)}ref(t){if((0,B.Dv)("database.ref",0,1,arguments.length),t instanceof Mi){const e=bh(this._delegate,t.toString());return new Mi(this,e)}{const e=dw(this._delegate,t);return new Mi(this,e)}}refFromURL(t){(0,B.Dv)("database.refFromURL",1,1,arguments.length);const r=bh(this._delegate,t);return new Mi(this,r)}goOffline(){return(0,B.Dv)("database.goOffline",0,0,arguments.length),function(n){(n=(0,B.m9)(n))._checkNotDeleted("goOffline"),Ev(n._repo)}(this._delegate)}goOnline(){return(0,B.Dv)("database.goOnline",0,0,arguments.length),function(n){(n=(0,B.m9)(n))._checkNotDeleted("goOnline"),function(n){n.persistentConnection_&&n.persistentConnection_.resume(nw)}(n._repo)}(this._delegate)}}Eh.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:n=>function(n){return{".sv":{increment:n}}}(n)};var UT=Object.freeze({__proto__:null,initStandalone:function({app:n,url:t,version:e,customAuthImpl:r,namespace:a,nodeAdmin:c=!1}){YD(e);const f=new Wd.zt("auth-internal",new Wd.H0("database-standalone"));return f.setComponent(new Wd.wA("auth-internal",()=>r,"PRIVATE")),{instance:new Eh(Rv(n,f,void 0,t,c),n),namespace:a}}});const wh=Eh.ServerValue;!function(n){n.INTERNAL.registerComponent(new Wd.wA("database-compat",(t,{instanceIdentifier:e})=>{const r=t.getProvider("app-compat").getImmediate(),a=t.getProvider("database").getImmediate({identifier:e});return new Eh(a,r)},"PUBLIC").setServiceProps({Reference:Mi,Query:mr,Database:Eh,DataSnapshot:hc,enableLogging:Dw,INTERNAL:UT,ServerValue:wh}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.5")}(TC.Z);var xu=V(309),Bm=V(7771),jT=V(8858);class Dh extends lt.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new HT(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,r=e?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,c=r.length;let f;if(this.closed)throw new Gc.N;if(this.isStopped||this.hasError?f=Ci.w.EMPTY:(this.observers.push(t),f=new jT.W(this,t)),a&&t.add(t=new xu.ht(t,a)),e)for(let _=0;_<c&&!t.closed;_++)t.next(r[_]);else for(let _=0;_<c&&!t.closed;_++)t.next(r[_].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),f}_getNow(){return(this.scheduler||Bm.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,r=this._windowTime,a=this._events,c=a.length;let f=0;for(;f<c&&!(t-a[f].time<r);)f++;return c>e&&(f=Math.max(f,c-e)),f>0&&a.splice(0,f),a}}class HT{constructor(t,e){this.time=t,this.value=e}}function Ow(n,t,e){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:t,refCount:!1,scheduler:e},a=>a.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:r}){let a,f,c=0,_=!1,E=!1;return function(P){let k;c++,!a||_?(_=!1,a=new Dh(n,t,r),k=a.subscribe(this),f=P.subscribe({next(z){a.next(z)},error(z){_=!0,a.error(z)},complete(){E=!0,f=void 0,a.complete()}}),E&&(f=void 0)):k=a.subscribe(this),this.add(()=>{c--,k.unsubscribe(),k=void 0,f&&!E&&e&&0===c&&(f.unsubscribe(),f=void 0,a=void 0)})}}(r))}function lo(n,t){return t?xn(()=>n,t):xn(()=>n)}var Um=V(9673);V(2329);const Fv=new Map,kw={activated:!1,tokenObservers:[]},ZT={initialized:!1,enabled:!1};function _r(n){return Fv.get(n)||kw}function Ss(n,t){Fv.set(n,t)}function Nu(){return ZT}class KT{constructor(t,e,r,a,c){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=a,a>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,li.Z)(function*(){e.stop();try{e.pending=new B.BH,yield function(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new B.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ui=new B.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Fw(n){if(!_r(n).activated)throw ui.create("use-before-activation",{appName:n.name})}function Bv(n,t){return Uv.apply(this,arguments)}function Uv(){return(Uv=(0,li.Z)(function*({url:n,body:t},e){const r={"Content-Type":"application/json"},a=e.getImmediate({optional:!0});a&&(r["X-Firebase-Client"]=a.getPlatformInfoString());const c={method:"POST",body:JSON.stringify(t),headers:r};let f,_;try{f=yield fetch(n,c)}catch(k){throw ui.create("fetch-network-error",{originalErrorMessage:k.message})}if(200!==f.status)throw ui.create("fetch-status-error",{httpStatus:f.status});try{_=yield f.json()}catch(k){throw ui.create("fetch-parse-error",{originalErrorMessage:k.message})}const E=_.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw ui.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const I=1e3*Number(E[1]),P=Date.now();return{token:_.attestationToken,expireTimeMillis:P+I,issuedAtTimeMillis:P}})).apply(this,arguments)}function wp(n,t){const{projectId:e,appId:r,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${r}:exchangeDebugToken?key=${a}`,body:{debug_token:t}}}const Dp="firebase-app-check-store";let ta=null;function jv(){return ta||(ta=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=r=>{n(r.target.result)},e.onerror=r=>{var a;t(ui.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},e.onupgradeneeded=r=>{const a=r.target.result;switch(r.oldVersion){case 0:a.createObjectStore(Dp,{keyPath:"compositeKey"})}}}catch(e){t(ui.create("storage-open",{originalErrorMessage:e.message}))}}),ta)}function Hv(){return(Hv=(0,li.Z)(function*(n,t){const r=(yield jv()).transaction(Dp,"readwrite"),c=r.objectStore(Dp).put({compositeKey:n,value:t});return new Promise((f,_)=>{c.onsuccess=E=>{f()},r.onerror=E=>{var I;_(ui.create("storage-set",{originalErrorMessage:null===(I=E.target.error)||void 0===I?void 0:I.message}))}})})).apply(this,arguments)}const Th=new zd.Yd("@firebase/app-check");function Bw(n,t){return(0,B.hl)()?function(n,t){return function(n,t){return Hv.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Th.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function zv(){return Nu().enabled}function Tp(){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,li.Z)(function*(){const n=Nu();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Sp={error:"UNKNOWN_ERROR"};function en(n){return B.US.encodeString(JSON.stringify(n),!1)}function co(n){return fc.apply(this,arguments)}function fc(){return(fc=(0,li.Z)(function*(n,t=!1){const e=n.app;Fw(e);const r=_r(e);let c,a=r.token;if(!a){const E=yield r.cachedTokenPromise;E&&na(E)&&(a=E)}if(!t&&a&&na(a))return{token:a.token};let _,f=!1;if(zv()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Bv(wp(e,yield Tp()),n.platformLoggerProvider).then(I=>(r.exchangeTokenPromise=void 0,I)),f=!0);const E=yield r.exchangeTokenPromise;return yield Bw(e,E),Ss(e,Object.assign(Object.assign({},r),{token:E})),{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(E=>(r.exchangeTokenPromise=void 0,E)),f=!0),a=yield r.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?Th.warn(E.message):Th.error(E),c=E}return a?(_={token:a.token},Ss(e,Object.assign(Object.assign({},r),{token:a})),yield Bw(e,a)):_=IR(c),f&&Zm(e,_),_})).apply(this,arguments)}function jw(n,t){const e=_r(n),r=e.tokenObservers.filter(a=>a.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Ss(n,Object.assign(Object.assign({},e),{tokenObservers:r}))}function dt(n){const{app:t}=n,e=_r(t);let r=e.tokenRefresher;r||(r=function(n){const{app:t}=n;return new KT((0,li.Z)(function*(){let r;if(r=_r(t).token?yield co(n,!0):yield co(n),r.error)throw r.error}),()=>!0,()=>{const e=_r(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Ss(t,Object.assign(Object.assign({},e),{tokenRefresher:r}))),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function Zm(n,t){const e=_r(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch(a){}}function na(n){return n.expireTimeMillis-Date.now()>0}function IR(n){return{token:en(Sp),error:n}}class Hw{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=_r(this.app);for(const e of t)jw(this.app,e.next);return Promise.resolve()}}const Mp="app-check-internal";(0,Go._registerComponent)(new Wd.wA("app-check",n=>function(n,t){return new Hw(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Mp).initialize()})),(0,Go._registerComponent)(new Wd.wA(Mp,n=>function(n){return{getToken:t=>co(n,t),addTokenListener:t=>function(n,t,e,r){const{app:a}=n,c=_r(a),f={next:e,error:r,type:t};if(Ss(a,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,f]})),c.token&&na(c.token)){const _=c.token;Promise.resolve().then(()=>{e({token:_.token}),dt(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>dt(n))}(n,"INTERNAL",t),removeTokenListener:t=>jw(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Go.registerVersion)("@firebase/app-check","0.5.3");class Yw{constructor(){return(0,Yi.vb)("app-check")}}"undefined"!=typeof window&&window;var fS=V(7841);const qw=new d.OlP("angularfire2.auth.use-emulator"),Kw=new d.OlP("angularfire2.auth.settings"),Qw=new d.OlP("angularfire2.auth.tenant-id"),t_=new d.OlP("angularfire2.auth.langugage-code"),Jw=new d.OlP("angularfire2.auth.use-device-language"),Xw=new d.OlP("angularfire.auth.persistence"),Kv=(n,t,e,r,a,c,f,_)=>(0,Zi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=t.runOutsideAngular(()=>n.auth());if(e&&E.useEmulator(...e),r&&(E.tenantId=r),E.languageCode=a,c&&E.useDeviceLanguage(),f)for(const[I,P]of Object.entries(f))E.settings[I]=P;return _&&E.setPersistence(_),E},[e,r,a,c,f,_]);let n_=(()=>{class n{constructor(e,r,a,c,f,_,E,I,P,k,z,re){const pe=new lt.xQ,Me=(0,je.of)(void 0).pipe((0,xu.QV)(f.outsideAngular),xn(()=>c.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,8426)))),(0,bt.U)(()=>(0,Zi.on)(e,c,r)),(0,bt.U)(xe=>Kv(xe,c,_,I,P,k,E,z)),Ow({bufferSize:1,refCount:!1}));if(function(n){return"server"===n}(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,je.of)(null);else{Me.pipe(kn()).subscribe();const mt=Me.pipe(xn(_t=>_t.getRedirectResult().then(Nr=>Nr,()=>null)),Yi.iC,Ow({bufferSize:1,refCount:!1})),st=Me.pipe(xn(_t=>new an.y(Nr=>({unsubscribe:c.runOutsideAngular(()=>_t.onAuthStateChanged(zr=>Nr.next(zr),zr=>Nr.error(zr),()=>Nr.complete()))})))),kt=Me.pipe(xn(_t=>new an.y(Nr=>({unsubscribe:c.runOutsideAngular(()=>_t.onIdTokenChanged(zr=>Nr.next(zr),zr=>Nr.error(zr),()=>Nr.complete()))}))));this.authState=mt.pipe(lo(st),(0,Um.R)(f.outsideAngular),(0,xu.QV)(f.insideAngular)),this.user=mt.pipe(lo(kt),(0,Um.R)(f.outsideAngular),(0,xu.QV)(f.insideAngular)),this.idToken=this.user.pipe(xn(_t=>_t?(0,mn.D)(_t.getIdToken()):(0,je.of)(null))),this.idTokenResult=this.user.pipe(xn(_t=>_t?(0,mn.D)(_t.getIdTokenResult()):(0,je.of)(null))),this.credential=(0,Gg.T)(mt,pe,this.authState.pipe(Tr(_t=>!_t))).pipe((0,bt.U)(_t=>(null==_t?void 0:_t.user)?_t:null),(0,Um.R)(f.outsideAngular),(0,xu.QV)(f.insideAngular))}return(0,Zi.pX)(this,Me,c,{spy:{apply:(xe,mt,st)=>{(xe.startsWith("signIn")||xe.startsWith("createUser"))&&st.then(kt=>pe.next(kt))}}})}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(Zi.Dh),d.LFG(Zi.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Yi.HU),d.LFG(qw,8),d.LFG(Kw,8),d.LFG(Qw,8),d.LFG(t_,8),d.LFG(Jw,8),d.LFG(Xw,8),d.LFG(Yw,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function e0(n){return null==n}function t0(n){return"function"==typeof n.set}function n0(n,t){return t0(t)?t:n.ref(t)}function r0(n,t){if(function(n){return"string"==typeof n}(n))return t.stringCase();if(t0(n))return t.firebaseCase();if(function(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Pp(n,t,e="on",r=$g.z){return new an.y(a=>{let c=null;return c=n[e](t,(f,_)=>{r.schedule(()=>{a.next({snapshot:f,prevKey:_})}),"once"===e&&r.schedule(()=>a.complete())},f=>{r.schedule(()=>a.error(f))}),"on"===e?{unsubscribe(){null!=c&&n.off(t,c)}}:{unsubscribe(){}}}).pipe((0,bt.U)(a=>{const{snapshot:c,prevKey:f}=a;let _=null;return c.exists()&&(_=c.key),{type:t,payload:c,prevKey:f,key:_}}),(0,ht.B)())}function s0(n,t){const e=n.length;for(let r=0;r<e;r++)if(n[r].payload.key===t)return r;return-1}function o0(n,t){const{payload:e,prevKey:r,key:a}=t,c=s0(n,a),f=function(n,t){if(e0(t))return 0;{const e=s0(n,t);return-1===e?n.length:e+1}}(n,r);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let _=null;t.payload.forEach(E=>{const I={payload:E,type:"value",prevKey:_,key:E.key};return _=E.key,n=[...n,I],!1})}return n;case"child_added":if(c>-1){const _=n[c-1];(_&&_.key||null)!==r&&(n=n.filter(E=>E.payload.key!==e.key)).splice(f,0,t)}else{if(null==r)return[t,...n];(n=n.slice()).splice(f,0,t)}return n;case"child_removed":return n.filter(_=>_.payload.key!==e.key);case"child_changed":return n.map(_=>_.payload.key===a?t:_);case"child_moved":if(c>-1){const _=n.splice(c,1)[0];return(n=n.slice()).splice(f,0,_),n}return n;default:return n}}function Rh(n){return(e0(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function _S(n,t,e){return function(n,t,e){return Pp(n,"value","once",e).pipe(xn(r=>{const a=[(0,je.of)(r)];return t.forEach(c=>a.push(Pp(n,c,"on",e))),(0,Gg.T)(...a).pipe(Wc(o0,[]))}),Wg())}(n,t=Rh(t),e)}function Qv(n,t,e){const r=(t=Rh(t)).map(a=>Pp(n,a,"on",e));return(0,Gg.T)(...r)}function a0(n,t){return function(r,a){return r0(r,{stringCase:()=>n.child(r)[t](a),firebaseCase:()=>r[t](a),snapshotCase:()=>r.ref[t](a)})}}function CS(n){return function(e){return e?r0(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function c0(n,t){return function(){return Pp(n,"value","on",t)}}const kR=new d.OlP("angularfire2.realtimeDatabaseURL"),NR=new d.OlP("angularfire2.database.use-emulator");let Jv=(()=>{class n{constructor(e,r,a,c,f,_,E,I,P,k,z,re,pe,Me,xe){this.schedulers=_;const mt=E,st=(0,Zi.on)(e,f,r);I&&Kv(st,f,P,z,re,pe,k,Me),this.database=(0,Zi.cc)(`${st.name}.database.${a}`,"AngularFireDatabase",st.name,()=>{const kt=f.runOutsideAngular(()=>st.database(a||void 0));return mt&&kt.useEmulator(...mt),kt},[mt])}list(e,r){const a=this.schedulers.ngZone.runOutsideAngular(()=>n0(this.database,e));let c=a;return r&&(c=r(a)),function(n,t){const e=t.schedulers.outsideAngular,r=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:a0(r,"update"),set:a0(r,"set"),push:a=>r.push(a),remove:CS(r),snapshotChanges:a=>_S(n,a,e).pipe(Yi.iC),stateChanges:a=>Qv(n,a,e).pipe(Yi.iC),auditTrail:a=>function(n,t,e){return function(n,t,e){return function(n,t){return Pp(n,"value","on",t).pipe((0,bt.U)(e=>{let r;return e.payload.forEach(a=>(r=a.key,!1)),{data:e,lastKeyToLoad:r}}))}(n,e).pipe(function(...n){return t=>{let e;return"function"==typeof n[n.length-1]&&(e=n.pop()),t.lift(new IC(n,e))}}(t),(0,bt.U)(([a,c])=>{const f=a.lastKeyToLoad,_=c.map(E=>E.key);return{actions:c,lastKeyToLoad:f,loadedKeys:_}}),function(n){return t=>t.lift(new Ga(n))}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,bt.U)(a=>a.actions))}(n,Qv(n,t).pipe(Wc((a,c)=>[...a,c],[])),e)}(n,a,e).pipe(Yi.iC),valueChanges:(a,c)=>_S(n,a,e).pipe((0,bt.U)(_=>_.map(E=>c&&c.idField?Object.assign(Object.assign({},E.payload.val()),{[c.idField]:E.key}):E.payload.val())),Yi.iC)}}(c,this)}object(e){return function(n,t){return{query:n,snapshotChanges:()=>c0(n,t.schedulers.outsideAngular)().pipe(Yi.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>c0(n,t.schedulers.outsideAngular)().pipe(Yi.iC,(0,bt.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>n0(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(Zi.Dh),d.LFG(Zi.xv,8),d.LFG(kR,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Yi.HU),d.LFG(NR,8),d.LFG(n_,8),d.LFG(qw,8),d.LFG(Kw,8),d.LFG(Qw,8),d.LFG(t_,8),d.LFG(Jw,8),d.LFG(Xw,8),d.LFG(Yw,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Xv=(()=>{class n{constructor(){fS.Z.registerVersion("angularfire",Yi.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Jv]}),n})();function Rs(n){return null!=n&&"false"!=`${n}`}function r_(n){return Array.isArray(n)?n:[n]}function Kn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Vu(n){return n instanceof d.SBq?n.nativeElement:n}var eb=V(9105);function gc(n,t,e,r){return(0,eb.m)(e)&&(r=e,e=void 0),r?gc(n,t,e).pipe((0,bt.U)(a=>(0,Oa.k)(a)?r(...a):r(a))):new an.y(a=>{kr(n,t,function(f){a.next(arguments.length>1?Array.prototype.slice.call(arguments):f)},a,e)})}function kr(n,t,e,r,a){let c;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const f=n;n.addEventListener(t,e,a),c=()=>f.removeEventListener(t,e,a)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const f=n;n.on(t,e),c=()=>f.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const f=n;n.addListener(t,e),c=()=>f.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let f=0,_=n.length;f<_;f++)kr(n[f],t,e,r,a)}r.add(c)}var IS=V(6465),h0=V(6102);new class extends h0.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let r,a=-1,c=e.length;t=t||e.shift();do{if(r=t.execute(t.state,t.delay))break}while(++a<c&&(t=e.shift()));if(this.active=!1,r){for(;++a<c&&(t=e.shift());)t.unsubscribe();throw r}}}(class extends IS.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(t,e,r);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});V(4581);class VR{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new MS(t,this.durationSelector))}}class MS extends Gr.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:a}=this;e=a(t)}catch(a){return this.destination.error(a)}const r=(0,Gr.ft)(e,new Gr.IY(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:r}=this;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var p0=V(6561);function BR(n){const{index:t,period:e,subscriber:r}=n;if(r.next(t),!r.closed){if(-1===e)return r.complete();n.index=t+1,this.schedule(n,e)}}function i_(n,t=$g.P){return function(n){return function(e){return e.lift(new VR(n))}}(()=>function(n=0,t,e){let r=-1;return(0,p0.k)(t)?r=Number(t)<1?1:Number(t):(0,Bi.K)(t)&&(e=t),(0,Bi.K)(e)||(e=$g.P),new an.y(a=>{const c=(0,p0.k)(n)?n:+n-e.now();return e.schedule(BR,c,{index:0,period:r,subscriber:a})})}(n,t))}function Bu(n){return t=>t.lift(new UR(n))}class UR{constructor(t){this.notifier=t}call(t,e){const r=new g0(t),a=(0,Gr.ft)(this.notifier,new Gr.IY(r));return a&&!r.seenValue?(r.add(a),e.subscribe(r)):r}}class g0 extends Gr.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let s_;try{s_="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){s_=!1}let Np,_c,a_,Mn=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(n){return"browser"===n}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!s_)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(d.Lbi))},token:n,providedIn:"root"}),n})(),o_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function ib(n){return function(){if(null==Np&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Np=!0}))}finally{Np=Np||!1}return Np}()?n:!!n.capture}function sb(){if(null==_c){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return _c=!1,_c;if("scrollBehavior"in document.documentElement.style)_c=!0;else{const n=Element.prototype.scrollTo;_c=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return _c}function l_(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Uu(n){return n.composedPath?n.composedPath()[0]:n.target}function ob(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const y0=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,d.f3M)(oe)}});let ju=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new d.vpe,e){const a=e.documentElement?e.documentElement.dir:null,c=(e.body?e.body.dir:null)||a;this.value="ltr"===c||"rtl"===c?c:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(y0,8))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(y0,8))},token:n,providedIn:"root"}),n})(),Xa=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),f_=(()=>{class n{constructor(e,r,a){this._ngZone=e,this._platform=r,this._scrolled=new lt.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=a}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new an.y(r=>{this._globalSubscription||this._addGlobalListener();const a=e>0?this._scrolled.pipe(i_(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,je.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const a=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(Tr(c=>!c||a.indexOf(c)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((a,c)=>{this._scrollableContainsElement(c,e)&&r.push(c)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let a=Vu(r),c=e.getElementRef().nativeElement;do{if(a==c)return!0}while(a=a.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>gc(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(d.R0b),d.LFG(Mn),d.LFG(oe,8))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(d.R0b),d.LFG(Mn),d.LFG(oe,8))},token:n,providedIn:"root"}),n})(),kh=(()=>{class n{constructor(e,r,a){this._platform=e,this._change=new lt.xQ,this._changeListener=c=>{this._change.next(c)},this._document=a,r.runOutsideAngular(()=>{if(e.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:a}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+a,right:e.left+r,height:a,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),a=e.documentElement,c=a.getBoundingClientRect();return{top:-c.top||e.body.scrollTop||r.scrollY||a.scrollTop||0,left:-c.left||e.body.scrollLeft||r.scrollX||a.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(i_(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(Mn),d.LFG(d.R0b),d.LFG(oe,8))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(Mn),d.LFG(d.R0b),d.LFG(oe,8))},token:n,providedIn:"root"}),n})(),hb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),D0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Xa,o_,hb],Xa,hb]}),n})();class fb{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class p_ extends fb{constructor(t,e,r,a){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=a}}class el extends fb{constructor(t,e,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class US extends fb{constructor(t){super(),this.element=t instanceof d.SBq?t.nativeElement:t}}class Nh{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof p_?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof el?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof US?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class I0 extends Nh{constructor(t,e,r,a,c){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=a,this.attachDomPortal=f=>{const _=f.element,E=this._document.createComment("dom-portal");_.parentNode.insertBefore(E,_),this.outletElement.appendChild(_),this._attachedPortal=f,super.setDisposeFn(()=>{E.parentNode&&E.parentNode.replaceChild(_,E)})},this._document=c}attachComponentPortal(t){const r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let a;return t.viewContainerRef?(a=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>a.destroy())):(a=r.create(t.injector||this._defaultInjector),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.detachView(a.hostView),a.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(a)),this._attachedPortal=t,a}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context);return r.rootNodes.forEach(a=>this.outletElement.appendChild(a)),r.detectChanges(),this.setDisposeFn(()=>{let a=e.indexOf(r);-1!==a&&e.remove(a)}),this._attachedPortal=t,r}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Hu=(()=>{class n extends Nh{constructor(e,r,a){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new d.vpe,this.attachDomPortal=c=>{const f=c.element,_=this._document.createComment("dom-portal");c.setAttachedHost(this),f.parentNode.insertBefore(_,f),this._getRootNode().appendChild(f),this._attachedPortal=c,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=a}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,c=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),f=r.createComponent(c,r.length,e.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(f.hostView.rootNodes[0]),super.setDisposeFn(()=>f.destroy()),this._attachedPortal=e,this._attachedRef=f,this.attached.emit(f),f}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d._Vd),d.Y36(d.s_b),d.Y36(oe))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[d.qOj]}),n})(),Fh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const _A=sb();class yA{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Kn(-this._previousScrollPosition.left),t.style.top=Kn(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,a=this._document.body.style,c=r.scrollBehavior||"",f=a.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),_A&&(r.scrollBehavior=a.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),_A&&(r.scrollBehavior=c,a.scrollBehavior=f)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class vA{constructor(t,e,r,a){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=a,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class bA{enable(){}disable(){}attach(){}}function Eb(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function wb(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class CA{constructor(t,e,r,a){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=a,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:a}=this._viewportRuler.getViewportSize();Eb(e,[{width:r,height:a,bottom:a,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let EA=(()=>{class n{constructor(e,r,a,c){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=a,this.noop=()=>new bA,this.close=f=>new vA(this._scrollDispatcher,this._ngZone,this._viewportRuler,f),this.block=()=>new yA(this._viewportRuler,this._document),this.reposition=f=>new CA(this._scrollDispatcher,this._viewportRuler,this._ngZone,f),this._document=c}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(f_),d.LFG(kh),d.LFG(d.R0b),d.LFG(oe))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(f_),d.LFG(kh),d.LFG(d.R0b),d.LFG(oe))},token:n,providedIn:"root"}),n})();class Vp{constructor(t){if(this.scrollStrategy=new bA,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const r of e)void 0!==t[r]&&(this[r]=t[r])}}}class wA{constructor(t,e,r,a,c){this.offsetX=r,this.offsetY=a,this.panelClass=c,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class L0{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let V0=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(oe))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(oe))},token:n,providedIn:"root"}),n})(),B0=(()=>{class n extends V0{constructor(e){super(e),this._keydownListener=r=>{const a=this._attachedOverlays;for(let c=a.length-1;c>-1;c--)if(a[c]._keydownEvents.observers.length>0){a[c]._keydownEvents.next(r);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(oe))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(oe))},token:n,providedIn:"root"}),n})(),Bp=(()=>{class n extends V0{constructor(e,r){super(e),this._platform=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=Uu(a)},this._clickListener=a=>{const c=Uu(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let E=_.length-1;E>-1;E--){const I=_[E];if(!(I._outsidePointerEvents.observers.length<1)&&I.hasAttached()){if(I.overlayElement.contains(c)||I.overlayElement.contains(f))break;I._outsidePointerEvents.next(a)}}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(oe),d.LFG(Mn))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(oe),d.LFG(Mn))},token:n,providedIn:"root"}),n})(),$u=(()=>{class n{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||ob()){const a=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let c=0;c<a.length;c++)a[c].parentNode.removeChild(a[c])}const r=this._document.createElement("div");r.classList.add(e),ob()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(oe),d.LFG(Mn))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(oe),d.LFG(Mn))},token:n,providedIn:"root"}),n})();class U0{constructor(t,e,r,a,c,f,_,E,I){this._portalOutlet=t,this._host=e,this._pane=r,this._config=a,this._ngZone=c,this._keyboardDispatcher=f,this._document=_,this._location=E,this._outsideClickDispatcher=I,this._backdropElement=null,this._backdropClick=new lt.xQ,this._attachments=new lt.xQ,this._detachments=new lt.xQ,this._locationChanges=Ci.w.EMPTY,this._backdropClickHandler=P=>this._backdropClick.next(P),this._keydownEvents=new lt.xQ,this._outsidePointerEvents=new lt.xQ,a.scrollStrategy&&(this._scrollStrategy=a.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=a.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Hi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Kn(this._config.width),t.height=Kn(this._config.height),t.minWidth=Kn(this._config.minWidth),t.minHeight=Kn(this._config.minHeight),t.maxWidth=Kn(this._config.maxWidth),t.maxHeight=Kn(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const r=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",r),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",r)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(t,e,r){const a=t.classList;r_(e).forEach(c=>{c&&(r?a.add(c):a.remove(c))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Bu((0,Gg.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.parentNode&&t.parentNode.removeChild(t),this._backdropElement===t&&(this._backdropElement=null))}}const j0="cdk-overlay-connected-position-bounding-box",IA=/([A-Za-z%]+)$/;class TA{constructor(t,e,r,a,c){this._viewportRuler=e,this._document=r,this._platform=a,this._overlayContainer=c,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new lt.xQ,this._resizeSubscription=Ci.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(j0),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,r=this._viewportRect,a=[];let c;for(let f of this._preferredPositions){let _=this._getOriginPoint(t,f),E=this._getOverlayPoint(_,e,f),I=this._getOverlayFit(E,e,r,f);if(I.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(I,E,r)?a.push({position:f,origin:_,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!c||c.overlayFit.visibleArea<I.visibleArea)&&(c={overlayFit:I,overlayPoint:E,originPoint:_,position:f,overlayRect:e})}if(a.length){let f=null,_=-1;for(const E of a){const I=E.boundingBoxRect.width*E.boundingBoxRect.height*(E.position.weight||1);I>_&&(_=I,f=E)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Lh(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(j0),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let r,a;if("center"==e.originX)r=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,f=this._isRtl()?t.left:t.right;r="start"==e.originX?c:f}return a="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:r,y:a}}_getOverlayPoint(t,e,r){let a,c;return a="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,c="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:t.x+a,y:t.y+c}}_getOverlayFit(t,e,r,a){const c=Db(e);let{x:f,y:_}=t,E=this._getOffset(a,"x"),I=this._getOffset(a,"y");E&&(f+=E),I&&(_+=I);let z=0-_,re=_+c.height-r.height,pe=this._subtractOverflows(c.width,0-f,f+c.width-r.width),Me=this._subtractOverflows(c.height,z,re),xe=pe*Me;return{visibleArea:xe,isCompletelyWithinViewport:c.width*c.height===xe,fitsInViewportVertically:Me===c.height,fitsInViewportHorizontally:pe==c.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){const a=r.bottom-e.y,c=r.right-e.x,f=SA(this._overlayRef.getConfig().minHeight),_=SA(this._overlayRef.getConfig().minWidth),I=t.fitsInViewportHorizontally||null!=_&&_<=c;return(t.fitsInViewportVertically||null!=f&&f<=a)&&I}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const a=Db(e),c=this._viewportRect,f=Math.max(t.x+a.width-c.width,0),_=Math.max(t.y+a.height-c.height,0),E=Math.max(c.top-r.top-t.y,0),I=Math.max(c.left-r.left-t.x,0);let P=0,k=0;return P=a.width<=c.width?I||-f:t.x<this._viewportMargin?c.left-r.left-t.x:0,k=a.height<=c.height?E||-_:t.y<this._viewportMargin?c.top-r.top-t.y:0,this._previousPushAmount={x:P,y:k},{x:t.x+P,y:t.y+k}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const r=this._getScrollVisibility(),a=new L0(t,r);this._positionChanges.next(a)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,a=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let c=0;c<e.length;c++)e[c].style.transformOrigin=`${r} ${a}`}_calculateBoundingBoxRect(t,e){const r=this._viewportRect,a=this._isRtl();let c,f,_,P,k,z;if("top"===e.overlayY)f=t.y,c=r.height-f+this._viewportMargin;else if("bottom"===e.overlayY)_=r.height-t.y+2*this._viewportMargin,c=r.height-_+this._viewportMargin;else{const re=Math.min(r.bottom-t.y+r.top,t.y),pe=this._lastBoundingBoxSize.height;c=2*re,f=t.y-re,c>pe&&!this._isInitialRender&&!this._growAfterOpen&&(f=t.y-pe/2)}if("end"===e.overlayX&&!a||"start"===e.overlayX&&a)z=r.width-t.x+this._viewportMargin,P=t.x-this._viewportMargin;else if("start"===e.overlayX&&!a||"end"===e.overlayX&&a)k=t.x,P=r.right-t.x;else{const re=Math.min(r.right-t.x+r.left,t.x),pe=this._lastBoundingBoxSize.width;P=2*re,k=t.x-re,P>pe&&!this._isInitialRender&&!this._growAfterOpen&&(k=t.x-pe/2)}return{top:f,left:k,bottom:_,right:z,width:P,height:c}}_setBoundingBoxStyles(t,e){const r=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const a={};if(this._hasExactPosition())a.top=a.left="0",a.bottom=a.right=a.maxHeight=a.maxWidth="",a.width=a.height="100%";else{const c=this._overlayRef.getConfig().maxHeight,f=this._overlayRef.getConfig().maxWidth;a.height=Kn(r.height),a.top=Kn(r.top),a.bottom=Kn(r.bottom),a.width=Kn(r.width),a.left=Kn(r.left),a.right=Kn(r.right),a.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",a.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",c&&(a.maxHeight=Kn(c)),f&&(a.maxWidth=Kn(f))}this._lastBoundingBoxSize=r,Lh(this._boundingBox.style,a)}_resetBoundingBoxStyles(){Lh(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Lh(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const r={},a=this._hasExactPosition(),c=this._hasFlexibleDimensions,f=this._overlayRef.getConfig();if(a){const P=this._viewportRuler.getViewportScrollPosition();Lh(r,this._getExactOverlayY(e,t,P)),Lh(r,this._getExactOverlayX(e,t,P))}else r.position="static";let _="",E=this._getOffset(e,"x"),I=this._getOffset(e,"y");E&&(_+=`translateX(${E}px) `),I&&(_+=`translateY(${I}px)`),r.transform=_.trim(),f.maxHeight&&(a?r.maxHeight=Kn(f.maxHeight):c&&(r.maxHeight="")),f.maxWidth&&(a?r.maxWidth=Kn(f.maxWidth):c&&(r.maxWidth="")),Lh(this._pane.style,r)}_getExactOverlayY(t,e,r){let a={top:"",bottom:""},c=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,r));let f=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return c.y-=f,"bottom"===t.overlayY?a.bottom=this._document.documentElement.clientHeight-(c.y+this._overlayRect.height)+"px":a.top=Kn(c.y),a}_getExactOverlayX(t,e,r){let f,a={left:"",right:""},c=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,r)),f=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===f?a.right=this._document.documentElement.clientWidth-(c.x+this._overlayRect.width)+"px":a.left=Kn(c.x),a}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(a=>a.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:wb(t,r),isOriginOutsideView:Eb(t,r),isOverlayClipped:wb(e,r),isOverlayOutsideView:Eb(e,r)}}_subtractOverflows(t,...e){return e.reduce((r,a)=>r-Math.max(a,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&r_(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof d.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}}function Lh(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function SA(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(IA);return e&&"px"!==e?null:parseFloat(t)}return n||null}function Db(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}class H0{constructor(t,e,r,a,c,f,_){this._preferredPositions=[],this._positionStrategy=new TA(r,a,c,f,_).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,r,a){const c=new wA(t,e,r,a);return this._preferredPositions.push(c),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const $0="cdk-global-overlay-wrapper";class AA{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add($0),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:a,height:c,maxWidth:f,maxHeight:_}=r,E=!("100%"!==a&&"100vw"!==a||f&&"100%"!==f&&"100vw"!==f),I=!("100%"!==c&&"100vh"!==c||_&&"100%"!==_&&"100vh"!==_);t.position=this._cssPosition,t.marginLeft=E?"0":this._leftOffset,t.marginTop=I?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,E?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=I?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove($0),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let MA=(()=>{class n{constructor(e,r,a,c){this._viewportRuler=e,this._document=r,this._platform=a,this._overlayContainer=c}global(){return new AA}connectedTo(e,r,a){return new H0(r,a,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new TA(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(kh),d.LFG(oe),d.LFG(Mn),d.LFG($u))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(kh),d.LFG(oe),d.LFG(Mn),d.LFG($u))},token:n,providedIn:"root"}),n})(),RA=0,tl=(()=>{class n{constructor(e,r,a,c,f,_,E,I,P,k,z){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=a,this._positionBuilder=c,this._keyboardDispatcher=f,this._injector=_,this._ngZone=E,this._document=I,this._directionality=P,this._location=k,this._outsideClickDispatcher=z}create(e){const r=this._createHostElement(),a=this._createPaneElement(r),c=this._createPortalOutlet(a),f=new Vp(e);return f.direction=f.direction||this._directionality.value,new U0(c,r,a,f,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+RA++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(d.z2F)),new I0(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(EA),d.LFG($u),d.LFG(d._Vd),d.LFG(MA),d.LFG(B0),d.LFG(d.zs3),d.LFG(d.R0b),d.LFG(oe),d.LFG(ju),d.LFG(wt),d.LFG(Bp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const LO={provide:new d.OlP("cdk-connected-overlay-scroll-strategy"),deps:[tl],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let Ib=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[tl,LO],imports:[[Xa,Fh,D0],D0]}),n})();function W0(n){return t=>t.lift(new m_(n))}class m_{constructor(t){this.total=t}call(t,e){return e.subscribe(new xA(t,this.total))}}class xA extends Qt.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}class Y0{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Gu(t,this.dueTime,this.scheduler))}}class Gu extends Qt.L{constructor(t,e,r){super(t),this.dueTime=e,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Z0,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Z0(n){n.debouncedNext()}let Q0=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const r=function(n){try{return n.frameElement}catch(t){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(r&&(-1===X0(r)||!this.isVisible(r)))return!1;let a=e.nodeName.toLowerCase(),c=X0(e);return e.hasAttribute("contenteditable")?-1!==c:!("iframe"===a||"object"===a||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===a?!!e.hasAttribute("controls")&&-1!==c:"video"===a?-1!==c&&(null!==c||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,r){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||J0(n))}(e)&&!this.isDisabled(e)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(Mn))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(Mn))},token:n,providedIn:"root"}),n})();function J0(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function X0(n){if(!J0(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class HA{constructor(t,e,r,a,c=!1){this._element=t,this._checker=e,this._ngZone=r,this._document=a,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,c||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let r=0;r<e.length;r++)e[r].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[r]):e[r].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[r]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const r=this._getFirstTabbableElement(e);return null==r||r.focus(t),!!r}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let r=0;r<e.length;r++){let a=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(a)return a}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let r=e.length-1;r>=0;r--){let a=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(a)return a}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Hi(1)).subscribe(t)}}let eD=(()=>{class n{constructor(e,r,a){this._checker=e,this._ngZone=r,this._document=a}create(e,r=!1){return new HA(e,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(Q0),d.LFG(d.R0b),d.LFG(oe))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(Q0),d.LFG(d.R0b),d.LFG(oe))},token:n,providedIn:"root"}),n})();function YA(n){return 0===n.offsetX&&0===n.offsetY}function ZA(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}"undefined"!=typeof Element&&Element;const qA=new d.OlP("cdk-input-modality-detector-options"),Sb={ignoreKeys:[18,17,224,91,16]},Vh=ib({passive:!0,capture:!0});let nD=(()=>{class n{constructor(e,r,a,c){this._platform=e,this._mostRecentTarget=null,this._modality=new ir(null),this._lastTouchMs=0,this._onKeydown=f=>{var _,E;(null===(E=null===(_=this._options)||void 0===_?void 0:_.ignoreKeys)||void 0===E?void 0:E.some(I=>I===f.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Uu(f))},this._onMousedown=f=>{Date.now()-this._lastTouchMs<650||(this._modality.next(YA(f)?"keyboard":"mouse"),this._mostRecentTarget=Uu(f))},this._onTouchstart=f=>{ZA(f)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Uu(f))},this._options=Object.assign(Object.assign({},Sb),c),this.modalityDetected=this._modality.pipe(W0(1)),this.modalityChanged=this.modalityDetected.pipe(Wg()),e.isBrowser&&r.runOutsideAngular(()=>{a.addEventListener("keydown",this._onKeydown,Vh),a.addEventListener("mousedown",this._onMousedown,Vh),a.addEventListener("touchstart",this._onTouchstart,Vh)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Vh),document.removeEventListener("mousedown",this._onMousedown,Vh),document.removeEventListener("touchstart",this._onTouchstart,Vh))}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(Mn),d.LFG(d.R0b),d.LFG(oe),d.LFG(qA,8))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(Mn),d.LFG(d.R0b),d.LFG(oe),d.LFG(qA,8))},token:n,providedIn:"root"}),n})();const KA=new d.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),rD=new d.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Ab=(()=>{class n{constructor(e,r,a,c){this._ngZone=r,this._defaultOptions=c,this._document=a,this._liveElement=e||this._createLiveElement()}announce(e,...r){const a=this._defaultOptions;let c,f;return 1===r.length&&"number"==typeof r[0]?f=r[0]:[c,f]=r,this.clear(),clearTimeout(this._previousTimeout),c||(c=a&&a.politeness?a.politeness:"polite"),null==f&&a&&(f=a.duration),this._liveElement.setAttribute("aria-live",c),this._ngZone.runOutsideAngular(()=>new Promise(_=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,_(),"number"==typeof f&&(this._previousTimeout=setTimeout(()=>this.clear(),f))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const e="cdk-live-announcer-element",r=this._document.getElementsByClassName(e),a=this._document.createElement("div");for(let c=0;c<r.length;c++)r[c].parentNode.removeChild(r[c]);return a.classList.add(e),a.classList.add("cdk-visually-hidden"),a.setAttribute("aria-atomic","true"),a.setAttribute("aria-live","polite"),this._document.body.appendChild(a),a}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(KA,8),d.LFG(d.R0b),d.LFG(oe),d.LFG(rD,8))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(KA,8),d.LFG(d.R0b),d.LFG(oe),d.LFG(rD,8))},token:n,providedIn:"root"}),n})();const JA=new d.OlP("cdk-focus-monitor-default-options"),Hp=ib({passive:!0,capture:!0});let v_=(()=>{class n{constructor(e,r,a,c,f){this._ngZone=e,this._platform=r,this._inputModalityDetector=a,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new lt.xQ,this._rootNodeFocusAndBlurListener=_=>{const E=Uu(_),I="focus"===_.type?this._onFocus:this._onBlur;for(let P=E;P;P=P.parentElement)I.call(this,_,P)},this._document=c,this._detectionMode=(null==f?void 0:f.detectionMode)||0}monitor(e,r=!1){const a=Vu(e);if(!this._platform.isBrowser||1!==a.nodeType)return(0,je.of)(null);const c=function(n){if(function(){if(null==a_){const n="undefined"!=typeof document?document.head:null;a_=!(!n||!n.createShadowRoot&&!n.attachShadow)}return a_}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(a)||this._getDocument(),f=this._elementInfo.get(a);if(f)return r&&(f.checkChildren=!0),f.subject;const _={checkChildren:r,subject:new lt.xQ,rootNode:c};return this._elementInfo.set(a,_),this._registerGlobalListeners(_),_.subject}stopMonitoring(e){const r=Vu(e),a=this._elementInfo.get(r);a&&(a.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(a))}focusVia(e,r,a){const c=Vu(e);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([_,E])=>this._originChanged(_,r,E)):(this._setOrigin(r),"function"==typeof c.focus&&c.focus(a))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,r,a){a?e.classList.add(r):e.classList.remove(r)}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,r){this._toggleClass(e,"cdk-focused",!!r),this._toggleClass(e,"cdk-touch-focused","touch"===r),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===r),this._toggleClass(e,"cdk-mouse-focused","mouse"===r),this._toggleClass(e,"cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const a=this._elementInfo.get(r),c=Uu(e);!a||!a.checkChildren&&r!==c||this._originChanged(r,this._getFocusOrigin(c),a)}_onBlur(e,r){const a=this._elementInfo.get(r);!a||a.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(a.subject,null))}_emitOrigin(e,r){this._ngZone.run(()=>e.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,a=this._rootNodeFocusListenerCount.get(r)||0;a||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Hp),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Hp)}),this._rootNodeFocusListenerCount.set(r,a+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Bu(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const a=this._rootNodeFocusListenerCount.get(r);a>1?this._rootNodeFocusListenerCount.set(r,a-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Hp),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Hp),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,a){this._setClasses(e,r),this._emitOrigin(a.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((a,c)=>{(c===e||a.checkChildren&&c.contains(e))&&r.push([c,a])}),r}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(d.R0b),d.LFG(Mn),d.LFG(nD),d.LFG(oe,8),d.LFG(JA,8))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(d.R0b),d.LFG(Mn),d.LFG(nD),d.LFG(oe,8),d.LFG(JA,8))},token:n,providedIn:"root"}),n})();const Mb="cdk-high-contrast-black-on-white",Rb="cdk-high-contrast-white-on-black",$p="cdk-high-contrast-active";let b_=(()=>{class n{constructor(e,r){this._platform=e,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,a=r&&r.getComputedStyle?r.getComputedStyle(e):null,c=(a&&a.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),c){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove($p),e.remove(Mb),e.remove(Rb),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(e.add($p),e.add(Mb)):2===r&&(e.add($p),e.add(Rb))}}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(Mn),d.LFG(oe))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(Mn),d.LFG(oe))},token:n,providedIn:"root"}),n})();const Gp=new d.GfV("12.2.13");class Wp{}const oa="*";function oD(n,t){return{type:7,name:n,definitions:t,options:{}}}function C_(n,t=null){return{type:4,styles:t,timings:n}}function aD(n,t=null){return{type:2,steps:n,options:t}}function nl(n){return{type:6,styles:n,offset:null}}function E_(n,t,e){return{type:0,name:n,styles:t,options:e}}function w_(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function I_(n){Promise.resolve(null).then(n)}class Wu{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){I_(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class zp{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,a=0;const c=this.players.length;0==c?I_(()=>this._onFinish()):this.players.forEach(f=>{f.onDone(()=>{++e==c&&this._onFinish()}),f.onDestroy(()=>{++r==c&&this._onDestroy()}),f.onStart(()=>{++a==c&&this._onStart()})}),this.totalTime=this.players.reduce((f,_)=>Math.max(f,_.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const a=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(a)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function cD(){return"undefined"!=typeof window&&void 0!==window.document}function kb(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function yc(n){switch(n.length){case 0:return new Wu;case 1:return n[0];default:return new zp(n)}}function Nb(n,t,e,r,a={},c={}){const f=[],_=[];let E=-1,I=null;if(r.forEach(P=>{const k=P.offset,z=k==E,re=z&&I||{};Object.keys(P).forEach(pe=>{let Me=pe,xe=P[pe];if("offset"!==pe)switch(Me=t.normalizePropertyName(Me,f),xe){case"!":xe=a[pe];break;case oa:xe=c[pe];break;default:xe=t.normalizeStyleValue(pe,Me,xe,f)}re[Me]=xe}),z||_.push(re),I=re,E=k}),f.length){const P="\n - ";throw new Error(`Unable to animate due to the following errors:${P}${f.join(P)}`)}return _}function Fb(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&Lb(e,"start",n)));break;case"done":n.onDone(()=>r(e&&Lb(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&Lb(e,"destroy",n)))}}function Lb(n,t,e){const r=e.totalTime,c=Vb(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==r?n.totalTime:r,!!e.disabled),f=n._data;return null!=f&&(c._data=f),c}function Vb(n,t,e,r,a="",c=0,f){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:a,totalTime:c,disabled:!!f}}function Qn(n,t,e){let r;return n instanceof Map?(r=n.get(t),r||n.set(t,r=e)):(r=n[t],r||(r=n[t]=e)),r}function Bh(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let Yp=(n,t)=>!1,Bb=(n,t)=>!1,T_=(n,t,e)=>[];const Ub=kb();(Ub||"undefined"!=typeof Element)&&(Yp=cD()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),Bb=(()=>{if(Ub||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,r)=>t.apply(e,[r]):Bb}})(),T_=(n,t,e)=>{let r=[];if(e){const a=n.querySelectorAll(t);for(let c=0;c<a.length;c++)r.push(a[c])}else{const a=n.querySelector(t);a&&r.push(a)}return r});let zu=null,dD=!1;function jb(n){zu||(zu=("undefined"!=typeof document?document.body:null)||{},dD=!!zu.style&&"WebkitAppearance"in zu.style);let t=!0;return zu.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in zu.style,!t&&dD&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in zu.style)),t}const Yu=Bb,vc=Yp,Uh=T_;function Zu(n){const t={};return Object.keys(n).forEach(e=>{const r=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=n[e]}),t}let hD=(()=>{class n{validateStyleProperty(e){return jb(e)}matchesElement(e,r){return Yu(e,r)}containsElement(e,r){return vc(e,r)}query(e,r,a){return Uh(e,r,a)}computeStyle(e,r,a){return a||""}animate(e,r,a,c,f,_=[],E){return new Wu(a,c)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Hb=(()=>{class n{}return n.NOOP=new hD,n})();const S_="ng-enter",Zp="ng-leave",A_="ng-trigger",qp=".ng-trigger",bc="ng-animating",Kp=".ng-animating";function qu(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Gb(parseFloat(t[1]),t[2])}function Gb(n,t){switch(t){case"s":return 1e3*n;default:return n}}function Wb(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let a,c=0,f="";if("string"==typeof n){const _=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};a=Gb(parseFloat(_[1]),_[2]);const E=_[3];null!=E&&(c=Gb(parseFloat(E),_[4]));const I=_[5];I&&(f=I)}else a=n;if(!e){let _=!1,E=t.length;a<0&&(t.push("Duration values below 0 are not allowed for this animation step."),_=!0),c<0&&(t.push("Delay values below 0 are not allowed for this animation step."),_=!0),_&&t.splice(E,0,`The provided timing value "${n}" is invalid.`)}return{duration:a,delay:c,easing:f}}(n,t,e)}function Qp(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Cc(n,t,e={}){if(t)for(let r in n)e[r]=n[r];else Qp(n,e);return e}function gD(n,t,e){return e?t+":"+e+";":""}function iM(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=gD(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=gD(0,o(e),n.style[e]));n.setAttribute("style",t)}function il(n,t,e){n.style&&(Object.keys(t).forEach(r=>{const a=s(r);e&&!e.hasOwnProperty(r)&&(e[r]=n.style[a]),n.style[a]=t[r]}),kb()&&iM(n))}function jh(n,t){n.style&&(Object.keys(t).forEach(e=>{const r=s(e);n.style[r]=""}),kb()&&iM(n))}function M_(n){return Array.isArray(n)?1==n.length?n[0]:aD(n):n}const mD=new RegExp("{{\\s*(.+?)\\s*}}","g");function oM(n){let t=[];if("string"==typeof n){let e;for(;e=mD.exec(n);)t.push(e[1]);mD.lastIndex=0}return t}function zb(n,t,e){const r=n.toString(),a=r.replace(mD,(c,f)=>{let _=t[f];return t.hasOwnProperty(f)||(e.push(`Please provide a value for the animation param ${f}`),_=""),_.toString()});return a==r?n:a}function Yb(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const i=/-+([a-z0-9])/g;function s(n){return n.replace(i,(...t)=>t[1].toUpperCase())}function o(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function l(n,t){return 0===n||0===t}function u(n,t,e){const r=Object.keys(e);if(r.length&&t.length){let c=t[0],f=[];if(r.forEach(_=>{c.hasOwnProperty(_)||f.push(_),c[_]=e[_]}),f.length)for(var a=1;a<t.length;a++){let _=t[a];f.forEach(function(E){_[E]=m(n,E)})}}return t}function h(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function m(n,t){return window.getComputedStyle(n)[t]}const v="*";function C(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,t,e){if(":"==n[0]){const E=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof E)return void t.push(E);n=E}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const a=r[1],c=r[2],f=r[3];t.push($(a,f));"<"==c[0]&&!(a==v&&f==v)&&t.push($(f,a))}(r,e,t)):e.push(n),e}const x=new Set(["true","1"]),N=new Set(["false","0"]);function $(n,t){const e=x.has(n)||N.has(n),r=x.has(t)||N.has(t);return(a,c)=>{let f=n==v||n==a,_=t==v||t==c;return!f&&e&&"boolean"==typeof a&&(f=a?x.has(n):N.has(n)),!_&&r&&"boolean"==typeof c&&(_=c?x.has(t):N.has(t)),f&&_}}const K=":self",fe=new RegExp(`s*${K}s*,?`,"g");function ne(n,t,e){return new be(n).build(t,e)}class be{constructor(t){this._driver=t}build(t,e){const r=new xt(e);return this._resetContextStyleTimingState(r),h(this,M_(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,a=e.depCount=0;const c=[],f=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(_=>{if(this._resetContextStyleTimingState(e),0==_.type){const E=_,I=E.name;I.toString().split(/\s*,\s*/).forEach(P=>{E.name=P,c.push(this.visitState(E,e))}),E.name=I}else if(1==_.type){const E=this.visitTransition(_,e);r+=E.queryCount,a+=E.depCount,f.push(E)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:c,transitions:f,queryCount:r,depCount:a,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),a=t.options&&t.options.params||null;if(r.containsDynamicStyles){const c=new Set,f=a||{};if(r.styles.forEach(_=>{if(hi(_)){const E=_;Object.keys(E).forEach(I=>{oM(E[I]).forEach(P=>{f.hasOwnProperty(P)||c.add(P)})})}}),c.size){const _=Yb(c.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${_.join(", ")}`)}}return{type:0,name:t.name,style:r,options:a?{params:a}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=h(this,M_(t.animation),e);return{type:1,matchers:C(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Ps(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>h(this,r,e)),options:Ps(t.options)}}visitGroup(t,e){const r=e.currentTime;let a=0;const c=t.steps.map(f=>{e.currentTime=r;const _=h(this,f,e);return a=Math.max(a,e.currentTime),_});return e.currentTime=a,{type:3,steps:c,options:Ps(t.options)}}visitAnimate(t,e){const r=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return Ec(Wb(n,t).duration,0,"");const r=n;if(r.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=Ec(0,0,"");return c.dynamic=!0,c.strValue=r,c}return e=e||Wb(r,t),Ec(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let a,c=t.styles?t.styles:nl({});if(5==c.type)a=this.visitKeyframes(c,e);else{let f=t.styles,_=!1;if(!f){_=!0;const I={};r.easing&&(I.easing=r.easing),f=nl(I)}e.currentTime+=r.duration+r.delay;const E=this.visitStyle(f,e);E.isEmptyStep=_,a=E}return e.currentAnimateTimings=null,{type:4,timings:r,style:a,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[];Array.isArray(t.styles)?t.styles.forEach(f=>{"string"==typeof f?f==oa?r.push(f):e.errors.push(`The provided style string value ${f} is not allowed.`):r.push(f)}):r.push(t.styles);let a=!1,c=null;return r.forEach(f=>{if(hi(f)){const _=f,E=_.easing;if(E&&(c=E,delete _.easing),!a)for(let I in _)if(_[I].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:r,easing:c,offset:t.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let a=e.currentTime,c=e.currentTime;r&&c>0&&(c-=r.duration+r.delay),t.styles.forEach(f=>{"string"!=typeof f&&Object.keys(f).forEach(_=>{if(!this._driver.validateStyleProperty(_))return void e.errors.push(`The provided animation property "${_}" is not a supported CSS property for animations`);const E=e.collectedStyles[e.currentQuerySelector],I=E[_];let P=!0;I&&(c!=a&&c>=I.startTime&&a<=I.endTime&&(e.errors.push(`The CSS property "${_}" that exists between the times of "${I.startTime}ms" and "${I.endTime}ms" is also being animated in a parallel animation between the times of "${c}ms" and "${a}ms"`),P=!1),c=I.startTime),P&&(E[_]={startTime:c,endTime:a}),e.options&&function(n,t,e){const r=t.params||{},a=oM(n);a.length&&a.forEach(c=>{r.hasOwnProperty(c)||e.push(`Unable to resolve the local animation param ${c} in the given list of values`)})}(f[_],e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;let c=0;const f=[];let _=!1,E=!1,I=0;const P=t.steps.map(mt=>{const st=this._makeStyleAst(mt,e);let kt=null!=st.offset?st.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(hi(e)&&e.hasOwnProperty("offset")){const r=e;t=parseFloat(r.offset),delete r.offset}});else if(hi(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(st.styles),_t=0;return null!=kt&&(c++,_t=st.offset=kt),E=E||_t<0||_t>1,_=_||_t<I,I=_t,f.push(_t),st});E&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),_&&e.errors.push("Please ensure that all keyframe offsets are in order");const k=t.steps.length;let z=0;c>0&&c<k?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==c&&(z=1/(k-1));const re=k-1,pe=e.currentTime,Me=e.currentAnimateTimings,xe=Me.duration;return P.forEach((mt,st)=>{const kt=z>0?st==re?1:z*st:f[st],_t=kt*xe;e.currentTime=pe+Me.delay+_t,Me.duration=_t,this._validateStyleAst(mt,e),mt.offset=kt,r.styles.push(mt)}),r}visitReference(t,e){return{type:8,animation:h(this,M_(t.animation),e),options:Ps(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ps(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ps(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,a=t.options||{};e.queryCount++,e.currentQuery=t;const[c,f]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>e==K);return t&&(n=n.replace(fe,"")),[n=n.replace(/@\*/g,qp).replace(/@\w+/g,e=>qp+"-"+e.substr(1)).replace(/:animating/g,Kp),t]}(t.selector);e.currentQuerySelector=r.length?r+" "+c:c,Qn(e.collectedStyles,e.currentQuerySelector,{});const _=h(this,M_(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:c,limit:a.limit||0,optional:!!a.optional,includeSelf:f,animation:_,originalSelector:t.selector,options:Ps(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Wb(t.timings,e.errors,!0);return{type:12,animation:h(this,M_(t.animation),e),timings:r,options:null}}}class xt{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function hi(n){return!Array.isArray(n)&&"object"==typeof n}function Ps(n){return n?(n=Qp(n)).params&&(n.params=function(n){return n?Qp(n):null}(n.params)):n={},n}function Ec(n,t,e){return{duration:n,delay:t,easing:e}}function wc(n,t,e,r,a,c,f=null,_=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:a,delay:c,totalTime:a+c,easing:f,subTimeline:_}}class Hh{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Kb=new RegExp(":enter","g"),oN=new RegExp(":leave","g");function aM(n,t,e,r,a,c={},f={},_,E,I=[]){return(new aN).buildKeyframes(n,t,e,r,a,c,f,_,E,I)}class aN{buildKeyframes(t,e,r,a,c,f,_,E,I,P=[]){I=I||new Hh;const k=new lM(t,e,I,a,c,P,[]);k.options=E,k.currentTimeline.setStyles([f],null,k.errors,E),h(this,r,k);const z=k.timelines.filter(re=>re.containsAnimation());if(z.length&&Object.keys(_).length){const re=z[z.length-1];re.allowOnlyTimelineStyles()||re.setStyles([_],null,k.errors,E)}return z.length?z.map(re=>re.buildKeyframes()):[wc(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.consume(e.element);if(r){const a=e.createSubContext(t.options),c=e.currentTimeline.currentTime,f=this._visitSubInstructions(r,a,a.options);c!=f&&e.transformIntoNewTimeline(f)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,r){let c=e.currentTimeline.currentTime;const f=null!=r.duration?qu(r.duration):null,_=null!=r.delay?qu(r.delay):null;return 0!==f&&t.forEach(E=>{const I=e.appendInstructionToTimeline(E,f,_);c=Math.max(c,I.duration+I.delay)}),c}visitReference(t,e){e.updateOptions(t.options,!0),h(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let a=e;const c=t.options;if(c&&(c.params||c.delay)&&(a=e.createSubContext(c),a.transformIntoNewTimeline(),null!=c.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=_D);const f=qu(c.delay);a.delayNextStep(f)}t.steps.length&&(t.steps.forEach(f=>h(this,f,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>r&&a.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let a=e.currentTimeline.currentTime;const c=t.options&&t.options.delay?qu(t.options.delay):0;t.steps.forEach(f=>{const _=e.createSubContext(t.options);c&&_.delayNextStep(c),h(this,f,_),a=Math.max(a,_.currentTimeline.currentTime),r.push(_.currentTimeline)}),r.forEach(f=>e.currentTimeline.mergeTimelineCollectedStyles(f)),e.transformIntoNewTimeline(a),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return Wb(e.params?zb(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),a=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),a.snapshotCurrentStyles());const c=t.style;5==c.type?this.visitKeyframes(c,e):(e.incrementTime(r.duration),this.visitStyle(c,e),a.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,a=e.currentAnimateTimings;!a&&r.getCurrentStyleProperties().length&&r.forwardFrame();const c=a&&a.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(c):r.setStyles(t.styles,c,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,a=e.currentTimeline.duration,c=r.duration,_=e.createSubContext().currentTimeline;_.easing=r.easing,t.styles.forEach(E=>{_.forwardTime((E.offset||0)*c),_.setStyles(E.styles,E.easing,e.errors,e.options),_.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(_),e.transformIntoNewTimeline(a+c),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,a=t.options||{},c=a.delay?qu(a.delay):0;c&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=_D);let f=r;const _=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!a.optional,e.errors);e.currentQueryTotal=_.length;let E=null;_.forEach((I,P)=>{e.currentQueryIndex=P;const k=e.createSubContext(t.options,I);c&&k.delayNextStep(c),I===e.element&&(E=k.currentTimeline),h(this,t.animation,k),k.currentTimeline.applyStylesToKeyframe(),f=Math.max(f,k.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(f),E&&(e.currentTimeline.mergeTimelineCollectedStyles(E),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,a=e.currentTimeline,c=t.timings,f=Math.abs(c.duration),_=f*(e.currentQueryTotal-1);let E=f*e.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":E=_-E;break;case"full":E=r.currentStaggerTime}const P=e.currentTimeline;E&&P.delayNextStep(E);const k=P.currentTime;h(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=a.currentTime-k+(a.startTime-r.currentTimeline.startTime)}}const _D={};class lM{constructor(t,e,r,a,c,f,_,E){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=a,this._leaveClassName=c,this.errors=f,this.timelines=_,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_D,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=E||new yD(this._driver,e,0),_.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let a=this.options;null!=r.duration&&(a.duration=qu(r.duration)),null!=r.delay&&(a.delay=qu(r.delay));const c=r.params;if(c){let f=a.params;f||(f=this.options.params={}),Object.keys(c).forEach(_=>{(!e||!f.hasOwnProperty(_))&&(f[_]=zb(c[_],f,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(a=>{r[a]=e[a]})}}return t}createSubContext(t=null,e,r){const a=e||this.element,c=new lM(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,r||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(t),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(t){return this.previousNode=_D,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const a={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+t.delay,easing:""},c=new lN(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,a,t.stretchStartingKeyframe);return this.timelines.push(c),a}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,a,c,f){let _=[];if(a&&_.push(this.element),t.length>0){t=(t=t.replace(Kb,"."+this._enterClassName)).replace(oN,"."+this._leaveClassName);let I=this._driver.query(this.element,t,1!=r);0!==r&&(I=r<0?I.slice(I.length+r,I.length):I.slice(0,r)),_.push(...I)}return!c&&0==_.length&&f.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),_}}class yD{constructor(t,e,r,a){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new yD(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||oa,this._currentKeyframe[e]=oa}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,a){e&&(this._previousKeyframe.easing=e);const c=a&&a.params||{},f=function(n,t){const e={};let r;return n.forEach(a=>{"*"===a?(r=r||Object.keys(t),r.forEach(c=>{e[c]=oa})):Cc(a,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(f).forEach(_=>{const E=zb(f[_],c,r);this._pendingStyles[_]=E,this._localTimelineStyles.hasOwnProperty(_)||(this._backFill[_]=this._globalTimelineStyles.hasOwnProperty(_)?this._globalTimelineStyles[_]:oa),this._updateStyle(_,E)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(r=>{this._currentKeyframe[r]=t[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const r=this._styleSummary[e],a=t._styleSummary[e];(!r||a.time>r.time)&&this._updateStyle(e,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((_,E)=>{const I=Cc(_,!0);Object.keys(I).forEach(P=>{const k=I[P];"!"==k?t.add(P):k==oa&&e.add(P)}),r||(I.offset=E/this.duration),a.push(I)});const c=t.size?Yb(t.values()):[],f=e.size?Yb(e.values()):[];if(r){const _=a[0],E=Qp(_);_.offset=0,E.offset=1,a=[_,E]}return wc(this.element,a,c,f,this.duration,this.startTime,this.easing,!1)}}class lN extends yD{constructor(t,e,r,a,c,f,_=!1){super(t,e,f.delay),this.keyframes=r,this.preStyleProps=a,this.postStyleProps=c,this._stretchStartingKeyframe=_,this.timings={duration:f.duration,delay:f.delay,easing:f.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:a}=this.timings;if(this._stretchStartingKeyframe&&e){const c=[],f=r+e,_=e/f,E=Cc(t[0],!1);E.offset=0,c.push(E);const I=Cc(t[0],!1);I.offset=rP(_),c.push(I);const P=t.length-1;for(let k=1;k<=P;k++){let z=Cc(t[k],!1);z.offset=rP((e+z.offset*r)/f),c.push(z)}r=f,e=0,a="",t=c}return wc(this.element,t,this.preStyleProps,this.postStyleProps,r,e,a,!0)}}function rP(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class cM{}class uN extends cM{normalizePropertyName(t,e){return s(t)}normalizeStyleValue(t,e,r,a){let c="";const f=r.toString().trim();if(dN[e]&&0!==r&&"0"!==r)if("number"==typeof r)c="px";else{const _=r.match(/^[+-]?[\d\.]+([a-z]*)$/);_&&0==_[1].length&&a.push(`Please provide a CSS unit value for ${t}:${r}`)}return f+c}}const dN=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function iP(n,t,e,r,a,c,f,_,E,I,P,k,z){return{type:0,element:n,triggerName:t,isRemovalTransition:a,fromState:e,fromStyles:c,toState:r,toStyles:f,timelines:_,queriedElements:E,preStyleProps:I,postStyleProps:P,totalTime:k,errors:z}}const uM={};class sP{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,a){return function(n,t,e,r,a){return n.some(c=>c(t,e,r,a))}(this.ast.matchers,t,e,r,a)}buildStyles(t,e,r){const a=this._stateStyles["*"],c=this._stateStyles[t],f=a?a.buildStyles(e,r):{};return c?c.buildStyles(e,r):f}build(t,e,r,a,c,f,_,E,I,P){const k=[],z=this.ast.options&&this.ast.options.params||uM,pe=this.buildStyles(r,_&&_.params||uM,k),Me=E&&E.params||uM,xe=this.buildStyles(a,Me,k),mt=new Set,st=new Map,kt=new Map,_t="void"===a,Nr={params:Object.assign(Object.assign({},z),Me)},zr=P?[]:aM(t,e,this.ast.animation,c,f,pe,xe,Nr,I,k);let ns=0;if(zr.forEach(Qu=>{ns=Math.max(Qu.duration+Qu.delay,ns)}),k.length)return iP(e,this._triggerName,r,a,_t,pe,xe,[],[],st,kt,ns,k);zr.forEach(Qu=>{const Ju=Qu.element,sk=Qn(st,Ju,{});Qu.preStyleProps.forEach(tg=>sk[tg]=!0);const oC=Qn(kt,Ju,{});Qu.postStyleProps.forEach(tg=>oC[tg]=!0),Ju!==e&&mt.add(Ju)});const Ku=Yb(mt.values());return iP(e,this._triggerName,r,a,_t,pe,xe,zr,Ku,st,kt,ns)}}class pN{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r={},a=Qp(this.defaultParams);return Object.keys(t).forEach(c=>{const f=t[c];null!=f&&(a[c]=f)}),this.styles.styles.forEach(c=>{if("string"!=typeof c){const f=c;Object.keys(f).forEach(_=>{let E=f[_];E.length>1&&(E=zb(E,a,e));const I=this.normalizer.normalizePropertyName(_,e);E=this.normalizer.normalizeStyleValue(_,I,E,e),r[I]=E})}}),r}}class mN{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states={},e.states.forEach(a=>{this.states[a.name]=new pN(a.style,a.options&&a.options.params||{},r)}),oP(this.states,"true","1"),oP(this.states,"false","0"),e.transitions.forEach(a=>{this.transitionFactories.push(new sP(t,a,this.states))}),this.fallbackTransition=function(n,t,e){return new sP(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(f,_)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,a){return this.transitionFactories.find(f=>f.match(t,e,r,a))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function oP(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const yN=new Hh;class vN{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(t,e){const r=[],a=ne(this._driver,e,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[t]=a}_buildPlayer(t,e,r){const a=t.element,c=Nb(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(a,c,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const a=[],c=this._animations[t];let f;const _=new Map;if(c?(f=aM(this._driver,e,c,S_,Zp,{},{},r,yN,a),f.forEach(P=>{const k=Qn(_,P.element,{});P.postStyleProps.forEach(z=>k[z]=null)})):(a.push("The requested animation doesn't exist or has already been destroyed"),f=[]),a.length)throw new Error(`Unable to create the animation due to the following errors: ${a.join("\n")}`);_.forEach((P,k)=>{Object.keys(P).forEach(z=>{P[z]=this._driver.computeStyle(k,z,oa)})});const I=yc(f.map(P=>{const k=_.get(P.element);return this._buildPlayer(P,{},k)}));return this._playersById[t]=I,I.onDestroy(()=>this.destroy(t)),this.players.push(I),I}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,r,a){const c=Vb(e,"","","");return Fb(this._getPlayer(t),r,c,a),()=>{}}command(t,e,r,a){if("register"==r)return void this.register(t,a[0]);if("create"==r)return void this.create(t,e,a[0]||{});const c=this._getPlayer(t);switch(r){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(t)}}}const aP="ng-animate-queued",lP="ng-animate-disabled",cP=".ng-animate-disabled",wN=[],uP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},DN={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},aa="__ng_removed";class dM{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(r?t.value:t),r){const c=Qp(t);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(a=>{null==r[a]&&(r[a]=e[a])})}}}const Jb="void",hM=new dM(Jb);class IN{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,la(e,this._hostClassName)}listen(t,e,r,a){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${e}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${e}" is not supported!`);const c=Qn(this._elementListeners,t,[]),f={name:e,phase:r,callback:a};c.push(f);const _=Qn(this._engine.statesByElement,t,{});return _.hasOwnProperty(e)||(la(t,A_),la(t,A_+"-"+e),_[e]=hM),()=>{this._engine.afterFlush(()=>{const E=c.indexOf(f);E>=0&&c.splice(E,1),this._triggers[e]||delete _[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,r,a=!0){const c=this._getTrigger(e),f=new fM(this.id,e,t);let _=this._engine.statesByElement.get(t);_||(la(t,A_),la(t,A_+"-"+e),this._engine.statesByElement.set(t,_={}));let E=_[e];const I=new dM(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&E&&I.absorbOptions(E.options),_[e]=I,E||(E=hM),I.value!==Jb&&E.value===I.value){if(!function(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let a=0;a<e.length;a++){const c=e[a];if(!t.hasOwnProperty(c)||n[c]!==t[c])return!1}return!0}(E.params,I.params)){const Me=[],xe=c.matchStyles(E.value,E.params,Me),mt=c.matchStyles(I.value,I.params,Me);Me.length?this._engine.reportError(Me):this._engine.afterFlush(()=>{jh(t,xe),il(t,mt)})}return}const z=Qn(this._engine.playersByElement,t,[]);z.forEach(Me=>{Me.namespaceId==this.id&&Me.triggerName==e&&Me.queued&&Me.destroy()});let re=c.matchTransition(E.value,I.value,t,I.params),pe=!1;if(!re){if(!a)return;re=c.fallbackTransition,pe=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:re,fromState:E,toState:I,player:f,isFallbackTransition:pe}),pe||(la(t,aP),f.onStart(()=>{R_(t,aP)})),f.onDone(()=>{let Me=this.players.indexOf(f);Me>=0&&this.players.splice(Me,1);const xe=this._engine.playersByElement.get(t);if(xe){let mt=xe.indexOf(f);mt>=0&&xe.splice(mt,1)}}),this.players.push(f),z.push(f),f}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,r)=>{delete e[t]}),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(a=>a.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,qp,!0);r.forEach(a=>{if(a[aa])return;const c=this._engine.fetchNamespacesByElement(a);c.size?c.forEach(f=>f.triggerLeaveAnimation(a,e,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(t,e,r,a){const c=this._engine.statesByElement.get(t);if(c){const f=[];if(Object.keys(c).forEach(_=>{if(this._triggers[_]){const E=this.trigger(t,_,Jb,a);E&&f.push(E)}}),f.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),r&&yc(f).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const a=new Set;e.forEach(c=>{const f=c.name;if(a.has(f))return;a.add(f);const E=this._triggers[f].fallbackTransition,I=r[f]||hM,P=new dM(Jb),k=new fM(this.id,f,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:f,transition:E,fromState:I,toState:P,player:k,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let a=!1;if(r.totalAnimations){const c=r.players.length?r.playersByQueriedElement.get(t):[];if(c&&c.length)a=!0;else{let f=t;for(;f=f.parentNode;)if(r.statesByElement.get(f)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(t),a)r.markElementAsRemoved(this.id,t,!1,e);else{const c=t[aa];(!c||c===uP)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){la(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const a=r.player;if(a.destroyed)return;const c=r.element,f=this._elementListeners.get(c);f&&f.forEach(_=>{if(_.name==r.triggerName){const E=Vb(c,r.triggerName,r.fromState.value,r.toState.value);E._data=t,Fb(r.player,_.phase,E,_.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):e.push(r)}),this._queue=[],e.sort((r,a)=>{const c=r.transition.ast.depCount,f=a.transition.ast.depCount;return 0==c||0==f?c-f:this._engine.driver.containsElement(r.element,a.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class TN{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,c)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new IN(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList.length-1;if(r>=0){let a=!1;for(let c=r;c>=0;c--)if(this.driver.containsElement(this._namespaceList[c].hostElement,e)){this._namespaceList.splice(c+1,0,t),a=!0;break}a||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let a=this._namespaceLookup[t];a&&a.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const a=this._namespaceList.indexOf(r);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r){const a=Object.keys(r);for(let c=0;c<a.length;c++){const f=r[a[c]].namespaceId;if(f){const _=this._fetchNamespace(f);_&&e.add(_)}}}return e}trigger(t,e,r,a){if(vD(e)){const c=this._fetchNamespace(t);if(c)return c.trigger(e,r,a),!0}return!1}insertNode(t,e,r,a){if(!vD(e))return;const c=e[aa];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const f=this.collectedLeaveElements.indexOf(e);f>=0&&this.collectedLeaveElements.splice(f,1)}if(t){const f=this._fetchNamespace(t);f&&f.insertNode(e,r)}a&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),la(t,lP)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),R_(t,lP))}removeNode(t,e,r,a){if(vD(e)){const c=t?this._fetchNamespace(t):null;if(c?c.removeNode(e,a):this.markElementAsRemoved(t,e,!1,a),r){const f=this.namespacesByHostElement.get(e);f&&f.id!==t&&f.removeNode(e,a)}}else this._onRemovalComplete(e,a)}markElementAsRemoved(t,e,r,a){this.collectedLeaveElements.push(e),e[aa]={namespaceId:t,setForRemoval:a,hasAnimation:r,removedBeforeQueried:!1}}listen(t,e,r,a,c){return vD(e)?this._fetchNamespace(t).listen(e,r,a,c):()=>{}}_buildInstruction(t,e,r,a,c){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,a,t.fromState.options,t.toState.options,e,c)}destroyInnerAnimations(t){let e=this.driver.query(t,qp,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Kp,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return yc(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[aa];if(e&&e.setForRemoval){if(t[aa]=uP,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,cP)&&this.markElementAsDisabled(t,!1),this.driver.query(t,cP,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,a)=>this._balanceNamespaceList(r,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)la(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let a=0;a<r.length;a++)r[a]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?yc(e).onDone(()=>{r.forEach(a=>a())}):r.forEach(a=>a())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const r=new Hh,a=[],c=new Map,f=[],_=new Map,E=new Map,I=new Map,P=new Set;this.disabledNodes.forEach(Ze=>{P.add(Ze);const nt=this.driver.query(Ze,".ng-animate-queued",!0);for(let vt=0;vt<nt.length;vt++)P.add(nt[vt])});const k=this.bodyNode,z=Array.from(this.statesByElement.keys()),re=fP(z,this.collectedEnterElements),pe=new Map;let Me=0;re.forEach((Ze,nt)=>{const vt=S_+Me++;pe.set(nt,vt),Ze.forEach(Jt=>la(Jt,vt))});const xe=[],mt=new Set,st=new Set;for(let Ze=0;Ze<this.collectedLeaveElements.length;Ze++){const nt=this.collectedLeaveElements[Ze],vt=nt[aa];vt&&vt.setForRemoval&&(xe.push(nt),mt.add(nt),vt.hasAnimation?this.driver.query(nt,".ng-star-inserted",!0).forEach(Jt=>mt.add(Jt)):st.add(nt))}const kt=new Map,_t=fP(z,Array.from(mt));_t.forEach((Ze,nt)=>{const vt=Zp+Me++;kt.set(nt,vt),Ze.forEach(Jt=>la(Jt,vt))}),t.push(()=>{re.forEach((Ze,nt)=>{const vt=pe.get(nt);Ze.forEach(Jt=>R_(Jt,vt))}),_t.forEach((Ze,nt)=>{const vt=kt.get(nt);Ze.forEach(Jt=>R_(Jt,vt))}),xe.forEach(Ze=>{this.processLeaveNode(Ze)})});const Nr=[],zr=[];for(let Ze=this._namespaceList.length-1;Ze>=0;Ze--)this._namespaceList[Ze].drainQueuedTransitions(e).forEach(vt=>{const Jt=vt.player,Yr=vt.element;if(Nr.push(Jt),this.collectedEnterElements.length){const Tc=Yr[aa];if(Tc&&Tc.setForMove)return void Jt.destroy()}const Ic=!k||!this.driver.containsElement(k,Yr),po=kt.get(Yr),Yh=pe.get(Yr),Jn=this._buildInstruction(vt,r,Yh,po,Ic);if(Jn.errors&&Jn.errors.length)zr.push(Jn);else{if(Ic)return Jt.onStart(()=>jh(Yr,Jn.fromStyles)),Jt.onDestroy(()=>il(Yr,Jn.toStyles)),void a.push(Jt);if(vt.isFallbackTransition)return Jt.onStart(()=>jh(Yr,Jn.fromStyles)),Jt.onDestroy(()=>il(Yr,Jn.toStyles)),void a.push(Jt);Jn.timelines.forEach(Tc=>Tc.stretchStartingKeyframe=!0),r.append(Yr,Jn.timelines),f.push({instruction:Jn,player:Jt,element:Yr}),Jn.queriedElements.forEach(Tc=>Qn(_,Tc,[]).push(Jt)),Jn.preStyleProps.forEach((Tc,aC)=>{const LD=Object.keys(Tc);if(LD.length){let ng=E.get(aC);ng||E.set(aC,ng=new Set),LD.forEach($M=>ng.add($M))}}),Jn.postStyleProps.forEach((Tc,aC)=>{const LD=Object.keys(Tc);let ng=I.get(aC);ng||I.set(aC,ng=new Set),LD.forEach($M=>ng.add($M))})}});if(zr.length){const Ze=[];zr.forEach(nt=>{Ze.push(`@${nt.triggerName} has failed due to:\n`),nt.errors.forEach(vt=>Ze.push(`- ${vt}\n`))}),Nr.forEach(nt=>nt.destroy()),this.reportError(Ze)}const ns=new Map,Ku=new Map;f.forEach(Ze=>{const nt=Ze.element;r.has(nt)&&(Ku.set(nt,nt),this._beforeAnimationBuild(Ze.player.namespaceId,Ze.instruction,ns))}),a.forEach(Ze=>{const nt=Ze.element;this._getPreviousPlayers(nt,!1,Ze.namespaceId,Ze.triggerName,null).forEach(Jt=>{Qn(ns,nt,[]).push(Jt),Jt.destroy()})});const Qu=xe.filter(Ze=>gP(Ze,E,I)),Ju=new Map;hP(Ju,this.driver,st,I,oa).forEach(Ze=>{gP(Ze,E,I)&&Qu.push(Ze)});const oC=new Map;re.forEach((Ze,nt)=>{hP(oC,this.driver,new Set(Ze),E,"!")}),Qu.forEach(Ze=>{const nt=Ju.get(Ze),vt=oC.get(Ze);Ju.set(Ze,Object.assign(Object.assign({},nt),vt))});const tg=[],ok=[],ak={};f.forEach(Ze=>{const{element:nt,player:vt,instruction:Jt}=Ze;if(r.has(nt)){if(P.has(nt))return vt.onDestroy(()=>il(nt,Jt.toStyles)),vt.disabled=!0,vt.overrideTotalTime(Jt.totalTime),void a.push(vt);let Yr=ak;if(Ku.size>1){let po=nt;const Yh=[];for(;po=po.parentNode;){const Jn=Ku.get(po);if(Jn){Yr=Jn;break}Yh.push(po)}Yh.forEach(Jn=>Ku.set(Jn,Yr))}const Ic=this._buildAnimation(vt.namespaceId,Jt,ns,c,oC,Ju);if(vt.setRealPlayer(Ic),Yr===ak)tg.push(vt);else{const po=this.playersByElement.get(Yr);po&&po.length&&(vt.parentPlayer=yc(po)),a.push(vt)}}else jh(nt,Jt.fromStyles),vt.onDestroy(()=>il(nt,Jt.toStyles)),ok.push(vt),P.has(nt)&&a.push(vt)}),ok.forEach(Ze=>{const nt=c.get(Ze.element);if(nt&&nt.length){const vt=yc(nt);Ze.setRealPlayer(vt)}}),a.forEach(Ze=>{Ze.parentPlayer?Ze.syncPlayerEvents(Ze.parentPlayer):Ze.destroy()});for(let Ze=0;Ze<xe.length;Ze++){const nt=xe[Ze],vt=nt[aa];if(R_(nt,Zp),vt&&vt.hasAnimation)continue;let Jt=[];if(_.size){let Ic=_.get(nt);Ic&&Ic.length&&Jt.push(...Ic);let po=this.driver.query(nt,Kp,!0);for(let Yh=0;Yh<po.length;Yh++){let Jn=_.get(po[Yh]);Jn&&Jn.length&&Jt.push(...Jn)}}const Yr=Jt.filter(Ic=>!Ic.destroyed);Yr.length?RN(this,nt,Yr):this.processLeaveNode(nt)}return xe.length=0,tg.forEach(Ze=>{this.players.push(Ze),Ze.onDone(()=>{Ze.destroy();const nt=this.players.indexOf(Ze);this.players.splice(nt,1)}),Ze.play()}),tg}elementContainsData(t,e){let r=!1;const a=e[aa];return a&&a.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,a,c){let f=[];if(e){const _=this.playersByQueriedElement.get(t);_&&(f=_)}else{const _=this.playersByElement.get(t);if(_){const E=!c||c==Jb;_.forEach(I=>{I.queued||!E&&I.triggerName!=a||f.push(I)})}}return(r||a)&&(f=f.filter(_=>!(r&&r!=_.namespaceId||a&&a!=_.triggerName))),f}_beforeAnimationBuild(t,e,r){const c=e.element,f=e.isRemovalTransition?void 0:t,_=e.isRemovalTransition?void 0:e.triggerName;for(const E of e.timelines){const I=E.element,P=I!==c,k=Qn(r,I,[]);this._getPreviousPlayers(I,P,f,_,e.toState).forEach(re=>{const pe=re.getRealPlayer();pe.beforeDestroy&&pe.beforeDestroy(),re.destroy(),k.push(re)})}jh(c,e.fromStyles)}_buildAnimation(t,e,r,a,c,f){const _=e.triggerName,E=e.element,I=[],P=new Set,k=new Set,z=e.timelines.map(pe=>{const Me=pe.element;P.add(Me);const xe=Me[aa];if(xe&&xe.removedBeforeQueried)return new Wu(pe.duration,pe.delay);const mt=Me!==E,st=function(n){const t=[];return pP(n,t),t}((r.get(Me)||wN).map(ns=>ns.getRealPlayer())).filter(ns=>!!ns.element&&ns.element===Me),kt=c.get(Me),_t=f.get(Me),Nr=Nb(0,this._normalizer,0,pe.keyframes,kt,_t),zr=this._buildPlayer(pe,Nr,st);if(pe.subTimeline&&a&&k.add(Me),mt){const ns=new fM(t,_,Me);ns.setRealPlayer(zr),I.push(ns)}return zr});I.forEach(pe=>{Qn(this.playersByQueriedElement,pe.element,[]).push(pe),pe.onDone(()=>function(n,t,e){let r;if(n instanceof Map){if(r=n.get(t),r){if(r.length){const a=r.indexOf(e);r.splice(a,1)}0==r.length&&n.delete(t)}}else if(r=n[t],r){if(r.length){const a=r.indexOf(e);r.splice(a,1)}0==r.length&&delete n[t]}return r}(this.playersByQueriedElement,pe.element,pe))}),P.forEach(pe=>la(pe,bc));const re=yc(z);return re.onDestroy(()=>{P.forEach(pe=>R_(pe,bc)),il(E,e.toStyles)}),k.forEach(pe=>{Qn(a,pe,[]).push(re)}),re}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new Wu(t.duration,t.delay)}}class fM{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new Wu,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(r=>Fb(t,e,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Qn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function vD(n){return n&&1===n.nodeType}function dP(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function hP(n,t,e,r,a){const c=[];e.forEach(E=>c.push(dP(E)));const f=[];r.forEach((E,I)=>{const P={};E.forEach(k=>{const z=P[k]=t.computeStyle(I,k,a);(!z||0==z.length)&&(I[aa]=DN,f.push(I))}),n.set(I,P)});let _=0;return e.forEach(E=>dP(E,c[_++])),f}function fP(n,t){const e=new Map;if(n.forEach(_=>e.set(_,[])),0==t.length)return e;const a=new Set(t),c=new Map;function f(_){if(!_)return 1;let E=c.get(_);if(E)return E;const I=_.parentNode;return E=e.has(I)?I:a.has(I)?1:f(I),c.set(_,E),E}return t.forEach(_=>{const E=f(_);1!==E&&e.get(E).push(_)}),e}const bD="$$classes";function la(n,t){if(n.classList)n.classList.add(t);else{let e=n[bD];e||(e=n[bD]={}),e[t]=!0}}function R_(n,t){if(n.classList)n.classList.remove(t);else{let e=n[bD];e&&delete e[t]}}function RN(n,t,e){yc(e).onDone(()=>n.processLeaveNode(t))}function pP(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof zp?pP(r.players,t):t.push(r)}}function gP(n,t,e){const r=e.get(n);if(!r)return!1;let a=t.get(n);return a?r.forEach(c=>a.add(c)):t.set(n,r),e.delete(n),!0}class CD{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(a,c)=>{},this._transitionEngine=new TN(t,e,r),this._timelineEngine=new vN(t,e,r),this._transitionEngine.onRemovalComplete=(a,c)=>this.onRemovalComplete(a,c)}registerTrigger(t,e,r,a,c){const f=t+"-"+a;let _=this._triggerCache[f];if(!_){const E=[],I=ne(this._driver,c,E);if(E.length)throw new Error(`The animation trigger "${a}" has failed to build due to the following errors:\n - ${E.join("\n - ")}`);_=function(n,t,e){return new mN(n,t,e)}(a,I,this._normalizer),this._triggerCache[f]=_}this._transitionEngine.registerTrigger(e,a,_)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,a){this._transitionEngine.insertNode(t,e,r,a)}onRemove(t,e,r,a){this._transitionEngine.removeNode(t,e,a||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,a){if("@"==r.charAt(0)){const[c,f]=Bh(r);this._timelineEngine.command(c,e,f,a)}else this._transitionEngine.trigger(t,e,r,a)}listen(t,e,r,a,c){if("@"==r.charAt(0)){const[f,_]=Bh(r);return this._timelineEngine.listen(f,e,_,c)}return this._transitionEngine.listen(t,e,r,a,c)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function mP(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=pM(t[0]),t.length>1&&(r=pM(t[t.length-1]))):t&&(e=pM(t)),e||r?new xN(n,e,r):null}let xN=(()=>{class n{constructor(e,r,a){this._element=e,this._startStyles=r,this._endStyles=a,this._state=0;let c=n.initialStylesByElement.get(e);c||n.initialStylesByElement.set(e,c={}),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&il(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(il(this._element,this._initialStyles),this._endStyles&&(il(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(jh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(jh(this._element,this._endStyles),this._endStyles=null),il(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function pM(n){let t=null;const e=Object.keys(n);for(let r=0;r<e.length;r++){const a=e[r];kN(a)&&(t=t||{},t[a]=n[a])}return t}function kN(n){return"display"===n||"position"===n}const _P="animation",yP="animationend";class LN{constructor(t,e,r,a,c,f,_){this._element=t,this._name=e,this._duration=r,this._delay=a,this._easing=c,this._fillMode=f,this._onDoneFn=_,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=E=>this._handleCallback(E)}apply(){(function(n,t){const e=mM(n,"").trim();let r=0;e.length&&(function(n,t){let e=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&e++;return e}(e)+1,t=`${e}, ${t}`),ED(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),CP(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){vP(this._element,this._name,"paused")}resume(){vP(this._element,this._name,"running")}setPosition(t){const e=bP(this._element,this._name);this._position=t*this._duration,ED(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),CP(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const r=mM(n,"").split(","),a=gM(r,t);a>=0&&(r.splice(a,1),ED(n,"",r.join(",")))}(this._element,this._name))}}function vP(n,t,e){ED(n,"PlayState",e,bP(n,t))}function bP(n,t){const e=mM(n,"");return e.indexOf(",")>0?gM(e.split(","),t):gM([e],t)}function gM(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function CP(n,t,e){e?n.removeEventListener(yP,t):n.addEventListener(yP,t)}function ED(n,t,e,r){const a=_P+t;if(null!=r){const c=n.style[a];if(c.length){const f=c.split(",");f[r]=e,e=f.join(",")}}n.style[a]=e}function mM(n,t){return n.style[_P+t]||""}class EP{constructor(t,e,r,a,c,f,_,E){this.element=t,this.keyframes=e,this.animationName=r,this._duration=a,this._delay=c,this._finalStyles=_,this._specialStyles=E,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=f||"linear",this.totalTime=a+c,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new LN(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(t[r]=e?this._finalStyles[r]:m(this.element,r))})}this.currentSnapshot=t}}class $N extends Wu{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Zu(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class DP{constructor(){this._count=0}validateStyleProperty(t){return jb(t)}matchesElement(t,e){return Yu(t,e)}containsElement(t,e){return vc(t,e)}query(t,e,r){return Uh(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,r){r=r.map(_=>Zu(_));let a=`@keyframes ${e} {\n`,c="";r.forEach(_=>{c=" ";const E=parseFloat(_.offset);a+=`${c}${100*E}% {\n`,c+=" ",Object.keys(_).forEach(I=>{const P=_[I];switch(I){case"offset":return;case"easing":return void(P&&(a+=`${c}animation-timing-function: ${P};\n`));default:return void(a+=`${c}${I}: ${P};\n`)}}),a+=`${c}}\n`}),a+="}\n";const f=document.createElement("style");return f.textContent=a,f}animate(t,e,r,a,c,f=[],_){const E=f.filter(xe=>xe instanceof EP),I={};l(r,a)&&E.forEach(xe=>{let mt=xe.currentSnapshot;Object.keys(mt).forEach(st=>I[st]=mt[st])});const P=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(a=>{"offset"==a||"easing"==a||(t[a]=r[a])})}),t}(e=u(t,e,I));if(0==r)return new $N(t,P);const k="gen_css_kf_"+this._count++,z=this.buildKeyframeElement(t,k,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(z);const pe=mP(t,e),Me=new EP(t,e,k,r,a,c,P,pe);return Me.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(z)),Me}}class TP{constructor(t,e,r,a){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,r){return t.animate(e,r)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:m(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class ZN{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(SP().toString()),this._cssKeyframesDriver=new DP}validateStyleProperty(t){return jb(t)}matchesElement(t,e){return Yu(t,e)}containsElement(t,e){return vc(t,e)}query(t,e,r){return Uh(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,r,a,c,f=[],_){if(!_&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,r,a,c,f);const P={duration:r,delay:a,fill:0==a?"both":"forwards"};c&&(P.easing=c);const k={},z=f.filter(pe=>pe instanceof TP);l(r,a)&&z.forEach(pe=>{let Me=pe.currentSnapshot;Object.keys(Me).forEach(xe=>k[xe]=Me[xe])});const re=mP(t,e=u(t,e=e.map(pe=>Cc(pe,!1)),k));return new TP(t,e,P,re)}}function SP(){return cD()&&Element.prototype.animate||{}}let KN=(()=>{class n extends Wp{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(e)?aD(e):e;return AP(this._renderer,null,r,"register",[a]),new QN(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(d.FYo),d.LFG(oe))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class QN extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new JN(this._id,t,e||{},this._renderer)}}class JN{constructor(t,e,r,a){this.id=t,this.element=e,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return AP(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function AP(n,t,e,r,a){return n.setProperty(t,`@@${e}:${r}`,a)}const MP="@.disabled";let XN=(()=>{class n{constructor(e,r,a){this.delegate=e,this.engine=r,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(c,f)=>{f&&f.parentNode(c)&&f.removeChild(c.parentNode,c)}}createRenderer(e,r){const c=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let P=this._rendererCache.get(c);return P||(P=new RP("",c,this.engine),this._rendererCache.set(c,P)),P}const f=r.id,_=r.id+"-"+this._currentId;this._currentId++,this.engine.register(_,e);const E=P=>{Array.isArray(P)?P.forEach(E):this.engine.registerTrigger(f,_,e,P.name,P)};return r.data.animation.forEach(E),new eF(this,_,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,a){e>=0&&e<this._microtaskId?this._zone.run(()=>r(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[f,_]=c;f(_)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(d.FYo),d.LFG(CD),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class RP{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?a=>e.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,a=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,a)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,a){this.delegate.setAttribute(t,e,r,a)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,a){this.delegate.setStyle(t,e,r,a)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==MP?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class eF extends RP{constructor(t,e,r,a){super(e,r,a),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==MP?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.substr(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const a=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let c=e.substr(1),f="";return"@"!=c.charAt(0)&&([c,f]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(c)),this.engine.listen(this.namespaceId,a,c,f,_=>{this.factory.scheduleListenerCallback(_._data||-1,r,_)})}return this.delegate.listen(t,e,r)}}let rF=(()=>{class n extends CD{constructor(e,r,a){super(e.body,r,a)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(oe),d.LFG(Hb),d.LFG(cM))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const O_=new d.OlP("AnimationModuleType"),OP=[{provide:Wp,useClass:KN},{provide:cM,useFactory:function(){return new uN}},{provide:CD,useClass:rF},{provide:d.FYo,useFactory:function(n,t,e){return new XN(n,t,e)},deps:[jr,CD,d.R0b]}],PP=[{provide:Hb,useFactory:function(){return"function"==typeof SP()?new ZN:new DP}},{provide:O_,useValue:"BrowserAnimations"},...OP],xP=[{provide:Hb,useClass:hD},{provide:O_,useValue:"NoopAnimations"},...OP];let aF=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?xP:PP}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:PP,imports:[Hc]}),n})();const kP=new d.GfV("12.2.13"),pF=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Xp,ca=(()=>{class n{constructor(e,r,a){this._hasDoneGlobalChecks=!1,this._document=a,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!(!(0,d.X6Q)()||ob())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const r=getComputedStyle(e);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&kP.full!==Gp.full&&console.warn("The Angular Material version ("+kP.full+") does not match the Angular CDK version ("+Gp.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(b_),d.LFG(pF,8),d.LFG(oe))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Xa],Xa]}),n})();function NP(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Rs(t)}}}function gF(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function mF(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Rs(t)}}}try{Xp="undefined"!=typeof Intl}catch(n){Xp=!1}class AF{constructor(t,e,r){this._renderer=t,this.element=e,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const LP={enterDuration:225,exitDuration:150},_M=ib({passive:!0}),VP=["mousedown","touchstart"],BP=["mouseup","mouseleave","touchend","touchcancel"];class RF{constructor(t,e,r,a){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,a.isBrowser&&(this._containerElement=Vu(r))}fadeInRipple(t,e,r={}){const a=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),c=Object.assign(Object.assign({},LP),r.animation);r.centered&&(t=a.left+a.width/2,e=a.top+a.height/2);const f=r.radius||function(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),a=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+a*a)}(t,e,a),_=t-a.left,E=e-a.top,I=c.enterDuration,P=document.createElement("div");P.classList.add("mat-ripple-element"),P.style.left=_-f+"px",P.style.top=E-f+"px",P.style.height=2*f+"px",P.style.width=2*f+"px",null!=r.color&&(P.style.backgroundColor=r.color),P.style.transitionDuration=`${I}ms`,this._containerElement.appendChild(P),function(n){window.getComputedStyle(n).getPropertyValue("opacity")}(P),P.style.transform="scale(1)";const k=new AF(this,P,r);return k.state=0,this._activeRipples.add(k),r.persistent||(this._mostRecentTransientRipple=k),this._runTimeoutOutsideZone(()=>{const z=k===this._mostRecentTransientRipple;k.state=1,!r.persistent&&(!z||!this._isPointerDown)&&k.fadeOut()},I),k}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const r=t.element,a=Object.assign(Object.assign({},LP),t.config.animation);r.style.transitionDuration=`${a.exitDuration}ms`,r.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,r.parentNode.removeChild(r)},a.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Vu(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(VP))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(BP),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=YA(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!ZA(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,_M)})})}_removeTriggerEvents(){this._triggerElement&&(VP.forEach(t=>{this._triggerElement.removeEventListener(t,this,_M)}),this._pointerUpEventsRegistered&&BP.forEach(t=>{this._triggerElement.removeEventListener(t,this,_M)}))}}const xF=new d.OlP("mat-ripple-global-options");let ID=(()=>{class n{constructor(e,r,a,c,f){this._elementRef=e,this._animationMode=f,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new RF(this,r,e,a)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,a){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,Object.assign(Object.assign({},this.rippleConfig),a)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(Mn),d.Y36(xF,8),d.Y36(O_,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&d.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),n})(),UP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[ca,o_],ca]}),n})();const GP=["mat-button",""],WP=["*"],HF=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],$F=gF(NP(mF(class{constructor(n){this._elementRef=n}})));let YP=(()=>{class n extends $F{constructor(e,r,a){super(e),this._focusMonitor=r,this._animationMode=a,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const c of HF)this._hasHostAttributes(c)&&this._getHostElement().classList.add(c);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,r){e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.SBq),d.Y36(v_),d.Y36(O_,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,r){if(1&e&&d.Gf(ID,5),2&e){let a;d.iGM(a=d.CRH())&&(r.ripple=a.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,r){2&e&&(d.uIk("disabled",r.disabled||null),d.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[d.qOj],attrs:GP,ngContentSelectors:WP,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(d.F$t(),d.TgZ(0,"span",0),d.Hsn(1),d.qZA(),d._UZ(2,"span",1),d._UZ(3,"span",2)),2&e&&(d.xp6(2),d.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),d.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[ID],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),GF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[UP,ca],ca]}),n})();const ZP=new Set;let P_,qP=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):zF}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function(n){if(!ZP.has(n))try{P_||(P_=document.createElement("style"),P_.setAttribute("type","text/css"),document.head.appendChild(P_)),P_.sheet&&(P_.sheet.insertRule(`@media ${n} {body{ }}`,0),ZP.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(Mn))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(Mn))},token:n,providedIn:"root"}),n})();function zF(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let KP=(()=>{class n{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new lt.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return QP(r_(e)).some(a=>this._registerQuery(a).mql.matches)}observe(e){let c=Ui(QP(r_(e)).map(f=>this._registerQuery(f).observable));return c=ms(c.pipe(Hi(1)),c.pipe(W0(1),function(n,t=$g.P){return e=>e.lift(new Y0(n,t))}(0))),c.pipe((0,bt.U)(f=>{const _={matches:!1,breakpoints:{}};return f.forEach(({matches:E,query:I})=>{_.matches=_.matches||E,_.breakpoints[I]=E}),_}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),c={observable:new an.y(f=>{const _=E=>this._zone.run(()=>f.next(E));return r.addListener(_),()=>{r.removeListener(_)}}).pipe(Al(r),(0,bt.U)(({matches:f})=>({query:e,matches:f})),Bu(this._destroySubject)),mql:r};return this._queries.set(e,c),c}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(qP),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(qP),d.LFG(d.R0b))},token:n,providedIn:"root"}),n})();function QP(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function ZF(n,t){if(1&n){const e=d.EpF();d.TgZ(0,"div",1),d.TgZ(1,"button",2),d.NdJ("click",function(){return d.CHM(e),d.oxw().action()}),d._uU(2),d.qZA(),d.qZA()}if(2&n){const e=d.oxw();d.xp6(2),d.Oqu(e.data.action)}}function qF(n,t){}const JP=new d.OlP("MatSnackBarData");class x_{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const KF=Math.pow(2,31)-1;class yM{constructor(t,e){this._overlayRef=e,this._afterDismissed=new lt.xQ,this._afterOpened=new lt.xQ,this._onAction=new lt.xQ,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,KF))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let QF=(()=>{class n{constructor(e,r){this.snackBarRef=e,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(yM),d.Y36(JP))},n.\u0275cmp=d.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,r){1&e&&(d.TgZ(0,"span"),d._uU(1),d.qZA(),d.YNc(2,ZF,3,1,"div",0)),2&e&&(d.xp6(1),d.Oqu(r.data.message),d.xp6(1),d.Q6J("ngIf",r.hasAction))},directives:[gi,YP],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),n})();const JF={snackBarState:oD("state",[E_("void, hidden",nl({transform:"scale(0.8)",opacity:0})),E_("visible",nl({transform:"scale(1)",opacity:1})),w_("* => visible",C_("150ms cubic-bezier(0, 0, 0.2, 1)")),w_("* => void, * => hidden",C_("75ms cubic-bezier(0.4, 0.0, 1, 1)",nl({opacity:0})))])};let XF=(()=>{class n extends Nh{constructor(e,r,a,c,f){super(),this._ngZone=e,this._elementRef=r,this._changeDetectorRef=a,this._platform=c,this.snackBarConfig=f,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new lt.xQ,this._onExit=new lt.xQ,this._onEnter=new lt.xQ,this._animationState="void",this.attachDomPortal=_=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(_)),this._live="assertive"!==f.politeness||f.announcementMessage?"off"===f.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:r,toState:a}=e;if(("void"===a&&"void"!==r||"hidden"===a)&&this._completeExit(),"visible"===a){const c=this._onEnter;this._ngZone.run(()=>{c.next(),c.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Hi(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(a=>e.classList.add(a)):e.classList.add(r)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&r){let a=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(a=document.activeElement),e.removeAttribute("aria-hidden"),r.appendChild(e),null==a||a.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.R0b),d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(Mn),d.Y36(x_))},n.\u0275cmp=d.Xpm({type:n,selectors:[["snack-bar-container"]],viewQuery:function(e,r){if(1&e&&d.Gf(Hu,7),2&e){let a;d.iGM(a=d.CRH())&&(r._portalOutlet=a.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,r){1&e&&d.WFA("@state.done",function(c){return r.onAnimationEnd(c)}),2&e&&d.d8E("@state",r._animationState)},features:[d.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,r){1&e&&(d.TgZ(0,"div",0),d.YNc(1,qF,0,0,"ng-template",1),d.qZA(),d._UZ(2,"div")),2&e&&(d.xp6(2),d.uIk("aria-live",r._live)("role",r._role))},directives:[Hu],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[JF.snackBarState]}}),n})(),XP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Ib,Fh,Er,GF,ca],ca]}),n})();const ex=new d.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new x_}});let tx=(()=>{class n{constructor(e,r,a,c,f,_){this._overlay=e,this._live=r,this._injector=a,this._breakpointObserver=c,this._parentSnackBar=f,this._defaultConfig=_,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=QF,this.snackBarContainerComponent=XF,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,r){return this._attach(e,r)}openFromTemplate(e,r){return this._attach(e,r)}open(e,r="",a){const c=Object.assign(Object.assign({},this._defaultConfig),a);return c.data={message:e,action:r},c.announcementMessage===e&&(c.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,c)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,r){const c=d.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:x_,useValue:r}]}),f=new p_(this.snackBarContainerComponent,r.viewContainerRef,c),_=e.attach(f);return _.instance.snackBarConfig=r,_.instance}_attach(e,r){const a=Object.assign(Object.assign(Object.assign({},new x_),this._defaultConfig),r),c=this._createOverlay(a),f=this._attachSnackBarContainer(c,a),_=new yM(f,c);if(e instanceof d.Rgc){const E=new el(e,null,{$implicit:a.data,snackBarRef:_});_.instance=f.attachTemplatePortal(E)}else{const E=this._createInjector(a,_),I=new p_(e,void 0,E),P=f.attachComponentPortal(I);_.instance=P.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Bu(c.detachments())).subscribe(E=>{const I=c.overlayElement.classList;E.matches?I.add(this.handsetCssClass):I.remove(this.handsetCssClass)}),a.announcementMessage&&f._onAnnounce.subscribe(()=>{this._live.announce(a.announcementMessage,a.politeness)}),this._animateSnackBar(_,a),this._openedSnackBarRef=_,this._openedSnackBarRef}_animateSnackBar(e,r){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),r.duration&&r.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(r.duration))}_createOverlay(e){const r=new Vp;r.direction=e.direction;let a=this._overlay.position().global();const c="rtl"===e.direction,f="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!c||"end"===e.horizontalPosition&&c,_=!f&&"center"!==e.horizontalPosition;return f?a.left("0"):_?a.right("0"):a.centerHorizontally(),"top"===e.verticalPosition?a.top("0"):a.bottom("0"),r.positionStrategy=a,this._overlay.create(r)}_createInjector(e,r){return d.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:yM,useValue:r},{provide:JP,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(tl),d.LFG(Ab),d.LFG(d.zs3),d.LFG(KP),d.LFG(n,12),d.LFG(ex))},n.\u0275prov=d.Yz7({factory:function(){return new n(d.LFG(tl),d.LFG(Ab),d.LFG(d.gxx),d.LFG(KP),d.LFG(n,12),d.LFG(ex))},token:n,providedIn:XP}),n})();function t1(n,t){}class vM{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const n1={dialogContainer:oD("dialogContainer",[E_("void, exit",nl({opacity:0,transform:"scale(0.7)"})),E_("enter",nl({transform:"none"})),w_("* => enter",C_("150ms cubic-bezier(0, 0, 0.2, 1)",nl({transform:"none",opacity:1}))),w_("* => void, * => exit",C_("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",nl({opacity:0})))])};let r1=(()=>{class n extends Nh{constructor(e,r,a,c,f,_){super(),this._elementRef=e,this._focusTrapFactory=r,this._changeDetectorRef=a,this._config=f,this._focusMonitor=_,this._animationStateChanged=new d.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=E=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(E)),this._ariaLabelledBy=f.ariaLabelledBy||null,this._document=c}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const r=l_(),a=this._elementRef.nativeElement;(!r||r===this._document.body||r===a||a.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=l_())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,r=l_();return e===r||e.contains(r)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.SBq),d.Y36(eD),d.Y36(d.sBO),d.Y36(oe,8),d.Y36(vM),d.Y36(v_))},n.\u0275dir=d.lG2({type:n,viewQuery:function(e,r){if(1&e&&d.Gf(Hu,7),2&e){let a;d.iGM(a=d.CRH())&&(r._portalOutlet=a.first)}},features:[d.qOj]}),n})(),i1=(()=>{class n extends r1{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:r}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:e,totalTime:r}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=d.n5z(n)))(r||n)}}(),n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,r){1&e&&d.WFA("@dialogContainer.start",function(c){return r._onAnimationStart(c)})("@dialogContainer.done",function(c){return r._onAnimationDone(c)}),2&e&&(d.Ikx("id",r._id),d.uIk("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),d.d8E("@dialogContainer",r._state))},features:[d.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,r){1&e&&d.YNc(0,t1,0,0,"ng-template",0)},directives:[Hu],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[n1.dialogContainer]}}),n})(),s1=0;class eC{constructor(t,e,r="mat-dialog-"+s1++){this._overlayRef=t,this._containerInstance=e,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new lt.xQ,this._afterClosed=new lt.xQ,this._beforeClosed=new lt.xQ,this._state=0,e._id=r,e._animationStateChanged.pipe(Tr(a=>"opened"===a.state),Hi(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Tr(a=>"closed"===a.state),Hi(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Tr(a=>27===a.keyCode&&!this.disableClose&&!function(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(a))).subscribe(a=>{a.preventDefault(),bM(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():bM(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Tr(e=>"closing"===e.state),Hi(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function bM(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const o1=new d.OlP("MatDialogData"),a1=new d.OlP("mat-dialog-default-options"),nx=new d.OlP("mat-dialog-scroll-strategy"),c1={provide:nx,deps:[tl],useFactory:function(n){return()=>n.scrollStrategies.block()}};let u1=(()=>{class n{constructor(e,r,a,c,f,_,E,I,P){this._overlay=e,this._injector=r,this._defaultOptions=a,this._parentDialog=c,this._overlayContainer=f,this._dialogRefConstructor=E,this._dialogContainerType=I,this._dialogDataToken=P,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new lt.xQ,this._afterOpenedAtThisLevel=new lt.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=$r(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Al(void 0))),this._scrollStrategy=_}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,r){(r=function(n,t){return Object.assign(Object.assign({},t),n)}(r,this._defaultOptions||new vM)).id&&this.getDialogById(r.id);const a=this._createOverlay(r),c=this._attachDialogContainer(a,r),f=this._attachDialogContent(e,c,a,r);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(f),f.afterClosed().subscribe(()=>this._removeOpenDialog(f)),this.afterOpened.next(f),c._initializeWithAttachedContent(),f}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const r=this._getOverlayConfig(e);return this._overlay.create(r)}_getOverlayConfig(e){const r=new Vp({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(r.backdropClass=e.backdropClass),r}_attachDialogContainer(e,r){const c=d.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:vM,useValue:r}]}),f=new p_(this._dialogContainerType,r.viewContainerRef,c,r.componentFactoryResolver);return e.attach(f).instance}_attachDialogContent(e,r,a,c){const f=new this._dialogRefConstructor(a,r,c.id);if(e instanceof d.Rgc)r.attachTemplatePortal(new el(e,null,{$implicit:c.data,dialogRef:f}));else{const _=this._createInjector(c,f,r),E=r.attachComponentPortal(new p_(e,c.viewContainerRef,_));f.componentInstance=E.instance}return f.updateSize(c.width,c.height).updatePosition(c.position),f}_createInjector(e,r,a){const c=e&&e.viewContainerRef&&e.viewContainerRef.injector,f=[{provide:this._dialogContainerType,useValue:a},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:r}];return e.direction&&(!c||!c.get(ju,null,d.XFs.Optional))&&f.push({provide:ju,useValue:{value:e.direction,change:(0,je.of)()}}),d.zs3.create({parent:c||this._injector,providers:f})}_removeOpenDialog(e){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,c)=>{a?c.setAttribute("aria-hidden",a):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const r=e.parentElement.children;for(let a=r.length-1;a>-1;a--){let c=r[a];c!==e&&"SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName&&!c.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let r=e.length;for(;r--;)e[r].close()}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(tl),d.Y36(d.zs3),d.Y36(void 0),d.Y36(void 0),d.Y36($u),d.Y36(void 0),d.Y36(d.DyG),d.Y36(d.DyG),d.Y36(d.OlP))},n.\u0275dir=d.lG2({type:n}),n})(),k_=(()=>{class n extends u1{constructor(e,r,a,c,f,_,E){super(e,r,c,_,E,f,eC,i1,o1)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(tl),d.LFG(d.zs3),d.LFG(wt,8),d.LFG(a1,8),d.LFG(nx),d.LFG(n,12),d.LFG($u))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),f1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[k_,c1],imports:[[Ib,Fh,ca],ca]}),n})();var p1=V(1555);function TD(n,t){return new an.y(e=>{const r=n.length;if(0===r)return void e.complete();const a=new Array(r);let c=0,f=0;for(let _=0;_<r;_++){const E=(0,mn.D)(n[_]);let I=!1;e.add(E.subscribe({next:P=>{I||(I=!0,f++),a[_]=P},error:P=>e.error(P),complete:()=>{c++,(c===r||!I)&&(f===r&&e.next(t?t.reduce((P,k,z)=>(P[k]=a[z],P),{}):a),e.complete())}}))}})}let ix=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),eg=(()=>{class n extends ix{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const Dc=new d.OlP("NgValueAccessor"),_1={provide:Dc,useExisting:(0,d.Gpc)(()=>tC),multi:!0},v1=new d.OlP("CompositionEventMode");let tC=(()=>{class n extends ix{constructor(e,r,a){super(e,r),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(v1,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&d.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[d._Bn([_1]),d.qOj]}),n})();const Pi=new d.OlP("NgValidators"),Gh=new d.OlP("NgAsyncValidators");function gx(n){return null!=n}function mx(n){const t=(0,d.QGY)(n)?(0,mn.D)(n):n;return(0,d.CqO)(t),t}function _x(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function yx(n,t){return t.map(e=>e(n))}function vx(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function CM(n){return null!=n?function(n){if(!n)return null;const t=n.filter(gx);return 0==t.length?null:function(e){return _x(yx(e,t))}}(vx(n)):null}function EM(n){return null!=n?function(n){if(!n)return null;const t=n.filter(gx);return 0==t.length?null:function(e){return function(...n){if(1===n.length){const t=n[0];if((0,Oa.k)(t))return TD(t,null);if((0,p1.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return TD(e.map(r=>t[r]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return TD(n=1===n.length&&(0,Oa.k)(n[0])?n[0]:n,null).pipe((0,bt.U)(e=>t(...e)))}return TD(n,null)}(yx(e,t).map(mx)).pipe((0,bt.U)(_x))}}(vx(n)):null}function Ex(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function wM(n){return n?Array.isArray(n)?n:[n]:[]}function SD(n,t){return Array.isArray(n)?n.includes(t):n===t}function Ix(n,t){const e=wM(t);return wM(n).forEach(a=>{SD(e,a)||e.push(a)}),e}function Tx(n,t){return wM(t).filter(e=>!SD(n,e))}let Sx=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=CM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=EM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,r){return!!this.control&&this.control.hasError(e,r)}getError(e,r){return this.control?this.control.getError(e,r):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=d.lG2({type:n}),n})(),ts=(()=>{class n extends Sx{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();class zh extends Sx{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let DM=(()=>{class n extends class{constructor(t){this._cd=t}is(t){var e,r,a;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(a=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===a?void 0:a[t])}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(zh,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&d.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[d.qOj]}),n})();function nC(n,t){(function(n,t){const e=function(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(Ex(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=function(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(Ex(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const a=()=>n.updateValueAndValidity();OD(t._rawValidators,a),OD(t._rawAsyncValidators,a)})(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Mx(n,t)})}(n,t),function(n,t){const e=(r,a)=>{t.valueAccessor.writeValue(r),a&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Mx(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function OD(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Mx(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function xD(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const rC="VALID",kD="INVALID",N_="PENDING",iC="DISABLED";function RM(n){return(PM(n)?n.validators:n)||null}function Px(n){return Array.isArray(n)?CM(n):n||null}function OM(n,t){return(PM(t)?t.asyncValidators:n)||null}function xx(n){return Array.isArray(n)?EM(n):n||null}function PM(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class xM{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Px(this._rawValidators),this._composedAsyncValidatorFn=xx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===rC}get invalid(){return this.status===kD}get pending(){return this.status==N_}get disabled(){return this.status===iC}get enabled(){return this.status!==iC}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Px(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=xx(t)}addValidators(t){this.setValidators(Ix(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Ix(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Tx(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Tx(t,this._rawAsyncValidators))}hasValidator(t){return SD(this._rawValidators,t)}hasAsyncValidator(t){return SD(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=N_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=iC,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=rC,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===rC||this.status===N_)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?iC:rC}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=N_,this._hasOwnPendingAsyncValidator=!0;const e=mx(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let r=n;return t.forEach(a=>{r=r instanceof kM?r.controls.hasOwnProperty(a)?r.controls[a]:null:r instanceof k1&&r.at(a)||null}),r}(this,t)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?iC:this.errors?kD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(N_)?N_:this._anyControlsHaveStatus(kD)?kD:rC}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){PM(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ND extends xM{constructor(t=null,e,r){super(RM(e),OM(r,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){xD(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){xD(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class kM extends xM{constructor(t,e,r){super(RM(e),OM(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,a)=>{r.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e instanceof ND?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const r=this.controls[e];if(this.contains(e)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,r)=>((e.enabled||this.disabled)&&(t[r]=e.value),t))}_reduceChildren(t,e){let r=t;return this._forEachChild((a,c)=>{r=e(r,a,c)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,r)=>{if(void 0===t[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class k1 extends xM{constructor(t,e,r){super(RM(e),OM(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((r,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,a)=>{this.at(a)&&this.at(a).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,a)=>{r.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ND?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,r)=>{if(void 0===t[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const L1={provide:zh,useExisting:(0,d.Gpc)(()=>FD)},Fx=(()=>Promise.resolve(null))();let FD=(()=>{class n extends zh{constructor(e,r,a,c){super(),this.control=new ND,this._registered=!1,this.update=new d.vpe,this._parent=e,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=function(n,t){if(!t)return null;let e,r,a;return Array.isArray(t),t.forEach(c=>{c.constructor===tC?e=c:function(n){return Object.getPrototypeOf(n.constructor)===eg}(c)?r=c:a=c}),a||r||e||null}(0,c)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,t){return[...t.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){nC(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Fx.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const r=e.isDisabled.currentValue,a=""===r||r&&"false"!==r;Fx.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(ts,9),d.Y36(Pi,10),d.Y36(Gh,10),d.Y36(Dc,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([L1]),d.qOj,d.TTD]}),n})(),Vx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const FM=new d.OlP("NgModelWithFormControlWarning");let tk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Vx]]}),n})(),lL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[tk]}),n})(),cL=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:FM,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[tk]}),n})();function uL(n,t){1&n&&(d.TgZ(0,"div",8),d._uU(1," We are sorry, but the email you introduced is not valid! "),d.qZA())}let nk=(()=>{class n{constructor(e,r,a){this.snackBar=e,this.dialogRef=r,this.db=a,this.email="",this.regexp=new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),this.isVisible=!1}subscribe(){if(this.db.list("subscribe").push("Press subscribe "+new Date),this.isVisible=!0,this.isEmailValid()){this.db.list("emails").push(this.email);const e=new x_;e.panelClass=["snackbar"],this.snackBar.open("Thank you for your interest","OK",e),this.dialogRef.close(),this.isVisible=!1}}isEmailValid(){return this.regexp.test(this.email)}isEmailErrorsVisibile(){return!this.isEmailValid()&&(this.isVisible||this.isEmailValid())}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(tx),d.Y36(eC),d.Y36(Jv))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-request-demo-dialog"]],decls:11,vars:2,consts:[[1,"dialog-content"],[1,"title"],["src","../../../assets/demo.svg"],[1,"questions"],[1,"subscribe-input"],["name","email","type","text","placeholder","Type in your email",1,"email-box",3,"ngModel","ngModelChange"],[1,"subscribe-button",3,"click"],["class","error",4,"ngIf"],[1,"error"]],template:function(e,r){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._uU(2,"Request a demo"),d.qZA(),d._UZ(3,"img",2),d.TgZ(4,"div",3),d._uU(5," If you have any questions please don't hesitate to ask at: odin.ai@gmail.com "),d.qZA(),d.TgZ(6,"div",4),d.TgZ(7,"input",5),d.NdJ("ngModelChange",function(c){return r.email=c}),d.qZA(),d.TgZ(8,"button",6),d.NdJ("click",function(){return r.subscribe()}),d._uU(9," Request "),d.qZA(),d.qZA(),d.YNc(10,uL,2,0,"div",7),d.qZA()),2&e&&(d.xp6(7),d.Q6J("ngModel",r.email),d.xp6(3),d.Q6J("ngIf",r.isEmailErrorsVisibile()))},directives:[tC,DM,FD,gi],styles:[".dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:500px;padding:30px}.dialog-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:var(--color-primary);font-size:24px;font-weight:700;line-height:32.64px;margin-bottom:32px;display:flex;align-self:center}.dialog-content[_ngcontent-%COMP%]   .questions[_ngcontent-%COMP%]{color:var(--color-grey-medium);font-size:16px;font-weight:400;line-height:24px;margin-bottom:32px;text-align:center}.dialog-content[_ngcontent-%COMP%]   .subscribe-input[_ngcontent-%COMP%]{position:relative;display:inline-flex}.dialog-content[_ngcontent-%COMP%]   .subscribe-input[_ngcontent-%COMP%]   .subscribe-button[_ngcontent-%COMP%]{padding:10px 15px;border-radius:24px;border:none;background-color:var(--color-secondary);color:var(--color-white);font-size:14px;line-height:28px;font-weight:800;cursor:pointer}.dialog-content[_ngcontent-%COMP%]   .subscribe-input[_ngcontent-%COMP%]   .email-box[_ngcontent-%COMP%]{padding:10px 15px;border-color:var(--color-grey-medium);border-radius:24px;color:var(--color-grey-medium);font-size:16px;margin-right:5px;width:250px}.dialog-content[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{margin-top:15px;color:var(--color-error)}"]}),n})(),dL=(()=>{class n{constructor(e){this.dialog=e}goToSection(e){window.location.hash="",window.location.hash=e}openDialog(){this.dialog.open(nk)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(k_))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-toolbar"]],decls:12,vars:0,consts:[[1,"nav"],[1,"logo",3,"click"],["src","../../../assets/logo.svg"],[1,"menu"],[1,"option-menu-text",3,"click"],[1,"option-menu-button",3,"click"]],template:function(e,r){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.NdJ("click",function(){return r.goToSection("home")}),d._UZ(2,"img",2),d.qZA(),d.TgZ(3,"div",3),d.TgZ(4,"button",4),d.NdJ("click",function(){return r.goToSection("features")}),d._uU(5," Features "),d.qZA(),d.TgZ(6,"button",4),d.NdJ("click",function(){return r.goToSection("steps")}),d._uU(7,"How it works"),d.qZA(),d.TgZ(8,"button",4),d.NdJ("click",function(){return r.goToSection("story")}),d._uU(9," Our story "),d.qZA(),d.TgZ(10,"button",5),d.NdJ("click",function(){return r.openDialog()}),d._uU(11,"DEMO"),d.qZA(),d.qZA(),d.qZA())},styles:[".nav[_ngcontent-%COMP%]{position:fixed;width:100%;height:100px;background:transparent;align-items:center;display:flex;justify-content:space-between;font-size:14px;font-weight:750}.nav[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.nav[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .option-menu-text[_ngcontent-%COMP%]{padding:6px 16px;font-size:14px;cursor:pointer;color:var(--color-primary);background-color:transparent;border:none;font-weight:800}.nav[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .option-menu-button[_ngcontent-%COMP%]{padding:8px 24px;border-radius:40px;background-color:var(--color-secondary);color:var(--color-grey-light);border:none;cursor:pointer;margin-right:100px;font-size:14px;font-weight:800}.nav[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin-left:40px;cursor:pointer}"]}),n})();function hL(n,t){1&n&&(d.TgZ(0,"div",7),d._uU(1," We are sorry, but the email you introduced is not valid! "),d.qZA())}let rk=(()=>{class n{constructor(e,r,a){this.snackBar=e,this.dialogRef=r,this.db=a,this.email="",this.regexp=new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),this.isVisible=!1}requestDemo(){if(this.db.list("demo").push("Press demo "+new Date),this.isVisible=!0,this.isEmailValid()){this.db.list("emails").push(this.email);const e=new x_;e.panelClass=["snackbar"],localStorage.getItem("email"),this.snackBar.open("Thank you for your interest","OK",e),this.dialogRef.close(),this.isVisible=!1}}isEmailValid(){return this.regexp.test(this.email)}isEmailErrorsVisibile(){return!this.isEmailValid()&&(this.isVisible||this.isEmailValid())}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(tx),d.Y36(eC),d.Y36(Jv))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-work-in-progress-dialog"]],decls:9,vars:2,consts:[[1,"dialog-content"],[1,"subscribe-text"],["src","../../../assets/demo.svg"],[1,"subscribe-input"],["name","search","type","text","placeholder","Type in your email",1,"email-box",3,"ngModel","ngModelChange"],[1,"subscribe-button",3,"click"],["class","error",4,"ngIf"],[1,"error"]],template:function(e,r){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._uU(2," At the moment, we\u2019re working hard on finishing our beta. Subscribe and you\u2019ll be the first to know when we\u2019re ready to launch. "),d.qZA(),d._UZ(3,"img",2),d.TgZ(4,"div",3),d.TgZ(5,"input",4),d.NdJ("ngModelChange",function(c){return r.email=c}),d.qZA(),d.TgZ(6,"button",5),d.NdJ("click",function(){return r.requestDemo()}),d._uU(7," Subscribe "),d.qZA(),d.qZA(),d.YNc(8,hL,2,0,"div",6),d.qZA()),2&e&&(d.xp6(5),d.Q6J("ngModel",r.email),d.xp6(3),d.Q6J("ngIf",r.isEmailErrorsVisibile()))},directives:[tC,DM,FD,gi],styles:[".dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:500px;padding:30px}.dialog-content[_ngcontent-%COMP%]   .subscribe-text[_ngcontent-%COMP%]{color:var(--color-grey-medium);font-size:16px;font-weight:400;line-height:24px;margin-bottom:32px;text-align:center}.dialog-content[_ngcontent-%COMP%]   .subscribe-input[_ngcontent-%COMP%]{margin-top:32px;position:relative;display:inline-flex}.dialog-content[_ngcontent-%COMP%]   .subscribe-input[_ngcontent-%COMP%]   .subscribe-button[_ngcontent-%COMP%]{padding:10px 15px;border-radius:24px;border:none;background-color:var(--color-secondary);color:var(--color-white);font-size:14px;line-height:28px;font-weight:800;cursor:pointer}.dialog-content[_ngcontent-%COMP%]   .subscribe-input[_ngcontent-%COMP%]   .email-box[_ngcontent-%COMP%]{padding:10px 15px;border-color:var(--color-grey-medium);border-radius:24px;color:var(--color-grey-medium);font-size:16px;margin-right:5px;width:250px}.dialog-content[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{margin-top:15px;color:var(--color-error)}"]}),n})(),fL=(()=>{class n{constructor(e){this.dialog=e}subscribe(){this.dialog.open(rk)}demo(){this.dialog.open(nk)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(k_))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-hero"]],decls:19,vars:0,consts:[[1,"hero"],[1,"hero-content"],[1,"tagline"],[1,"border-line"],[1,"tool-description"],[1,"buttons"],[1,"demo","button",3,"click"],[1,"subscribe","button",3,"click"],[1,"hero-image"],["src","../../../assets/hero-image.svg"]],template:function(e,r){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"span"),d._uU(4,"Belive in your "),d.qZA(),d.TgZ(5,"span",3),d._uU(6,"data"),d.qZA(),d.qZA(),d.TgZ(7,"div",4),d._uU(8," Odin AI is a "),d.TgZ(9,"span"),d._uU(10,"no-code automated machine learning"),d.qZA(),d._uU(11," web application that automatically solves supervised learning problems without any programming knowledge. Created models are ready to be used in production and easy to understand due to generated human-readable reports. "),d.qZA(),d.TgZ(12,"div",5),d.TgZ(13,"button",6),d.NdJ("click",function(){return r.demo()}),d._uU(14,"Get the demo"),d.qZA(),d.TgZ(15,"button",7),d.NdJ("click",function(){return r.subscribe()}),d._uU(16,"Subscribe"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(17,"div",8),d._UZ(18,"img",9),d.qZA(),d.qZA())},styles:[".hero[_ngcontent-%COMP%]{padding-top:110px;background:linear-gradient(var(--color-gradient-primary),var(--color-white),var(--color-gradient-secondary),var(--color-white));display:flex;justify-content:space-around}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-top:200px;width:490px;height:135px}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .tagline[_ngcontent-%COMP%]{font-size:48px;color:var(--color-primary);font-weight:700;margin-bottom:40px}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .tagline[_ngcontent-%COMP%]   .border-line[_ngcontent-%COMP%]{border-bottom:8px solid var(--color-secondary);border-radius:8px}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .tool-description[_ngcontent-%COMP%]{font-size:18px;font-weight:800;line-height:27px;color:var(--color-primary)}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .tool-description[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--color-secondary)}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-top:32px}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{border-radius:24px;font-size:18px;padding:10px 32px;margin-left:16px;cursor:pointer}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .demo[_ngcontent-%COMP%]{color:var(--color-grey-light);background-color:var(--color-secondary);border:none}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .subscribe[_ngcontent-%COMP%]{border:2px solid var(--color-secondary);color:var(--color-secondary);background-color:var(--color-grey-light)}.hero[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]{width:550px;height:720px}"]}),n})(),pL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-features"]],decls:47,vars:0,consts:[[1,"features-content"],[1,"title-content"],[1,"title"],["src","../../../assets/triangle.svg"],[1,"mock"],[1,"features"],[1,"features-group"],[1,"feature-element"],["src","../../../assets/feature2.svg"],[1,"feature-title"],[1,"feature-description"],["src","../../../assets/feature5.svg"],["src","../../../assets/feature7.svg"],["src","../../../assets/feature3.svg"],["src","../../../assets/feature4.svg"],["src","../../../assets/feature6.svg"]],template:function(e,r){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d._uU(3," Features"),d.TgZ(4,"sub"),d._UZ(5,"img",3),d.qZA(),d.qZA(),d._UZ(6,"div",4),d.qZA(),d.TgZ(7,"div",5),d.TgZ(8,"div",6),d.TgZ(9,"div",7),d._UZ(10,"img",8),d.TgZ(11,"div",9),d._uU(12,"Human-readable reports"),d.qZA(),d.TgZ(13,"div",10),d._uU(14," Describe how the solution was built and present the decisions at the time of execution. They also include the description of the learned data. "),d.qZA(),d.qZA(),d.TgZ(15,"div",7),d._UZ(16,"img",11),d.TgZ(17,"div",9),d._uU(18,"Supervised learning tasks"),d.qZA(),d.TgZ(19,"div",10),d._uU(20," Solves regression, classification and forecasting problems stored in a tabular format "),d.qZA(),d.qZA(),d.qZA(),d.TgZ(21,"div",6),d.TgZ(22,"div",7),d._UZ(23,"img",12),d.TgZ(24,"div",9),d._uU(25,"Adaptive interface"),d.qZA(),d.TgZ(26,"div",10),d._uU(27," Allows beginner users to solve problems without expertise in AI field and empowers expert users to customize how a solution is generated "),d.qZA(),d.qZA(),d.TgZ(28,"div",7),d._UZ(29,"img",13),d.TgZ(30,"div",9),d._uU(31,"No-code platform"),d.qZA(),d.TgZ(32,"div",10),d._uU(33," Programming knowledge or AI expertise is not needed for using Odin AI "),d.qZA(),d.qZA(),d.qZA(),d.TgZ(34,"div",6),d.TgZ(35,"div",7),d._UZ(36,"img",14),d.TgZ(37,"div",9),d._uU(38,"End-to-end automation"),d.qZA(),d.TgZ(39,"div",10),d._uU(40," Executes all the steps in a data science project, starting with data cleaning processing and ending with models\u2019 deployment. "),d.qZA(),d.qZA(),d.TgZ(41,"div",7),d._UZ(42,"img",15),d.TgZ(43,"div",9),d._uU(44,"API"),d.qZA(),d.TgZ(45,"div",10),d._uU(46," Every solution can be easily integrated via API calls "),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA())},styles:[".features-content[_ngcontent-%COMP%]{height:750px}.features-content[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.features-content[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:50px;font-size:34px;font-weight:700;color:var(--color-primary);line-height:40px}.features-content[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]   .mock[_ngcontent-%COMP%]{width:550px}.features-content[_ngcontent-%COMP%]   .features[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.features-content[_ngcontent-%COMP%]   .features[_ngcontent-%COMP%]   .features-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:394px;width:362px}.features-content[_ngcontent-%COMP%]   .features[_ngcontent-%COMP%]   .features-group[_ngcontent-%COMP%]   .feature-element[_ngcontent-%COMP%]{margin:50px}.features-content[_ngcontent-%COMP%]   .features[_ngcontent-%COMP%]   .features-group[_ngcontent-%COMP%]   .feature-element[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{font-weight:900;font-size:20px;line-height:36px;color:var(--color-primary)}.features-content[_ngcontent-%COMP%]   .features[_ngcontent-%COMP%]   .features-group[_ngcontent-%COMP%]   .feature-element[_ngcontent-%COMP%]   .feature-description[_ngcontent-%COMP%]{font-size:18px;font-weight:400;line-height:27px;color:var(--color-grey-medium)}"]}),n})(),gL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-steps"]],decls:9,vars:0,consts:[[1,"how-it-works-content"],[1,"title-content"],[1,"title"],["src","../../../assets/triangle.svg"],[1,"mock"],[1,"steps-content"],["src","../../../assets/steps.svg"]],template:function(e,r){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d._uU(3," How it works"),d.TgZ(4,"sub"),d._UZ(5,"img",3),d.qZA(),d.qZA(),d._UZ(6,"div",4),d.qZA(),d.TgZ(7,"div",5),d._UZ(8,"img",6),d.qZA(),d.qZA())},styles:[".how-it-works-content[_ngcontent-%COMP%]{margin-top:100px;padding-top:20px}.how-it-works-content[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.how-it-works-content[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:50px;font-size:34px;font-weight:700;color:var(--color-primary);line-height:40px}.how-it-works-content[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]   .mock[_ngcontent-%COMP%]{width:570px}.how-it-works-content[_ngcontent-%COMP%]   .steps-content[_ngcontent-%COMP%]{display:flex;justify-content:center}.how-it-works-content[_ngcontent-%COMP%]   .steps-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:500px}"]}),n})(),mL=(()=>{class n{constructor(e){this.dialog=e}subscribe(){this.dialog.open(rk)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(k_))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-our-story"]],decls:11,vars:0,consts:[[1,"story-content"],[1,"title"],["src","../../../assets/triangle.svg"],[1,"past-description"],[1,"future-description"],[1,"subscribe",3,"click"]],template:function(e,r){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._uU(2," Our story"),d.TgZ(3,"sub"),d._UZ(4,"img",2),d.qZA(),d.qZA(),d.TgZ(5,"div",3),d._uU(6," Odin AI has started as a research project that makes artificial intelligence easily accessible for everyone. After publishing a paper within ICCP in 2021, we wanted to transform this idea into a company. "),d.qZA(),d.TgZ(7,"div",4),d._uU(8," Now, we are part of the FIX Cluj, a program organized in partnership with City Hall of Cluj-Napoca, which helps young entrepreneurs to develop their ideas into a business. "),d.qZA(),d.TgZ(9,"button",5),d.NdJ("click",function(){return r.subscribe()}),d._uU(10,"Subscribe"),d.qZA(),d.qZA())},styles:[".story-content[_ngcontent-%COMP%]{width:466px;height:315px}.story-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:50px;font-size:34px;font-weight:700;color:var(--color-primary);line-height:40px}.story-content[_ngcontent-%COMP%]   .past-description[_ngcontent-%COMP%]{color:var(--color-primary);font-size:18px;line-height:28.8px;font-weight:800;margin-bottom:20px}.story-content[_ngcontent-%COMP%]   .future-description[_ngcontent-%COMP%]{color:var(--color-grey-medium);font-size:18px;line-height:27px;font-weight:400;margin-bottom:20px}.story-content[_ngcontent-%COMP%]   .subscribe[_ngcontent-%COMP%]{background-color:var(--color-secondary);color:var(--color-white);border:none;border-radius:24px;font-size:18px;line-height:28.8px;font-weight:800;padding:8px 24px;margin-bottom:50px;cursor:pointer}"]}),n})();const _L=function(n){return{"special-name":n}};let yL=(()=>{class n{constructor(){this.imageUrl="",this.name=""}isSpecialName(){return this.name.includes("Cristina")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-profile-picture"]],inputs:{imageUrl:"imageUrl",name:"name"},decls:4,vars:5,consts:[[1,"profile-picture"],[3,"src"],[1,"name",3,"ngClass"]],template:function(e,r){1&e&&(d.TgZ(0,"div",0),d._UZ(1,"img",1),d.TgZ(2,"div",2),d._uU(3),d.qZA(),d.qZA()),2&e&&(d.xp6(1),d.s9C("src",r.imageUrl,d.LSH),d.xp6(1),d.Q6J("ngClass",d.VKq(3,_L,r.isSpecialName())),d.xp6(1),d.hij(" ",r.name," "))},directives:[Us],styles:[".profile-picture[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;cursor:pointer}.profile-picture[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px;line-height:24.5px;font-weight:800;color:var(--color-primary)}.profile-picture[_ngcontent-%COMP%]   .special-name[_ngcontent-%COMP%]{color:var(--color-secondary)}"]}),n})(),vL=(()=>{class n{constructor(){this.urls=["../../../assets/profile-picture1.svg","../../../assets/profile-picture2.svg"],this.names=["Cristina Racovita","Mihai Bogdan Bindila"],this.formUrl="https://forms.gle/Aw9i53FDkYWd3KXr9",this.cristinaLinkedinUrl="https://www.linkedin.com/in/cristina-racovita/",this.bogdanLinkedinUrl="https://www.linkedin.com/in/bogdan-bindila/"}openSite(e){window.open(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-contact"]],decls:10,vars:4,consts:[[1,"contact-content"],["src","../../../assets/Shapes.svg"],[1,"profiles"],[1,"first",3,"imageUrl","name","click"],[1,"second",3,"imageUrl","name","click"],[1,"form"],[1,"question"],[3,"click"]],template:function(e,r){1&e&&(d.TgZ(0,"div",0),d._UZ(1,"img",1),d.TgZ(2,"div",2),d.TgZ(3,"app-profile-picture",3),d.NdJ("click",function(){return r.openSite(r.bogdanLinkedinUrl)}),d.qZA(),d.TgZ(4,"app-profile-picture",4),d.NdJ("click",function(){return r.openSite(r.cristinaLinkedinUrl)}),d.qZA(),d.qZA(),d.TgZ(5,"div",5),d.TgZ(6,"div",6),d._uU(7," Do you want to help us? "),d.qZA(),d.TgZ(8,"button",7),d.NdJ("click",function(){return r.openSite(r.formUrl)}),d._uU(9,"Fill in our form"),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(3),d.Q6J("imageUrl",r.urls[1])("name",r.names[1]),d.xp6(1),d.Q6J("imageUrl",r.urls[0])("name",r.names[0]))},directives:[yL],styles:[".contact-content[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]{background-color:var(--color-white);border-radius:16px;box-shadow:6px 6px 6px #0000001a;z-index:2;position:absolute;width:379px;height:315px;margin-top:50px;margin-left:230px;transform:skew(-5deg);display:flex;justify-content:center;flex-direction:row;align-items:center}.contact-content[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]{margin-left:55px;transform:skew(5deg)}.contact-content[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{margin-bottom:50px;margin-right:55px;transform:skew(5deg)}.contact-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly;align-items:center;position:absolute;z-index:2;box-shadow:6px 6px 6px #0000001a;border-radius:57px;width:404px;height:61px;background-color:var(--color-white);margin-top:415px;margin-left:40px}.contact-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{font-size:16px;line-height:28.8px;font-weight:800;color:var(--color-primary)}.contact-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:var(--color-secondary);color:var(--color-white);border:none;border-radius:24px;font-size:16px;line-height:28.8px;cursor:pointer;font-weight:800;padding:8px 16px}.contact-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{z-index:1;position:absolute}"]}),n})(),bL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-footer"]],decls:15,vars:0,consts:[[1,"footer"],[1,"footer-content"],[1,"logo"],["src","../../../assets/logo.svg"],[1,"text"],[1,"tool-description"],[1,"legal","text"],[1,"overview"]],template:function(e,r){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d._UZ(3,"img",3),d.qZA(),d.TgZ(4,"div",4),d._uU(5," Your "),d.TgZ(6,"span",5),d._uU(7,"no-code automated machine learning"),d.qZA(),d._uU(8," web application that automatically solves supervised learning problems without any programming knowledge. "),d.qZA(),d.TgZ(9,"div",6),d.TgZ(10,"div"),d._uU(11,"\xa9 2022 Odin AI. All rights reserved."),d.qZA(),d.TgZ(12,"div"),d._uU(13,"Terms of Use & Privacy"),d.qZA(),d.qZA(),d.qZA(),d._UZ(14,"div",7),d.qZA())},styles:[".footer[_ngcontent-%COMP%]{display:flex;justify-content:space-around;background-color:var(--color-grey-light);padding-top:50px;align-items:baseline}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:140px;height:35px;margin-bottom:20px}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:16px;font-weight:400;line-height:24px;color:var(--color-primary);width:368px;height:116px}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .tool-description[_ngcontent-%COMP%]{color:var(--color-secondary)}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .legal[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;font-weight:800}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .legal[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-right:30px}.footer[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]{width:550px;height:100px}"]}),n})(),CL=(()=>{class n{constructor(e){this.db=e,this.db.list("homePage").push("Home "+new Date)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Jv))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:10,vars:0,consts:[[1,"home"],[1,"sticky"],["id","home"],["id","features",1,"features"],["id","steps"],["id","story",1,"info"],[1,"contact"]],template:function(e,r){1&e&&(d.TgZ(0,"div",0),d._UZ(1,"app-toolbar",1),d._UZ(2,"app-hero",2),d._UZ(3,"app-features",3),d._UZ(4,"app-steps",4),d.TgZ(5,"div",5),d._UZ(6,"app-our-story"),d.TgZ(7,"div",6),d._UZ(8,"app-contact"),d.qZA(),d.qZA(),d._UZ(9,"app-footer"),d.qZA())},directives:[dL,fL,pL,gL,mL,vL,bL],styles:[".home[_ngcontent-%COMP%]{display:flex;flex-direction:column}.home[_ngcontent-%COMP%]   .sticky[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1000}.features[_ngcontent-%COMP%]{padding-top:70px}.info[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:space-around;margin-bottom:400px;margin-top:50px;padding-top:70px}.contact[_ngcontent-%COMP%]{width:550px;height:60px}"]}),n})();const ik_firebaseConfig={apiKey:"AIzaSyDBinS6CbtKtptEE-idN7AfYuMuOk5SV00",authDomain:"odin-ai-1d452.firebaseapp.com",databaseURL:"https://odin-ai-1d452-default-rtdb.europe-west1.firebasedatabase.app",projectId:"odin-ai-1d452",storageBucket:"odin-ai-1d452.appspot.com",messagingSenderId:"108799986020",appId:"1:108799986020:web:70d99216c4541c54c89271",measurementId:"G-TX38SQQDKQ"};let EL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[CL]}),n.\u0275inj=d.cJS({providers:[],imports:[[Hc,GD,aF,f1,XP,cL,lL,Zi.hO.initializeApp(ik_firebaseConfig),Xv]]}),n})();(0,d.G48)(),fs().bootstrapModule(EL).catch(n=>console.error(n))},3394:($e,Ee,V)=>{"use strict";V.d(Ee,{Z:()=>ye});var d=V(3854),te=V(3910),L=V(8026),he=V(5422);class ae{constructor(ge,se){this._delegate=ge,this.firebase=se,(0,L._addComponent)(ge,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(ge,se=L._DEFAULT_ENTRY_NAME){var ve;this._delegate.checkDestroyed();const Oe=this._delegate.container.getProvider(ge);return!Oe.isInitialized()&&"EXPLICIT"===(null===(ve=Oe.getComponent())||void 0===ve?void 0:ve.instantiationMode)&&Oe.initialize(),Oe.getImmediate({identifier:se})}_removeServiceInstance(ge,se=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(se)}_addComponent(ge){(0,L._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,L._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const oe=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function J(){const me=function(me){const ge={},se={__esModule:!0,initializeApp:function(yt,cn={}){const ft=L.initializeApp(yt,cn);if((0,d.r3)(ge,ft.name))return ge[ft.name];const ot=new me(ft,se);return ge[ft.name]=ot,ot},app:Oe,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function(yt){const cn=yt.name,ft=cn.replace("-compat","");if(L._registerComponent(yt)&&"PUBLIC"===yt.type){const ot=(Ft=Oe())=>{if("function"!=typeof Ft[ft])throw oe.create("invalid-app-argument",{appName:cn});return Ft[ft]()};void 0!==yt.serviceProps&&(0,d.ZB)(ot,yt.serviceProps),se[ft]=ot,me.prototype[ft]=function(...Ft){return this._getService.bind(this,cn).apply(this,yt.multipleInstances?Ft:[])}}return"PUBLIC"===yt.type?se[ft]:null},removeApp:function(yt){delete ge[yt]},useAsService:function(yt,cn){return"serverAuth"===cn?null:cn},modularAPIs:L}};function Oe(yt){if(!(0,d.r3)(ge,yt=yt||L._DEFAULT_ENTRY_NAME))throw oe.create("no-app",{appName:yt});return ge[yt]}return se.default=se,Object.defineProperty(se,"apps",{get:function(){return Object.keys(ge).map(yt=>ge[yt])}}),Oe.App=me,se}(ae);return me.INTERNAL=Object.assign(Object.assign({},me.INTERNAL),{createFirebaseNamespace:J,extendNamespace:function(se){(0,d.ZB)(me,se)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),me}(),j=new he.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const me=self.firebase.SDK_VERSION;me&&me.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ye=F;(0,L.registerVersion)("@firebase/app-compat","0.1.19",undefined)},8026:($e,Ee,V)=>{"use strict";V.r(Ee),V.d(Ee,{FirebaseError:()=>he.ZR,SDK_VERSION:()=>Zr,_DEFAULT_ENTRY_NAME:()=>is,_addComponent:()=>xi,_addOrOverwriteComponent:()=>ss,_apps:()=>Tt,_clearComponents:()=>Rn,_components:()=>Fr,_getProvider:()=>xs,_registerComponent:()=>Ht,_removeServiceInstance:()=>un,deleteApp:()=>Bn,getApp:()=>Te,getApps:()=>Vn,initializeApp:()=>fi,onLog:()=>qr,registerVersion:()=>St,setLogLevel:()=>ur});var d=V(8239),te=V(3910),L=V(5422),he=V(3854),ae=V(6676);class X{constructor(_e){this.container=_e}getPlatformInfoString(){return this.container.getProviders().map(Pe=>{if(function(De){const _e=De.getComponent();return"VERSION"===(null==_e?void 0:_e.type)}(Pe)){const ze=Pe.getImmediate();return`${ze.library}/${ze.version}`}return null}).filter(Pe=>Pe).join(" ")}}const Q="@firebase/app",J="0.7.18",F=new L.Yd("@firebase/app"),is="[DEFAULT]",tn={[Q]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Tt=new Map,Fr=new Map;function xi(De,_e){try{De.container.addComponent(_e)}catch(Pe){F.debug(`Component ${_e.name} failed to register with FirebaseApp ${De.name}`,Pe)}}function ss(De,_e){De.container.addOrOverwriteComponent(_e)}function Ht(De){const _e=De.name;if(Fr.has(_e))return F.debug(`There were multiple attempts to register component ${_e}.`),!1;Fr.set(_e,De);for(const Pe of Tt.values())xi(Pe,De);return!0}function xs(De,_e){const Pe=De.container.getProvider("heartbeat").getImmediate({optional:!0});return Pe&&Pe.triggerHeartbeat(),De.container.getProvider(_e)}function un(De,_e,Pe=is){xs(De,_e).clearInstance(Pe)}function Rn(){Fr.clear()}const Lt=new he.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class mo{constructor(_e,Pe,ze){this._isDeleted=!1,this._options=Object.assign({},_e),this._config=Object.assign({},Pe),this._name=Pe.name,this._automaticDataCollectionEnabled=Pe.automaticDataCollectionEnabled,this._container=ze,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this.checkDestroyed(),this._automaticDataCollectionEnabled=_e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_e){this._isDeleted=_e}checkDestroyed(){if(this.isDeleted)throw Lt.create("app-deleted",{appName:this._name})}}const Zr="9.6.8";function fi(De,_e={}){"object"!=typeof _e&&(_e={name:_e});const Pe=Object.assign({name:is,automaticDataCollectionEnabled:!1},_e),ze=Pe.name;if("string"!=typeof ze||!ze)throw Lt.create("bad-app-name",{appName:String(ze)});const ut=Tt.get(ze);if(ut){if((0,he.vZ)(De,ut.options)&&(0,he.vZ)(Pe,ut.config))return ut;throw Lt.create("duplicate-app",{appName:ze})}const Qe=new te.H0(ze);for(const Gn of Fr.values())Qe.addComponent(Gn);const qt=new mo(De,Pe,Qe);return Tt.set(ze,qt),qt}function Te(De=is){const _e=Tt.get(De);if(!_e)throw Lt.create("no-app",{appName:De});return _e}function Vn(){return Array.from(Tt.values())}function Bn(De){return We.apply(this,arguments)}function We(){return(We=(0,d.Z)(function*(De){const _e=De.name;Tt.has(_e)&&(Tt.delete(_e),yield Promise.all(De.container.getProviders().map(Pe=>Pe.delete())),De.isDeleted=!0)})).apply(this,arguments)}function St(De,_e,Pe){var ze;let ut=null!==(ze=tn[De])&&void 0!==ze?ze:De;Pe&&(ut+=`-${Pe}`);const Qe=ut.match(/\s|\//),qt=_e.match(/\s|\//);if(Qe||qt){const Gn=[`Unable to register library "${ut}" with version "${_e}":`];return Qe&&Gn.push(`library name "${ut}" contains illegal characters (whitespace or "/")`),Qe&&qt&&Gn.push("and"),qt&&Gn.push(`version name "${_e}" contains illegal characters (whitespace or "/")`),void F.warn(Gn.join(" "))}Ht(new te.wA(`${ut}-version`,()=>({library:ut,version:_e}),"VERSION"))}function qr(De,_e){if(null!==De&&"function"!=typeof De)throw Lt.create("invalid-log-argument");(0,L.Am)(De,_e)}function ur(De){(0,L.Ub)(De)}const pn="firebase-heartbeat-store";let rn=null;function _o(){return rn||(rn=(0,ae.openDb)("firebase-heartbeat-database",1,De=>{switch(De.oldVersion){case 0:De.createObjectStore(pn)}}).catch(De=>{throw Lt.create("storage-open",{originalErrorMessage:De.message})})),rn}function ke(){return(ke=(0,d.Z)(function*(De){try{return(yield _o()).transaction(pn).objectStore(pn).get(et(De))}catch(_e){throw Lt.create("storage-get",{originalErrorMessage:_e.message})}})).apply(this,arguments)}function Je(De,_e){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,d.Z)(function*(De,_e){try{const ze=(yield _o()).transaction(pn,"readwrite");return yield ze.objectStore(pn).put(_e,et(De)),ze.complete}catch(Pe){throw Lt.create("storage-set",{originalErrorMessage:Pe.message})}})).apply(this,arguments)}function Pt(){return(Pt=(0,d.Z)(function*(De){try{const Pe=(yield _o()).transaction(pn,"readwrite");return yield Pe.objectStore(pn).delete(et(De)),Pe.complete}catch(_e){throw Lt.create("storage-delete",{originalErrorMessage:_e.message})}})).apply(this,arguments)}function et(De){return`${De.name}!${De.options.appId}`}class Y{constructor(_e){this.container=_e,this._heartbeatsCache=null;const Pe=this.container.getProvider("app").getImmediate();this._storage=new Ce(Pe),this._heartbeatsCachePromise=this._storage.read().then(ze=>(this._heartbeatsCache=ze,ze))}triggerHeartbeat(){var _e=this;return(0,d.Z)(function*(){const ze=_e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ut=(new Date).toISOString().substring(0,10);if(null===_e._heartbeatsCache&&(_e._heartbeatsCache=yield _e._heartbeatsCachePromise),!_e._heartbeatsCache.some(Qe=>Qe.date===ut))return _e._heartbeatsCache.push({date:ut,userAgent:ze}),_e._heartbeatsCache=_e._heartbeatsCache.filter(Qe=>{const qt=new Date(Qe.date).valueOf();return Date.now()-qt<=2592e6}),_e._storage.overwrite(_e._heartbeatsCache)})()}getHeartbeatsHeader(){var _e=this;return(0,d.Z)(function*(){if(null===_e._heartbeatsCache&&(yield _e._heartbeatsCachePromise),null===_e._heartbeatsCache)return"";const{heartbeatsToSend:Pe,unsentEntries:ze}=function(De,_e=1024){const Pe=[];let ze=De.slice();for(const ut of De){const Qe=Pe.find(qt=>qt.userAgent===ut.userAgent);if(Qe){if(Qe.dates.push(ut.date),le(Pe)>_e){Qe.dates.pop();break}}else if(Pe.push({userAgent:ut.userAgent,dates:[ut.date]}),le(Pe)>_e){Pe.pop();break}ze=ze.slice(1)}return{heartbeatsToSend:Pe,unsentEntries:ze}}(_e._heartbeatsCache),ut=(0,he.h$)(JSON.stringify({version:2,heartbeats:Pe}));return ze.length>0?(_e._heartbeatsCache=ze,yield _e._storage.overwrite(_e._heartbeatsCache)):(_e._heartbeatsCache=null,_e._storage.deleteAll()),ut})()}}class Ce{constructor(_e){this.app=_e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,he.hl)()&&(0,he.eu)().then(()=>!0).catch(()=>!1)})()}read(){var _e=this;return(0,d.Z)(function*(){if(yield _e._canUseIndexedDBPromise){const ze=yield function(De){return ke.apply(this,arguments)}(_e.app);return(null==ze?void 0:ze.heartbeats)||[]}return[]})()}overwrite(_e){var Pe=this;return(0,d.Z)(function*(){if(yield Pe._canUseIndexedDBPromise)return Je(Pe.app,{heartbeats:_e})})()}add(_e){var Pe=this;return(0,d.Z)(function*(){if(yield Pe._canUseIndexedDBPromise){const ut=yield Pe.read();return Je(Pe.app,{heartbeats:[...ut,..._e]})}})()}delete(_e){var Pe=this;return(0,d.Z)(function*(){if(yield Pe._canUseIndexedDBPromise){const ut=yield Pe.read();return Je(Pe.app,{heartbeats:ut.filter(Qe=>!_e.includes(Qe))})}})()}deleteAll(){var _e=this;return(0,d.Z)(function*(){if(yield _e._canUseIndexedDBPromise)return function(De){return Pt.apply(this,arguments)}(_e.app)})()}}function le(De){return(0,he.h$)(JSON.stringify({version:2,heartbeats:De})).length}Ht(new te.wA("platform-logger",_e=>new X(_e),"PRIVATE")),Ht(new te.wA("heartbeat",_e=>new Y(_e),"PRIVATE")),St(Q,J,""),St(Q,J,"esm2017"),St("fire-js","")},3910:($e,Ee,V)=>{"use strict";V.d(Ee,{wA:()=>L,H0:()=>Q,zt:()=>ae});var d=V(8239),te=V(3854);class L{constructor(F,j,G){this.name=F,this.instanceFactory=j,this.type=G,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(F){return this.instantiationMode=F,this}setMultipleInstances(F){return this.multipleInstances=F,this}setServiceProps(F){return this.serviceProps=F,this}setInstanceCreatedCallback(F){return this.onInstanceCreated=F,this}}const he="[DEFAULT]";class ae{constructor(F,j){this.name=F,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(F){const j=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(j)){const G=new te.BH;if(this.instancesDeferred.set(j,G),this.isInitialized(j)||this.shouldAutoInitialize())try{const ce=this.getOrInitializeService({instanceIdentifier:j});ce&&G.resolve(ce)}catch(ce){}}return this.instancesDeferred.get(j).promise}getImmediate(F){var j;const G=this.normalizeInstanceIdentifier(null==F?void 0:F.identifier),ce=null!==(j=null==F?void 0:F.optional)&&void 0!==j&&j;if(!this.isInitialized(G)&&!this.shouldAutoInitialize()){if(ce)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:G})}catch(ie){if(ce)return null;throw ie}}getComponent(){return this.component}setComponent(F){if(F.name!==this.name)throw Error(`Mismatching Component ${F.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=F,this.shouldAutoInitialize()){if("EAGER"===F.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:he})}catch(j){}for(const[j,G]of this.instancesDeferred.entries()){const ce=this.normalizeInstanceIdentifier(j);try{const ie=this.getOrInitializeService({instanceIdentifier:ce});G.resolve(ie)}catch(ie){}}}}clearInstance(F=he){this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)}delete(){var F=this;return(0,d.Z)(function*(){const j=Array.from(F.instances.values());yield Promise.all([...j.filter(G=>"INTERNAL"in G).map(G=>G.INTERNAL.delete()),...j.filter(G=>"_delete"in G).map(G=>G._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(F=he){return this.instances.has(F)}getOptions(F=he){return this.instancesOptions.get(F)||{}}initialize(F={}){const{options:j={}}=F,G=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(G))throw Error(`${this.name}(${G}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ce=this.getOrInitializeService({instanceIdentifier:G,options:j});for(const[ie,ye]of this.instancesDeferred.entries())G===this.normalizeInstanceIdentifier(ie)&&ye.resolve(ce);return ce}onInit(F,j){var G;const ce=this.normalizeInstanceIdentifier(j),ie=null!==(G=this.onInitCallbacks.get(ce))&&void 0!==G?G:new Set;ie.add(F),this.onInitCallbacks.set(ce,ie);const ye=this.instances.get(ce);return ye&&F(ye,ce),()=>{ie.delete(F)}}invokeOnInitCallbacks(F,j){const G=this.onInitCallbacks.get(j);if(G)for(const ce of G)try{ce(F,j)}catch(ie){}}getOrInitializeService({instanceIdentifier:F,options:j={}}){let G=this.instances.get(F);if(!G&&this.component&&(G=this.component.instanceFactory(this.container,{instanceIdentifier:(J=F,J===he?void 0:J),options:j}),this.instances.set(F,G),this.instancesOptions.set(F,j),this.invokeOnInitCallbacks(G,F),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,F,G)}catch(ce){}var J;return G||null}normalizeInstanceIdentifier(F=he){return this.component?this.component.multipleInstances?F:he:F}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Q{constructor(F){this.name=F,this.providers=new Map}addComponent(F){const j=this.getProvider(F.name);if(j.isComponentSet())throw new Error(`Component ${F.name} has already been registered with ${this.name}`);j.setComponent(F)}addOrOverwriteComponent(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)}getProvider(F){if(this.providers.has(F))return this.providers.get(F);const j=new ae(F,this);return this.providers.set(F,j),j}getProviders(){return Array.from(this.providers.values())}}},5422:($e,Ee,V)=>{"use strict";V.d(Ee,{in:()=>te,Yd:()=>oe,Ub:()=>Q,Am:()=>J});const d=[];var te=(()=>{return(F=te||(te={}))[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT",te;var F})();const L={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},he=te.INFO,ae={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},X=(F,j,...G)=>{if(j<F.logLevel)return;const ce=(new Date).toISOString(),ie=ae[j];if(!ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[ie](`[${ce}]  ${F.name}:`,...G)};class oe{constructor(j){this.name=j,this._logLevel=he,this._logHandler=X,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in te))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?L[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...j),this._logHandler(this,te.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...j),this._logHandler(this,te.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,te.INFO,...j),this._logHandler(this,te.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,te.WARN,...j),this._logHandler(this,te.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...j),this._logHandler(this,te.ERROR,...j)}}function Q(F){d.forEach(j=>{j.setLogLevel(F)})}function J(F,j){for(const G of d){let ce=null;j&&j.level&&(ce=L[j.level]),G.userLogHandler=null===F?null:(ie,ye,...me)=>{const ge=me.map(se=>{if(null==se)return null;if("string"==typeof se)return se;if("number"==typeof se||"boolean"==typeof se)return se.toString();if(se instanceof Error)return se.message;try{return JSON.stringify(se)}catch(ve){return null}}).filter(se=>se).join(" ");ye>=(null!=ce?ce:ie.logLevel)&&F({level:te[ye].toLowerCase(),message:ge,args:me,type:ie.name})}}}},8239:($e,Ee,V)=>{"use strict";function d(L,he,ae,X,oe,Q,J){try{var F=L[Q](J),j=F.value}catch(G){return void ae(G)}F.done?he(j):Promise.resolve(j).then(X,oe)}function te(L){return function(){var he=this,ae=arguments;return new Promise(function(X,oe){var Q=L.apply(he,ae);function J(j){d(Q,X,oe,J,F,"next",j)}function F(j){d(Q,X,oe,J,F,"throw",j)}J(void 0)})}}V.d(Ee,{Z:()=>te})}},$e=>{$e($e.s=5473)}]);