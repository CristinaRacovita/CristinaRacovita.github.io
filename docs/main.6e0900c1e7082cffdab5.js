(self.webpackChunkodin_ai=self.webpackChunkodin_ai||[]).push([[179],{8255:Ye=>{function Te(V){return Promise.resolve().then(()=>{var u=new Error("Cannot find module '"+V+"'");throw u.code="MODULE_NOT_FOUND",u})}Te.keys=()=>[],Te.resolve=Te,Te.id=8255,Ye.exports=Te},7716:(Ye,Te,V)=>{"use strict";V.d(Te,{deG:()=>ef,tb:()=>jA,AFp:()=>VA,ip1:()=>F0,CZH:()=>Pp,hGG:()=>Ux,z2F:()=>Hu,sBO:()=>ui,Sil:()=>d_,_Vd:()=>_h,EJc:()=>$A,SBq:()=>Eo,qLn:()=>v,vpe:()=>To,gxx:()=>Yt,tBr:()=>Xa,XFs:()=>Ze,OlP:()=>ln,zs3:()=>Qe,ZZ4:()=>Pu,aQg:()=>Um,soG:()=>hb,YKP:()=>Bv,v3s:()=>nM,h0i:()=>ga,PXZ:()=>Ex,R0b:()=>$s,FiY:()=>Os,Lbi:()=>UA,g9A:()=>BA,Qsj:()=>_I,FYo:()=>xu,JOm:()=>ts,Tiy:()=>Pv,q3G:()=>En,tp0:()=>cr,EAV:()=>oM,Rgc:()=>gp,dDg:()=>ZA,DyG:()=>Si,q4F:()=>Pw,GfV:()=>xw,s_b:()=>Gm,ifc:()=>Ue,eFA:()=>XA,G48:()=>gx,Gpc:()=>j,f3M:()=>Dd,X6Q:()=>$0,_c5:()=>kx,VLi:()=>px,c2e:()=>HA,zSh:()=>Pf,wAp:()=>it,vHH:()=>Ee,EiD:()=>lu,mCW:()=>Ul,qzn:()=>iu,JVY:()=>mg,pB0:()=>il,eBb:()=>su,L6k:()=>cf,LAX:()=>uo,cg1:()=>vv,Tjo:()=>Rx,kL8:()=>Am,yhl:()=>ta,dqk:()=>Lt,sIi:()=>Uf,CqO:()=>ym,QGY:()=>_m,F4k:()=>OE,RDi:()=>id,AaK:()=>Q,z3N:()=>co,qOj:()=>vu,TTD:()=>Uo,_Bn:()=>Ow,xp6:()=>zg,uIk:()=>$y,ekj:()=>np,Suo:()=>fA,Xpm:()=>bt,lG2:()=>wl,Yz7:()=>jt,cJS:()=>Tt,oAB:()=>Ro,Yjl:()=>ms,Y36:()=>oh,_UZ:()=>AE,qZA:()=>ev,TgZ:()=>Xy,EpF:()=>nv,n5z:()=>Zc,Ikx:()=>yv,LFG:()=>on,$8M:()=>md,NdJ:()=>ah,CRH:()=>I0,oxw:()=>rv,Hsn:()=>iv,F$t:()=>PE,Q6J:()=>mm,s9C:()=>da,MGl:()=>Kf,VKq:()=>a_,iGM:()=>S0,CHM:()=>Pc,oJD:()=>mf,LSH:()=>xd,kYT:()=>El,Udp:()=>tp,WFA:()=>vm,d8E:()=>dp,YNc:()=>$f,_uU:()=>ZE,Oqu:()=>Iu,hij:()=>ch,Gf:()=>T0});var u=V(9765),re=V(5319),L=V(7574),he=V(6682),le=V(8819);function ee(i){for(let s in i)if(i[s]===ee)return s;throw Error("Could not find renamed property on target object.")}function ie(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function Q(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Q).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function X(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const F=ee({__forward_ref__:ee});function j(i){return i.__forward_ref__=j,i.toString=function(){return Q(this())},i}function H(i){return ce(i)?i():i}function ce(i){return"function"==typeof i&&i.hasOwnProperty(F)&&i.__forward_ref__===j}class Ee extends Error{constructor(s,o){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,o)),this.code=s}}function se(i){return"string"==typeof i?i:null==i?"":String(i)}function we(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():se(i)}function Rt(i,s){const o=s?` in ${s}`:"";throw new Ee("201",`No provider for ${we(i)} found${o}`)}function kt(i,s){null==i&&function(i,s,o,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${o} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function jt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Tt(i){return{providers:i.providers||[],imports:i.imports||[]}}function Un(i){return Dr(i,Ni)||Dr(i,qr)}function Dr(i,s){return i.hasOwnProperty(s)?i[s]:null}function fs(i){return i&&(i.hasOwnProperty(fr)||i.hasOwnProperty(Ys))?i[fr]:null}const Ni=ee({\u0275prov:ee}),fr=ee({\u0275inj:ee}),qr=ee({ngInjectableDef:ee}),Ys=ee({ngInjectorDef:ee});var Ze=(()=>((Ze=Ze||{})[Ze.Default=0]="Default",Ze[Ze.Host=1]="Host",Ze[Ze.Self=2]="Self",Ze[Ze.SkipSelf=4]="SkipSelf",Ze[Ze.Optional=8]="Optional",Ze))();let an;function pr(i){const s=an;return an=i,s}function er(i,s,o){const l=Un(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&Ze.Optional?null:void 0!==s?s:void Rt(Q(i),"Injector")}function Sn(i){return{toString:i}.toString()}var tn=(()=>((tn=tn||{})[tn.OnPush=0]="OnPush",tn[tn.Default=1]="Default",tn))(),Ue=(()=>((Ue=Ue||{})[Ue.Emulated=0]="Emulated",Ue[Ue.None=2]="None",Ue[Ue.ShadowDom=3]="ShadowDom",Ue))();const st="undefined"!=typeof globalThis&&globalThis,tr="undefined"!=typeof window&&window,Ur="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Lt=st||"undefined"!=typeof global&&global||tr||Ur,W={},G=[],q=ee({\u0275cmp:ee}),Ie=ee({\u0275dir:ee}),de=ee({\u0275pipe:ee}),ze=ee({\u0275mod:ee}),Me=ee({\u0275loc:ee}),be=ee({\u0275fac:ee}),Le=ee({__NG_ELEMENT_ID__:ee});let We=0;function bt(i){return Sn(()=>{const o={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===tn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||G,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Ue.Emulated,id:"c",styles:i.styles||G,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,h=i.features,m=i.pipes;return l.id+=We++,l.inputs=Ta(i.inputs,o),l.outputs=Ta(i.outputs),h&&h.forEach(y=>y(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(Ht):null,l.pipeDefs=m?()=>("function"==typeof m?m():m).map(dn):null,l})}function Ht(i){return jn(i)||function(i){return i[Ie]||null}(i)}function dn(i){return function(i){return i[de]||null}(i)}const Sa={};function Ro(i){return Sn(()=>{const s={type:i.type,bootstrap:i.bootstrap||G,declarations:i.declarations||G,imports:i.imports||G,exports:i.exports||G,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Sa[i.id]=i.type),s})}function El(i,s){return Sn(()=>{const o=Kr(i,!0);o.declarations=s.declarations||G,o.imports=s.imports||G,o.exports=s.exports||G})}function Ta(i,s){if(null==i)return W;const o={};for(const l in i)if(i.hasOwnProperty(l)){let d=i[l],h=d;Array.isArray(d)&&(h=d[1],d=d[0]),o[d]=l,s&&(s[d]=h)}return o}const wl=bt;function ms(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function jn(i){return i[q]||null}function Kr(i,s){const o=i[ze]||null;if(!o&&!0===s)throw new Error(`Type ${Q(i)} does not have '\u0275mod' property.`);return o}function gi(i){return Array.isArray(i)&&"object"==typeof i[1]}function sr(i){return Array.isArray(i)&&!0===i[1]}function Sl(i){return 0!=(8&i.flags)}function Tl(i){return 2==(2&i.flags)}function No(i){return 1==(1&i.flags)}function _r(i){return null!==i.template}function In(i){return 0!=(512&i[2])}function Bi(i,s){return i.hasOwnProperty(be)?i[be]:null}class nd{constructor(s,o,l){this.previousValue=s,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function Uo(){return Cs}function Cs(i){return i.type.prototype.ngOnChanges&&(i.setInput=Ui),rg}function rg(){const i=Oc(this),s=null==i?void 0:i.current;if(s){const o=i.previous;if(o===W)i.previous=s;else for(let l in s)o[l]=s[l];i.current=null,this.ngOnChanges(s)}}function Ui(i,s,o,l){const d=Oc(i)||function(i,s){return i[Xr]=s}(i,{previous:W,current:null}),h=d.current||(d.current={}),m=d.previous,y=this.declaredInputs[o],E=m[y];h[y]=new nd(E&&E.currentValue,s,m===W),i[l]=s}Uo.ngInherit=!0;const Xr="__ngSimpleChanges__";function Oc(i){return i[Xr]||null}let xa;function id(i){xa=i}function Es(){return void 0!==xa?xa:"undefined"!=typeof document?document:void 0}function Qt(i){return!!i.listen}const ti={createRenderer:(i,s)=>Es()};function Jt(i){for(;Array.isArray(i);)i=i[0];return i}function ws(i,s){return Jt(s[i])}function or(i,s){return Jt(s[i.index])}function Al(i,s){return i.data[s]}function yr(i,s){const o=s[i];return gi(o)?o:o[0]}function Fa(i){return 4==(4&i[2])}function xc(i){return 128==(128&i[2])}function ji(i,s){return null==s?null:i[s]}function jo(i){i[18]=0}function Ss(i,s){i[5]+=s;let o=i,l=i[3];for(;null!==l&&(1===s&&1===o[5]||-1===s&&0===o[5]);)l[5]+=s,o=l,l=l[3]}const ot={lFrame:ld(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Va(){return ot.bindingsEnabled}function Oe(){return ot.lFrame.lView}function Et(){return ot.lFrame.tView}function Pc(i){return ot.lFrame.contextLView=i,i[8]}function Zt(){let i=kc();for(;null!==i&&64===i.type;)i=i.parent;return i}function kc(){return ot.lFrame.currentTNode}function jr(i,s){const o=ot.lFrame;o.currentTNode=i,o.isParent=s}function Ol(){return ot.lFrame.isParent}function Ho(){ot.lFrame.isParent=!1}function $o(){return ot.isInCheckNoChangesMode}function Go(i){ot.isInCheckNoChangesMode=i}function $i(){return ot.lFrame.bindingIndex++}function Nc(i,s){const o=ot.lFrame;o.bindingIndex=o.bindingRootIndex=i,Fc(s)}function Fc(i){ot.lFrame.currentDirectiveIndex=i}function Ks(i){const s=ot.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function ad(){return ot.lFrame.currentQueryIndex}function ja(i){ot.lFrame.currentQueryIndex=i}function Ha(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function $a(i,s,o){if(o&Ze.SkipSelf){let d=s,h=i;for(;!(d=d.parent,null!==d||o&Ze.Host||(d=Ha(h),null===d||(h=h[15],10&d.type))););if(null===d)return!1;s=d,i=h}const l=ot.lFrame=Qs();return l.currentTNode=s,l.lView=i,!0}function Ga(i){const s=Qs(),o=i[1];ot.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function Qs(){const i=ot.lFrame,s=null===i?null:i.child;return null===s?ld(i):s}function ld(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function cd(){const i=ot.lFrame;return ot.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const ud=cd;function Js(){const i=cd();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function lr(){return ot.lFrame.selectedIndex}function za(i){ot.lFrame.selectedIndex=i}function An(){const i=ot.lFrame;return Al(i.tView,i.selectedIndex)}function Wo(i,s){for(let o=s.directiveStart,l=s.directiveEnd;o<l;o++){const h=i.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:y,ngAfterViewInit:E,ngAfterViewChecked:S,ngOnDestroy:I}=h;m&&(i.contentHooks||(i.contentHooks=[])).push(-o,m),y&&((i.contentHooks||(i.contentHooks=[])).push(o,y),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(o,y)),E&&(i.viewHooks||(i.viewHooks=[])).push(-o,E),S&&((i.viewHooks||(i.viewHooks=[])).push(o,S),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(o,S)),null!=I&&(i.destroyHooks||(i.destroyHooks=[])).push(o,I)}}function Yo(i,s,o){Uc(i,s,3,o)}function Wa(i,s,o,l){(3&i[2])===o&&Uc(i,s,o,l)}function Mn(i,s){let o=i[2];(3&o)===s&&(o&=2047,o+=1,i[2]=o)}function Uc(i,s,o,l){const h=null!=l?l:-1,m=s.length-1;let y=0;for(let E=void 0!==l?65535&i[18]:0;E<m;E++)if("number"==typeof s[E+1]){if(y=s[E],null!=l&&y>=l)break}else s[E]<0&&(i[18]+=65536),(y<h||-1==h)&&(jc(i,o,s,E),i[18]=(4294901760&i[18])+E+2),E++}function jc(i,s,o,l){const d=o[l]<0,h=o[l+1],y=i[d?-o[l]:o[l]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{h.call(y)}finally{}}}else try{h.call(y)}finally{}}class Rl{constructor(s,o,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function Ei(i,s,o){const l=Qt(i);let d=0;for(;d<o.length;){const h=o[d];if("number"==typeof h){if(0!==h)break;d++;const m=o[d++],y=o[d++],E=o[d++];l?i.setAttribute(s,y,E,m):s.setAttributeNS(m,y,E)}else{const m=h,y=o[++d];wi(m)?l&&i.setProperty(s,m,y):l?i.setAttribute(s,m,y):s.setAttribute(m,y),d++}}return d}function hd(i){return 3===i||4===i||6===i}function wi(i){return 64===i.charCodeAt(0)}function Gi(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?o=d:0===o||fd(i,o,d,null,-1===o||2===o?s[++l]:null)}}return i}function fd(i,s,o,l,d){let h=0,m=i.length;if(-1===s)m=-1;else for(;h<i.length;){const y=i[h++];if("number"==typeof y){if(y===s){m=-1;break}if(y>s){m=h-1;break}}}for(;h<i.length;){const y=i[h];if("number"==typeof y)break;if(y===o){if(null===l)return void(null!==d&&(i[h+1]=d));if(l===i[h+1])return void(i[h+2]=d)}h++,null!==l&&h++,null!==d&&h++}-1!==m&&(i.splice(m,0,s),h=m+1),i.splice(h++,0,o),null!==l&&i.splice(h++,0,l),null!==d&&i.splice(h++,0,d)}function fn(i){return-1!==i}function zi(i){return 32767&i}function eo(i,s){let o=function(i){return i>>16}(i),l=s;for(;o>0;)l=l[15],o--;return l}let Za=!0;function Zo(i){const s=Za;return Za=i,s}let Wc=0;function Wi(i,s){const o=yn(i,s);if(-1!==o)return o;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,to(l.data,i),to(s,null),to(l.blueprint,null));const d=Ge(i,s),h=i.injectorIndex;if(fn(d)){const m=zi(d),y=eo(d,s),E=y[1].data;for(let S=0;S<8;S++)s[h+S]=y[m+S]|E[m+S]}return s[h+8]=d,h}function to(i,s){i.push(0,0,0,0,0,0,0,0,s)}function yn(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Ge(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,l=null,d=s;for(;null!==d;){const h=d[1],m=h.type;if(l=2===m?h.declTNode:1===m?d[6]:null,null===l)return-1;if(o++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function ht(i,s,o){!function(i,s,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(Le)&&(l=o[Le]),null==l&&(l=o[Le]=Wc++);const d=255&l;s.data[i+(d>>5)]|=1<<d}(i,s,o)}function Wn(i,s,o){if(o&Ze.Optional)return i;Rt(s,"NodeInjector")}function Ts(i,s,o,l){if(o&Ze.Optional&&void 0===l&&(l=null),0==(o&(Ze.Self|Ze.Host))){const d=i[9],h=pr(void 0);try{return d?d.get(s,l,o&Ze.Optional):er(s,l,o&Ze.Optional)}finally{pr(h)}}return Wn(l,s,o)}function no(i,s,o,l=Ze.Default,d){if(null!==i){const h=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Le)?i[Le]:void 0;return"number"==typeof s?s>=0?255&s:xl:s}(o);if("function"==typeof h){if(!$a(s,i,l))return l&Ze.Host?Wn(d,o,l):Ts(s,o,l,d);try{const m=h(l);if(null!=m||l&Ze.Optional)return m;Rt(o)}finally{ud()}}else if("number"==typeof h){let m=null,y=yn(i,s),E=-1,S=l&Ze.Host?s[16][6]:null;for((-1===y||l&Ze.SkipSelf)&&(E=-1===y?Ge(i,s):s[y+8],-1!==E&&Ka(l,!1)?(m=s[1],y=zi(E),s=eo(E,s)):y=-1);-1!==y;){const I=s[1];if(Pl(h,y,I.data)){const P=L_(y,s,o,m,l,S);if(P!==vn)return P}E=s[y+8],-1!==E&&Ka(l,s[1].data[y+8]===S)&&Pl(h,y,s)?(m=I,y=zi(E),s=eo(E,s)):y=-1}}}return Ts(s,o,l,d)}const vn={};function xl(){return new Zi(Zt(),Oe())}function L_(i,s,o,l,d,h){const m=s[1],y=m.data[i+8],I=Yi(y,m,o,null==l?Tl(y)&&Za:l!=m&&0!=(3&y.type),d&Ze.Host&&h===y);return null!==I?sn(s,m,I,y):vn}function Yi(i,s,o,l,d){const h=i.providerIndexes,m=s.data,y=1048575&h,E=i.directiveStart,I=h>>20,N=d?y+I:i.directiveEnd;for(let $=l?y:y+I;$<N;$++){const K=m[$];if($<E&&o===K||$>=E&&K.type===o)return $}if(d){const $=m[E];if($&&_r($)&&$.type===o)return E}return null}function sn(i,s,o,l){let d=i[o];const h=s.data;if(function(i){return i instanceof Rl}(d)){const m=d;m.resolving&&function(i,s){throw new Ee("200",`Circular dependency in DI detected for ${i}`)}(we(h[o]));const y=Zo(m.canSeeViewProviders);m.resolving=!0;const E=m.injectImpl?pr(m.injectImpl):null;$a(i,l,Ze.Default);try{d=i[o]=m.factory(void 0,h,i,l),s.firstCreatePass&&o>=l.directiveStart&&function(i,s,o){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:h}=s.type.prototype;if(l){const m=Cs(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(i,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,m)}d&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-i,d),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(i,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,h))}(o,h[o],s)}finally{null!==E&&pr(E),Zo(y),m.resolving=!1,ud()}}return d}function Pl(i,s,o){return!!(o[s+(i>>5)]&1<<i)}function Ka(i,s){return!(i&Ze.Self||i&Ze.Host&&s)}class Zi{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,l){return no(this._tNode,this._lView,s,l,o)}}function Zc(i){return Sn(()=>{const s=i.prototype.constructor,o=s[be]||qo(s),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const h=d[be]||qo(d);if(h&&h!==o)return h;d=Object.getPrototypeOf(d)}return h=>new h})}function qo(i){return ce(i)?()=>{const s=qo(H(i));return s&&s()}:Bi(i)}function md(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const l=o.length;let d=0;for(;d<l;){const h=o[d];if(hd(h))break;if(0===h)d+=2;else if("number"==typeof h)for(d++;d<l&&"string"==typeof o[d];)d++;else{if(h===s)return o[d+1];d+=2}}}return null}(Zt(),i)}const $r="__parameters__";function ri(i,s,o){return Sn(()=>{const l=function(i){return function(...o){if(i){const l=i(...o);for(const d in l)this[d]=l[d]}}}(s);function d(...h){if(this instanceof d)return l.apply(this,h),this;const m=new d(...h);return y.annotation=m,y;function y(E,S,I){const P=E.hasOwnProperty($r)?E[$r]:Object.defineProperty(E,$r,{value:[]})[$r];for(;P.length<=I;)P.push(null);return(P[I]=P[I]||[]).push(m),E}}return o&&(d.prototype=Object.create(o.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class ln{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=jt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ef=new ln("AnalyzeForEntryComponents"),Si=Function;function si(i,s){void 0===s&&(s=i);for(let o=0;o<i.length;o++){let l=i[o];Array.isArray(l)?(s===i&&(s=i.slice(0,o)),si(l,s)):s!==i&&s.push(l)}return s}function Ti(i,s){i.forEach(o=>Array.isArray(o)?Ti(o,s):s(o))}function io(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function Or(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Qi(i,s){const o=[];for(let l=0;l<i;l++)o.push(s);return o}function bn(i,s,o){let l=Ji(i,s);return l>=0?i[1|l]=o:(l=~l,function(i,s,o,l){let d=i.length;if(d==s)i.push(o,l);else if(1===d)i.push(l,i[0]),i[0]=o;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=o,i[s+1]=l}}(i,l,s,o)),l}function qn(i,s){const o=Ji(i,s);if(o>=0)return i[1|o]}function Ji(i,s){return function(i,s,o){let l=0,d=i.length>>o;for(;d!==l;){const h=l+(d-l>>1),m=i[h<<o];if(s===m)return h<<o;m>s?d=h:l=h+1}return~(d<<o)}(i,s,1)}const Mt={},zt="__NG_DI_FLAG__",Cn="ngTempTokenPath",Nn=/\n/gm,Ja="__source",Gr=ee({provide:String,useValue:ee});let xr;function ft(i){const s=xr;return xr=i,s}function nf(i,s=Ze.Default){if(void 0===xr)throw new Error("inject() must be called from an injection context");return null===xr?er(i,void 0,s):xr.get(i,s&Ze.Optional?null:void 0,s)}function on(i,s=Ze.Default){return(an||nf)(H(i),s)}const Dd=on;function ea(i){const s=[];for(let o=0;o<i.length;o++){const l=H(i[o]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let d,h=Ze.Default;for(let m=0;m<l.length;m++){const y=l[m],E=cg(y);"number"==typeof E?-1===E?d=y.token:h|=E:d=y}s.push(on(d,h))}else s.push(on(l))}return s}function Qc(i,s){return i[zt]=s,i.prototype[zt]=s,i}function cg(i){return i[zt]}function oi(i,s,o,l){const d=i[Cn];throw s[Ja]&&d.unshift(s[Ja]),i.message=function(i,s,o,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=Q(s);if(Array.isArray(s))d=s.map(Q).join(" -> ");else if("object"==typeof s){let h=[];for(let m in s)if(s.hasOwnProperty(m)){let y=s[m];h.push(m+":"+("string"==typeof y?JSON.stringify(y):Q(y)))}d=`{${h.join(", ")}}`}return`${o}${l?"("+l+")":""}[${d}]: ${i.replace(Nn,"\n  ")}`}("\n"+i.message,d,o,l),i.ngTokenPath=d,i[Cn]=null,i}const Xa=Qc(ri("Inject",i=>({token:i})),-1),Os=Qc(ri("Optional"),8),cr=Qc(ri("SkipSelf"),4);let Vl,Td;function ao(i){var s;return(null===(s=function(){if(void 0===Vl&&(Vl=null,Lt.trustedTypes))try{Vl=Lt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Vl}())||void 0===s?void 0:s.createHTML(i))||i}function nu(i){var s;return(null===(s=function(){if(void 0===Td&&(Td=null,Lt.trustedTypes))try{Td=Lt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Td}())||void 0===s?void 0:s.createHTML(i))||i}class lo{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class j_ extends lo{getTypeName(){return"HTML"}}class gg extends lo{getTypeName(){return"Style"}}class ru extends lo{getTypeName(){return"Script"}}class H_ extends lo{getTypeName(){return"URL"}}class $_ extends lo{getTypeName(){return"ResourceURL"}}function co(i){return i instanceof lo?i.changingThisBreaksApplicationSecurity:i}function iu(i,s){const o=ta(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}function ta(i){return i instanceof lo&&i.getTypeName()||null}function mg(i){return new j_(i)}function cf(i){return new gg(i)}function su(i){return new ru(i)}function uo(i){return new H_(i)}function il(i){return new $_(i)}class _g{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(ao(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class df{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const l=this.inertDocument.createElement("body");o.appendChild(l)}}getInertBodyElement(s){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=ao(s),o;const l=this.inertDocument.createElement("body");return l.innerHTML=ao(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const o=s.attributes;for(let d=o.length-1;0<d;d--){const m=o.item(d).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&s.removeAttribute(m)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const yg=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ad=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ul(i){return(i=String(i)).match(yg)||i.match(Ad)?i:"unsafe:"+i}function Xi(i){const s={};for(const o of i.split(","))s[o]=!0;return s}function sl(...i){const s={};for(const o of i)for(const l in o)o.hasOwnProperty(l)&&(s[l]=!0);return s}const ou=Xi("area,br,col,hr,img,wbr"),Od=Xi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),au=Xi("rp,rt"),hf=sl(ou,sl(Od,Xi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),sl(au,Xi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),sl(au,Od)),jl=Xi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Rs=Xi("srcset"),ff=sl(jl,Rs,Xi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wg=Xi("script,style,template");class pf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,l=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?l=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,l&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let d=this.checkClobberedElement(o,o.nextSibling);if(d){o=d;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!hf.hasOwnProperty(o))return this.sanitizedSomething=!0,!wg.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const l=s.attributes;for(let d=0;d<l.length;d++){const h=l.item(d),m=h.name,y=m.toLowerCase();if(!ff.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let E=h.value;jl[y]&&(E=Ul(E)),Rs[y]&&(i=E,E=(i=String(i)).split(",").map(s=>Ul(s.trim())).join(", ")),this.buf.push(" ",m,'="',Dg(E),'"')}var i;return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();hf.hasOwnProperty(o)&&!ou.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(Dg(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const W_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Y_=/([^\#-~ |!])/g;function Dg(i){return i.replace(/&/g,"&amp;").replace(W_,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Y_,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let na;function lu(i,s){let o=null;try{na=na||function(i){const s=new df(i);return function(){try{return!!(new window.DOMParser).parseFromString(ao(""),"text/html")}catch(i){return!1}}()?new _g(s):s}(i);let l=s?String(s):"";o=na.getInertBodyElement(l);let d=5,h=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=h,h=o.innerHTML,o=na.getInertBodyElement(l)}while(l!==h);return ao((new pf).sanitizeChildren(Rd(o)||o))}finally{if(o){const l=Rd(o)||o;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Rd(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var En=(()=>((En=En||{})[En.NONE=0]="NONE",En[En.HTML=1]="HTML",En[En.STYLE=2]="STYLE",En[En.SCRIPT=3]="SCRIPT",En[En.URL=4]="URL",En[En.RESOURCE_URL=5]="RESOURCE_URL",En))();function mf(i){const s=Hl();return s?nu(s.sanitize(En.HTML,i)||""):iu(i,"HTML")?nu(co(i)):lu(Es(),se(i))}function xd(i){const s=Hl();return s?s.sanitize(En.URL,i)||"":iu(i,"URL")?co(i):Ul(se(i))}function Hl(){const i=Oe();return i&&i[12]}const $l="__ngContext__";function Qn(i,s){i[$l]=s}function Ps(i){const s=function(i){return i[$l]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function ll(i){return i.ngOriginalError}function K_(i,...s){i.error(...s)}class v{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s),l=this._findContext(s),d=(i=s)&&i.ngErrorLogger||K_;var i;d(this._console,"ERROR",s),o&&d(this._console,"ORIGINAL ERROR",o),l&&d(this._console,"ERROR CONTEXT",l)}_findContext(s){return s?s.ngDebugContext||this._findContext(ll(s)):null}_findOriginalError(s){let o=s&&ll(s);for(;o&&ll(o);)o=ll(o);return o||null}}const Ii=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Lt))();function es(i){return i instanceof Function?i():i}var ts=(()=>((ts=ts||{})[ts.Important=1]="Important",ts[ts.DashCase=2]="DashCase",ts))();function Zl(i,s){return undefined(i,s)}function Df(i){const s=i[3];return sr(s)?s[3]:s}function Pg(i){return X_(i[13])}function uC(i){return X_(i[4])}function X_(i){for(;null!==i&&!sr(i);)i=i[4];return i}function uu(i,s,o,l,d){if(null!=l){let h,m=!1;sr(l)?h=l:gi(l)&&(m=!0,l=l[0]);const y=Jt(l);0===i&&null!==o?null==d?gC(s,o,y):Kl(s,o,y,d||null,!0):1===i&&null!==o?Kl(s,o,y,d||null,!0):2===i?function(i,s,o){const l=Lg(i,s);l&&function(i,s,o,l){Qt(i)?i.removeChild(s,o,l):s.removeChild(o)}(i,l,s,o)}(s,y,m):3===i&&s.destroyNode(y),null!=h&&function(i,s,o,l,d){const h=o[7];h!==Jt(o)&&uu(s,i,l,h,d);for(let y=10;y<o.length;y++){const E=o[y];hu(E[1],E,i,s,l,h)}}(s,i,h,o,d)}}function ey(i,s,o){return Qt(i)?i.createElement(s,o):null===o?i.createElement(s):i.createElementNS(o,s)}function Ng(i,s){const o=i[9],l=o.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,Ss(d,-1)),o.splice(l,1)}function Fg(i,s){if(i.length<=10)return;const o=10+s,l=i[o];if(l){const d=l[17];null!==d&&d!==i&&Ng(d,l),s>0&&(i[o-1][4]=l[4]);const h=Or(i,10+s);!function(i,s){hu(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const m=h[19];null!==m&&m.detachView(h[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function hC(i,s){if(!(256&s[2])){const o=s[11];Qt(o)&&o.destroyNode&&hu(i,s,o,3,null,null),function(i){let s=i[13];if(!s)return ql(i[1],i);for(;s;){let o=null;if(gi(s))o=s[13];else{const l=s[10];l&&(o=l)}if(!o){for(;s&&!s[4]&&s!==i;)gi(s)&&ql(s[1],s),s=s[3];null===s&&(s=i),gi(s)&&ql(s[1],s),o=s&&s[4]}s=o}}(s)}}function ql(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let l=0;l<o.length;l+=2){const d=s[o[l]];if(!(d instanceof Rl)){const h=o[l+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const y=d[h[m]],E=h[m+1];try{E.call(y)}finally{}}else try{h.call(d)}finally{}}}}(i,s),function(i,s){const o=i.cleanup,l=s[7];let d=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+1],y="function"==typeof m?m(s):Jt(s[m]),E=l[d=o[h+2]],S=o[h+3];"boolean"==typeof S?y.removeEventListener(o[h],E,S):S>=0?l[d=S]():l[d=-S].unsubscribe(),h+=2}else{const m=l[d=o[h+1]];o[h].call(m)}if(null!==l){for(let h=d+1;h<l.length;h++)l[h]();s[7]=null}}(i,s),1===s[1].type&&Qt(s[11])&&s[11].destroy();const o=s[17];if(null!==o&&sr(s[3])){o!==s[3]&&Ng(o,s);const l=s[19];null!==l&&l.detachView(i)}}}function fC(i,s,o){return function(i,s,o){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return o[0];if(2&l.flags){const d=i.data[l.directiveStart].encapsulation;if(d===Ue.None||d===Ue.Emulated)return null}return or(l,o)}(i,s.parent,o)}function Kl(i,s,o,l,d){Qt(i)?i.insertBefore(s,o,l,d):s.insertBefore(o,l,d)}function gC(i,s,o){Qt(i)?i.appendChild(s,o):s.appendChild(o)}function mC(i,s,o,l,d){null!==l?Kl(i,s,o,l,d):gC(i,s,o)}function Lg(i,s){return Qt(i)?i.parentNode(s):s.parentNode}function Bg(i,s,o){return du(i,s,o)}let du=function(i,s,o){return 40&i.type?or(i,o):null};function Sf(i,s,o,l){const d=fC(i,l,s),h=s[11],y=Bg(l.parent||s[6],l,s);if(null!=d)if(Array.isArray(o))for(let E=0;E<o.length;E++)mC(h,d,o[E],y,!1);else mC(h,d,o,y,!1)}function jg(i,s){if(null!==s){const o=s.type;if(3&o)return or(s,i);if(4&o)return iy(-1,i[s.index]);if(8&o){const l=s.child;if(null!==l)return jg(i,l);{const d=i[s.index];return sr(d)?iy(-1,d):Jt(d)}}if(32&o)return Zl(s,i)()||Jt(i[s.index]);{const l=ry(i,s);return null!==l?Array.isArray(l)?l[0]:jg(Df(i[16]),l):jg(i,s.next)}}return null}function ry(i,s){return null!==s?i[16][6].projection[s.projection]:null}function iy(i,s){const o=10+i+1;if(o<s.length){const l=s[o],d=l[1].firstChild;if(null!==d)return jg(l,d)}return s[7]}function Hg(i,s,o,l,d,h,m){for(;null!=o;){const y=l[o.index],E=o.type;if(m&&0===s&&(y&&Qn(Jt(y),l),o.flags|=4),64!=(64&o.flags))if(8&E)Hg(i,s,o.child,l,d,h,!1),uu(s,i,d,y,h);else if(32&E){const S=Zl(o,l);let I;for(;I=S();)uu(s,i,d,I,h);uu(s,i,d,y,h)}else 16&E?Ql(i,s,l,o,d,h):uu(s,i,d,y,h);o=m?o.projectionNext:o.next}}function hu(i,s,o,l,d,h){Hg(o,l,i.firstChild,s,d,h,!1)}function Ql(i,s,o,l,d,h){const m=o[16],E=m[6].projection[l.projection];if(Array.isArray(E))for(let S=0;S<E.length;S++)uu(s,i,d,E[S],h);else Hg(i,s,E,m[3],d,h,!0)}function vC(i,s,o){Qt(i)?i.setAttribute(s,"style",o):s.style.cssText=o}function oy(i,s,o){Qt(i)?""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o):s.className=o}function ay(i,s,o){let l=i.length;for(;;){const d=i.indexOf(s,o);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const h=s.length;if(d+h===l||i.charCodeAt(d+h)<=32)return d}o=d+1}}const bC="ng-template";function dS(i,s,o){let l=0;for(;l<i.length;){let d=i[l++];if(o&&"class"===d){if(d=i[l],-1!==ay(d.toLowerCase(),s,0))return!0}else if(1===d){for(;l<i.length&&"string"==typeof(d=i[l++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function ly(i){return 4===i.type&&i.value!==bC}function hS(i,s,o){return s===(4!==i.type||o?i.value:bC)}function fS(i,s,o){let l=4;const d=i.attrs||[],h=function(i){for(let s=0;s<i.length;s++)if(hd(i[s]))return s;return i.length}(d);let m=!1;for(let y=0;y<s.length;y++){const E=s[y];if("number"!=typeof E){if(!m)if(4&l){if(l=2|1&l,""!==E&&!hS(i,E,o)||""===E&&1===s.length){if(fo(l))return!1;m=!0}}else{const S=8&l?E:s[++y];if(8&l&&null!==i.attrs){if(!dS(i.attrs,S,o)){if(fo(l))return!1;m=!0}continue}const P=cy(8&l?"class":E,d,ly(i),o);if(-1===P){if(fo(l))return!1;m=!0;continue}if(""!==S){let N;N=P>h?"":d[P+1].toLowerCase();const $=8&l?N:null;if($&&-1!==ay($,S,0)||2&l&&S!==N){if(fo(l))return!1;m=!0}}}}else{if(!m&&!fo(l)&&!fo(E))return!1;if(m&&fo(E))continue;m=!1,l=E|1&l}}return fo(l)||m}function fo(i){return 0==(1&i)}function cy(i,s,o,l){if(null===s)return-1;let d=0;if(l||!o){let h=!1;for(;d<s.length;){const m=s[d];if(m===i)return d;if(3===m||6===m)h=!0;else{if(1===m||2===m){let y=s[++d];for(;"string"==typeof y;)y=s[++d];continue}if(4===m)break;if(0===m){d+=4;continue}}d+=h?1:2}return-1}return function(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const l=i[o];if("number"==typeof l)return-1;if(l===s)return o;o++}return-1}(s,i)}function CC(i,s,o=!1){for(let l=0;l<s.length;l++)if(fS(i,s[l],o))return!0;return!1}function GO(i,s){e:for(let o=0;o<s.length;o++){const l=s[o];if(i.length===l.length){for(let d=0;d<i.length;d++)if(i[d]!==l[d])continue e;return!0}}return!1}function wC(i,s){return i?":not("+s.trim()+")":s}function mS(i){let s=i[0],o=1,l=2,d="",h=!1;for(;o<i.length;){let m=i[o];if("string"==typeof m)if(2&l){const y=i[++o];d+="["+m+(y.length>0?'="'+y+'"':"")+"]"}else 8&l?d+="."+m:4&l&&(d+=" "+m);else""!==d&&!fo(m)&&(s+=wC(h,d),d=""),l=m,h=h||!fo(l);o++}return""!==d&&(s+=wC(h,d)),s}const Ct={};function zg(i){DC(Et(),Oe(),lr()+i,$o())}function DC(i,s,o,l){if(!l)if(3==(3&s[2])){const h=i.preOrderCheckHooks;null!==h&&Yo(s,h,o)}else{const h=i.preOrderHooks;null!==h&&Wa(s,h,0,o)}za(o)}function Wg(i,s){return i<<17|s<<2}function po(i){return i>>17&32767}function uy(i){return 2|i}function ul(i){return(131068&i)>>2}function dy(i,s){return-131069&i|s<<2}function rs(i){return 1|i}function MC(i,s){const o=i.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const d=o[l],h=o[l+1];if(-1!==h){const m=i.data[h];ja(d),m.contentQueries(2,s[h],h)}}}function fu(i,s,o,l,d,h,m,y,E,S){const I=s.blueprint.slice();return I[0]=d,I[2]=140|l,jo(I),I[3]=I[15]=i,I[8]=o,I[10]=m||i&&i[10],I[11]=y||i&&i[11],I[12]=E||i&&i[12]||null,I[9]=S||i&&i[9]||null,I[6]=h,I[16]=2==s.type?i[16]:I,I}function hl(i,s,o,l,d){let h=i.data[s];if(null===h)h=function(i,s,o,l,d){const h=kc(),m=Ol(),E=i.data[s]=function(i,s,o,l,d,h){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,s,l,d);return null===i.firstChild&&(i.firstChild=E),null!==h&&(m?null==h.child&&null!==E.parent&&(h.child=E):null===h.next&&(h.next=E)),E}(i,s,o,l,d),ot.lFrame.inI18n&&(h.flags|=64);else if(64&h.type){h.type=o,h.value=l,h.attrs=d;const m=function(){const i=ot.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return jr(h,!0),h}function $d(i,s,o,l){if(0===o)return-1;const d=s.length;for(let h=0;h<o;h++)s.push(l),i.blueprint.push(l),i.data.push(null);return d}function fl(i,s,o){Ga(s);try{const l=i.viewQuery;null!==l&&nm(1,l,o);const d=i.template;null!==d&&zd(i,s,d,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&MC(i,s),i.staticViewQueries&&nm(2,i.viewQuery,o);const h=i.components;null!==h&&function(i,s){for(let o=0;o<s.length;o++)LS(i,s[o])}(s,h)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,Js()}}function Gd(i,s,o,l){const d=s[2];if(256==(256&d))return;Ga(s);const h=$o();try{jo(s),function(i){ot.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&zd(i,s,o,2,l);const m=3==(3&d);if(!h)if(m){const S=i.preOrderCheckHooks;null!==S&&Yo(s,S,null)}else{const S=i.preOrderHooks;null!==S&&Wa(s,S,0,null),Mn(s,0)}if(function(i){for(let s=Pg(i);null!==s;s=uC(s)){if(!s[2])continue;const o=s[9];for(let l=0;l<o.length;l++){const d=o[l],h=d[3];0==(1024&d[2])&&Ss(h,1),d[2]|=1024}}}(s),function(i){for(let s=Pg(i);null!==s;s=uC(s))for(let o=10;o<s.length;o++){const l=s[o],d=l[1];xc(l)&&Gd(d,l,d.template,l[8])}}(s),null!==i.contentQueries&&MC(i,s),!h)if(m){const S=i.contentCheckHooks;null!==S&&Yo(s,S)}else{const S=i.contentHooks;null!==S&&Wa(s,S,1),Mn(s,1)}!function(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const d=o[l];if(d<0)za(~d);else{const h=d,m=o[++l],y=o[++l];Nc(m,h),y(2,s[h])}}}finally{za(-1)}}(i,s);const y=i.components;null!==y&&function(i,s){for(let o=0;o<s.length;o++)Iy(i,s[o])}(s,y);const E=i.viewQuery;if(null!==E&&nm(2,E,l),!h)if(m){const S=i.viewCheckHooks;null!==S&&Yo(s,S)}else{const S=i.viewHooks;null!==S&&Wa(s,S,2),Mn(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),h||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Ss(s[3],-1))}finally{Js()}}function MS(i,s,o,l){const d=s[10],h=!$o(),m=Fa(s);try{h&&!m&&d.begin&&d.begin(),m&&fl(i,s,l),Gd(i,s,o,l)}finally{h&&!m&&d.end&&d.end()}}function zd(i,s,o,l,d){const h=lr(),m=2&l;try{za(-1),m&&s.length>20&&DC(i,s,20,$o()),o(l,d)}finally{za(h)}}function Kg(i,s,o){!Va()||(function(i,s,o,l){const d=o.directiveStart,h=o.directiveEnd;i.firstCreatePass||Wi(o,s),Qn(l,s);const m=o.initialInputs;for(let y=d;y<h;y++){const E=i.data[y],S=_r(E);S&&FS(s,o,E);const I=sn(s,i,y,o);Qn(I,s),null!==m&&Wd(0,y-d,I,E,0,m),S&&(yr(o.index,s)[8]=I)}}(i,s,o,or(o,s)),128==(128&o.flags)&&function(i,s,o){const l=o.directiveStart,d=o.directiveEnd,m=o.index,y=ot.lFrame.currentDirectiveIndex;try{za(m);for(let E=l;E<d;E++){const S=i.data[E],I=s[E];Fc(E),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&UC(S,I)}}finally{za(-1),Fc(y)}}(i,s,o))}function Qg(i,s,o=or){const l=s.localNames;if(null!==l){let d=s.index+1;for(let h=0;h<l.length;h+=2){const m=l[h+1],y=-1===m?o(s,i):i[m];i[d++]=y}}}function _y(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Af(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Af(i,s,o,l,d,h,m,y,E,S){const I=20+l,P=I+d,N=function(i,s){const o=[];for(let l=0;l<s;l++)o.push(l<i?null:Ct);return o}(I,P),$="function"==typeof S?S():S;return N[1]={type:i,blueprint:N,template:o,queries:null,viewQuery:y,declTNode:s,data:N.slice().fill(null,I),bindingStartIndex:I,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:E,consts:$,incompleteFirstPass:!1}}function vy(i,s,o,l){const d=Oy(s);null===o?d.push(l):(d.push(o),i.firstCreatePass&&Ry(i).push(l,d.length-1))}function Xg(i,s,o){for(let l in i)if(i.hasOwnProperty(l)){const d=i[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(s,d):o[l]=[s,d]}return o}function is(i,s,o,l,d,h,m,y){const E=or(s,o);let I,S=s.inputs;!y&&null!=S&&(I=S[l])?(Py(i,o,I,l,d),Tl(s)&&function(i,s){const o=yr(s,i);16&o[2]||(o[2]|=64)}(o,s.index)):3&s.type&&(l=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=m?m(d,s.value||"",l):d,Qt(h)?h.setProperty(E,l,d):wi(l)||(E.setProperty?E.setProperty(l,d):E[l]=d))}function Ey(i,s,o,l){let d=!1;if(Va()){const h=function(i,s,o){const l=i.directiveRegistry;let d=null;if(l)for(let h=0;h<l.length;h++){const m=l[h];CC(o,m.selectors,!1)&&(d||(d=[]),ht(Wi(o,s),i,m.type),_r(m)?(jC(i,o),d.unshift(m)):d.push(m))}return d}(i,s,o),m=null===l?null:{"":-1};if(null!==h){d=!0,wy(o,i.data.length,h.length);for(let I=0;I<h.length;I++){const P=h[I];P.providersResolver&&P.providersResolver(P)}let y=!1,E=!1,S=$d(i,s,h.length,null);for(let I=0;I<h.length;I++){const P=h[I];o.mergedAttrs=Gi(o.mergedAttrs,P.hostAttrs),Dy(i,o,s,S,P),NS(S,P,m),null!==P.contentQueries&&(o.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(o.flags|=128);const N=P.type.prototype;!y&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(o.index),y=!0),!E&&(N.ngOnChanges||N.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(o.index),E=!0),S++}!function(i,s){const l=s.directiveEnd,d=i.data,h=s.attrs,m=[];let y=null,E=null;for(let S=s.directiveStart;S<l;S++){const I=d[S],P=I.inputs,N=null===h||ly(s)?null:Ty(P,h);m.push(N),y=Xg(P,S,y),E=Xg(I.outputs,S,E)}null!==y&&(y.hasOwnProperty("class")&&(s.flags|=16),y.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=m,s.inputs=y,s.outputs=E}(i,o)}m&&function(i,s,o){if(s){const l=i.localNames=[];for(let d=0;d<s.length;d+=2){const h=o[s[d+1]];if(null==h)throw new Ee("301",`Export of name '${s[d+1]}' not found!`);l.push(s[d],h)}}}(o,l,m)}return o.mergedAttrs=Gi(o.mergedAttrs,o.attrs),d}function FC(i,s,o,l,d,h){const m=h.hostBindings;if(m){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const E=~s.index;(function(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(y)!=E&&y.push(E),y.push(l,d,m)}}function UC(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function jC(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function NS(i,s,o){if(o){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)o[s.exportAs[l]]=i;_r(s)&&(o[""]=i)}}function wy(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}function Dy(i,s,o,l,d){i.data[l]=d;const h=d.factory||(d.factory=Bi(d.type)),m=new Rl(h,_r(d),null);i.blueprint[l]=m,o[l]=m,FC(i,s,0,l,$d(i,o,d.hostVars,Ct),d)}function FS(i,s,o){const l=or(s,i),d=_y(o),h=i[10],m=em(i,fu(i,d,null,o.onPush?64:16,l,s,h,h.createRenderer(l,o),null,null));i[s.index]=m}function aa(i,s,o,l,d,h){const m=or(i,s);!function(i,s,o,l,d,h,m){if(null==h)Qt(i)?i.removeAttribute(s,d,o):s.removeAttribute(d);else{const y=null==m?se(h):m(h,l||"",d);Qt(i)?i.setAttribute(s,d,y,o):o?s.setAttributeNS(o,d,y):s.setAttribute(d,y)}}(s[11],m,h,i.value,o,l,d)}function Wd(i,s,o,l,d,h){const m=h[s];if(null!==m){const y=l.setInput;for(let E=0;E<m.length;){const S=m[E++],I=m[E++],P=m[E++];null!==y?l.setInput(o,P,S,I):o[I]=P}}}function Ty(i,s){let o=null,l=0;for(;l<s.length;){const d=s[l];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===o&&(o=[]),o.push(d,i[d],s[l+1])),l+=2}else l+=2;else l+=4}return o}function HC(i,s,o,l){return new Array(i,!0,!1,s,null,0,l,o,null,null)}function Iy(i,s){const o=yr(s,i);if(xc(o)){const l=o[1];80&o[2]?Gd(l,o,l.template,o[8]):o[5]>0&&Ay(o)}}function Ay(i){for(let l=Pg(i);null!==l;l=uC(l))for(let d=10;d<l.length;d++){const h=l[d];if(1024&h[2]){const m=h[1];Gd(m,h,m.template,h[8])}else h[5]>0&&Ay(h)}const o=i[1].components;if(null!==o)for(let l=0;l<o.length;l++){const d=yr(o[l],i);xc(d)&&d[5]>0&&Ay(d)}}function LS(i,s){const o=yr(s,i),l=o[1];(function(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(l,o),fl(l,o,o[8])}function em(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Rf(i){for(;i;){i[2]|=64;const s=Df(i);if(In(i)&&!s)return i;i=s}return null}function tm(i,s,o){const l=s[10];l.begin&&l.begin();try{Gd(i,s,i.template,o)}catch(d){throw xf(s,d),d}finally{l.end&&l.end()}}function GC(i){!function(i){for(let s=0;s<i.components.length;s++){const o=i.components[s],l=Ps(o),d=l[1];MS(d,l,d.template,o)}}(i[8])}function nm(i,s,o){ja(0),s(i,o)}const US=(()=>Promise.resolve(null))();function Oy(i){return i[7]||(i[7]=[])}function Ry(i){return i.cleanup||(i.cleanup=[])}function xy(i,s,o){return(null===i||_r(i))&&(o=function(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(o[s.index])),o[11]}function xf(i,s){const o=i[9],l=o?o.get(v,null):null;l&&l.handleError(s)}function Py(i,s,o,l,d){for(let h=0;h<o.length;){const m=o[h++],y=o[h++],E=s[m],S=i.data[m];null!==S.setInput?S.setInput(E,d,l,y):E[y]=d}}function la(i,s,o){const l=ws(s,i);!function(i,s,o){Qt(i)?i.setValue(s,o):s.textContent=o}(i[11],l,o)}function Gt(i,s,o){let l=o?i.styles:null,d=o?i.classes:null,h=0;if(null!==s)for(let m=0;m<s.length;m++){const y=s[m];"number"==typeof y?h=y:1==h?d=X(d,y):2==h&&(l=X(l,y+": "+s[++m]+";"))}o?i.styles=l:i.stylesWithoutHost=l,o?i.classes=d:i.classesWithoutHost=d}const Yt=new ln("INJECTOR",-1);class rm{get(s,o=Mt){if(o===Mt){const l=new Error(`NullInjectorError: No provider for ${Q(s)}!`);throw l.name="NullInjectorError",l}return o}}const Pf=new ln("Set Injector scope."),pl={},YC={};let pn;function xt(){return void 0===pn&&(pn=new rm),pn}function ZC(i,s=null,o=null,l){return new ky(i,o,s||xt(),l)}class ky{constructor(s,o,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];o&&Ti(o,y=>this.processProvider(y,s,o)),Ti([s],y=>this.processInjectorType(y,[],h)),this.records.set(Yt,gu(void 0,this));const m=this.records.get(Pf);this.scope=null!=m?m.value:null,this.source=d||("object"==typeof s?null:Q(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,o=Mt,l=Ze.Default){this.assertNotDestroyed();const d=ft(this),h=pr(void 0);try{if(!(l&Ze.SkipSelf)){let y=this.records.get(s);if(void 0===y){const E=("function"==typeof(i=s)||"object"==typeof i&&i instanceof ln)&&Un(s);y=E&&this.injectableDefInScope(E)?gu(Mi(s),pl):null,this.records.set(s,y)}if(null!=y)return this.hydrate(s,y)}return(l&Ze.Self?xt():this.parent).get(s,o=l&Ze.Optional&&o===Mt?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[Cn]=m[Cn]||[]).unshift(Q(s)),d)throw m;return oi(m,s,"R3InjectorError",this.source)}throw m}finally{pr(h),ft(d)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,d)=>s.push(Q(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,o,l){if(!(s=H(s)))return!1;let d=fs(s);const h=null==d&&s.ngModule||void 0,m=void 0===h?s:h,y=-1!==l.indexOf(m);if(void 0!==h&&(d=fs(h)),null==d)return!1;if(null!=d.imports&&!y){let I;l.push(m);try{Ti(d.imports,P=>{this.processInjectorType(P,o,l)&&(void 0===I&&(I=[]),I.push(P))})}finally{}if(void 0!==I)for(let P=0;P<I.length;P++){const{ngModule:N,providers:$}=I[P];Ti($,K=>this.processProvider(K,N,$||G))}}this.injectorDefTypes.add(m);const E=Bi(m)||(()=>new m);this.records.set(m,gu(E,pl));const S=d.providers;if(null!=S&&!y){const I=s;Ti(S,P=>this.processProvider(P,I,S))}return void 0!==h&&void 0!==s.providers}processProvider(s,o,l){let d=Yd(s=H(s))?s:H(s&&s.provide);const h=rc(i=s)?gu(void 0,i.useValue):gu(qC(i),pl);var i;if(Yd(s)||!0!==s.multi)this.records.get(d);else{let m=this.records.get(d);m||(m=gu(void 0,pl,!0),m.factory=()=>ea(m.multi),this.records.set(d,m)),d=s,m.multi.push(s)}this.records.set(d,h)}hydrate(s,o){return o.value===pl&&(o.value=YC,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(i=o.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const o=H(s.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function Mi(i){const s=Un(i),o=null!==s?s.factory:Bi(i);if(null!==o)return o;if(i instanceof ln)throw new Error(`Token ${Q(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const l=Qi(s,"?");throw new Error(`Can't resolve all parameters for ${Q(i)}: (${l.join(", ")}).`)}const o=function(i){const s=i&&(i[Ni]||i[qr]);if(s){const o=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new Error("unreachable")}function qC(i,s,o){let l;if(Yd(i)){const d=H(i);return Bi(d)||Mi(d)}if(rc(i))l=()=>H(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...ea(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))l=()=>on(H(i.useExisting));else{const d=H(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return Bi(d)||Mi(d);l=()=>new d(...ea(i.deps))}return l}function gu(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function rc(i){return null!==i&&"object"==typeof i&&Gr in i}function Yd(i){return"function"==typeof i}const ic=function(i,s,o){return function(i,s=null,o=null,l){const d=ZC(i,s,o,l);return d._resolveInjectorDefTypes(),d}({name:o},s,i,o)};let Qe=(()=>{class i{static create(o,l){return Array.isArray(o)?ic(o,l,""):ic(o.providers,o.parent,o.name||"")}}return i.THROW_IF_NOT_FOUND=Mt,i.NULL=new rm,i.\u0275prov=jt({token:i,providedIn:"any",factory:()=>on(Yt)}),i.__NG_ELEMENT_ID__=-1,i})();function aE(i,s){Wo(Ps(i)[1],Zt())}function vu(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const l=[i];for(;s;){let d;if(_r(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");d=s.\u0275dir}if(d){if(o){l.push(d);const m=i;m.inputs=jy(i.inputs),m.declaredInputs=jy(i.declaredInputs),m.outputs=jy(i.outputs);const y=d.hostBindings;y&&XS(i,y);const E=d.viewQuery,S=d.contentQueries;if(E&&Hy(i,E),S&&Bf(i,S),ie(i.inputs,d.inputs),ie(i.declaredInputs,d.declaredInputs),ie(i.outputs,d.outputs),_r(d)&&d.data.animation){const I=i.data;I.animation=(I.animation||[]).concat(d.data.animation)}}const h=d.features;if(h)for(let m=0;m<h.length;m++){const y=h[m];y&&y.ngInherit&&y(i),y===vu&&(o=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,o=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=s+=d.hostVars,d.hostAttrs=Gi(d.hostAttrs,o=Gi(o,d.hostAttrs))}}(l)}function jy(i){return i===W?{}:i===G?[]:i}function Hy(i,s){const o=i.viewQuery;i.viewQuery=o?(l,d)=>{s(l,d),o(l,d)}:s}function Bf(i,s){const o=i.contentQueries;i.contentQueries=o?(l,d,h)=>{s(l,d,h),o(l,d,h)}:s}function XS(i,s){const o=i.hostBindings;i.hostBindings=o?(l,d)=>{s(l,d),o(l,d)}:s}let lm=null;function oc(){if(!lm){const i=Lt.Symbol;if(i&&i.iterator)lm=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const l=s[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(lm=l)}}}return lm}function Uf(i){return!!um(i)&&(Array.isArray(i)||!(i instanceof Map)&&oc()in i)}function um(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function dr(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function $y(i,s,o,l){const d=Oe();return dr(d,$i(),s)&&(Et(),aa(An(),d,i,s,o,l)),$y}function bu(i,s,o,l){return dr(i,$i(),o)?s+se(o)+l:Ct}function $f(i,s,o,l,d,h,m,y){const E=Oe(),S=Et(),I=i+20,P=S.firstCreatePass?function(i,s,o,l,d,h,m,y,E){const S=s.consts,I=hl(s,i,4,m||null,ji(S,y));Ey(s,o,I,ji(S,E)),Wo(s,I);const P=I.tViews=Af(2,I,l,d,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,S);return null!==s.queries&&(s.queries.template(s,I),P.queries=s.queries.embeddedTView(I)),I}(I,S,E,s,o,l,d,h,m):S.data[I];jr(P,!1);const N=E[11].createComment("");Sf(S,E,N,P),Qn(N,E),em(E,E[I]=HC(N,E,N,P)),No(P)&&Kg(S,E,P),null!=m&&Qg(E,P,y)}function oh(i,s=Ze.Default){const o=Oe();return null===o?on(i,s):no(Zt(),o,H(i),s)}function mm(i,s,o){const l=Oe();return dr(l,$i(),s)&&is(Et(),An(),l,i,s,l[11],o,!1),mm}function Zf(i,s,o,l,d){const m=d?"class":"style";Py(i,o,s.inputs[m],m,l)}function Xy(i,s,o,l){const d=Oe(),h=Et(),m=20+i,y=d[11],E=d[m]=ey(y,s,ot.lFrame.currentNamespace),S=h.firstCreatePass?function(i,s,o,l,d,h,m){const y=s.consts,S=hl(s,i,2,d,ji(y,h));return Ey(s,o,S,ji(y,m)),null!==S.attrs&&Gt(S,S.attrs,!1),null!==S.mergedAttrs&&Gt(S,S.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,S),S}(m,h,d,0,s,o,l):h.data[m];jr(S,!0);const I=S.mergedAttrs;null!==I&&Ei(y,E,I);const P=S.classes;null!==P&&oy(y,E,P);const N=S.styles;null!==N&&vC(y,E,N),64!=(64&S.flags)&&Sf(h,d,E,S),0===ot.lFrame.elementDepthCount&&Qn(E,d),ot.lFrame.elementDepthCount++,No(S)&&(Kg(h,d,S),function(i,s,o){if(Sl(s)){const d=s.directiveEnd;for(let h=s.directiveStart;h<d;h++){const m=i.data[h];m.contentQueries&&m.contentQueries(1,o[h],h)}}}(h,S,d)),null!==l&&Qg(d,S)}function ev(){let i=Zt();Ol()?Ho():(i=i.parent,jr(i,!1));const s=i;ot.lFrame.elementDepthCount--;const o=Et();o.firstCreatePass&&(Wo(o,i),Sl(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&Zf(o,s,Oe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&Zf(o,s,Oe(),s.stylesWithoutHost,!1)}function AE(i,s,o,l){Xy(i,s,o,l),ev()}function nv(){return Oe()}function _m(i){return!!i&&"function"==typeof i.then}function OE(i){return!!i&&"function"==typeof i.subscribe}const ym=OE;function ah(i,s,o,l){const d=Oe(),h=Et(),m=Zt();return RE(h,d,d[11],m,i,s,!!o,l),ah}function vm(i,s){const o=Zt(),l=Oe(),d=Et();return RE(d,l,xy(Ks(d.data),o,l),o,i,s,!1),vm}function RE(i,s,o,l,d,h,m,y){const E=No(l),I=i.firstCreatePass&&Ry(i),P=s[8],N=Oy(s);let $=!0;if(3&l.type||y){const ne=or(l,s),Pe=y?y(ne):ne,Se=N.length,et=y?pt=>y(Jt(pt[l.index])):l.index;if(Qt(o)){let pt=null;if(!y&&E&&(pt=function(i,s,o,l){const d=i.cleanup;if(null!=d)for(let h=0;h<d.length-1;h+=2){const m=d[h];if(m===o&&d[h+1]===l){const y=s[7],E=d[h+2];return y.length>E?y[E]:null}"string"==typeof m&&(h+=2)}return null}(i,s,d,l.index)),null!==pt)(pt.__ngLastListenerFn__||pt).__ngNextListenerFn__=h,pt.__ngLastListenerFn__=h,$=!1;else{h=qf(l,s,P,h,!1);const Ft=o.listen(Pe,d,h);N.push(h,Ft),I&&I.push(d,et,Se,Se+1)}}else h=qf(l,s,P,h,!0),Pe.addEventListener(d,h,m),N.push(h),I&&I.push(d,et,Se,m)}else h=qf(l,s,P,h,!1);const K=l.outputs;let ge;if($&&null!==K&&(ge=K[d])){const ne=ge.length;if(ne)for(let Pe=0;Pe<ne;Pe+=2){const Vn=s[ge[Pe]][ge[Pe+1]].subscribe(h),fi=N.length;N.push(h,Vn),I&&I.push(d,l.index,fi,-(fi+1))}}}function xE(i,s,o,l){try{return!1!==o(l)}catch(d){return xf(i,d),!1}}function qf(i,s,o,l,d){return function h(m){if(m===Function)return l;const y=2&i.flags?yr(i.index,s):s;0==(32&s[2])&&Rf(y);let E=xE(s,0,l,m),S=h.__ngNextListenerFn__;for(;S;)E=xE(s,0,S,m)&&E,S=S.__ngNextListenerFn__;return d&&!1===E&&(m.preventDefault(),m.returnValue=!1),E}}function rv(i=1){return function(i){return(ot.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,ot.lFrame.contextLView))[8]}(i)}function _T(i,s){let o=null;const l=function(i){const s=i.attrs;if(null!=s){const o=s.indexOf(5);if(0==(1&o))return s[o+1]}return null}(i);for(let d=0;d<s.length;d++){const h=s[d];if("*"!==h){if(null===l?CC(i,h,!0):GO(l,h))return d}else o=d}return o}function PE(i){const s=Oe()[16][6];if(!s.projection){const l=s.projection=Qi(i?i.length:1,null),d=l.slice();let h=s.child;for(;null!==h;){const m=i?_T(h,i):0;null!==m&&(d[m]?d[m].projectionNext=h:l[m]=h,d[m]=h),h=h.next}}}function iv(i,s=0,o){const l=Oe(),d=Et(),h=hl(d,20+i,16,null,o||null);null===h.projection&&(h.projection=s),Ho(),64!=(64&h.flags)&&function(i,s,o){Ql(s[11],0,s,o,fC(i,o,s),Bg(o.parent||s[6],o,s))}(d,l,h)}function da(i,s,o){return Kf(i,"",s,"",o),da}function Kf(i,s,o,l,d){const h=Oe(),m=bu(h,s,o,l);return m!==Ct&&is(Et(),An(),h,i,m,h[11],d,!1),Kf}function lh(i,s,o,l,d){const h=i[o+1],m=null===s;let y=l?po(h):ul(h),E=!1;for(;0!==y&&(!1===E||m);){const I=i[y+1];vT(i[y],s)&&(E=!0,i[y+1]=l?rs(I):uy(I)),y=l?po(I):ul(I)}E&&(i[o+1]=l?uy(h):rs(h))}function vT(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Ji(i,s)>=0}function tp(i,s,o){return _o(i,s,o,!1),tp}function np(i,s){return _o(i,s,null,!0),np}function _o(i,s,o,l){const d=Oe(),h=Et(),m=function(i){const s=ot.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}(2);h.firstUpdatePass&&function(i,s,o,l){const d=i.data;if(null===d[o+1]){const h=d[lr()],m=function(i,s){return s>=i.expandoStartIndex}(i,o);(function(i,s){return 0!=(i.flags&(s?16:32))})(h,l)&&null===s&&!m&&(s=!1),s=function(i,s,o,l){const d=Ks(i);let h=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(o=Su(o=ip(null,i,s,o,l),s.attrs,l),h=null);else{const m=s.directiveStylingLast;if(-1===m||i[m]!==d)if(o=ip(d,i,s,o,l),null===h){let E=function(i,s,o){const l=o?s.classBindings:s.styleBindings;if(0!==ul(l))return i[po(l)]}(i,s,l);void 0!==E&&Array.isArray(E)&&(E=ip(null,i,s,E[1],l),E=Su(E,s.attrs,l),function(i,s,o,l){i[po(o?s.classBindings:s.styleBindings)]=l}(i,s,l,E))}else h=function(i,s,o){let l;const d=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<d;h++)l=Su(l,i[h].hostAttrs,o);return Su(l,s.attrs,o)}(i,s,l)}return void 0!==h&&(l?s.residualClasses=h:s.residualStyles=h),o}(d,h,s,l),function(i,s,o,l,d,h){let m=h?s.classBindings:s.styleBindings,y=po(m),E=ul(m);i[l]=o;let I,S=!1;if(Array.isArray(o)){const P=o;I=P[1],(null===I||Ji(P,I)>0)&&(S=!0)}else I=o;if(d)if(0!==E){const N=po(i[y+1]);i[l+1]=Wg(N,y),0!==N&&(i[N+1]=dy(i[N+1],l)),i[y+1]=function(i,s){return 131071&i|s<<17}(i[y+1],l)}else i[l+1]=Wg(y,0),0!==y&&(i[y+1]=dy(i[y+1],l)),y=l;else i[l+1]=Wg(E,0),0===y?y=l:i[E+1]=dy(i[E+1],l),E=l;S&&(i[l+1]=uy(i[l+1])),lh(i,I,l,!0),lh(i,I,l,!1),function(i,s,o,l,d){const h=d?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof s&&Ji(h,s)>=0&&(o[l+1]=rs(o[l+1]))}(s,I,i,l,h),m=Wg(y,E),h?s.classBindings=m:s.styleBindings=m}(d,h,s,o,m,l)}}(h,i,m,l),s!==Ct&&dr(d,m,s)&&function(i,s,o,l,d,h,m,y){if(!(3&s.type))return;const E=i.data,S=E[y+1];wm(function(i){return 1==(1&i)}(S)?uv(E,s,o,d,ul(S),m):void 0)||(wm(h)||function(i){return 2==(2&i)}(S)&&(h=uv(E,null,o,d,y,m)),function(i,s,o,l,d){const h=Qt(i);if(s)d?h?i.addClass(o,l):o.classList.add(l):h?i.removeClass(o,l):o.classList.remove(l);else{let m=-1===l.indexOf("-")?void 0:ts.DashCase;if(null==d)h?i.removeStyle(o,l,m):o.style.removeProperty(l);else{const y="string"==typeof d&&d.endsWith("!important");y&&(d=d.slice(0,-10),m|=ts.Important),h?i.setStyle(o,l,d,m):o.style.setProperty(l,d,y?"important":"")}}}(l,m,ws(lr(),o),d,h))}(h,h.data[lr()],d,d[11],i,d[m+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Q(co(i)))),i}(s,o),l,m)}function ip(i,s,o,l,d){let h=null;const m=o.directiveEnd;let y=o.directiveStylingLast;for(-1===y?y=o.directiveStart:y++;y<m&&(h=s[y],l=Su(l,h.hostAttrs,d),h!==i);)y++;return null!==i&&(o.directiveStylingLast=y),l}function Su(i,s,o){const l=o?1:2;let d=-1;if(null!==s)for(let h=0;h<s.length;h++){const m=s[h];"number"==typeof m?d=m:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),bn(i,m,!!o||s[++h]))}return void 0===i?null:i}function uv(i,s,o,l,d,h){const m=null===s;let y;for(;d>0;){const E=i[d],S=Array.isArray(E),I=S?E[1]:E,P=null===I;let N=o[d+1];N===Ct&&(N=P?G:void 0);let $=P?qn(N,l):I===l?N:void 0;if(S&&!wm($)&&($=qn(E,l)),wm($)&&(y=$,m))return y;const K=i[d+1];d=m?po(K):ul(K)}if(null!==s){let E=h?s.residualClasses:s.residualStyles;null!=E&&(y=qn(E,l))}return y}function wm(i){return void 0!==i}function ZE(i,s=""){const o=Oe(),l=Et(),d=i+20,h=l.firstCreatePass?hl(l,d,1,s,null):l.data[d],m=o[d]=function(i,s){return Qt(i)?i.createText(s):i.createTextNode(s)}(o[11],s);Sf(l,o,m,h),jr(h,!1)}function Iu(i){return ch("",i,""),Iu}function ch(i,s,o){const l=Oe(),d=bu(l,i,s,o);return d!==Ct&&la(l,lr(),d),ch}function yv(i,s,o){const l=Oe();return dr(l,$i(),s)&&is(Et(),An(),l,i,s,l[11],o,!0),yv}function dp(i,s,o){const l=Oe();if(dr(l,$i(),s)){const h=Et(),m=An();is(h,m,l,i,s,xy(Ks(h.data),m,l),o,!0)}return dp}const Au=void 0;var OT=["en",[["a","p"],["AM","PM"],Au],[["AM","PM"],Au,Au],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Au,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Au,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Au,"{1} 'at' {0}",Au],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),o=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===o?1:5}];let Mu={};function vv(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=bv(s);if(o)return o;const l=s.split("-")[0];if(o=bv(l),o)return o;if("en"===l)return OT;throw new Error(`Missing locale data for the locale "${i}".`)}function Am(i){return vv(i)[it.PluralCase]}function bv(i){return i in Mu||(Mu[i]=Lt.ng&&Lt.ng.common&&Lt.ng.common.locales&&Lt.ng.common.locales[i]),Mu[i]}var it=(()=>((it=it||{})[it.LocaleId=0]="LocaleId",it[it.DayPeriodsFormat=1]="DayPeriodsFormat",it[it.DayPeriodsStandalone=2]="DayPeriodsStandalone",it[it.DaysFormat=3]="DaysFormat",it[it.DaysStandalone=4]="DaysStandalone",it[it.MonthsFormat=5]="MonthsFormat",it[it.MonthsStandalone=6]="MonthsStandalone",it[it.Eras=7]="Eras",it[it.FirstDayOfWeek=8]="FirstDayOfWeek",it[it.WeekendRange=9]="WeekendRange",it[it.DateFormat=10]="DateFormat",it[it.TimeFormat=11]="TimeFormat",it[it.DateTimeFormat=12]="DateTimeFormat",it[it.NumberSymbols=13]="NumberSymbols",it[it.NumberFormats=14]="NumberFormats",it[it.CurrencyCode=15]="CurrencyCode",it[it.CurrencySymbol=16]="CurrencySymbol",it[it.CurrencyName=17]="CurrencyName",it[it.Currencies=18]="Currencies",it[it.Directionality=19]="Directionality",it[it.PluralCase=20]="PluralCase",it[it.ExtraData=21]="ExtraData",it))();const Ou="en-US";let Ev=Ou;function hh(i){kt(i,"Expected localeId to be defined"),"string"==typeof i&&(Ev=i.toLowerCase().replace(/_/g,"-"))}function Iw(i,s,o,l,d){if(i=H(i),Array.isArray(i))for(let h=0;h<i.length;h++)Iw(i[h],s,o,l,d);else{const h=Et(),m=Oe();let y=Yd(i)?i:H(i.provide),E=qC(i);const S=Zt(),I=1048575&S.providerIndexes,P=S.directiveStart,N=S.providerIndexes>>20;if(Yd(i)||!i.multi){const $=new Rl(E,d,oh),K=Ov(y,s,d?I:I+N,P);-1===K?(ht(Wi(S,m),h,y),Mv(h,i,s.length),s.push(y),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),o.push($),m.push($)):(o[K]=$,m[K]=$)}else{const $=Ov(y,s,I+N,P),K=Ov(y,s,I,I+N),ge=$>=0&&o[$],ne=K>=0&&o[K];if(d&&!ne||!d&&!ge){ht(Wi(S,m),h,y);const Pe=function(i,s,o,l,d){const h=new Rl(i,o,oh);return h.multi=[],h.index=s,h.componentProviders=0,Aw(h,d,l&&!o),h}(d?uI:Mw,o.length,d,l,E);!d&&ne&&(o[K].providerFactory=Pe),Mv(h,i,s.length,0),s.push(y),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),o.push(Pe),m.push(Pe)}else Mv(h,i,$>-1?$:K,Aw(o[d?K:$],E,!d&&l));!d&&l&&ne&&o[K].componentProviders++}}}function Mv(i,s,o,l){const d=Yd(s);if(d||function(i){return!!i.useClass}(s)){const m=(s.useClass||s).prototype.ngOnDestroy;if(m){const y=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const E=y.indexOf(o);-1===E?y.push(o,[l,m]):y[E+1].push(l,m)}else y.push(o,m)}}}function Aw(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function Ov(i,s,o,l){for(let d=o;d<l;d++)if(s[d]===i)return d;return-1}function Mw(i,s,o,l){return Rv(this.multi,[])}function uI(i,s,o,l){const d=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,y=sn(o,o[1],this.providerFactory.index,l);h=y.slice(0,m),Rv(d,h);for(let E=m;E<y.length;E++)h.push(y[E])}else h=[],Rv(d,h);return h}function Rv(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function Ow(i,s=[]){return o=>{o.providersResolver=(l,d)=>function(i,s,o){const l=Et();if(l.firstCreatePass){const d=_r(i);Iw(o,l.data,l.blueprint,d,!0),Iw(s,l.data,l.blueprint,d,!1)}}(l,d?d(i):i,s)}}class br{}const mh="ngComponent";class hI{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${Q(i)}. Did you add it to @NgModule.entryComponents?`);return s[mh]=i,s}(s)}}let _h=(()=>{class i{}return i.NULL=new hI,i})();function Vm(...i){}function yh(i,s){return new Eo(or(i,s))}const gI=function(){return yh(Zt(),Oe())};let Eo=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=gI,i})();function Bm(i){return i instanceof Eo?i.nativeElement:i}class xu{}let _I=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>xv(),i})();const xv=function(){const i=Oe(),o=yr(Zt().index,i);return function(i){return i[11]}(gi(o)?o:i)};let Pv=(()=>{class i{}return i.\u0275prov=jt({token:i,providedIn:"root",factory:()=>null}),i})();class xw{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Pw=new xw("12.2.16");class yI{constructor(){}supports(s){return Uf(s)}create(s){return new mR(s)}}const gR=(i,s)=>s;class mR{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||gR}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,l=this._removalsHead,d=0,h=null;for(;o||l;){const m=!l||o&&o.currentIndex<kv(l,d,h)?o:l,y=kv(m,d,h),E=m.currentIndex;if(m===l)d--,l=l._nextRemoved;else if(o=o._next,null==m.previousIndex)d++;else{h||(h=[]);const S=y-d,I=E-d;if(S!=I){for(let N=0;N<S;N++){const $=N<h.length?h[N]:h[N]=0,K=$+N;I<=K&&K<S&&(h[N]=$+1)}h[m.previousIndex]=I-S}}y!==E&&s(m,y,E)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!Uf(s))throw new Error(`Error trying to diff '${Q(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,h,m,o=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let y=0;y<this.length;y++)h=s[y],m=this._trackByFn(y,h),null!==o&&Object.is(o.trackById,m)?(l&&(o=this._verifyReinsertion(o,h,m,y)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,y),l=!0),o=o._next}else d=0,function(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[oc()]();let l;for(;!(l=o.next()).done;)s(l.value)}}(s,y=>{m=this._trackByFn(d,y),null!==o&&Object.is(o.trackById,m)?(l&&(o=this._verifyReinsertion(o,y,m,d)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,m,d),l=!0),o=o._next,d++}),this.length=d;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,l,d){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,h,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,h,d)):s=this._addAfter(new _R(o,l),h,d),s}_verifyReinsertion(s,o,l,d){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?s=this._reinsertAfter(h,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,h=s._nextRemoved;return null===d?this._removalsHead=h:d._nextRemoved=h,null===h?this._removalsTail=d:h._prevRemoved=d,this._insertAfter(s,o,l),this._addToMoves(s,l),s}_moveAfter(s,o,l){return this._unlink(s),this._insertAfter(s,o,l),this._addToMoves(s,l),s}_addAfter(s,o,l){return this._insertAfter(s,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,l){const d=null===o?this._itHead:o._next;return s._next=d,s._prev=o,null===d?this._itTail=s:d._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new vI),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,l=s._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vI),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class _R{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yR{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const o=s._prevDup,l=s._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class vI{constructor(){this.map=new Map}put(s){const o=s.trackById;let l=this.map.get(o);l||(l=new yR,this.map.set(o,l)),l.add(s)}get(s,o){const d=this.map.get(s);return d?d.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kv(i,s,o){const l=i.previousIndex;if(null===l)return l;let d=0;return o&&l<o.length&&(d=o[l]),l+s+d}class kw{constructor(){}supports(s){return s instanceof Map||um(s)}create(){return new bI}}class bI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||um(s)))throw new Error(`Error trying to diff '${Q(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(o&&o.key===d)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(d,l);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const l=s._prev;return o._next=s,o._prev=l,s._prev=o,l&&(l._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,o);const h=d._prev,m=d._next;return h&&(h._next=m),m&&(m._prev=h),d._next=null,d._prev=null,d}const l=new Cr(s);return this._records.set(s,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(l=>o(s[l],l))}}class Cr{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Bs(){return new Pu([new yI])}let Pu=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(null!=l){const d=l.factories.slice();o=o.concat(d)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||Bs()),deps:[[i,new cr,new Os]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(i){return i.name||typeof i}(o)}'`)}}return i.\u0275prov=jt({token:i,providedIn:"root",factory:Bs}),i})();function Nw(){return new Um([new kw])}let Um=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(l){const d=l.factories.slice();o=o.concat(d)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||Nw()),deps:[[i,new cr,new Os]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(l)return l;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return i.\u0275prov=jt({token:i,providedIn:"root",factory:Nw}),i})();function jm(i,s,o,l,d=!1){for(;null!==o;){const h=s[o.index];if(null!==h&&l.push(Jt(h)),sr(h))for(let y=10;y<h.length;y++){const E=h[y],S=E[1].firstChild;null!==S&&jm(E[1],E,S,l)}const m=o.type;if(8&m)jm(i,s,o.child,l);else if(32&m){const y=Zl(o,s);let E;for(;E=y();)l.push(E)}else if(16&m){const y=ry(s,o);if(Array.isArray(y))l.push(...y);else{const E=Df(s[16]);jm(E[1],E,y,l,!0)}}o=d?o.projectionNext:o.next}return l}class vh{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return jm(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(sr(s)){const o=s[8],l=o?o.indexOf(this):-1;l>-1&&(Fg(s,l),Or(o,l))}this._attachedToViewContainer=!1}hC(this._lView[1],this._lView)}onDestroy(s){vy(this._lView[1],this._lView,null,s)}markForCheck(){Rf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){tm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,o){Go(!0);try{tm(i,s,o)}finally{Go(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,hu(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class CI extends vh{constructor(s){super(s),this._view=s}detectChanges(){GC(this._view)}checkNoChanges(){!function(i){Go(!0);try{GC(i)}finally{Go(!1)}}(this._view)}get context(){return null}}const wI=function(i){return function(i,s,o){if(Tl(i)&&!o){const l=yr(i.index,s);return new vh(l,l)}return 47&i.type?new vh(s[16],s):null}(Zt(),Oe(),16==(16&i))};let ui=(()=>{class i{}return i.__NG_ELEMENT_ID__=wI,i})();const DI=[new kw],$m=new Pu([new yI]),Lv=new Um(DI),SI=function(){return _p(Zt(),Oe())};let gp=(()=>{class i{}return i.__NG_ELEMENT_ID__=SI,i})();const TI=gp,II=class extends TI{constructor(s,o,l){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(s){const o=this._declarationTContainer.tViews,l=fu(this._declarationLView,o,s,16,null,o.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(l[19]=h.createEmbeddedView(o)),fl(o,l,s),new vh(l)}};function _p(i,s){return 4&i.type?new II(s,i,yh(i,s)):null}class ga{}class Bv{}const MI=function(){return bh(Zt(),Oe())};let Gm=(()=>{class i{}return i.__NG_ELEMENT_ID__=MI,i})();const Uv=Gm,jv=class extends Uv{constructor(s,o,l){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=l}get element(){return yh(this._hostTNode,this._hostLView)}get injector(){return new Zi(this._hostTNode,this._hostLView)}get parentInjector(){const s=Ge(this._hostTNode,this._hostLView);if(fn(s)){const o=eo(s,this._hostLView),l=zi(s);return new Zi(o[1].data[l+8],o)}return new Zi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=zm(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,l){const d=s.createEmbeddedView(o||{});return this.insert(d,l),d}createComponent(s,o,l,d,h){const m=l||this.parentInjector;if(!h&&null==s.ngModule&&m){const E=m.get(ga,null);E&&(h=E)}const y=s.create(m,d,void 0,h);return this.insert(y.hostView,o),y}insert(s,o){const l=s._lView,d=l[1];if(sr(l[3])){const I=this.indexOf(s);if(-1!==I)this.detach(I);else{const P=l[3],N=new jv(P,P[6],P[3]);N.detach(N.indexOf(s))}}const h=this._adjustIndex(o),m=this._lContainer;!function(i,s,o,l){const d=10+l,h=o.length;l>0&&(o[d-1][4]=s),l<h-10?(s[4]=o[d],io(o,10+l,s)):(o.push(s),s[4]=null),s[3]=o;const m=s[17];null!==m&&o!==m&&function(i,s){const o=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===o?i[9]=[s]:o.push(s)}(m,s);const y=s[19];null!==y&&y.insertView(i),s[2]|=128}(d,l,m,h);const y=iy(h,m),E=l[11],S=Lg(E,m[7]);return null!==S&&function(i,s,o,l,d,h){l[0]=d,l[6]=s,hu(i,l,o,1,d,h)}(d,m[6],E,l,S,y),s.attachToViewContainerRef(),io(Wm(m),h,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=zm(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),l=Fg(this._lContainer,o);l&&(Or(Wm(this._lContainer),o),hC(l[1],l))}detach(s){const o=this._adjustIndex(s,-1),l=Fg(this._lContainer,o);return l&&null!=Or(Wm(this._lContainer),o)?new vh(l):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function zm(i){return i[8]}function Wm(i){return i[8]||(i[8]=[])}function bh(i,s){let o;const l=s[i.index];if(sr(l))o=l;else{let d;if(8&i.type)d=Jt(l);else{const h=s[11];d=h.createComment("");const m=or(i,s);Kl(h,Lg(h,m),d,function(i,s){return Qt(i)?i.nextSibling(s):s.nextSibling}(h,m),!1)}s[i.index]=o=HC(l,s,d,i),em(s,o)}return new jv(o,i,s)}const Th={};class h0 extends _h{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=jn(s);return new Jv(o,this.ngModule)}}function i_(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}const s_=new ln("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ii});class Jv extends br{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=s.selectors.map(mS).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return i_(this.componentDef.inputs)}get outputs(){return i_(this.componentDef.outputs)}create(s,o,l,d){const h=(d=d||this.ngModule)?function(i,s){return{get:(o,l,d)=>{const h=i.get(o,Th,d);return h!==Th||l===Th?h:s.get(o,l,d)}}}(s,d.injector):s,m=h.get(xu,ti),y=h.get(Pv,null),E=m.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",I=l?function(i,s,o){if(Qt(i))return i.selectRootElement(s,o===Ue.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(E,l,this.componentDef.encapsulation):ey(m.createRenderer(null,this.componentDef),S,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(S)),P=this.componentDef.onPush?576:528,N=function(i,s){return{components:[],scheduler:i||Ii,clean:US,playerHandler:s||null,flags:0}}(),$=Af(0,null,null,1,0,null,null,null,null,null),K=fu(null,$,N,P,null,null,m,E,y,h);let ge,ne;Ga(K);try{const Pe=function(i,s,o,l,d,h){const m=o[1];o[20]=i;const E=hl(m,20,2,"#host",null),S=E.mergedAttrs=s.hostAttrs;null!==S&&(Gt(E,S,!0),null!==i&&(Ei(d,i,S),null!==E.classes&&oy(d,i,E.classes),null!==E.styles&&vC(d,i,E.styles)));const I=l.createRenderer(i,s),P=fu(o,_y(s),null,s.onPush?64:16,o[20],E,l,I,h||null,null);return m.firstCreatePass&&(ht(Wi(E,o),m,s.type),jC(m,E),wy(E,o.length,1)),em(o,P),o[20]=P}(I,this.componentDef,K,m,E);if(I)if(l)Ei(E,I,["ng-version",Pw.full]);else{const{attrs:Se,classes:et}=function(i){const s=[],o=[];let l=1,d=2;for(;l<i.length;){let h=i[l];if("string"==typeof h)2===d?""!==h&&s.push(h,i[++l]):8===d&&o.push(h);else{if(!fo(d))break;d=h}l++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);Se&&Ei(E,I,Se),et&&et.length>0&&oy(E,I,et.join(" "))}if(ne=Al($,20),void 0!==o){const Se=ne.projection=[];for(let et=0;et<this.ngContentSelectors.length;et++){const pt=o[et];Se.push(null!=pt?Array.from(pt):null)}}ge=function(i,s,o,l,d){const h=o[1],m=function(i,s,o){const l=Zt();i.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Dy(i,l,s,$d(i,s,1,null),o));const d=sn(s,i,l.directiveStart,l);Qn(d,s);const h=or(l,s);return h&&Qn(h,s),d}(h,o,s);if(l.components.push(m),i[8]=m,d&&d.forEach(E=>E(m,s)),s.contentQueries){const E=Zt();s.contentQueries(1,m,E.directiveStart)}const y=Zt();return!h.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(za(y.index),FC(o[1],y,0,y.directiveStart,y.directiveEnd,s),UC(s,m)),m}(Pe,this.componentDef,K,N,[aE]),fl($,K,null)}finally{Js()}return new JI(this.componentType,ge,yh(ne,K),K,ne)}}class JI extends class{}{constructor(s,o,l,d,h){super(),this.location=l,this._rootLView=d,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new CI(d),this.componentType=s}get injector(){return new Zi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const vl=new Map;class XI extends ga{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new h0(this);const l=Kr(s),d=s[Me]||null;d&&hh(d),this._bootstrapComponents=es(l.bootstrap),this._r3Injector=ZC(s,o,[{provide:ga,useValue:this},{provide:_h,useValue:this.componentFactoryResolver}],Q(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,o=Qe.THROW_IF_NOT_FOUND,l=Ze.Default){return s===Qe||s===ga||s===Yt?this:this._r3Injector.get(s,o,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Mh extends Bv{constructor(s){super(),this.moduleType=s,null!==Kr(s)&&function(i){const s=new Set;!function o(l){const d=Kr(l,!0),h=d.id;null!==h&&(function(i,s,o){if(s&&s!==o)throw new Error(`Duplicate module registered for ${i} - ${Q(s)} vs ${Q(s.name)}`)}(h,vl.get(h),l),vl.set(h,l));const m=es(d.imports);for(const y of m)s.has(y)||(s.add(y),o(y))}(i)}(s)}create(s){return new XI(this.moduleType,s)}}function a_(i,s,o,l){return function(i,s,o,l,d,h){const m=s+o;return dr(i,m,d)?function(i,s,o){return i[s]=o}(i,m+1,h?l.call(h,d):l(d)):function(i,s){const o=i[s];return o===Ct?void 0:o}(i,m+1)}(Oe(),function(){const i=ot.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}(),i,s,o,l)}function tb(i){return s=>{setTimeout(i,void 0,s)}}const To=class extends u.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,l){var d,h,m;let y=s,E=o||(()=>null),S=l;if(s&&"object"==typeof s){const P=s;y=null===(d=P.next)||void 0===d?void 0:d.bind(P),E=null===(h=P.error)||void 0===h?void 0:h.bind(P),S=null===(m=P.complete)||void 0===m?void 0:m.bind(P)}this.__isAsync&&(E=tb(E),y&&(y=tb(y)),S&&(S=tb(S)));const I=super.subscribe({next:y,error:E,complete:S});return s instanceof re.w&&s.add(I),I}};function uA(){return this._results[oc()]()}class c_{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=oc(),l=c_.prototype;l[o]||(l[o]=uA)}get changes(){return this._changes||(this._changes=new To)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const l=this;l.dirty=!1;const d=si(s);(this._changesDetected=!function(i,s,o){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],h=s[l];if(o&&(d=o(d),h=o(h)),h!==d)return!1}return!0}(l._results,d,o))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class nb{constructor(s){this.queryList=s,this.matches=null}clone(){return new nb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Rp{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const l=null!==s.contentQueries?s.contentQueries[0]:o.length,d=[];for(let h=0;h<l;h++){const m=o.getByIndex(h);d.push(this.queries[m.indexInDeclarationView].clone())}return new Rp(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==M0(s,o).matches&&this.queries[o].setDirty()}}class w0{constructor(s,o,l=null){this.predicate=s,this.flags=o,this.read=l}}class rb{constructor(s=[]){this.queries=s}elementStart(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let l=0;l<this.length;l++){const d=null!==o?o.length:0,h=this.getByIndex(l).embeddedTView(s,d);h&&(h.indexInDeclarationView=l,null!==o?o.push(h):o=[h])}return null!==o?new rb(o):null}template(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class ib{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new ib(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const h=l[d];this.matchTNodeWithReadOption(s,o,D0(o,h)),this.matchTNodeWithReadOption(s,o,Yi(o,s,h,!1,!1))}else l===gp?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,Yi(o,s,l,!1,!1))}matchTNodeWithReadOption(s,o,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Eo||d===Gm||d===gp&&4&o.type)this.addMatch(o.index,-2);else{const h=Yi(o,s,d,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,l)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function D0(i,s){const o=i.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===s)return o[l+1];return null}function Uu(i,s,o,l){return-1===o?function(i,s){return 11&i.type?yh(i,s):4&i.type?_p(i,s):null}(s,i):-2===o?function(i,s,o){return o===Eo?yh(s,i):o===gp?_p(s,i):o===Gm?bh(s,i):void 0}(i,s,l):sn(i,i[1],o,s)}function Rh(i,s,o,l){const d=s[19].queries[l];if(null===d.matches){const h=i.data,m=o.matches,y=[];for(let E=0;E<m.length;E+=2){const S=m[E];y.push(S<0?null:Uu(s,h[S],m[E+1],o.metadata.read))}d.matches=y}return d.matches}function sb(i,s,o,l){const d=i.queries.getByIndex(o),h=d.matches;if(null!==h){const m=Rh(i,s,d,o);for(let y=0;y<h.length;y+=2){const E=h[y];if(E>0)l.push(m[y/2]);else{const S=h[y+1],I=s[-E];for(let P=10;P<I.length;P++){const N=I[P];N[17]===N[3]&&sb(N[1],N,S,l)}if(null!==I[9]){const P=I[9];for(let N=0;N<P.length;N++){const $=P[N];sb($[1],$,S,l)}}}}}return l}function S0(i){const s=Oe(),o=Et(),l=ad();ja(l+1);const d=M0(o,l);if(i.dirty&&Fa(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const h=d.crossesNgTemplate?sb(o,s,l,[]):Rh(o,s,d,l);i.reset(h,Bm),i.notifyOnChanges()}return!0}return!1}function T0(i,s,o){const l=Et();l.firstCreatePass&&(gA(l,new w0(i,s,o),-1),2==(2&s)&&(l.staticViewQueries=!0)),pA(l,Oe(),s)}function fA(i,s,o,l){const d=Et();if(d.firstCreatePass){const h=Zt();gA(d,new w0(s,o,l),h.index),function(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(d,i),2==(2&o)&&(d.staticContentQueries=!0)}pA(d,Oe(),o)}function I0(){return i=Oe(),s=ad(),i[19].queries[s].queryList;var i,s}function pA(i,s,o){const l=new c_(4==(4&o));vy(i,s,l,l.destroy),null===s[19]&&(s[19]=new Rp),s[19].queries.push(new nb(l))}function gA(i,s,o){null===i.queries&&(i.queries=new rb),i.queries.track(new ib(s,o))}function M0(i,s){return i.queries.getByIndex(s)}const F0=new ln("Application Initializer");let Pp=(()=>{class i{constructor(o){this.appInits=o,this.resolve=Vm,this.reject=Vm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const h=this.appInits[d]();if(_m(h))o.push(h);else if(ym(h)){const m=new Promise((y,E)=>{h.subscribe({complete:y,error:E})});o.push(m)}}Promise.all(o).then(()=>{l()}).catch(d=>{this.reject(d)}),0===o.length&&l(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(on(F0,8))},i.\u0275prov=jt({token:i,factory:i.\u0275fac}),i})();const VA=new ln("AppId"),XR={provide:VA,useFactory:function(){return`${L0()}${L0()}${L0()}`},deps:[]};function L0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const BA=new ln("Platform Initializer"),UA=new ln("Platform ID"),jA=new ln("appBootstrapListener");let HA=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=jt({token:i,factory:i.\u0275fac}),i})();const hb=new ln("LocaleId"),$A=new ln("DefaultCurrencyCode");class tx{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}const V0=function(i){return new Mh(i)},GA=V0,nx=function(i){return Promise.resolve(V0(i))},zA=function(i){const s=V0(i),l=es(Kr(i).declarations).reduce((d,h)=>{const m=jn(h);return m&&d.push(new Jv(m)),d},[]);return new tx(s,l)},rx=zA,ix=function(i){return Promise.resolve(zA(i))};let d_=(()=>{class i{constructor(){this.compileModuleSync=GA,this.compileModuleAsync=nx,this.compileModuleAndAllComponentsSync=rx,this.compileModuleAndAllComponentsAsync=ix}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=jt({token:i,factory:i.\u0275fac}),i})();const ax=(()=>Promise.resolve(0))();function B0(i){"undefined"==typeof Zone?ax.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class $s{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new To(!1),this.onMicrotaskEmpty=new To(!1),this.onStable=new To(!1),this.onError=new To(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&o,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let i=Lt.requestAnimationFrame,s=Lt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Lt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,j0(i),i.isCheckStableRunning=!0,U0(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),j0(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,d,h,m,y)=>{try{return WA(i),o.invokeTask(d,h,m,y)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&s(),YA(i)}},onInvoke:(o,l,d,h,m,y,E)=>{try{return WA(i),o.invoke(d,h,m,y,E)}finally{i.shouldCoalesceRunChangeDetection&&s(),YA(i)}},onHasTask:(o,l,d,h)=>{o.hasTask(d,h),l===d&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,j0(i),U0(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,l,d,h)=>(o.handleError(d,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$s.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if($s.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,o,l){return this._inner.run(s,o,l)}runTask(s,o,l,d){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+d,s,cx,Vm,Vm);try{return h.runTask(m,o,l)}finally{h.cancelTask(m)}}runGuarded(s,o,l){return this._inner.runGuarded(s,o,l)}runOutsideAngular(s){return this._outer.run(s)}}const cx={};function U0(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function j0(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function WA(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function YA(i){i._nesting--,U0(i)}class hx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new To,this.onMicrotaskEmpty=new To,this.onStable=new To,this.onError=new To}run(s,o,l){return s.apply(o,l)}runGuarded(s,o,l){return s.apply(o,l)}runOutsideAngular(s){return s()}runTask(s,o,l,d){return s.apply(o,l)}}let ZA=(()=>{class i{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$s.assertNotInAngularZone(),B0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())B0(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,d){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:d})}whenStable(o,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,l,d){return[]}}return i.\u0275fac=function(o){return new(o||i)(on($s))},i.\u0275prov=jt({token:i,factory:i.\u0275fac}),i})(),qA=(()=>{class i{constructor(){this._applications=new Map,H0.addToWindow(this)}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return H0.findTestabilityInTree(this,o,l)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=jt({token:i,factory:i.\u0275fac}),i})();class fx{addToWindow(s){}findTestabilityInTree(s,o,l){return null}}function px(i){H0=i}let H0=new fx,KA=!0,QA=!1;function $0(){return QA=!0,KA}function gx(){if(QA)throw new Error("Cannot enable prod mode after platform setup.");KA=!1}let _a;const JA=new ln("AllowMultipleToken");class Ex{constructor(s,o){this.name=s,this.token=o}}function XA(i,s,o=[]){const l=`Platform: ${s}`,d=new ln(l);return(h=[])=>{let m=eM();if(!m||m.injector.get(JA,!1))if(i)i(o.concat(h).concat({provide:d,useValue:!0}));else{const y=o.concat(h).concat({provide:d,useValue:!0},{provide:Pf,useValue:"platform"});!function(i){if(_a&&!_a.destroyed&&!_a.injector.get(JA,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");_a=i.get(tM);const s=i.get(BA,null);s&&s.forEach(o=>o())}(Qe.create({providers:y,name:l}))}return function(i){const s=eM();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(d)}}function eM(){return _a&&!_a.destroyed?_a:null}let tM=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const y=function(i,s){let o;return o="noop"===i?new hx:("zone.js"===i?void 0:i)||new $s({enableLongStackTrace:$0(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),o}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),E=[{provide:$s,useValue:y}];return y.run(()=>{const S=Qe.create({providers:E,parent:this.injector,name:o.moduleType.name}),I=o.create(S),P=I.injector.get(v,null);if(!P)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const N=y.onError.subscribe({next:$=>{P.handleError($)}});I.onDestroy(()=>{h_(this._modules,I),N.unsubscribe()})}),function(i,s,o){try{const l=o();return _m(l)?l.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(P,y,()=>{const N=I.injector.get(Pp);return N.runInitializers(),N.donePromise.then(()=>(hh(I.injector.get(hb,Ou)||Ou),this._moduleDoBootstrap(I),I))})})}bootstrapModule(o,l=[]){const d=G0({},l);return function(i,s,o){const l=new Mh(o);return Promise.resolve(l)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,d))}_moduleDoBootstrap(o){const l=o.injector.get(Hu);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${Q(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(on(Qe))},i.\u0275prov=jt({token:i,factory:i.\u0275fac}),i})();function G0(i,s){return Array.isArray(s)?s.reduce(G0,i):Object.assign(Object.assign({},i),s)}let Hu=(()=>{class i{constructor(o,l,d,h,m){this._zone=o,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=h,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new L.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),E=new L.y(S=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{$s.assertNotInAngularZone(),B0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{$s.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{I.unsubscribe(),P.unsubscribe()}});this.isStable=(0,he.T)(y,E.pipe((0,le.B)()))}bootstrap(o,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=o instanceof br?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(d.componentType);const h=function(i){return i.isBoundToModule}(d)?void 0:this._injector.get(ga),y=d.create(Qe.NULL,[],l||d.selector,h),E=y.location.nativeElement,S=y.injector.get(ZA,null),I=S&&y.injector.get(qA);return S&&I&&I.registerApplication(E,S),y.onDestroy(()=>{this.detachView(y.hostView),h_(this.components,y),I&&I.unregisterApplication(E)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;h_(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(jA,[]).concat(this._bootstrapListeners).forEach(d=>d(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(o){return new(o||i)(on($s),on(Qe),on(v),on(_h),on(Pp))},i.\u0275prov=jt({token:i,factory:i.\u0275fac}),i})();function h_(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}class nM{}class sM{}const Ax={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let oM=(()=>{class i{constructor(o,l){this._compiler=o,this._config=l||Ax}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[l,d]=o.split("#");return void 0===d&&(d="default"),V(8255)(l).then(h=>h[d]).then(h=>aM(h,l,d)).then(h=>this._compiler.compileModuleAsync(h))}loadFactory(o){let[l,d]=o.split("#"),h="NgFactory";return void 0===d&&(d="default",h=""),V(8255)(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then(m=>m[d+h]).then(m=>aM(m,l,d))}}return i.\u0275fac=function(o){return new(o||i)(on(d_),on(sM,8))},i.\u0275prov=jt({token:i,factory:i.\u0275fac}),i})();function aM(i,s,o){if(!i)throw new Error(`Cannot find '${o}' in '${s}'`);return i}const Rx=function(i){return null},kx=XA(null,"core",[{provide:UA,useValue:"unknown"},{provide:tM,deps:[Qe]},{provide:qA,deps:[]},{provide:HA,deps:[]}]),Vx=[{provide:Hu,useClass:Hu,deps:[$s,Qe,v,_h,Pp]},{provide:s_,deps:[$s],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(o){s.push(o)}}},{provide:Pp,useClass:Pp,deps:[[new Os,F0]]},{provide:d_,useClass:d_,deps:[]},XR,{provide:Pu,useFactory:function(){return $m},deps:[]},{provide:Um,useFactory:function(){return Lv},deps:[]},{provide:hb,useFactory:function(i){return hh(i=i||"undefined"!=typeof $localize&&$localize.locale||Ou),i},deps:[[new Xa(hb),new Os,new cr]]},{provide:$A,useValue:"USD"}];let Ux=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(on(Hu))},i.\u0275mod=Ro({type:i}),i.\u0275inj=Tt({providers:Vx}),i})()},8939:(Ye,Te,V)=>{"use strict";V.d(Te,{hO:()=>ce,xv:()=>X,Dh:()=>Q,GT:()=>ee,cc:()=>oe,on:()=>F,pX:()=>le});var u=V(7716),re=V(7841),L=V(4784);Ye=V.hmd(Ye);const he=["ngOnDestroy"],le=(se,we,Ne,Fe={})=>new Proxy(se,{get:(Xe,Rt)=>Ne.runOutsideAngular(()=>{var St;if(se[Rt])return(null===(St=null==Fe?void 0:Fe.spy)||void 0===St?void 0:St.get)&&Fe.spy.get(Rt,se[Rt]),se[Rt];if(he.indexOf(Rt)>-1)return()=>{};const mt=we.toPromise().then(Ae=>{const ue=Ae&&Ae[Rt];return"function"==typeof ue?ue.bind(Ae):ue&&ue.then?ue.then(fe=>Ne.run(()=>fe)):Ne.run(()=>ue)});return new Proxy(()=>{},{get:(Ae,ue)=>mt[ue],apply:(Ae,ue,fe)=>mt.then(De=>{var ye;const ke=De&&De(...fe);return(null===(ye=null==Fe?void 0:Fe.spy)||void 0===ye?void 0:ye.apply)&&Fe.spy.apply(Rt,fe,ke),ke})})})}),ee=(se,we)=>{we.forEach(Ne=>{Object.getOwnPropertyNames(Ne.prototype||Ne).forEach(Fe=>{Object.defineProperty(se.prototype,Fe,Object.getOwnPropertyDescriptor(Ne.prototype||Ne,Fe))})})};class ie{constructor(we){return we}}const Q=new u.OlP("angularfire2.app.options"),X=new u.OlP("angularfire2.app.name");function F(se,we,Ne){const Xe="object"==typeof Ne&&Ne||{};Xe.name=Xe.name||"string"==typeof Ne&&Ne||"[DEFAULT]";const St=re.Z.apps.filter(mt=>mt&&mt.name===Xe.name)[0]||we.runOutsideAngular(()=>re.Z.initializeApp(se,Xe));try{JSON.stringify(se)!==JSON.stringify(St.options)&&j("error",`${St.name} Firebase App already initialized with different options${Ye.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(mt){}return new ie(St)}const j=(se,...we)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[se](...we)},H={provide:ie,useFactory:F,deps:[Q,u.R0b,[new u.FiY,X]]};let ce=(()=>{class se{constructor(Ne){re.Z.registerVersion("angularfire",L.q4.full,"core"),re.Z.registerVersion("angularfire",L.q4.full,"app-compat"),re.Z.registerVersion("angular",u.q4F.full,Ne.toString())}static initializeApp(Ne,Fe){return{ngModule:se,providers:[{provide:Q,useValue:Ne},{provide:X,useValue:Fe}]}}}return se.\u0275fac=function(Ne){return new(Ne||se)(u.LFG(u.Lbi))},se.\u0275mod=u.oAB({type:se}),se.\u0275inj=u.cJS({providers:[H]}),se})();function oe(se,we,Ne,Fe,Xe){const[,Rt,St]=globalThis.\u0275AngularfireInstanceCache.find(mt=>mt[0]===se)||[];if(Rt)return function(se,we){try{return se.toString()===we.toString()}catch(Ne){return se===we}}(Xe,St)||(_e("error",`${we} was already initialized on the ${Ne} Firebase App with different settings.${Ce?" You may need to reload as Firebase is not HMR aware.":""}`),_e("warn",{is:Xe,was:St})),Rt;{const mt=Fe();return globalThis.\u0275AngularfireInstanceCache.push([se,mt,Xe]),mt}}const Ce=!!Ye.hot,_e=(se,...we)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[se](...we)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4784:(Ye,Te,V)=>{"use strict";V.d(Te,{q4:()=>lg,iC:()=>qn,HU:()=>Nl,vb:()=>io,JM:()=>Ti});var u=V(7716),re=V(2329),L=V(8239),he=V(8026),le=V(3854),ee=V(3910),ie=V(5422),Q=V(6676);const X="@firebase/installations",F="0.5.5",H=`w:${F}`,ce="FIS_v2",we=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ne(D){return D instanceof le.ZR&&D.code.includes("request-failed")}function Fe({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Xe(D){return{token:D.token,requestStatus:2,expiresIn:De(D.expiresIn),creationTime:Date.now()}}function Rt(D,T){return St.apply(this,arguments)}function St(){return(St=(0,L.Z)(function*(D,T){const U=(yield T.json()).error;return we.create("request-failed",{requestName:D,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function mt({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Ae(D,{refreshToken:T}){const R=mt(D);return R.append("Authorization",function(D){return`${ce} ${D}`}(T)),R}function ue(D){return fe.apply(this,arguments)}function fe(){return(fe=(0,L.Z)(function*(D){const T=yield D();return T.status>=500&&T.status<600?D():T})).apply(this,arguments)}function De(D){return Number(D.replace("s","000"))}function ke(D,T){return ve.apply(this,arguments)}function ve(){return(ve=(0,L.Z)(function*(D,{fid:T}){const R=Fe(D),pe={method:"POST",headers:mt(D),body:JSON.stringify({fid:T,authVersion:ce,appId:D.appId,sdkVersion:H})},xe=yield ue(()=>fetch(R,pe));if(xe.ok){const He=yield xe.json();return{fid:He.fid||T,registrationStatus:2,refreshToken:He.refreshToken,authToken:Xe(He.authToken)}}throw yield Rt("Create Installation",xe)})).apply(this,arguments)}function ct(D){return new Promise(T=>{setTimeout(T,D)})}const Pn=/^[cdef][\w-]{21}$/;function kt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const R=function(D){return function(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Pn.test(R)?R:""}catch(D){return""}}function Vt(D){return`${D.appName}!${D.appId}`}const Bn=new Map;function Br(D,T){const R=Vt(D);Tt(R,T),function(D,T){const R=(!Dr&&"BroadcastChannel"in self&&(Dr=new BroadcastChannel("[Firebase] FID Change"),Dr.onmessage=D=>{Tt(D.data.key,D.data.fid)}),Dr);R&&R.postMessage({key:D,fid:T}),0===Bn.size&&Dr&&(Dr.close(),Dr=null)}(R,T)}function Tt(D,T){const R=Bn.get(D);if(R)for(const U of R)U(T)}let Dr=null;const fr="firebase-installations-store";let qr=null;function Ys(){return qr||(qr=(0,Q.openDb)("firebase-installations-database",1,D=>{switch(D.oldVersion){case 0:D.createObjectStore(fr)}})),qr}function Ze(D,T){return an.apply(this,arguments)}function an(){return(an=(0,L.Z)(function*(D,T){const R=Vt(D),te=(yield Ys()).transaction(fr,"readwrite"),pe=te.objectStore(fr),xe=yield pe.get(R);return yield pe.put(T,R),yield te.complete,(!xe||xe.fid!==T.fid)&&Br(D,T.fid),T})).apply(this,arguments)}function Tr(D){return pr.apply(this,arguments)}function pr(){return(pr=(0,L.Z)(function*(D){const T=Vt(D),U=(yield Ys()).transaction(fr,"readwrite");yield U.objectStore(fr).delete(T),yield U.complete})).apply(this,arguments)}function er(D,T){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,L.Z)(function*(D,T){const R=Vt(D),te=(yield Ys()).transaction(fr,"readwrite"),pe=te.objectStore(fr),xe=yield pe.get(R),He=T(xe);return void 0===He?yield pe.delete(R):yield pe.put(He,R),yield te.complete,He&&(!xe||xe.fid!==He.fid)&&Br(D,He.fid),He})).apply(this,arguments)}function Sn(D){return tn.apply(this,arguments)}function tn(){return(tn=(0,L.Z)(function*(D){let T;const R=yield er(D,U=>{const te=ps(U),pe=nn(D,te);return T=pe.registrationPromise,pe.installationEntry});return""===R.fid?{installationEntry:yield T}:{installationEntry:R,registrationPromise:T}})).apply(this,arguments)}function ps(D){return Lt(D||{fid:kt(),registrationStatus:0})}function nn(D,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(we.create("app-offline"))};const R={fid:T.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:R,registrationPromise:function(D,T){return st.apply(this,arguments)}(D,R)}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:tr(D)}:{installationEntry:T}}function st(){return(st=(0,L.Z)(function*(D,T){try{return Ze(D,yield ke(D,T))}catch(R){throw Ne(R)&&409===R.customData.serverCode?yield Tr(D):yield Ze(D,{fid:T.fid,registrationStatus:0}),R}})).apply(this,arguments)}function tr(D){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,L.Z)(function*(D){let T=yield nr(D);for(;1===T.registrationStatus;)yield ct(100),T=yield nr(D);if(0===T.registrationStatus){const{installationEntry:R,registrationPromise:U}=yield Sn(D);return U||R}return T})).apply(this,arguments)}function nr(D){return er(D,T=>{if(!T)throw we.create("installation-not-found");return Lt(T)})}function Lt(D){return function(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function gs(D,T){return W.apply(this,arguments)}function W(){return(W=(0,L.Z)(function*({appConfig:D,platformLoggerProvider:T},R){const U=G(D,R),te=Ae(D,R),pe=T.getImmediate({optional:!0});pe&&te.append("x-firebase-client",pe.getPlatformInfoString());const He={method:"POST",headers:te,body:JSON.stringify({installation:{sdkVersion:H}})},$e=yield ue(()=>fetch(U,He));if($e.ok)return Xe(yield $e.json());throw yield Rt("Generate Auth Token",$e)})).apply(this,arguments)}function G(D,{fid:T}){return`${Fe(D)}/${T}/authTokens:generate`}function q(D){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,L.Z)(function*(D,T=!1){let R;const U=yield er(D.appConfig,pe=>{if(!We(pe))throw we.create("not-registered");const xe=pe.authToken;if(!T&&bt(xe))return pe;if(1===xe.requestStatus)return R=de(D,T),pe;{if(!navigator.onLine)throw we.create("app-offline");const He=Ht(pe);return R=be(D,He),He}});return R?yield R:U.authToken})).apply(this,arguments)}function de(D,T){return ze.apply(this,arguments)}function ze(){return(ze=(0,L.Z)(function*(D,T){let R=yield Me(D.appConfig);for(;1===R.authToken.requestStatus;)yield ct(100),R=yield Me(D.appConfig);const U=R.authToken;return 0===U.requestStatus?q(D,T):U})).apply(this,arguments)}function Me(D){return er(D,T=>{if(!We(T))throw we.create("not-registered");return function(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function be(D,T){return Le.apply(this,arguments)}function Le(){return(Le=(0,L.Z)(function*(D,T){try{const R=yield gs(D,T),U=Object.assign(Object.assign({},T),{authToken:R});return yield Ze(D.appConfig,U),R}catch(R){if(!Ne(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const U=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Ze(D.appConfig,U)}else yield Tr(D.appConfig);throw R}})).apply(this,arguments)}function We(D){return void 0!==D&&2===D.registrationStatus}function bt(D){return 2===D.requestStatus&&!function(D){const T=Date.now();return T<D.creationTime||D.creationTime+D.expiresIn<T+36e5}(D)}function Ht(D){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:T})}function Ro(){return(Ro=(0,L.Z)(function*(D){const T=D,{installationEntry:R,registrationPromise:U}=yield Sn(T.appConfig);return U?U.catch(console.error):q(T).catch(console.error),R.fid})).apply(this,arguments)}function Ta(){return(Ta=(0,L.Z)(function*(D,T=!1){const R=D;return yield wl(R.appConfig),(yield q(R,T)).token})).apply(this,arguments)}function wl(D){return ms.apply(this,arguments)}function ms(){return(ms=(0,L.Z)(function*(D){const{registrationPromise:T}=yield Sn(D);T&&(yield T)})).apply(this,arguments)}function $t(D){return we.create("missing-app-config-values",{valueName:D})}const mr="installations";(0,he._registerComponent)(new ee.wA(mr,D=>{const T=D.getProvider("app").getImmediate();return{app:T,appConfig:function(D){if(!D||!D.options)throw $t("App Configuration");if(!D.name)throw $t("App Name");const T=["projectId","apiKey","appId"];for(const R of T)if(!D.options[R])throw $t(R);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(T),platformLoggerProvider:(0,he._getProvider)(T,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,he._registerComponent)(new ee.wA("installations-internal",D=>{const T=D.getProvider("app").getImmediate(),R=(0,he._getProvider)(T,mr).getImmediate();return{getId:()=>function(D){return Ro.apply(this,arguments)}(R),getToken:te=>function(D){return Ta.apply(this,arguments)}(R,te)}},"PRIVATE")),(0,he.registerVersion)(X,F),(0,he.registerVersion)(X,F,"esm2017");const Zs="@firebase/remote-config",kn=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class No{constructor(T,R,U,te){this.client=T,this.storage=R,this.storageCache=U,this.logger=te}isCachedDataFresh(T,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-R,te=U<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${te}.`),te}fetch(T){var R=this;return(0,L.Z)(function*(){const[U,te]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(te&&R.isCachedDataFresh(T.cacheMaxAgeMillis,U))return te;T.eTag=te&&te.eTag;const pe=yield R.client.fetch(T),xe=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===pe.status&&xe.push(R.storage.setLastSuccessfulFetchResponse(pe)),yield Promise.all(xe),pe})()}}function _r(D=navigator){return D.languages&&D.languages[0]||D.language}class In{constructor(T,R,U,te,pe,xe){this.firebaseInstallations=T,this.sdkVersion=R,this.namespace=U,this.projectId=te,this.apiKey=pe,this.appId=xe}fetch(T){var R=this;return(0,L.Z)(function*(){const[U,te]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),xe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,He={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},$e={sdk_version:R.sdkVersion,app_instance_id:U,app_instance_id_token:te,app_id:R.appId,language_code:_r()},Mt={method:"POST",headers:He,body:JSON.stringify($e)},zt=fetch(xe,Mt),Cn=new Promise((Gr,xr)=>{T.signal.addEventListener(()=>{const ft=new Error("The operation was aborted.");ft.name="AbortError",xr(ft)})});let Rr;try{yield Promise.race([zt,Cn]),Rr=yield zt}catch(Gr){let xr="fetch-client-network";throw"AbortError"===Gr.name&&(xr="fetch-timeout"),kn.create(xr,{originalErrorMessage:Gr.message})}let Nn=Rr.status;const Jo=Rr.headers.get("ETag")||void 0;let Ja,Xo;if(200===Rr.status){let Gr;try{Gr=yield Rr.json()}catch(xr){throw kn.create("fetch-client-parse",{originalErrorMessage:xr.message})}Ja=Gr.entries,Xo=Gr.state}if("INSTANCE_STATE_UNSPECIFIED"===Xo?Nn=500:"NO_CHANGE"===Xo?Nn=304:("NO_TEMPLATE"===Xo||"EMPTY_CONFIG"===Xo)&&(Ja={}),304!==Nn&&200!==Nn)throw kn.create("fetch-status",{httpStatus:Nn});return{status:Nn,eTag:Jo,config:Ja}})()}}class mi{constructor(T,R){this.client=T,this.storage=R}fetch(T){var R=this;return(0,L.Z)(function*(){const U=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(T,U)})()}attemptFetch(T,{throttleEndTimeMillis:R,backoffCount:U}){var te=this;return(0,L.Z)(function*(){yield function(D,T){return new Promise((R,U)=>{const te=Math.max(T-Date.now(),0),pe=setTimeout(R,te);D.addEventListener(()=>{clearTimeout(pe),U(kn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,R);try{const pe=yield te.client.fetch(T);return yield te.storage.deleteThrottleMetadata(),pe}catch(pe){if(!function(D){if(!(D instanceof le.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}(pe))throw pe;const xe={throttleEndTimeMillis:Date.now()+(0,le.$s)(U),backoffCount:U+1};return yield te.storage.setThrottleMetadata(xe),te.attemptFetch(T,xe)}})()}}class Jp{constructor(T,R,U,te,pe){this.app=T,this._client=R,this._storageCache=U,this._storage=te,this._logger=pe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Aa(D,T){const R=D.target.error||void 0;return kn.create(T,{originalErrorMessage:R&&R.message})}const Fo="app_namespace_store";class td{constructor(T,R,U,te=function(){return new Promise((D,T)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=U=>{T(Aa(U,"storage-open"))},R.onsuccess=U=>{D(U.target.result)},R.onupgradeneeded=U=>{const te=U.target.result;switch(U.oldVersion){case 0:te.createObjectStore(Fo,{keyPath:"compositeKey"})}}}catch(R){T(kn.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=T,this.appName=R,this.namespace=U,this.openDbPromise=te}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var R=this;return(0,L.Z)(function*(){const U=yield R.openDbPromise;return new Promise((te,pe)=>{const He=U.transaction([Fo],"readonly").objectStore(Fo),$e=R.createCompositeKey(T);try{const Mt=He.get($e);Mt.onerror=zt=>{pe(Aa(zt,"storage-get"))},Mt.onsuccess=zt=>{const Cn=zt.target.result;te(Cn?Cn.value:void 0)}}catch(Mt){pe(kn.create("storage-get",{originalErrorMessage:Mt&&Mt.message}))}})})()}set(T,R){var U=this;return(0,L.Z)(function*(){const te=yield U.openDbPromise;return new Promise((pe,xe)=>{const $e=te.transaction([Fo],"readwrite").objectStore(Fo),Mt=U.createCompositeKey(T);try{const zt=$e.put({compositeKey:Mt,value:R});zt.onerror=Cn=>{xe(Aa(Cn,"storage-set"))},zt.onsuccess=()=>{pe()}}catch(zt){xe(kn.create("storage-set",{originalErrorMessage:zt&&zt.message}))}})})()}delete(T){var R=this;return(0,L.Z)(function*(){const U=yield R.openDbPromise;return new Promise((te,pe)=>{const He=U.transaction([Fo],"readwrite").objectStore(Fo),$e=R.createCompositeKey(T);try{const Mt=He.delete($e);Mt.onerror=zt=>{pe(Aa(zt,"storage-delete"))},Mt.onsuccess=()=>{te()}}catch(Mt){pe(kn.create("storage-delete",{originalErrorMessage:Mt&&Mt.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Lo{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,L.Z)(function*(){const R=T.storage.getLastFetchStatus(),U=T.storage.getLastSuccessfulFetchTimestampMillis(),te=T.storage.getActiveConfig(),pe=yield R;pe&&(T.lastFetchStatus=pe);const xe=yield U;xe&&(T.lastSuccessfulFetchTimestampMillis=xe);const He=yield te;He&&(T.activeConfig=He)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function ng(){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,L.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch(D){return!1}})).apply(this,arguments)}(0,he._registerComponent)(new ee.wA("remote-config",function(T,{instanceIdentifier:R}){const U=T.getProvider("app").getImmediate(),te=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw kn.create("registration-window");if(!(0,le.hl)())throw kn.create("indexed-db-unavailable");const{projectId:pe,apiKey:xe,appId:He}=U.options;if(!pe)throw kn.create("registration-project-id");if(!xe)throw kn.create("registration-api-key");if(!He)throw kn.create("registration-app-id");const $e=new td(He,U.name,R=R||"firebase"),Mt=new Lo($e),zt=new ie.Yd(Zs);zt.logLevel=ie.in.ERROR;const Cn=new In(te,he.SDK_VERSION,R,pe,xe,He),Rr=new mi(Cn,$e),Nn=new No(Rr,$e,Mt,zt),Jo=new Jp(U,Nn,Mt,$e,zt);return function(D){const T=(0,le.m9)(D);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Jo),Jo},"PUBLIC").setMultipleInstances(!0)),(0,he.registerVersion)(Zs,"0.3.4"),(0,he.registerVersion)(Zs,"0.3.4","esm2017");const Jr="/firebase-messaging-sw.js",Ma="/firebase-cloud-messaging-push-scope",bs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Bi="google.c.a.c_id",nd="google.c.a.c_l",Uo="google.c.a.ts",Cs="google.c.a.e";var Ui=(()=>{return(D=Ui||(Ui={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Ui;var D})();function Xr(D){const T=new Uint8Array(D);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Oc(D){const R=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(R),te=new Uint8Array(U.length);for(let pe=0;pe<U.length;++pe)te[pe]=U.charCodeAt(pe);return te}const Oa="fcm_token_details_db",rd="fcm_token_object_Store";function ei(D){return qs.apply(this,arguments)}function qs(){return(qs=(0,L.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(pe=>pe.name).includes(Oa))return null;let T=null;return(yield(0,Q.openDb)(Oa,5,function(){var U=(0,L.Z)(function*(te){var pe;if(te.oldVersion<2||!te.objectStoreNames.contains(rd))return;const xe=te.transaction.objectStore(rd),He=yield xe.index("fcmSenderId").get(D);if(yield xe.clear(),He)if(2===te.oldVersion){const $e=He;if(!$e.auth||!$e.p256dh||!$e.endpoint)return;T={token:$e.fcmToken,createTime:null!==(pe=$e.createTime)&&void 0!==pe?pe:Date.now(),subscriptionOptions:{auth:$e.auth,p256dh:$e.p256dh,endpoint:$e.endpoint,swScope:$e.swScope,vapidKey:"string"==typeof $e.vapidKey?$e.vapidKey:Xr($e.vapidKey)}}}else if(3===te.oldVersion){const $e=He;T={token:$e.fcmToken,createTime:$e.createTime,subscriptionOptions:{auth:Xr($e.auth),p256dh:Xr($e.p256dh),endpoint:$e.endpoint,swScope:$e.swScope,vapidKey:Xr($e.vapidKey)}}}else if(4===te.oldVersion){const $e=He;T={token:$e.fcmToken,createTime:$e.createTime,subscriptionOptions:{auth:Xr($e.auth),p256dh:Xr($e.p256dh),endpoint:$e.endpoint,swScope:$e.swScope,vapidKey:Xr($e.vapidKey)}}}});return function(te){return U.apply(this,arguments)}}())).close(),yield(0,Q.deleteDb)(Oa),yield(0,Q.deleteDb)("fcm_vapid_details_db"),yield(0,Q.deleteDb)("undefined"),Ra(T)?T:null})).apply(this,arguments)}function Ra(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:T}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const Es="firebase-messaging-store";let Pa=null;function Qt(){return Pa||(Pa=(0,Q.openDb)("firebase-messaging-database",1,D=>{switch(D.oldVersion){case 0:D.createObjectStore(Es)}})),Pa}function ka(D){return ti.apply(this,arguments)}function ti(){return(ti=(0,L.Z)(function*(D){const T=ws(D),U=yield(yield Qt()).transaction(Es).objectStore(Es).get(T);if(U)return U;{const te=yield ei(D.appConfig.senderId);if(te)return yield Na(D,te),te}})).apply(this,arguments)}function Na(D,T){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,L.Z)(function*(D,T){const R=ws(D),te=(yield Qt()).transaction(Es,"readwrite");return yield te.objectStore(Es).put(T,R),yield te.complete,T})).apply(this,arguments)}function Rc(D){return Il.apply(this,arguments)}function Il(){return(Il=(0,L.Z)(function*(D){const T=ws(D),U=(yield Qt()).transaction(Es,"readwrite");yield U.objectStore(Es).delete(T),yield U.complete})).apply(this,arguments)}function ws({appConfig:D}){return D.appId}const mn=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Al(D,T){return _i.apply(this,arguments)}function _i(){return(_i=(0,L.Z)(function*(D,T){const R=yield jo(D),U=ot(T),te={method:"POST",headers:R,body:JSON.stringify(U)};let pe;try{pe=yield(yield fetch(ji(D.appConfig),te)).json()}catch(xe){throw mn.create("token-subscribe-failed",{errorInfo:xe})}if(pe.error)throw mn.create("token-subscribe-failed",{errorInfo:pe.error.message});if(!pe.token)throw mn.create("token-subscribe-no-token");return pe.token})).apply(this,arguments)}function yr(D,T){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,L.Z)(function*(D,T){const R=yield jo(D),U=ot(T.subscriptionOptions),te={method:"PATCH",headers:R,body:JSON.stringify(U)};let pe;try{pe=yield(yield fetch(`${ji(D.appConfig)}/${T.token}`,te)).json()}catch(xe){throw mn.create("token-update-failed",{errorInfo:xe})}if(pe.error)throw mn.create("token-update-failed",{errorInfo:pe.error.message});if(!pe.token)throw mn.create("token-update-no-token");return pe.token})).apply(this,arguments)}function xc(D,T){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,L.Z)(function*(D,T){const U={method:"DELETE",headers:yield jo(D)};try{const pe=yield(yield fetch(`${ji(D.appConfig)}/${T}`,U)).json();if(pe.error)throw mn.create("token-unsubscribe-failed",{errorInfo:pe.error.message})}catch(te){throw mn.create("token-unsubscribe-failed",{errorInfo:te})}})).apply(this,arguments)}function ji({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function jo(D){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,L.Z)(function*({appConfig:D,installations:T}){const R=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function ot({p256dh:D,auth:T,endpoint:R,vapidKey:U}){const te={web:{endpoint:R,auth:T,p256dh:D}};return U!==bs&&(te.web.applicationPubKey=U),te}const Ml=6048e5;function qh(D){return La.apply(this,arguments)}function La(){return(La=(0,L.Z)(function*(D){const T=yield Pc(D.swRegistration,D.vapidKey),R={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:T.endpoint,auth:Xr(T.getKey("auth")),p256dh:Xr(T.getKey("p256dh"))},U=yield ka(D.firebaseDependencies);if(U){if(kc(U.subscriptionOptions,R))return Date.now()>=U.createTime+Ml?Kh(D,{token:U.token,createTime:Date.now(),subscriptionOptions:R}):U.token;try{yield xc(D.firebaseDependencies,U.token)}catch(te){console.warn(te)}return Oe(D.firebaseDependencies,R)}return Oe(D.firebaseDependencies,R)})).apply(this,arguments)}function sd(D){return Va.apply(this,arguments)}function Va(){return(Va=(0,L.Z)(function*(D){const T=yield ka(D.firebaseDependencies);T&&(yield xc(D.firebaseDependencies,T.token),yield Rc(D.firebaseDependencies));const R=yield D.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function Kh(D,T){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,L.Z)(function*(D,T){try{const R=yield yr(D.firebaseDependencies,T),U=Object.assign(Object.assign({},T),{token:R,createTime:Date.now()});return yield Na(D.firebaseDependencies,U),R}catch(R){throw yield sd(D),R}})).apply(this,arguments)}function Oe(D,T){return Et.apply(this,arguments)}function Et(){return(Et=(0,L.Z)(function*(D,T){const U={token:yield Al(D,T),createTime:Date.now(),subscriptionOptions:T};return yield Na(D,U),U.token})).apply(this,arguments)}function Pc(D,T){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,L.Z)(function*(D,T){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Oc(T)})})).apply(this,arguments)}function kc(D,T){return T.vapidKey===D.vapidKey&&T.endpoint===D.endpoint&&T.auth===D.auth&&T.p256dh===D.p256dh}function yi(D){const T={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function(D,T){if(!T.notification)return;D.notification={};const R=T.notification.title;R&&(D.notification.title=R);const U=T.notification.body;U&&(D.notification.body=U);const te=T.notification.image;te&&(D.notification.image=te)}(T,D),function(D,T){!T.data||(D.data=T.data)}(T,D),function(D,T){if(!T.fcmOptions)return;D.fcmOptions={};const R=T.fcmOptions.link;R&&(D.fcmOptions.link=R);const U=T.fcmOptions.analytics_label;U&&(D.fcmOptions.analyticsLabel=U)}(T,D),T}function ig(D){return"object"==typeof D&&!!D&&Bi in D}function od(D,T){const R=[];for(let U=0;U<D.length;U++)R.push(D.charAt(U)),U<T.length&&R.push(T.charAt(U));return R.join("")}function Go(D){return mn.create("missing-app-config-values",{valueName:D})}od("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),od("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class _n{constructor(T,R,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const te=function(D){if(!D||!D.options)throw Go("App Configuration Object");if(!D.name)throw Go("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:R}=D;for(const U of T)if(!R[U])throw Go(U);return{appName:D.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:te,installations:R,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Hr(D){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,L.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Jr,{scope:Ma}),D.swRegistration.update().catch(()=>{})}catch(T){throw mn.create("failed-service-worker-registration",{browserErrorMessage:T.message})}})).apply(this,arguments)}function $i(D,T){return ar.apply(this,arguments)}function ar(){return(ar=(0,L.Z)(function*(D,T){if(!T&&!D.swRegistration&&(yield Hr(D)),T||!D.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw mn.create("invalid-sw-registration");D.swRegistration=T}})).apply(this,arguments)}function sg(D,T){return zo.apply(this,arguments)}function zo(){return(zo=(0,L.Z)(function*(D,T){T?D.vapidKey=T:D.vapidKey||(D.vapidKey=bs)})).apply(this,arguments)}function Ua(){return(Ua=(0,L.Z)(function*(D,T){if(!navigator)throw mn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw mn.create("permission-blocked");return yield sg(D,null==T?void 0:T.vapidKey),yield $i(D,null==T?void 0:T.serviceWorkerRegistration),qh(D)})).apply(this,arguments)}function Fc(D,T,R){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,L.Z)(function*(D,T,R){const U=ad(T);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:R[Bi],message_name:R[nd],message_time:R[Uo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ad(D){switch(D){case Ui.NOTIFICATION_CLICKED:return"notification_open";case Ui.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ha(){return(Ha=(0,L.Z)(function*(D,T){const R=T.data;if(!R.isFirebaseMessaging)return;D.onMessageHandler&&R.messageType===Ui.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(yi(R)):D.onMessageHandler.next(yi(R)));const U=R.data;ig(U)&&"1"===U[Cs]&&(yield Fc(D,R.messageType,U))})).apply(this,arguments)}const $a="@firebase/messaging";function ud(){return Js.apply(this,arguments)}function Js(){return(Js=(0,L.Z)(function*(){try{yield(0,le.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,he._registerComponent)(new ee.wA("messaging",D=>{const T=new _n(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function(D,T){return Ha.apply(this,arguments)}(T,R)),T},"PUBLIC")),(0,he._registerComponent)(new ee.wA("messaging-internal",D=>{const T=D.getProvider("messaging").getImmediate();return{getToken:U=>function(D,T){return Ua.apply(this,arguments)}(T,U)}},"PRIVATE")),(0,he.registerVersion)($a,"0.9.9"),(0,he.registerVersion)($a,"0.9.9","esm2017");const Vc="analytics",Bc="firebase_id",Yo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wa="https://www.googletagmanager.com/gtag/js",Mn=new ie.Yd("@firebase/analytics");function Uc(D){return Promise.all(D.map(T=>T.catch(R=>R)))}function jc(D,T){const R=document.createElement("script");R.src=`${Wa}?l=${D}&id=${T}`,R.async=!0,document.head.appendChild(R)}function Rl(D,T,R,U,te,pe){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,L.Z)(function*(D,T,R,U,te,pe){const xe=U[te];try{if(xe)yield T[xe];else{const $e=(yield Uc(R)).find(Mt=>Mt.measurementId===te);$e&&(yield T[$e.appId])}}catch(He){Mn.error(He)}D("config",te,pe)})).apply(this,arguments)}function dd(D,T,R,U,te){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,L.Z)(function*(D,T,R,U,te){try{let pe=[];if(te&&te.send_to){let xe=te.send_to;Array.isArray(xe)||(xe=[xe]);const He=yield Uc(R);for(const $e of xe){const Mt=He.find(Cn=>Cn.measurementId===$e),zt=Mt&&T[Mt.appId];if(!zt){pe=[];break}pe.push(zt)}}0===pe.length&&(pe=Object.values(T)),yield Promise.all(pe),D("event",U,te||{})}catch(pe){Mn.error(pe)}})).apply(this,arguments)}function N_(){const D=window.document.getElementsByTagName("script");for(const T of Object.values(D))if(T.src&&T.src.includes(Wa))return T;return null}const Ci=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Gi=new class{constructor(T={},R=1e3){this.throttleMetadata=T,this.intervalMillis=R}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,R){this.throttleMetadata[T]=R}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function fd(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function fn(D){return zi.apply(this,arguments)}function zi(){return(zi=(0,L.Z)(function*(D){var T;const{appId:R,apiKey:U}=D,te={method:"GET",headers:fd(U)},pe=Yo.replace("{app-id}",R),xe=yield fetch(pe,te);if(200!==xe.status&&304!==xe.status){let He="";try{const $e=yield xe.json();(null===(T=$e.error)||void 0===T?void 0:T.message)&&(He=$e.error.message)}catch($e){}throw Ci.create("config-fetch-failed",{httpStatus:xe.status,responseMessage:He})}return xe.json()})).apply(this,arguments)}function pd(D){return eo.apply(this,arguments)}function eo(){return(eo=(0,L.Z)(function*(D,T=Gi,R){const{appId:U,apiKey:te,measurementId:pe}=D.options;if(!U)throw Ci.create("no-app-id");if(!te){if(pe)return{measurementId:pe,appId:U};throw Ci.create("no-api-key")}const xe=T.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},He=new Xh;return setTimeout((0,L.Z)(function*(){He.abort()}),void 0!==R?R:6e4),Za({appId:U,apiKey:te,measurementId:pe},xe,He,T)})).apply(this,arguments)}function Za(D,T,R){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,L.Z)(function*(D,{throttleEndTimeMillis:T,backoffCount:R},U,te=Gi){const{appId:pe,measurementId:xe}=D;try{yield F_(U,T)}catch(He){if(xe)return Mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xe} provided in the "measurementId" field in the local Firebase config. [${He.message}]`),{appId:pe,measurementId:xe};throw He}try{const He=yield fn(D);return te.deleteThrottleMetadata(pe),He}catch(He){if(!zc(He)){if(te.deleteThrottleMetadata(pe),xe)return Mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xe} provided in the "measurementId" field in the local Firebase config. [${He.message}]`),{appId:pe,measurementId:xe};throw He}const $e=503===Number(He.customData.httpStatus)?(0,le.$s)(R,te.intervalMillis,30):(0,le.$s)(R,te.intervalMillis),Mt={throttleEndTimeMillis:Date.now()+$e,backoffCount:R+1};return te.setThrottleMetadata(pe,Mt),Mn.debug(`Calling attemptFetch again in ${$e} millis`),Za(D,Mt,U,te)}})).apply(this,arguments)}function F_(D,T){return new Promise((R,U)=>{const te=Math.max(T-Date.now(),0),pe=setTimeout(R,te);D.addEventListener(()=>{clearTimeout(pe),U(Ci.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function zc(D){if(!(D instanceof le.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Xh{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function Wc(){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,L.Z)(function*(){if(!(0,le.hl)())return Mn.warn(Ci.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(D){return Mn.warn(Ci.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function to(){return(to=(0,L.Z)(function*(D,T,R,U,te,pe,xe){var He;const $e=pd(D);$e.then(Nn=>{R[Nn.measurementId]=Nn.appId,D.options.measurementId&&Nn.measurementId!==D.options.measurementId&&Mn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Nn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Nn=>Mn.error(Nn)),T.push($e);const Mt=Wc().then(Nn=>{if(Nn)return U.getId()}),[zt,Cn]=yield Promise.all([$e,Mt]);N_()||jc(pe,zt.measurementId),te("js",new Date);const Rr=null!==(He=null==xe?void 0:xe.config)&&void 0!==He?He:{};return Rr.origin="firebase",Rr.update=!0,null!=Cn&&(Rr[Bc]=Cn),te("config",zt.measurementId,Rr),zt.measurementId})).apply(this,arguments)}class yn{constructor(T){this.app=T}_delete(){return delete Ge[this.app.options.appId],Promise.resolve()}}let Ge={},ht=[];const qa={};let no,vn,Wn="dataLayer",xl=!1;function sn(D,T,R){!function(){const D=[];if((0,le.ru)()&&D.push("This is a browser extension environment."),(0,le.zI)()||D.push("Cookies are not available."),D.length>0){const T=D.map((U,te)=>`(${te+1}) ${U}`).join(" "),R=Ci.create("invalid-analytics-context",{errorInfo:T});Mn.warn(R.message)}}();const U=D.options.appId;if(!U)throw Ci.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Ci.create("no-api-key");Mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ge[U])throw Ci.create("already-exists",{id:U});if(!xl){!function(D){let T=[];Array.isArray(window[D])?T=window[D]:window[D]=T}(Wn);const{wrappedGtag:pe,gtagCore:xe}=function(D,T,R,U,te){let pe=function(...xe){window[U].push(arguments)};return window[te]&&"function"==typeof window[te]&&(pe=window[te]),window[te]=function(D,T,R,U){function pe(){return(pe=(0,L.Z)(function*(xe,He,$e){try{"event"===xe?yield dd(D,T,R,He,$e):"config"===xe?yield Rl(D,T,R,U,He,$e):D("set",He)}catch(Mt){Mn.error(Mt)}})).apply(this,arguments)}return function(xe,He,$e){return pe.apply(this,arguments)}}(pe,D,T,R),{gtagCore:pe,wrappedGtag:window[te]}}(Ge,ht,qa,Wn,"gtag");vn=pe,no=xe,xl=!0}return Ge[U]=function(D,T,R,U,te,pe,xe){return to.apply(this,arguments)}(D,ht,qa,T,no,Wn,R),new yn(D)}function Pl(){return(Pl=(0,L.Z)(function*(D,T,R,U,te){if(te&&te.global)D("event",R,U);else{const pe=yield T;D("event",R,Object.assign(Object.assign({},U),{send_to:pe}))}})).apply(this,arguments)}function ri(){return _d.apply(this,arguments)}function _d(){return(_d=(0,L.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch(D){return!1}})).apply(this,arguments)}const ef="@firebase/analytics";(0,he._registerComponent)(new ee.wA(Vc,(T,{options:R})=>sn(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,he._registerComponent)(new ee.wA("analytics-internal",function(T){try{const R=T.getProvider(Vc).getImmediate();return{logEvent:(U,te,pe)=>function(D,T,R,U){D=(0,le.m9)(D),function(D,T,R,U,te){return Pl.apply(this,arguments)}(vn,Ge[D.app.options.appId],T,R,U).catch(te=>Mn.error(te))}(R,U,te,pe)}}catch(R){throw Ci.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,he.registerVersion)(ef,"0.7.5"),(0,he.registerVersion)(ef,"0.7.5","esm2017");var yd=V(7771),ag=V(3637),Ko=V(3342),qc=V(9673),vd=V(309);const lg=new u.GfV("7.2.1"),Zn="__angularfire_symbol__analyticsIsSupportedValue",Qa="__angularfire_symbol__analyticsIsSupported",Ki="__angularfire_symbol__remoteConfigIsSupportedValue",As="__angularfire_symbol__remoteConfigIsSupported",cn="__angularfire_symbol__messagingIsSupportedValue",Si="__angularfire_symbol__messagingIsSupported";function Ti(D,T,R){if(T){if(1===T.length)return T[0];const pe=T.filter(xe=>xe.app===R);if(1===pe.length)return pe[0]}return R.container.getProvider(D).getImmediate({optional:!0})}globalThis[Qa]||(globalThis[Qa]=ri().then(D=>globalThis[Zn]=D).catch(()=>globalThis[Zn]=!1)),globalThis[Si]||(globalThis[Si]=ud().then(D=>globalThis[cn]=D).catch(()=>globalThis[cn]=!1)),globalThis[As]||(globalThis[As]=ng().then(D=>globalThis[Ki]=D).catch(()=>globalThis[Ki]=!1));const io=(D,T)=>{const R=T?[T]:(0,re.C6)(),U=[];return R.forEach(te=>{te.container.getProvider(D).instances.forEach(xe=>{U.includes(xe)||U.push(xe)})}),U};function Or(){}class Qi{constructor(T,R=yd.N){this.zone=T,this.delegate=R}now(){return this.delegate.now()}schedule(T,R,U){const te=this.zone;return this.delegate.schedule(function(xe){te.runGuarded(()=>{T.apply(this,[xe])})},R,U)}}class Cd{constructor(T){this.zone=T,this.task=null}call(T,R){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Or,{},Or,Or)),R.pipe((0,Ko.b)({next:U,complete:U,error:U})).subscribe(T).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Nl=(()=>{class D{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Qi(Zone.current)),this.insideAngular=R.run(()=>new Qi(Zone.current,ag.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(R){return new(R||D)(u.LFG(u.R0b))},D.\u0275prov=u.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function so(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function qn(D){return so(),function(D){return function(R){return(R=R.lift(new Cd(D.ngZone))).pipe((0,qc.R)(D.outsideAngular),(0,vd.QV)(D.insideAngular))}}(so())(D)}},3854:(Ye,Te,V)=>{"use strict";V.d(Te,{BH:()=>ce,LL:()=>ve,ZR:()=>ke,gQ:()=>fr,zI:()=>fe,hu:()=>re,g5:()=>L,US:()=>ee,tV:()=>X,h$:()=>ie,$s:()=>nr,r3:()=>jt,Sg:()=>oe,ne:()=>qr,p$:()=>F,vZ:()=>Dr,ZB:()=>j,gK:()=>er,pd:()=>Ni,m9:()=>gs,z$:()=>Ee,GJ:()=>Br,jU:()=>se,ru:()=>we,xb:()=>Tt,w1:()=>Xe,hl:()=>Ae,uI:()=>Ce,UG:()=>_e,Yr:()=>St,b$:()=>Ne,w9:()=>Bn,cI:()=>Pn,UI:()=>Un,xO:()=>Sr,zd:()=>fs,DV:()=>Kt,ug:()=>nn,dS:()=>ps,Pz:()=>ut,Dv:()=>pr,Wj:()=>Sn,lb:()=>tn,eu:()=>ue});const re=function(W,G){if(!W)throw L(G)},L=function(W){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+W)},he=function(W){const G=[];let q=0;for(let Ie=0;Ie<W.length;Ie++){let de=W.charCodeAt(Ie);de<128?G[q++]=de:de<2048?(G[q++]=de>>6|192,G[q++]=63&de|128):55296==(64512&de)&&Ie+1<W.length&&56320==(64512&W.charCodeAt(Ie+1))?(de=65536+((1023&de)<<10)+(1023&W.charCodeAt(++Ie)),G[q++]=de>>18|240,G[q++]=de>>12&63|128,G[q++]=de>>6&63|128,G[q++]=63&de|128):(G[q++]=de>>12|224,G[q++]=de>>6&63|128,G[q++]=63&de|128)}return G},ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,G){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ie=[];for(let de=0;de<W.length;de+=3){const ze=W[de],Me=de+1<W.length,be=Me?W[de+1]:0,Le=de+2<W.length,We=Le?W[de+2]:0;let Ht=(15&be)<<2|We>>6,dn=63&We;Le||(dn=64,Me||(Ht=64)),Ie.push(q[ze>>2],q[(3&ze)<<4|be>>4],q[Ht],q[dn])}return Ie.join("")},encodeString(W,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(W):this.encodeByteArray(he(W),G)},decodeString(W,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(W):function(W){const G=[];let q=0,Ie=0;for(;q<W.length;){const de=W[q++];if(de<128)G[Ie++]=String.fromCharCode(de);else if(de>191&&de<224){const ze=W[q++];G[Ie++]=String.fromCharCode((31&de)<<6|63&ze)}else if(de>239&&de<365){const Le=((7&de)<<18|(63&W[q++])<<12|(63&W[q++])<<6|63&W[q++])-65536;G[Ie++]=String.fromCharCode(55296+(Le>>10)),G[Ie++]=String.fromCharCode(56320+(1023&Le))}else{const ze=W[q++],Me=W[q++];G[Ie++]=String.fromCharCode((15&de)<<12|(63&ze)<<6|63&Me)}}return G.join("")}(this.decodeStringToByteArray(W,G))},decodeStringToByteArray(W,G){this.init_();const q=G?this.charToByteMapWebSafe_:this.charToByteMap_,Ie=[];for(let de=0;de<W.length;){const ze=q[W.charAt(de++)],be=de<W.length?q[W.charAt(de)]:0;++de;const We=de<W.length?q[W.charAt(de)]:64;++de;const tt=de<W.length?q[W.charAt(de)]:64;if(++de,null==ze||null==be||null==We||null==tt)throw Error();Ie.push(ze<<2|be>>4),64!==We&&(Ie.push(be<<4&240|We>>2),64!==tt&&Ie.push(We<<6&192|tt))}return Ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},ie=function(W){const G=he(W);return ee.encodeByteArray(G,!0)},Q=function(W){return ie(W).replace(/\./g,"")},X=function(W){try{return ee.decodeString(W,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function F(W){return j(void 0,W)}function j(W,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return G}for(const q in G)!G.hasOwnProperty(q)||!H(q)||(W[q]=j(W[q],G[q]));return W}function H(W){return"__proto__"!==W}class ce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,q)=>{this.resolve=G,this.reject=q})}wrapCallback(G){return(q,Ie)=>{q?this.reject(q):this.resolve(Ie),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(q):G(q,Ie))}}}function oe(W,G){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ie=G||"demo-project",de=W.iat||0,ze=W.sub||W.user_id;if(!ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Me=Object.assign({iss:`https://securetoken.google.com/${Ie}`,aud:Ie,iat:de,exp:de+3600,auth_time:de,sub:ze,user_id:ze,firebase:{sign_in_provider:"custom",identities:{}}},W);return[Q(JSON.stringify({alg:"none",type:"JWT"})),Q(JSON.stringify(Me)),""].join(".")}function Ee(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ce(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ee())}function _e(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(W){return!1}}function se(){return"object"==typeof self&&self.self===self}function we(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function Ne(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Xe(){const W=Ee();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function St(){return!1}function Ae(){return"object"==typeof indexedDB}function ue(){return new Promise((W,G)=>{try{let q=!0;const Ie="validate-browser-context-for-indexeddb-analytics-module",de=self.indexedDB.open(Ie);de.onsuccess=()=>{de.result.close(),q||self.indexedDB.deleteDatabase(Ie),W(!0)},de.onupgradeneeded=()=>{q=!1},de.onerror=()=>{var ze;G((null===(ze=de.error)||void 0===ze?void 0:ze.message)||"")}}catch(q){G(q)}})}function fe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ke extends Error{constructor(G,q,Ie){super(q),this.code=G,this.customData=Ie,this.name="FirebaseError",Object.setPrototypeOf(this,ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ve.prototype.create)}}class ve{constructor(G,q,Ie){this.service=G,this.serviceName=q,this.errors=Ie}create(G,...q){const Ie=q[0]||{},de=`${this.service}/${G}`,ze=this.errors[G],Me=ze?function(W,G){return W.replace(Ut,(q,Ie)=>{const de=G[Ie];return null!=de?String(de):`<${Ie}?>`})}(ze,Ie):"Error";return new ke(de,`${this.serviceName}: ${Me} (${de}).`,Ie)}}const Ut=/\{\$([^}]+)}/g;function Pn(W){return JSON.parse(W)}function ut(W){return JSON.stringify(W)}const kt=function(W){let G={},q={},Ie={},de="";try{const ze=W.split(".");G=Pn(X(ze[0])||""),q=Pn(X(ze[1])||""),de=ze[2],Ie=q.d||{},delete q.d}catch(ze){}return{header:G,claims:q,data:Ie,signature:de}},Bn=function(W){const q=kt(W).claims;return!!q&&"object"==typeof q&&q.hasOwnProperty("iat")},Br=function(W){const G=kt(W).claims;return"object"==typeof G&&!0===G.admin};function jt(W,G){return Object.prototype.hasOwnProperty.call(W,G)}function Kt(W,G){if(Object.prototype.hasOwnProperty.call(W,G))return W[G]}function Tt(W){for(const G in W)if(Object.prototype.hasOwnProperty.call(W,G))return!1;return!0}function Un(W,G,q){const Ie={};for(const de in W)Object.prototype.hasOwnProperty.call(W,de)&&(Ie[de]=G.call(q,W[de],de,W));return Ie}function Dr(W,G){if(W===G)return!0;const q=Object.keys(W),Ie=Object.keys(G);for(const de of q){if(!Ie.includes(de))return!1;const ze=W[de],Me=G[de];if(Gn(ze)&&Gn(Me)){if(!Dr(ze,Me))return!1}else if(ze!==Me)return!1}for(const de of Ie)if(!q.includes(de))return!1;return!0}function Gn(W){return null!==W&&"object"==typeof W}function Sr(W){const G=[];for(const[q,Ie]of Object.entries(W))Array.isArray(Ie)?Ie.forEach(de=>{G.push(encodeURIComponent(q)+"="+encodeURIComponent(de))}):G.push(encodeURIComponent(q)+"="+encodeURIComponent(Ie));return G.length?"&"+G.join("&"):""}function fs(W){const G={};return W.replace(/^\?/,"").split("&").forEach(Ie=>{if(Ie){const[de,ze]=Ie.split("=");G[decodeURIComponent(de)]=decodeURIComponent(ze)}}),G}function Ni(W){const G=W.indexOf("?");if(!G)return"";const q=W.indexOf("#",G);return W.substring(G,q>0?q:void 0)}class fr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let G=1;G<this.blockSize;++G)this.pad_[G]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(G,q){q||(q=0);const Ie=this.W_;if("string"==typeof G)for(let tt=0;tt<16;tt++)Ie[tt]=G.charCodeAt(q)<<24|G.charCodeAt(q+1)<<16|G.charCodeAt(q+2)<<8|G.charCodeAt(q+3),q+=4;else for(let tt=0;tt<16;tt++)Ie[tt]=G[q]<<24|G[q+1]<<16|G[q+2]<<8|G[q+3],q+=4;for(let tt=16;tt<80;tt++){const Ht=Ie[tt-3]^Ie[tt-8]^Ie[tt-14]^Ie[tt-16];Ie[tt]=4294967295&(Ht<<1|Ht>>>31)}let We,bt,de=this.chain_[0],ze=this.chain_[1],Me=this.chain_[2],be=this.chain_[3],Le=this.chain_[4];for(let tt=0;tt<80;tt++){tt<40?tt<20?(We=be^ze&(Me^be),bt=1518500249):(We=ze^Me^be,bt=1859775393):tt<60?(We=ze&Me|be&(ze|Me),bt=2400959708):(We=ze^Me^be,bt=3395469782);const Ht=(de<<5|de>>>27)+We+Le+bt+Ie[tt]&4294967295;Le=be,be=Me,Me=4294967295&(ze<<30|ze>>>2),ze=de,de=Ht}this.chain_[0]=this.chain_[0]+de&4294967295,this.chain_[1]=this.chain_[1]+ze&4294967295,this.chain_[2]=this.chain_[2]+Me&4294967295,this.chain_[3]=this.chain_[3]+be&4294967295,this.chain_[4]=this.chain_[4]+Le&4294967295}update(G,q){if(null==G)return;void 0===q&&(q=G.length);const Ie=q-this.blockSize;let de=0;const ze=this.buf_;let Me=this.inbuf_;for(;de<q;){if(0===Me)for(;de<=Ie;)this.compress_(G,de),de+=this.blockSize;if("string"==typeof G){for(;de<q;)if(ze[Me]=G.charCodeAt(de),++Me,++de,Me===this.blockSize){this.compress_(ze),Me=0;break}}else for(;de<q;)if(ze[Me]=G[de],++Me,++de,Me===this.blockSize){this.compress_(ze),Me=0;break}}this.inbuf_=Me,this.total_+=q}digest(){const G=[];let q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let de=this.blockSize-1;de>=56;de--)this.buf_[de]=255&q,q/=256;this.compress_(this.buf_);let Ie=0;for(let de=0;de<5;de++)for(let ze=24;ze>=0;ze-=8)G[Ie]=this.chain_[de]>>ze&255,++Ie;return G}}function qr(W,G){const q=new Ys(W,G);return q.subscribe.bind(q)}class Ys{constructor(G,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{G(this)}).catch(Ie=>{this.error(Ie)})}next(G){this.forEachObserver(q=>{q.next(G)})}error(G){this.forEachObserver(q=>{q.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,q,Ie){let de;if(void 0===G&&void 0===q&&void 0===Ie)throw new Error("Missing Observer.");de=function(W,G){if("object"!=typeof W||null===W)return!1;for(const q of["next","error","complete"])if(q in W&&"function"==typeof W[q])return!0;return!1}(G)?G:{next:G,error:q,complete:Ie},void 0===de.next&&(de.next=Tr),void 0===de.error&&(de.error=Tr),void 0===de.complete&&(de.complete=Tr);const ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?de.error(this.finalError):de.complete()}catch(Me){}}),this.observers.push(de),ze}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,G)}sendOne(G,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{q(this.observers[G])}catch(Ie){"undefined"!=typeof console&&console.error&&console.error(Ie)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tr(){}const pr=function(W,G,q,Ie){let de;if(Ie<G?de="at least "+G:Ie>q&&(de=0===q?"none":"no more than "+q),de)throw new Error(W+" failed: Was called with "+Ie+(1===Ie?" argument.":" arguments.")+" Expects "+de+".")};function er(W,G){return`${W} failed: ${G} argument `}function Sn(W,G,q,Ie){if((!Ie||q)&&"function"!=typeof q)throw new Error(er(W,G)+"must be a valid function.")}function tn(W,G,q,Ie){if((!Ie||q)&&("object"!=typeof q||null===q))throw new Error(er(W,G)+"must be a valid context object.")}const ps=function(W){const G=[];let q=0;for(let Ie=0;Ie<W.length;Ie++){let de=W.charCodeAt(Ie);if(de>=55296&&de<=56319){const ze=de-55296;Ie++,re(Ie<W.length,"Surrogate pair missing trail surrogate."),de=65536+(ze<<10)+(W.charCodeAt(Ie)-56320)}de<128?G[q++]=de:de<2048?(G[q++]=de>>6|192,G[q++]=63&de|128):de<65536?(G[q++]=de>>12|224,G[q++]=de>>6&63|128,G[q++]=63&de|128):(G[q++]=de>>18|240,G[q++]=de>>12&63|128,G[q++]=de>>6&63|128,G[q++]=63&de|128)}return G},nn=function(W){let G=0;for(let q=0;q<W.length;q++){const Ie=W.charCodeAt(q);Ie<128?G++:Ie<2048?G+=2:Ie>=55296&&Ie<=56319?(G+=4,q++):G+=3}return G};function nr(W,G=1e3,q=2){const Ie=G*Math.pow(q,W),de=Math.round(.5*Ie*(Math.random()-.5)*2);return Math.min(144e5,Ie+de)}function gs(W){return W&&W._delegate?W._delegate:W}},2329:(Ye,Te,V)=>{"use strict";V.d(Te,{Mq:()=>u.getApp,C6:()=>u.getApps});var u=V(8026);(0,u.registerVersion)("firebase","9.6.8","app")},7841:(Ye,Te,V)=>{"use strict";V.d(Te,{Z:()=>u.Z});var u=V(3394);u.Z.registerVersion("firebase","9.6.8","app-compat")},1352:(Ye,Te,V)=>{"use strict";V.r(Te);var u=V(8239),re=V(3394),L=V(3854),he=V(8026),le=V(4762),ee=V(5422),ie=V(3910);const Ee=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ce=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_e=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),we=new ee.Yd("@firebase/auth");function Ne(v,...p){we.logLevel<=ee.in.ERROR&&we.error(`Auth (${he.SDK_VERSION}): ${v}`,...p)}function Fe(v,...p){throw mt(v,...p)}function Xe(v,...p){return mt(v,...p)}function Rt(v,p,g){const C=Object.assign(Object.assign({},Ce()),{[p]:g});return new L.LL("auth","Firebase",C).create(p,{appName:v.name})}function St(v,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Fe(v,"argument-error"),Rt(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mt(v,...p){if("string"!=typeof v){const g=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=v.name),v._errorFactory.create(g,...C)}return _e.create(v,...p)}function Ae(v,p,...g){if(!v)throw mt(p,...g)}function ue(v){const p="INTERNAL ASSERTION FAILED: "+v;throw Ne(p),new Error(p)}function fe(v,p){v||ue(p)}const De=new Map;function ye(v){fe(v instanceof Function,"Expected a class definition");let p=De.get(v);return p?(fe(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,De.set(v,p),p)}function ct(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Ut(){return"http:"===Pn()||"https:"===Pn()}function Pn(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class dt{constructor(p,g){this.shortDelay=p,this.longDelay=g,fe(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ut()||(0,L.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Vt(v,p){fe(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Bn{static initialize(p,g,C){this.fetchImpl=p,g&&(this.headersImpl=g),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ue("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ue("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ue("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Br={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},jt=new dt(3e4,6e4);function Kt(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function Tt(v,p,g,C){return Un.apply(this,arguments)}function Un(){return(Un=(0,u.Z)(function*(v,p,g,C,M={}){return Dr(v,M,(0,u.Z)(function*(){let k={},J={};C&&("GET"===p?J=C:k={body:JSON.stringify(C)});const me=(0,L.xO)(Object.assign({key:v.config.apiKey},J)).slice(1),Be=yield v._getAdditionalHeaders();return Be["Content-Type"]="application/json",v.languageCode&&(Be["X-Firebase-Locale"]=v.languageCode),Bn.fetch()(Ni(v,v.config.apiHost,g,me),Object.assign({method:p,headers:Be,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function Dr(v,p,g){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,u.Z)(function*(v,p,g){v._canInitEmulator=!1;const C=Object.assign(Object.assign({},Br),p);try{const M=new fr(v),k=yield Promise.race([g(),M.promise]);M.clearNetworkTimeout();const J=yield k.json();if("needConfirmation"in J)throw qr(v,"account-exists-with-different-credential",J);if(k.ok&&!("errorMessage"in J))return J;{const me=k.ok?J.errorMessage:J.error.message,[Be,Ke]=me.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Be)throw qr(v,"credential-already-in-use",J);if("EMAIL_EXISTS"===Be)throw qr(v,"email-already-in-use",J);const at=C[Be]||Be.toLowerCase().replace(/[_\s]+/g,"-");if(Ke)throw Rt(v,at,Ke);Fe(v,at)}}catch(M){if(M instanceof L.ZR)throw M;Fe(v,"network-request-failed")}})).apply(this,arguments)}function Sr(v,p,g,C){return fs.apply(this,arguments)}function fs(){return(fs=(0,u.Z)(function*(v,p,g,C,M={}){const k=yield Tt(v,p,g,C,M);return"mfaPendingCredential"in k&&Fe(v,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function Ni(v,p,g,C){const M=`${p}${g}?${C}`;return v.config.emulator?Vt(v.config,M):`${v.config.apiScheme}://${M}`}class fr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,C)=>{this.timer=setTimeout(()=>C(Xe(this.auth,"network-request-failed")),jt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qr(v,p,g){const C={appName:v.name};g.email&&(C.email=g.email),g.phoneNumber&&(C.phoneNumber=g.phoneNumber);const M=Xe(v,p,C);return M.customData._tokenResponse=g,M}function Ze(){return(Ze=(0,u.Z)(function*(v,p){return Tt(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function an(v,p){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,u.Z)(function*(v,p){return Tt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function pr(v,p){return er.apply(this,arguments)}function er(){return(er=(0,u.Z)(function*(v,p){return Tt(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Fi(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function ps(){return(ps=(0,u.Z)(function*(v,p=!1){const g=(0,L.m9)(v),C=yield g.getIdToken(p),M=Ue(C);Ae(M&&M.exp&&M.auth_time&&M.iat,g.auth,"internal-error");const k="object"==typeof M.firebase?M.firebase:void 0,J=null==k?void 0:k.sign_in_provider;return{claims:M,token:C,authTime:Fi(nn(M.auth_time)),issuedAtTime:Fi(nn(M.iat)),expirationTime:Fi(nn(M.exp)),signInProvider:J||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function nn(v){return 1e3*Number(v)}function Ue(v){const[p,g,C]=v.split(".");if(void 0===p||void 0===g||void 0===C)return Ne("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,L.tV)(g);return M?JSON.parse(M):(Ne("Failed to decode base64 JWT payload"),null)}catch(M){return Ne("Caught error parsing JWT payload as JSON",M),null}}function tr(v,p){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,u.Z)(function*(v,p,g=!1){if(g)return p;try{return yield p}catch(C){throw C instanceof L.ZR&&nr(C)&&v.auth.currentUser===v&&(yield v.auth.signOut()),C}})).apply(this,arguments)}function nr({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Lt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const M=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),C)}iteration(){var p=this;return(0,u.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class rr{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fi(this.lastLoginAt),this.creationTime=Fi(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function gs(v){return W.apply(this,arguments)}function W(){return(W=(0,u.Z)(function*(v){var p;const g=v.auth,C=yield v.getIdToken(),M=yield tr(v,pr(g,{idToken:C}));Ae(null==M?void 0:M.users.length,g,"internal-error");const k=M.users[0];v._notifyReloadListener(k);const J=(null===(p=k.providerUserInfo)||void 0===p?void 0:p.length)?de(k.providerUserInfo):[],me=Ie(v.providerData,J),at=!!v.isAnonymous&&!(v.email&&k.passwordHash||(null==me?void 0:me.length)),nt={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:me,metadata:new rr(k.createdAt,k.lastLoginAt),isAnonymous:at};Object.assign(v,nt)})).apply(this,arguments)}function q(){return(q=(0,u.Z)(function*(v){const p=(0,L.m9)(v);yield gs(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ie(v,p){return[...v.filter(C=>!p.some(M=>M.providerId===C.providerId)),...p]}function de(v){return v.map(p=>{var{providerId:g}=p,C=(0,le._T)(p,["providerId"]);return{providerId:g,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Me(){return(Me=(0,u.Z)(function*(v,p){const g=yield Dr(v,{},(0,u.Z)(function*(){const C=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:k}=v.config,J=Ni(v,M,"/v1/token",`key=${k}`),me=yield v._getAdditionalHeaders();return me["Content-Type"]="application/x-www-form-urlencoded",Bn.fetch()(J,{method:"POST",headers:me,body:C})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class be{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Ae(p.idToken,"internal-error"),Ae(void 0!==p.idToken,"internal-error"),Ae(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(v){const p=Ue(v);return Ae(p,"internal-error"),Ae(void 0!==p.exp,"internal-error"),Ae(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var C=this;return(0,u.Z)(function*(){return Ae(!C.accessToken||C.refreshToken,p,"user-token-expired"),g||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var C=this;return(0,u.Z)(function*(){const{accessToken:M,refreshToken:k,expiresIn:J}=yield function(v,p){return Me.apply(this,arguments)}(p,g);C.updateTokensAndExpiration(M,k,Number(J))})()}updateTokensAndExpiration(p,g,C){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,g){const{refreshToken:C,accessToken:M,expirationTime:k}=g,J=new be;return C&&(Ae("string"==typeof C,"internal-error",{appName:p}),J.refreshToken=C),M&&(Ae("string"==typeof M,"internal-error",{appName:p}),J.accessToken=M),k&&(Ae("number"==typeof k,"internal-error",{appName:p}),J.expirationTime=k),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new be,this.toJSON())}_performRefresh(){return ue("not implemented")}}function Le(v,p){Ae("string"==typeof v||void 0===v,"internal-error",{appName:p})}class We{constructor(p){var{uid:g,auth:C,stsTokenManager:M}=p,k=(0,le._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=C,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new rr(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,u.Z)(function*(){const C=yield tr(g,g.stsTokenManager.getToken(g.auth,p));return Ae(C,g.auth,"internal-error"),g.accessToken!==C&&(g.accessToken=C,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),C})()}getIdTokenResult(p){return function(v){return ps.apply(this,arguments)}(this,p)}reload(){return function(v){return q.apply(this,arguments)}(this)}_assign(p){this!==p&&(Ae(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new We(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var C=this;return(0,u.Z)(function*(){let M=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),M=!0),g&&(yield gs(C)),yield C.auth._persistUserIfCurrent(C),M&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,u.Z)(function*(){const g=yield p.getIdToken();return yield tr(p,function(v,p){return Ze.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var C,M,k,J,me,Be,Ke,at;const nt=null!==(C=g.displayName)&&void 0!==C?C:void 0,wn=null!==(M=g.email)&&void 0!==M?M:void 0,Ii=null!==(k=g.phoneNumber)&&void 0!==k?k:void 0,Vd=null!==(J=g.photoURL)&&void 0!==J?J:void 0,Yl=null!==(me=g.tenantId)&&void 0!==me?me:void 0,Cf=null!==(Be=g._redirectEventId)&&void 0!==Be?Be:void 0,cl=null!==(Ke=g.createdAt)&&void 0!==Ke?Ke:void 0,es=null!==(at=g.lastLoginAt)&&void 0!==at?at:void 0,{uid:Rg,emailVerified:Q_,isAnonymous:Ef,providerData:xg,stsTokenManager:ts}=g;Ae(Rg&&ts,p,"internal-error");const wf=be.fromJSON(this.name,ts);Ae("string"==typeof Rg,p,"internal-error"),Le(nt,p.name),Le(wn,p.name),Ae("boolean"==typeof Q_,p,"internal-error"),Ae("boolean"==typeof Ef,p,"internal-error"),Le(Ii,p.name),Le(Vd,p.name),Le(Yl,p.name),Le(Cf,p.name),Le(cl,p.name),Le(es,p.name);const Zl=new We({uid:Rg,auth:p,email:wn,emailVerified:Q_,displayName:nt,isAnonymous:Ef,photoURL:Vd,phoneNumber:Ii,tenantId:Yl,stsTokenManager:wf,createdAt:cl,lastLoginAt:es});return xg&&Array.isArray(xg)&&(Zl.providerData=xg.map(J_=>Object.assign({},J_))),Cf&&(Zl._redirectEventId=Cf),Zl}static _fromIdTokenResponse(p,g,C=!1){return(0,u.Z)(function*(){const M=new be;M.updateFromServerResponse(g);const k=new We({uid:g.localId,auth:p,stsTokenManager:M,isAnonymous:C});return yield gs(k),k})()}}const tt=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,C){var M=this;return(0,u.Z)(function*(){M.storage[g]=C})()}_get(g){var C=this;return(0,u.Z)(function*(){const M=C.storage[g];return void 0===M?null:M})()}_remove(g){var C=this;return(0,u.Z)(function*(){delete C.storage[g]})()}_addListener(g,C){}_removeListener(g,C){}}return v.type="NONE",v})();function Ht(v,p,g){return`firebase:${v}:${p}:${g}`}class dn{constructor(p,g,C){this.persistence=p,this.auth=g,this.userKey=C;const{config:M,name:k}=this.auth;this.fullUserKey=Ht(this.userKey,M.apiKey,k),this.fullPersistenceKey=Ht("persistence",M.apiKey,k),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?We._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,u.Z)(function*(){if(g.persistence===p)return;const C=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,C?g.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,C="authUser"){return(0,u.Z)(function*(){if(!g.length)return new dn(ye(tt),p,C);const M=(yield Promise.all(g.map(function(){var Ke=(0,u.Z)(function*(at){if(yield at._isAvailable())return at});return function(at){return Ke.apply(this,arguments)}}()))).filter(Ke=>Ke);let k=M[0]||ye(tt);const J=Ht(C,p.config.apiKey,p.name);let me=null;for(const Ke of g)try{const at=yield Ke._get(J);if(at){const nt=We._fromJSON(p,at);Ke!==k&&(me=nt),k=Ke;break}}catch(at){}const Be=M.filter(Ke=>Ke._shouldAllowMigration);return k._shouldAllowMigration&&Be.length?(k=Be[0],me&&(yield k._set(J,me.toJSON())),yield Promise.all(g.map(function(){var Ke=(0,u.Z)(function*(at){if(at!==k)try{yield at._remove(J)}catch(nt){}});return function(at){return Ke.apply(this,arguments)}}())),new dn(k,p,C)):new dn(k,p,C)})()}}function Sa(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(wl(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Ro(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(jn(p))return"Blackberry";if(gr(p))return"Webos";if(El(p))return"Safari";if((p.includes("chrome/")||Ta(p))&&!p.includes("edge/"))return"Chrome";if(ms(p))return"Android";{const C=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function Ro(v=(0,L.z$)()){return/firefox\//i.test(v)}function El(v=(0,L.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ta(v=(0,L.z$)()){return/crios\//i.test(v)}function wl(v=(0,L.z$)()){return/iemobile/i.test(v)}function ms(v=(0,L.z$)()){return/android/i.test(v)}function jn(v=(0,L.z$)()){return/blackberry/i.test(v)}function gr(v=(0,L.z$)()){return/webos/i.test(v)}function zn(v=(0,L.z$)()){return/iphone|ipad|ipod/i.test(v)}function je(v=(0,L.z$)()){return zn(v)||ms(v)||gr(v)||jn(v)||/windows phone/i.test(v)||wl(v)}function $t(v,p=[]){let g;switch(v){case"Browser":g=Sa((0,L.z$)());break;case"Worker":g=`${Sa((0,L.z$)())}-${v}`;break;default:g=v}const C=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${he.SDK_VERSION}/${C}`}class mr{constructor(p,g){this.app=p,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tn(this),this.idTokenSubscription=new Tn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_e,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(p,g){var C=this;return g&&(this._popupRedirectResolver=ye(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var M,k;if(!C._deleted&&(C.persistenceManager=yield dn.create(C,p),!C._deleted)){if(null===(M=C._popupRedirectResolver)||void 0===M?void 0:M._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch(J){}yield C.initializeCurrentUser(g),C.lastNotifiedUid=(null===(k=C.currentUser)||void 0===k?void 0:k.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,u.Z)(function*(){var C;let M=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const k=null===(C=g.redirectUser)||void 0===C?void 0:C._redirectEventId,J=null==M?void 0:M._redirectEventId,me=yield g.tryRedirectSignIn(p);(!k||k===J)&&(null==me?void 0:me.user)&&(M=me.user)}return M?M._redirectEventId?(Ae(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===M._redirectEventId?g.directlySetCurrentUser(M):g.reloadAndSetCurrentUserOrClear(M)):g.reloadAndSetCurrentUserOrClear(M):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,u.Z)(function*(){let C=null;try{C=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(M){yield g._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,u.Z)(function*(){try{yield gs(p)}catch(C){if("auth/network-request-failed"!==C.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,u.Z)(function*(){const C=p?(0,L.m9)(p):null;return C&&Ae(C.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(C&&C._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,u.Z)(function*(){if(!g._deleted)return p&&Ae(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,u.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(ye(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,g,C){return this.registerStateListener(this.authStateSubscription,p,g,C)}onIdTokenChanged(p,g,C){return this.registerStateListener(this.idTokenSubscription,p,g,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var C=this;return(0,u.Z)(function*(){const M=yield C.getOrInitRedirectPersistenceManager(g);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const C=p&&ye(p)||g._popupRedirectResolver;Ae(C,g,"argument-error"),g.redirectPersistenceManager=yield dn.create(g,[ye(C._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,u.Z)(function*(){var C,M;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(C=g._currentUser)||void 0===C?void 0:C._redirectEventId)===p?g._currentUser:(null===(M=g.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,u.Z)(function*(){if(p===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,C,M){if(this._deleted)return()=>{};const k="function"==typeof g?g:g.next.bind(g),J=this._isInitialized?Promise.resolve():this._initializationPromise;return Ae(J,this,"internal-error"),J.then(()=>k(this.currentUser)),"function"==typeof g?p.addObserver(g,C,M):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=$t(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,u.Z)(function*(){const g={"X-Client-Version":p.clientVersion};return p.app.options.appId&&(g["X-Firebase-gmpid"]=p.app.options.appId),g})()}}function rn(v){return(0,L.m9)(v)}class Tn{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(g=>this.observer=g)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function hn(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function _s(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Ar{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return ue("not implemented")}_getIdTokenResponse(p){return ue("not implemented")}_linkToIdToken(p,g){return ue("not implemented")}_getReauthenticationResolver(p){return ue("not implemented")}}function ys(v,p){return kn.apply(this,arguments)}function kn(){return(kn=(0,u.Z)(function*(v,p){return Tt(v,"POST","/v1/accounts:resetPassword",Kt(v,p))})).apply(this,arguments)}function xo(v,p){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,u.Z)(function*(v,p){return Tt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Po(v,p){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,u.Z)(function*(v,p){return Tt(v,"POST","/v1/accounts:update",Kt(v,p))})).apply(this,arguments)}function Bt(){return(Bt=(0,u.Z)(function*(v,p){return Sr(v,"POST","/v1/accounts:signInWithPassword",Kt(v,p))})).apply(this,arguments)}function Dl(v,p){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,u.Z)(function*(v,p){return Tt(v,"POST","/v1/accounts:sendOobCode",Kt(v,p))})).apply(this,arguments)}function ir(v,p){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,u.Z)(function*(v,p){return Dl(v,p)})).apply(this,arguments)}function ko(v,p){return pi.apply(this,arguments)}function pi(){return(pi=(0,u.Z)(function*(v,p){return Dl(v,p)})).apply(this,arguments)}function vs(v,p){return $n.apply(this,arguments)}function $n(){return($n=(0,u.Z)(function*(v,p){return Dl(v,p)})).apply(this,arguments)}function Kp(v,p){return gi.apply(this,arguments)}function gi(){return(gi=(0,u.Z)(function*(v,p){return Dl(v,p)})).apply(this,arguments)}function Sl(){return(Sl=(0,u.Z)(function*(v,p){return Sr(v,"POST","/v1/accounts:signInWithEmailLink",Kt(v,p))})).apply(this,arguments)}function No(){return(No=(0,u.Z)(function*(v,p){return Sr(v,"POST","/v1/accounts:signInWithEmailLink",Kt(v,p))})).apply(this,arguments)}class _r extends Ar{constructor(p,g,C,M=null){super("password",C),this._email=p,this._password=g,this._tenantId=M}static _fromEmailAndPassword(p,g){return new _r(p,g,"password")}static _fromEmailAndCode(p,g,C=null){return new _r(p,g,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,u.Z)(function*(){switch(g.signInMethod){case"password":return function(v,p){return Bt.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(v,p){return Sl.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Fe(p,"internal-error")}})()}_linkToIdToken(p,g){var C=this;return(0,u.Z)(function*(){switch(C.signInMethod){case"password":return xo(p,{idToken:g,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function(v,p){return No.apply(this,arguments)}(p,{idToken:g,email:C._email,oobCode:C._password});default:Fe(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function In(v,p){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,u.Z)(function*(v,p){return Sr(v,"POST","/v1/accounts:signInWithIdp",Kt(v,p))})).apply(this,arguments)}class mi extends Ar{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new mi(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Fe("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:M}=g,k=(0,le._T)(g,["providerId","signInMethod"]);if(!C||!M)return null;const J=new mi(C,M);return J.idToken=k.idToken||void 0,J.accessToken=k.accessToken||void 0,J.secret=k.secret,J.nonce=k.nonce,J.pendingToken=k.pendingToken||null,J}_getIdTokenResponse(p){return In(p,this.buildRequest())}_linkToIdToken(p,g){const C=this.buildRequest();return C.idToken=g,In(p,C)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,In(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,L.xO)(g)}return p}}function Qp(v,p){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,u.Z)(function*(v,p){return Tt(v,"POST","/v1/accounts:sendVerificationCode",Kt(v,p))})).apply(this,arguments)}function Aa(){return(Aa=(0,u.Z)(function*(v,p){return Sr(v,"POST","/v1/accounts:signInWithPhoneNumber",Kt(v,p))})).apply(this,arguments)}function ed(){return(ed=(0,u.Z)(function*(v,p){const g=yield Sr(v,"POST","/v1/accounts:signInWithPhoneNumber",Kt(v,p));if(g.temporaryProof)throw qr(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Xp={USER_NOT_FOUND:"user-not-found"};function td(){return(td=(0,u.Z)(function*(v,p){return Sr(v,"POST","/v1/accounts:signInWithPhoneNumber",Kt(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Xp)})).apply(this,arguments)}class Lo extends Ar{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Lo({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Lo({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function(v,p){return Aa.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function(v,p){return ed.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(v,p){return td.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:C,verificationCode:M}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:C,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:C,phoneNumber:M,temporaryProof:k}=p;return C||g||M||k?new Lo({verificationId:g,verificationCode:C,phoneNumber:M,temporaryProof:k}):null}}class Vo{constructor(p){var g,C,M,k,J,me;const Be=(0,L.zd)((0,L.pd)(p)),Ke=null!==(g=Be.apiKey)&&void 0!==g?g:null,at=null!==(C=Be.oobCode)&&void 0!==C?C:null,nt=function(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Be.mode)&&void 0!==M?M:null);Ae(Ke&&at&&nt,"argument-error"),this.apiKey=Ke,this.operation=nt,this.code=at,this.continueUrl=null!==(k=Be.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(J=Be.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(me=Be.tenantId)&&void 0!==me?me:null}static parseLink(p){const g=function(v){const p=(0,L.zd)((0,L.pd)(v)).link,g=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,C=(0,L.zd)((0,L.pd)(v)).deep_link_id;return(C?(0,L.zd)((0,L.pd)(C)).link:null)||C||g||p||v}(p);try{return new Vo(g)}catch(C){return null}}}let Bo=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,C){return _r._fromEmailAndPassword(g,C)}static credentialWithLink(g,C){const M=Vo.parseLink(C);return Ae(M,"argument-error"),_r._fromEmailAndCode(g,M.code,M.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Jr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ma extends Jr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class bs extends Ma{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return Ae("providerId"in g&&"signInMethod"in g,"argument-error"),mi._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Ae(p.idToken||p.accessToken,"argument-error"),mi._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return bs.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return bs.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:C,oauthTokenSecret:M,pendingToken:k,nonce:J,providerId:me}=p;if(!C&&!M&&!g&&!k||!me)return null;try{return new bs(me)._credential({idToken:g,accessToken:C,nonce:J,pendingToken:k})}catch(Be){return null}}}let Mc=(()=>{class v extends Ma{constructor(){super("facebook.com")}static credential(g){return mi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch(C){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Bi=(()=>{class v extends Ma{constructor(){super("google.com"),this.addScope("profile")}static credential(g,C){return mi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:C})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:C,oauthAccessToken:M}=g;if(!C&&!M)return null;try{return v.credential(C,M)}catch(k){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),nd=(()=>{class v extends Ma{constructor(){super("github.com")}static credential(g){return mi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch(C){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Cs extends Ar{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return In(p,this.buildRequest())}_linkToIdToken(p,g){const C=this.buildRequest();return C.idToken=g,In(p,C)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,In(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:M,pendingToken:k}=g;return C&&M&&k&&C===M?new Cs(C,k):null}static _create(p,g){return new Cs(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ui extends Jr{constructor(p){Ae(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Ui.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Ui.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Cs.fromJSON(p);return Ae(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:C}=p;if(!g||!C)return null;try{return Cs._create(C,g)}catch(M){return null}}}let Xr=(()=>{class v extends Ma{constructor(){super("twitter.com")}static credential(g,C){return mi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:C})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:C,oauthTokenSecret:M}=g;if(!C||!M)return null;try{return v.credential(C,M)}catch(k){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Oc(v,p){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,u.Z)(function*(v,p){return Sr(v,"POST","/v1/accounts:signUp",Kt(v,p))})).apply(this,arguments)}class Mr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,C,M=!1){return(0,u.Z)(function*(){const k=yield We._fromIdTokenResponse(p,C,M),J=rd(C);return new Mr({user:k,providerId:J,_tokenResponse:C,operationType:g})})()}static _forOperation(p,g,C){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const M=rd(C);return new Mr({user:p,providerId:M,_tokenResponse:C,operationType:g})})()}}function rd(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function qs(){return(qs=(0,u.Z)(function*(v){var p;const g=rn(v);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new Mr({user:g.currentUser,providerId:null,operationType:"signIn"});const C=yield Oc(g,{returnSecureToken:!0}),M=yield Mr._fromIdTokenResponse(g,"signIn",C,!0);return yield g._updateCurrentUser(M.user),M})).apply(this,arguments)}class Ra extends L.ZR{constructor(p,g,C,M){var k;super(g.code,g.message),this.operationType=C,this.user=M,Object.setPrototypeOf(this,Ra.prototype),this.customData={appName:p.name,tenantId:null!==(k=p.tenantId)&&void 0!==k?k:void 0,_serverResponse:g.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,g,C,M){return new Ra(p,g,C,M)}}function xa(v,p,g,C){return("reauthenticate"===p?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?Ra._fromErrorAndOperation(v,k,p,C):k})}function id(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function Pa(){return(Pa=(0,u.Z)(function*(v,p){const g=(0,L.m9)(v);yield ti(!0,g,p);const{providerUserInfo:C}=yield an(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),M=id(C||[]);return g.providerData=g.providerData.filter(k=>M.has(k.providerId)),M.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Qt(v,p){return ka.apply(this,arguments)}function ka(){return(ka=(0,u.Z)(function*(v,p,g=!1){const C=yield tr(v,p._linkToIdToken(v.auth,yield v.getIdToken()),g);return Mr._forOperation(v,"link",C)})).apply(this,arguments)}function ti(v,p,g){return Na.apply(this,arguments)}function Na(){return(Na=(0,u.Z)(function*(v,p,g){yield gs(p);const M=!1===v?"provider-already-linked":"no-such-provider";Ae(id(p.providerData).has(g)===v,p.auth,M)})).apply(this,arguments)}function Jt(v,p){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,u.Z)(function*(v,p,g=!1){const{auth:C}=v,M="reauthenticate";try{const k=yield tr(v,xa(C,M,p,v),g);Ae(k.idToken,C,"internal-error");const J=Ue(k.idToken);Ae(J,C,"internal-error");const{sub:me}=J;return Ae(v.uid===me,C,"user-mismatch"),Mr._forOperation(v,M,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&Fe(C,"user-mismatch"),k}})).apply(this,arguments)}function Il(v,p){return ws.apply(this,arguments)}function ws(){return(ws=(0,u.Z)(function*(v,p,g=!1){const C="signIn",M=yield xa(v,C,p),k=yield Mr._fromIdTokenResponse(v,C,M);return g||(yield v._updateCurrentUser(k.user)),k})).apply(this,arguments)}function or(v,p){return mn.apply(this,arguments)}function mn(){return(mn=(0,u.Z)(function*(v,p){return Il(rn(v),p)})).apply(this,arguments)}function Al(v,p){return _i.apply(this,arguments)}function _i(){return(_i=(0,u.Z)(function*(v,p){const g=(0,L.m9)(v);return yield ti(!1,g,p.providerId),Qt(g,p)})).apply(this,arguments)}function yr(v,p){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,u.Z)(function*(v,p){return Jt((0,L.m9)(v),p)})).apply(this,arguments)}function xc(v,p){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,u.Z)(function*(v,p){return Sr(v,"POST","/v1/accounts:signInWithCustomToken",Kt(v,p))})).apply(this,arguments)}function jo(){return(jo=(0,u.Z)(function*(v,p){const g=rn(v),C=yield xc(g,{token:p,returnSecureToken:!0}),M=yield Mr._fromIdTokenResponse(g,"signIn",C);return yield g._updateCurrentUser(M.user),M})).apply(this,arguments)}class Ss{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?ot._fromServerResponse(p,g):Fe(p,"internal-error")}}class ot extends Ss{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new ot(g)}}function Ml(v,p,g){var C;Ae((null===(C=g.url)||void 0===C?void 0:C.length)>0,v,"invalid-continue-uri"),Ae(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Ae(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(Ae(g.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function La(){return(La=(0,u.Z)(function*(v,p,g){const C=(0,L.m9)(v),M={requestType:"PASSWORD_RESET",email:p};g&&Ml(C,M,g),yield ko(C,M)})).apply(this,arguments)}function Va(){return(Va=(0,u.Z)(function*(v,p,g){yield ys((0,L.m9)(v),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Hi(){return(Hi=(0,u.Z)(function*(v,p){yield Po((0,L.m9)(v),{oobCode:p})})).apply(this,arguments)}function Oe(v,p){return Et.apply(this,arguments)}function Et(){return(Et=(0,u.Z)(function*(v,p){const g=(0,L.m9)(v),C=yield ys(g,{oobCode:p}),M=C.requestType;switch(Ae(M,g,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ae(C.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ae(C.mfaInfo,g,"internal-error");default:Ae(C.email,g,"internal-error")}let k=null;return C.mfaInfo&&(k=Ss._fromServerResponse(rn(g),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:k},operation:M}})).apply(this,arguments)}function Zt(){return(Zt=(0,u.Z)(function*(v,p){const{data:g}=yield Oe((0,L.m9)(v),p);return g.email})).apply(this,arguments)}function yi(){return(yi=(0,u.Z)(function*(v,p,g){const C=rn(v),M=yield Oc(C,{returnSecureToken:!0,email:p,password:g}),k=yield Mr._fromIdTokenResponse(C,"signIn",M);return yield C._updateCurrentUser(k.user),k})).apply(this,arguments)}function Ho(){return(Ho=(0,u.Z)(function*(v,p,g){const C=(0,L.m9)(v),M={requestType:"EMAIL_SIGNIN",email:p};Ae(g.handleCodeInApp,C,"argument-error"),g&&Ml(C,M,g),yield vs(C,M)})).apply(this,arguments)}function $o(){return($o=(0,u.Z)(function*(v,p,g){const C=(0,L.m9)(v),M=Bo.credentialWithLink(p,g||ct());return Ae(M._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),or(C,M)})).apply(this,arguments)}function Go(v,p){return _n.apply(this,arguments)}function _n(){return(_n=(0,u.Z)(function*(v,p){return Tt(v,"POST","/v1/accounts:createAuthUri",Kt(v,p))})).apply(this,arguments)}function Ba(){return(Ba=(0,u.Z)(function*(v,p){const C={identifier:p,continueUri:Ut()?ct():"http://localhost"},{signinMethods:M}=yield Go((0,L.m9)(v),C);return M||[]})).apply(this,arguments)}function ar(){return(ar=(0,u.Z)(function*(v,p){const g=(0,L.m9)(v),M={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Ml(g.auth,M,p);const{email:k}=yield ir(g.auth,M);k!==v.email&&(yield v.reload())})).apply(this,arguments)}function zo(){return(zo=(0,u.Z)(function*(v,p,g){const C=(0,L.m9)(v),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};g&&Ml(C.auth,k,g);const{email:J}=yield Kp(C.auth,k);J!==v.email&&(yield v.reload())})).apply(this,arguments)}function Nc(v,p){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,u.Z)(function*(v,p){return Tt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ks(){return(Ks=(0,u.Z)(function*(v,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const C=(0,L.m9)(v),k={idToken:yield C.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},J=yield tr(C,Nc(C.auth,k));C.displayName=J.displayName||null,C.photoURL=J.photoUrl||null;const me=C.providerData.find(({providerId:Be})=>"password"===Be);me&&(me.displayName=C.displayName,me.photoURL=C.photoURL),yield C._updateTokensIfNecessary(J)})).apply(this,arguments)}function Ha(v,p,g){return $a.apply(this,arguments)}function $a(){return($a=(0,u.Z)(function*(v,p,g){const{auth:C}=v,k={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(k.email=p),g&&(k.password=g);const J=yield tr(v,xo(C,k));yield v._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class Qs{constructor(p,g,C={}){this.isNewUser=p,this.providerId=g,this.profile=C}}class ld extends Qs{constructor(p,g,C,M){super(p,g,C),this.username=M}}class cd extends Qs{constructor(p,g){super(p,"facebook.com",g)}}class ud extends ld{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Js extends Qs{constructor(p,g){super(p,"google.com",g)}}class Qh extends ld{constructor(p,g,C){super(p,"twitter.com",g,C)}}function Lc(v){const{user:p,_tokenResponse:g}=v;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(v){var p,g;if(!v)return null;const{providerId:C}=v,M=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},k=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!C&&(null==v?void 0:v.idToken)){const J=null===(g=null===(p=Ue(v.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(J)return new Qs(k,"anonymous"!==J&&"custom"!==J?J:null)}if(!C)return null;switch(C){case"facebook.com":return new cd(k,M);case"github.com":return new ud(k,M);case"google.com":return new Js(k,M);case"twitter.com":return new Qh(k,M,v.screenName||null);case"custom":case"anonymous":return new Qs(k,null);default:return new Qs(k,C,M)}}(g)}class vi{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new vi("enroll",p)}static _fromMfaPendingCredential(p){return new vi("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,C;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return vi._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(C=p.multiFactorSession)||void 0===C?void 0:C.idToken)return vi._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Wo{constructor(p,g,C){this.session=p,this.hints=g,this.signInResolver=C}static _fromError(p,g){const C=rn(p),M=g.customData._serverResponse,k=(M.mfaInfo||[]).map(me=>Ss._fromServerResponse(C,me));Ae(M.mfaPendingCredential,C,"internal-error");const J=vi._fromMfaPendingCredential(M.mfaPendingCredential);return new Wo(J,k,function(){var me=(0,u.Z)(function*(Be){const Ke=yield Be._process(C,J);delete M.mfaInfo,delete M.mfaPendingCredential;const at=Object.assign(Object.assign({},M),{idToken:Ke.idToken,refreshToken:Ke.refreshToken});switch(g.operationType){case"signIn":const nt=yield Mr._fromIdTokenResponse(C,g.operationType,at);return yield C._updateCurrentUser(nt.user),nt;case"reauthenticate":return Ae(g.user,C,"internal-error"),Mr._forOperation(g.user,g.operationType,at);default:Fe(C,"internal-error")}});return function(Be){return me.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,u.Z)(function*(){return g.signInResolver(p)})()}}function Wa(v,p){return Tt(v,"POST","/v2/accounts/mfaEnrollment:start",Kt(v,p))}class jc{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(C=>Ss._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new jc(p)}getSession(){var p=this;return(0,u.Z)(function*(){return vi._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var C=this;return(0,u.Z)(function*(){const M=p,k=yield C.getSession(),J=yield tr(C.user,M._process(C.user.auth,k,g));return yield C.user._updateTokensIfNecessary(J),C.user.reload()})()}unenroll(p){var g=this;return(0,u.Z)(function*(){const C="string"==typeof p?p:p.uid,M=yield g.user.getIdToken(),k=yield tr(g.user,function(v,p){return Tt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Kt(v,p))}(g.user.auth,{idToken:M,mfaEnrollmentId:C}));g.enrolledFactors=g.enrolledFactors.filter(({uid:J})=>J!==C),yield g.user._updateTokensIfNecessary(k);try{yield g.user.reload()}catch(J){if("auth/user-token-expired"!==J.code)throw J}})()}}const bi=new WeakMap,Ya="__sak";class dd{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Ya,"1"),this.storage.removeItem(Ya),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Gc=(()=>{class v extends dd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,C)=>this.onStorageEvent(g,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const v=(0,L.z$)();return El(v)||zn(v)}()&&function(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=je(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const C of Object.keys(this.listeners)){const M=this.storage.getItem(C),k=this.localCache[C];M!==k&&g(C,k,M)}}onStorageEvent(g,C=!1){if(!g.key)return void this.forAllChangedKeys((me,Be,Ke)=>{this.notifyListeners(me,Ke)});const M=g.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const me=this.storage.getItem(M);if(g.newValue!==me)null!==g.newValue?this.storage.setItem(M,g.newValue):this.storage.removeItem(M);else if(this.localCache[M]===g.newValue&&!C)return}const k=()=>{const me=this.storage.getItem(M);!C&&this.localCache[M]===me||this.notifyListeners(M,me)},J=this.storage.getItem(M);(0,L.w1)()&&10===document.documentMode&&J!==g.newValue&&g.newValue!==g.oldValue?setTimeout(k,10):k()}notifyListeners(g,C){this.localCache[g]=C;const M=this.listeners[g];if(M)for(const k of Array.from(M))k(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,C,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:C,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,C){var M=()=>super._set,k=this;return(0,u.Z)(function*(){yield M().call(k,g,C),k.localCache[g]=JSON.stringify(C)})()}_get(g){var C=()=>super._get,M=this;return(0,u.Z)(function*(){const k=yield C().call(M,g);return M.localCache[g]=JSON.stringify(k),k})()}_remove(g){var C=()=>super._remove,M=this;return(0,u.Z)(function*(){yield C().call(M,g),delete M.localCache[g]})()}}return v.type="LOCAL",v})(),Ei=(()=>{class v extends dd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,C){}_removeListener(g,C){}}return v.type="SESSION",v})();let wi=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const C=this.receivers.find(k=>k.isListeningto(g));if(C)return C;const M=new v(g);return this.receivers.push(M),M}isListeningto(g){return this.eventTarget===g}handleEvent(g){var C=this;return(0,u.Z)(function*(){const M=g,{eventId:k,eventType:J,data:me}=M.data,Be=C.handlersMap[J];if(!(null==Be?void 0:Be.size))return;M.ports[0].postMessage({status:"ack",eventId:k,eventType:J});const Ke=Array.from(Be).map(function(){var nt=(0,u.Z)(function*(wn){return wn(M.origin,me)});return function(wn){return nt.apply(this,arguments)}}()),at=yield function(v){return Promise.all(v.map(function(){var p=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(C){return{fulfilled:!1,reason:C}}});return function(g){return p.apply(this,arguments)}}()))}(Ke);M.ports[0].postMessage({status:"done",eventId:k,eventType:J,response:at})})()}_subscribe(g,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(C)}_unsubscribe(g,C){this.handlersMap[g]&&C&&this.handlersMap[g].delete(C),(!C||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Gi(v="",p=10){let g="";for(let C=0;C<p;C++)g+=Math.floor(10*Math.random());return v+g}class fd{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,C=50){var M=this;return(0,u.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let J,me;return new Promise((Be,Ke)=>{const at=Gi("",20);k.port1.start();const nt=setTimeout(()=>{Ke(new Error("unsupported_event"))},C);me={messageChannel:k,onMessage(wn){const Ii=wn;if(Ii.data.eventId===at)switch(Ii.data.status){case"ack":clearTimeout(nt),J=setTimeout(()=>{Ke(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),Be(Ii.data.response);break;default:clearTimeout(nt),clearTimeout(J),Ke(new Error("invalid_response"))}}},M.handlers.add(me),k.port1.addEventListener("message",me.onMessage),M.target.postMessage({eventType:p,eventId:at,data:g},[k.port2])}).finally(()=>{me&&M.removeMessageHandler(me)})})()}}function fn(){return window}function pd(){return void 0!==fn().WorkerGlobalScope&&"function"==typeof fn().importScripts}function Za(){return(Za=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const zc="firebaseLocalStorageDb",Wc="firebaseLocalStorage",Yc="fbase_key";class Wi{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function to(v,p){return v.transaction([Wc],p?"readwrite":"readonly").objectStore(Wc)}function Ge(){const v=indexedDB.open(zc,1);return new Promise((p,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const C=v.result;try{C.createObjectStore(Wc,{keyPath:Yc})}catch(M){g(M)}}),v.addEventListener("success",(0,u.Z)(function*(){const C=v.result;C.objectStoreNames.contains(Wc)?p(C):(C.close(),yield function(){const v=indexedDB.deleteDatabase(zc);return new Wi(v).toPromise()}(),p(yield Ge()))}))})}function ht(v,p,g){return qa.apply(this,arguments)}function qa(){return(qa=(0,u.Z)(function*(v,p,g){const C=to(v,!0).put({[Yc]:p,value:g});return new Wi(C).toPromise()})).apply(this,arguments)}function Ts(){return(Ts=(0,u.Z)(function*(v,p){const g=to(v,!1).get(p),C=yield new Wi(g).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function no(v,p){const g=to(v,!0).delete(p);return new Wi(g).toPromise()}const Yi=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield Ge()),g.db})()}_withRetries(g){var C=this;return(0,u.Z)(function*(){let M=0;for(;;)try{const k=yield C._openDb();return yield g(k)}catch(k){if(M++>3)throw k;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return pd()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=wi._getInstance(pd()?self:null),g.receiver._subscribe("keyChanged",function(){var C=(0,u.Z)(function*(M,k){return{keyProcessed:(yield g._poll()).includes(k.key)}});return function(M,k){return C.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var C=(0,u.Z)(function*(M,k){return["keyChanged"]});return function(M,k){return C.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var C,M;if(g.activeServiceWorker=yield function(){return Za.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new fd(g.activeServiceWorker);const k=yield g.sender._send("ping",{},800);!k||(null===(C=k[0])||void 0===C?void 0:C.fulfilled)&&(null===(M=k[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var C=this;return(0,u.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:g},C.serviceWorkerReceiverAvailable?800:50)}catch(M){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Ge();return yield ht(g,Ya,"1"),yield no(g,Ya),!0}catch(g){}return!1})()}_withPendingWrite(g){var C=this;return(0,u.Z)(function*(){C.pendingWrites++;try{yield g()}finally{C.pendingWrites--}})()}_set(g,C){var M=this;return(0,u.Z)(function*(){return M._withPendingWrite((0,u.Z)(function*(){return yield M._withRetries(k=>ht(k,g,C)),M.localCache[g]=C,M.notifyServiceWorker(g)}))})()}_get(g){var C=this;return(0,u.Z)(function*(){const M=yield C._withRetries(k=>function(v,p){return Ts.apply(this,arguments)}(k,g));return C.localCache[g]=M,M})()}_remove(g){var C=this;return(0,u.Z)(function*(){return C._withPendingWrite((0,u.Z)(function*(){return yield C._withRetries(M=>no(M,g)),delete C.localCache[g],C.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const C=yield g._withRetries(J=>{const me=to(J,!1).getAll();return new Wi(me).toPromise()});if(!C)return[];if(0!==g.pendingWrites)return[];const M=[],k=new Set;for(const{fbase_key:J,value:me}of C)k.add(J),JSON.stringify(g.localCache[J])!==JSON.stringify(me)&&(g.notifyListeners(J,me),M.push(J));for(const J of Object.keys(g.localCache))g.localCache[J]&&!k.has(J)&&(g.notifyListeners(J,null),M.push(J));return M})()}notifyListeners(g,C){this.localCache[g]=C;const M=this.listeners[g];if(M)for(const k of Array.from(M))k(C)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function sn(v,p){return Tt(v,"POST","/v2/accounts/mfaSignIn:start",Kt(v,p))}function Ka(){return(Ka=(0,u.Z)(function*(v){return(yield Tt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Zc(v){return new Promise((p,g)=>{const C=document.createElement("script");C.setAttribute("src",v),C.onload=p,C.onerror=M=>{const k=Xe("internal-error");k.customData=M,g(k)},C.type="text/javascript",C.charset="UTF-8",function(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(C)})}function qo(v){return`__${v}${Math.floor(1e6*Math.random())}`}const $r=1e12;class Is{constructor(p){this.auth=p,this.counter=$r,this._widgets=new Map}render(p,g){const C=this.counter;return this._widgets.set(C,new ro(p,this.auth.name,g||{})),this.counter++,C}reset(p){var g;const C=p||$r;null===(g=this._widgets.get(C))||void 0===g||g.delete(),this._widgets.delete(C)}getResponse(p){var g;return(null===(g=this._widgets.get(p||$r))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,u.Z)(function*(){var C;return null===(C=g._widgets.get(p||$r))||void 0===C||C.execute(),""})()}}class ro{constructor(p,g,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;Ae(M,"argument-error",{appName:g}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(v){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<50;C++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}();const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ri=qo("rcb"),_d=new dt(3e4,6e4);class ii{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!fn().grecaptcha}load(p,g=""){return Ae((v=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(fn().grecaptcha):new Promise((C,M)=>{const k=fn().setTimeout(()=>{M(Xe(p,"network-request-failed"))},_d.get());fn()[ri]=()=>{fn().clearTimeout(k),delete fn()[ri];const me=fn().grecaptcha;if(!me)return void M(Xe(p,"internal-error"));const Be=me.render;me.render=(Ke,at)=>{const nt=Be(Ke,at);return this.counter++,nt},this.hostLanguage=g,C(me)},Zc(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:ri,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(k),M(Xe(p,"internal-error"))})});var v}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!fn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class og{load(p){return(0,u.Z)(function*(){return new Is(p)})()}clearedOneInstance(){}}const ln="recaptcha",ef={theme:"light",type:"image"};class kl{constructor(p,g=Object.assign({},ef),C){this.parameters=g,this.type=ln,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=rn(C),this.isInvisible="invisible"===this.parameters.size,Ae("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;Ae(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new og:new ii,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(g)||new Promise(k=>{const J=me=>{!me||(p.tokenChangeListeners.delete(J),k(me))};p.tokenChangeListeners.add(J),p.isInvisible&&C.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Ae(!this.parameters.sitekey,this.auth,"argument-error"),Ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ae("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(C=>C(g)),"function"==typeof p)p(g);else if("string"==typeof p){const C=fn()[p];"function"==typeof C&&C(g)}}}assertNotDestroyed(){Ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const C=document.createElement("div");g.appendChild(C),g=C}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){Ae(Ut()&&!pd(),p.auth,"internal-error"),yield function(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function(v){return Ka.apply(this,arguments)}(p.auth);Ae(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return Ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class yd{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Lo._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Ko(){return(Ko=(0,u.Z)(function*(v,p,g){const C=rn(v),M=yield Qa(C,p,(0,L.m9)(g));return new yd(M,k=>or(C,k))})).apply(this,arguments)}function vd(){return(vd=(0,u.Z)(function*(v,p,g){const C=(0,L.m9)(v);yield ti(!1,C,"phone");const M=yield Qa(C.auth,p,(0,L.m9)(g));return new yd(M,k=>Al(C,k))})).apply(this,arguments)}function Zn(){return(Zn=(0,u.Z)(function*(v,p,g){const C=(0,L.m9)(v),M=yield Qa(C.auth,p,(0,L.m9)(g));return new yd(M,k=>yr(C,k))})).apply(this,arguments)}function Qa(v,p,g){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,u.Z)(function*(v,p,g){var C;const M=yield g.verify();try{let k;if(Ae("string"==typeof M,v,"argument-error"),Ae(g.type===ln,v,"argument-error"),k="string"==typeof p?{phoneNumber:p}:p,"session"in k){const J=k.session;if("phoneNumber"in k)return Ae("enroll"===J.type,v,"internal-error"),(yield Wa(v,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{Ae("signin"===J.type,v,"internal-error");const me=(null===(C=k.multiFactorHint)||void 0===C?void 0:C.uid)||k.multiFactorUid;return Ae(me,v,"missing-multi-factor-info"),(yield sn(v,{mfaPendingCredential:J.credential,mfaEnrollmentId:me,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield Qp(v,{phoneNumber:k.phoneNumber,recaptchaToken:M});return J}}finally{g._reset()}})).apply(this,arguments)}function cn(){return(cn=(0,u.Z)(function*(v,p){yield Qt((0,L.m9)(v),p)})).apply(this,arguments)}let Si=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=rn(g)}verifyPhoneNumber(g,C){return Qa(this.auth,g,(0,L.m9)(C))}static credential(g,C){return Lo._fromVerification(g,C)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:C,temporaryProof:M}=g;return C&&M?Lo._fromTokenResponse(C,M):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Xt(v,p){return p?ye(p):(Ae(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Qo extends Ar{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return In(p,this._buildIdpRequest())}_linkToIdToken(p,g){return In(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return In(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function bd(v){return Il(v.auth,new Qo(v),v.bypassAuthState)}function si(v){const{auth:p,user:g}=v;return Ae(g,p,"internal-error"),Jt(g,new Qo(v),v.bypassAuthState)}function Ti(v){return io.apply(this,arguments)}function io(){return(io=(0,u.Z)(function*(v){const{auth:p,user:g}=v;return Ae(g,p,"internal-error"),Qt(g,new Qo(v),v.bypassAuthState)})).apply(this,arguments)}class Or{constructor(p,g,C,M,k=!1){this.auth=p,this.resolver=C,this.user=M,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,u.Z)(function*(C,M){p.pendingPromise={resolve:C,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(k){p.reject(k)}});return function(C,M){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,u.Z)(function*(){const{urlResponse:C,sessionId:M,postBody:k,tenantId:J,error:me,type:Be}=p;if(me)return void g.reject(me);const Ke={auth:g.auth,requestUri:C,sessionId:M,tenantId:J||void 0,postBody:k||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Be)(Ke))}catch(at){g.reject(at)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return bd;case"linkViaPopup":case"linkViaRedirect":return Ti;case"reauthViaPopup":case"reauthViaRedirect":return si;default:Fe(this.auth,"internal-error")}}resolve(p){fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qi=new dt(2e3,1e4);function Nl(){return(Nl=(0,u.Z)(function*(v,p,g){const C=rn(v);St(v,p,Jr);const M=Xt(C,g);return new bn(C,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function Ed(){return(Ed=(0,u.Z)(function*(v,p,g){const C=(0,L.m9)(v);St(C.auth,p,Jr);const M=Xt(C.auth,g);return new bn(C.auth,"reauthViaPopup",p,M,C).executeNotNull()})).apply(this,arguments)}function Kc(){return(Kc=(0,u.Z)(function*(v,p,g){const C=(0,L.m9)(v);St(C.auth,p,Jr);const M=Xt(C.auth,g);return new bn(C.auth,"linkViaPopup",p,M,C).executeNotNull()})).apply(this,arguments)}let bn=(()=>{class v extends Or{constructor(g,C,M,k,J){super(g,C,k,J),this.provider=M,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const C=yield g.execute();return Ae(C,g.auth,"internal-error"),C})()}onExecution(){var g=this;return(0,u.Z)(function*(){fe(1===g.filter.length,"Popup operations only handle one event");const C=Gi();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],C),g.authWindow.associatedEvent=C,g.resolver._originValidation(g.auth).catch(M=>{g.reject(M)}),g.resolver._isIframeWebStorageSupported(g.auth,M=>{M||g.reject(Xe(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var C,M;this.pollId=(null===(M=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===M?void 0:M.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Xe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Qi.get())};g()}}return v.currentPopupAction=null,v})();const Ji=new Map;class Ms extends Or{constructor(p,g,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,u.Z)(function*(){let C=Ji.get(g.auth._key());if(!C){try{const k=(yield function(v,p){return D.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;C=()=>Promise.resolve(k)}catch(M){C=()=>Promise.reject(M)}Ji.set(g.auth._key(),C)}return g.bypassAuthState||Ji.set(g.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,C=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(C,p);if("unknown"!==p.type){if(p.eventId){const M=yield C.auth._redirectUserForId(p.eventId);if(M)return C.user=M,g().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function D(){return(D=(0,u.Z)(function*(v,p){const g=pe(p),C=te(v);if(!(yield C._isAvailable()))return!1;const M="true"===(yield C._get(g));return yield C._remove(g),M})).apply(this,arguments)}function T(v,p){return R.apply(this,arguments)}function R(){return(R=(0,u.Z)(function*(v,p){return te(v)._set(pe(p),"true")})).apply(this,arguments)}function te(v){return ye(v._redirectPersistence)}function pe(v){return Ht("pendingRedirect",v.config.apiKey,v.name)}function $e(){return($e=(0,u.Z)(function*(v,p,g){const C=rn(v);St(v,p,Jr);const M=Xt(C,g);return yield T(M,C),M._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function Cn(){return(Cn=(0,u.Z)(function*(v,p,g){const C=(0,L.m9)(v);St(C.auth,p,Jr);const M=Xt(C.auth,g);yield T(M,C.auth);const k=yield ft(C);return M._openRedirect(C.auth,p,"reauthViaRedirect",k)})).apply(this,arguments)}function Jo(){return(Jo=(0,u.Z)(function*(v,p,g){const C=(0,L.m9)(v);St(C.auth,p,Jr);const M=Xt(C.auth,g);yield ti(!1,C,p.providerId),yield T(M,C.auth);const k=yield ft(C);return M._openRedirect(C.auth,p,"linkViaRedirect",k)})).apply(this,arguments)}function Xo(){return(Xo=(0,u.Z)(function*(v,p){return yield rn(v)._initializationPromise,Gr(v,p,!1)})).apply(this,arguments)}function Gr(v,p){return xr.apply(this,arguments)}function xr(){return(xr=(0,u.Z)(function*(v,p,g=!1){const C=rn(v),M=Xt(C,p),J=yield new Ms(C,M,g).execute();return J&&!g&&(delete J.user._redirectEventId,yield C._persistUserIfCurrent(J.user),yield C._setRedirectUser(null,p)),J})).apply(this,arguments)}function ft(v){return nf.apply(this,arguments)}function nf(){return(nf=(0,u.Z)(function*(v){const p=Gi(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class wd{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(g=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ea(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var C;if(p.error&&!ea(p)){const M=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";g.onError(Xe(this.auth,M))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const C=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dd(p))}saveEventToCache(p){this.cachedEventUids.add(Dd(p)),this.lastProcessedEventTime=Date.now()}}function Dd(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function ea({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===(null==p?void 0:p.code)}function cg(v){return oi.apply(this,arguments)}function oi(){return(oi=(0,u.Z)(function*(v,p={}){return Tt(v,"GET","/v1/projects",p)})).apply(this,arguments)}const rf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,V_=/^https?/;function Os(){return(Os=(0,u.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield cg(v);for(const g of p)try{if(Fn(g))return}catch(C){}Fe(v,"unauthorized-domain")})).apply(this,arguments)}function Fn(v){const p=ct(),{protocol:g,hostname:C}=new URL(p);if(v.startsWith("chrome-extension://")){const J=new URL(v);return""===J.hostname&&""===C?"chrome-extension:"===g&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&J.hostname===C}if(!V_.test(g))return!1;if(rf.test(v))return C===v;const M=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(C)}const cr=new dt(3e4,6e4);function ug(){const v=fn().___jsl;if(null==v?void 0:v.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let el=null;function Jc(v){return el=el||function(v){return new Promise((p,g)=>{var C,M,k;function J(){ug(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{ug(),g(Xe(v,"network-request-failed"))},timeout:cr.get()})}if(null===(M=null===(C=fn().gapi)||void 0===C?void 0:C.iframes)||void 0===M?void 0:M.Iframe)p(gapi.iframes.getContext());else{if(!(null===(k=fn().gapi)||void 0===k?void 0:k.load)){const me=qo("iframefcb");return fn()[me]=()=>{gapi.load?J():g(Xe(v,"network-request-failed"))},Zc(`https://apis.google.com/js/api.js?onload=${me}`).catch(Be=>g(Be))}J()}}).catch(p=>{throw el=null,p})}(v),el}const hg=new dt(5e3,15e3),tl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sd(v){const p=v.config;Ae(p.authDomain,v,"auth-domain-config-required");const g=p.emulator?Vt(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,C={apiKey:p.apiKey,appName:v.name,v:he.SDK_VERSION},M=Fl.get(v.config.apiHost);M&&(C.eid=M);const k=v._getFrameworks();return k.length&&(C.fw=k.join(",")),`${g}?${(0,L.xO)(C).slice(1)}`}function Ot(){return(Ot=(0,u.Z)(function*(v){const p=yield Jc(v),g=fn().gapi;return Ae(g,v,"internal-error"),p.open({where:document.body,url:Sd(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tl,dontclear:!0},C=>new Promise(function(){var M=(0,u.Z)(function*(k,J){yield C.restyle({setHideOnLeave:!1});const me=Xe(v,"network-request-failed"),Be=fn().setTimeout(()=>{J(me)},hg.get());function Ke(){fn().clearTimeout(Be),k(C)}C.ping(Ke).then(Ke,()=>{J(me)})});return function(k,J){return M.apply(this,arguments)}}()))})).apply(this,arguments)}const Xc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Vl{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function tu(v,p,g,C,M,k){Ae(v.config.authDomain,v,"auth-domain-config-required"),Ae(v.config.apiKey,v,"invalid-api-key");const J={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:C,v:he.SDK_VERSION,eventId:M};if(p instanceof Jr){p.setDefaultLanguage(v.languageCode),J.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||(J.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Be,Ke]of Object.entries(k||{}))J[Be]=Ke}if(p instanceof Ma){const Be=p.getScopes().filter(Ke=>""!==Ke);Be.length>0&&(J.scopes=Be.join(","))}v.tenantId&&(J.tid=v.tenantId);const me=J;for(const Be of Object.keys(me))void 0===me[Be]&&delete me[Be];return`${function({config:v}){return v.emulator?Vt(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,L.xO)(me).slice(1)}`}const rl="webStorageSupport";class lo extends class{constructor(p){this.factorId=p}_process(p,g,C){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,C);case"signin":return this._finalizeSignIn(p,g.credential);default:return ue("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new lo(p)}_finalizeEnroll(p,g,C){return function(v,p){return Tt(v,"POST","/v2/accounts/mfaEnrollment:finalize",Kt(v,p))}(p,{idToken:g,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function(v,p){return Tt(v,"POST","/v2/accounts/mfaSignIn:finalize",Kt(v,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let j_=(()=>{class v{constructor(){}static assertion(g){return lo._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var v,gg="@firebase/auth";class H_{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(C=>{var M;p((null===(M=C)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ta(){return window}function su(){return(su=(0,u.Z)(function*(v,p,g){var C;const{BuildInfo:M}=ta();fe(p.sessionId,"AuthEvent did not contain a session ID");const k=yield yg(p.sessionId),J={};return zn()?J.ibi=M.packageName:ms()?J.apn=M.packageName:Fe(v,"operation-not-supported-in-this-environment"),M.displayName&&(J.appDisplayName=M.displayName),J.sessionId=k,tu(v,g,p.type,void 0,null!==(C=p.eventId)&&void 0!==C?C:void 0,J)})).apply(this,arguments)}function il(){return(il=(0,u.Z)(function*(v){const{BuildInfo:p}=ta(),g={};zn()?g.iosBundleId=p.packageName:ms()?g.androidPackageName=p.packageName:Fe(v,"operation-not-supported-in-this-environment"),yield cg(v,g)})).apply(this,arguments)}function df(){return(df=(0,u.Z)(function*(v,p,g){const{cordova:C}=ta();let M=()=>{};try{yield new Promise((k,J)=>{let me=null;function Be(){var nt;k();const wn=null===(nt=C.plugins.browsertab)||void 0===nt?void 0:nt.close;"function"==typeof wn&&wn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Ke(){me||(me=window.setTimeout(()=>{J(Xe(v,"redirect-cancelled-by-user"))},2e3))}function at(){"visible"===(null==document?void 0:document.visibilityState)&&Ke()}p.addPassiveListener(Be),document.addEventListener("resume",Ke,!1),ms()&&document.addEventListener("visibilitychange",at,!1),M=()=>{p.removePassiveListener(Be),document.removeEventListener("resume",Ke,!1),document.removeEventListener("visibilitychange",at,!1),me&&window.clearTimeout(me)}})}finally{M()}})).apply(this,arguments)}function yg(v){return vg.apply(this,arguments)}function vg(){return(vg=(0,u.Z)(function*(v){const p=Ad(v),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ad(v){if(fe(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const p=new ArrayBuffer(v.length),g=new Uint8Array(p);for(let C=0;C<v.length;C++)g[C]=v.charCodeAt(C);return g}v="Browser",(0,he._registerComponent)(new ie.wA("auth",(p,{options:g})=>{const C=p.getProvider("app").getImmediate(),{apiKey:M,authDomain:k}=C.options;return(J=>{Ae(M&&!M.includes(":"),"invalid-api-key",{appName:J.name}),Ae(!(null==k?void 0:k.includes(":")),"argument-error",{appName:J.name});const me={apiKey:M,authDomain:k,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$t(v)},Be=new mr(J,me);return function(v,p){const g=(null==p?void 0:p.persistence)||[],C=(Array.isArray(g)?g:[g]).map(ye);(null==p?void 0:p.errorMap)&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(C,null==p?void 0:p.popupRedirectResolver)}(Be,g),Be})(C)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,C)=>{p.getProvider("auth-internal").initialize()})),(0,he._registerComponent)(new ie.wA("auth-internal",p=>{const g=rn(p.getProvider("auth").getImmediate());return new H_(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,he.registerVersion)(gg,"0.19.9",void 0),(0,he.registerVersion)(gg,"0.19.9","esm2017");class Md extends wd{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,u.Z)(function*(){yield p.initPromise})()}}function ou(v){return Od.apply(this,arguments)}function Od(){return(Od=(0,u.Z)(function*(v){const p=yield bg()._get(Cg(v));return p&&(yield bg()._remove(Cg(v))),p})).apply(this,arguments)}function G_(){const v=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const C=Math.floor(Math.random()*p.length);v.push(p.charAt(C))}return v.join("")}function bg(){return ye(Gc)}function Cg(v){return Ht("authEvent",v.config.apiKey,v.name)}function Rs(v){if(!(null==v?void 0:v.includes("?")))return{};const[p,...g]=v.split("?");return(0,L.zd)(g.join("?"))}function wg(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Xe("no-auth-event")}}function na(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function Rd(v=(0,L.z$)()){return!("file:"!==na()&&"ionic:"!==na()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function xd(){try{const v=self.localStorage,p=Gi();if(v)return v.setItem(p,"1"),v.removeItem(p),!function(v=(0,L.z$)()){return(0,L.w1)()&&11===(null==document?void 0:document.documentMode)||function(v=(0,L.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,L.hl)()}catch(v){return Pd()&&(0,L.hl)()}return!1}function Pd(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function kd(){return("http:"===na()||"https:"===na()||(0,L.ru)()||Rd())&&!((0,L.b$)()||(0,L.UG)())&&xd()&&!Pd()}function Tg(){return Rd()&&"undefined"!=typeof document}function xs(){return(xs=(0,u.Z)(function*(){return!!Tg()&&new Promise(v=>{const p=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),v(!0)})})})).apply(this,arguments)}const Kn={LOCAL:"local",NONE:"none",SESSION:"session"},Nd=Ae,Hl="persistence";function cu(v){return ra.apply(this,arguments)}function ra(){return(ra=(0,u.Z)(function*(v){yield v._initializationPromise;const p=Qn(),g=Ht(Hl,v.config.apiKey,v.name);p&&p.setItem(g,v._getPersistence())})).apply(this,arguments)}function Qn(){var v;try{return(null===(v="undefined"!=typeof window?window:null)||void 0===v?void 0:v.sessionStorage)||null}catch(p){return null}}const Gl=Ae;class Ps{constructor(){this.browserResolver=ye(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ei,this._completeRedirectFn=Gr}_openPopup(p,g,C,M){var k=this;return(0,u.Z)(function*(){var J;fe(null===(J=k.eventManagers[p._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const me=tu(p,g,C,ct(),M);return function(v,p,g,C=500,M=600){const k=Math.max((window.screen.availHeight-M)/2,0).toString(),J=Math.max((window.screen.availWidth-C)/2,0).toString();let me="";const Be=Object.assign(Object.assign({},Xc),{width:C.toString(),height:M.toString(),top:k,left:J}),Ke=(0,L.z$)().toLowerCase();g&&(me=Ta(Ke)?"_blank":g),Ro(Ke)&&(p=p||"http://localhost",Be.scrollbars="yes");const at=Object.entries(Be).reduce((wn,[Ii,Vd])=>`${wn}${Ii}=${Vd},`,"");if(function(v=(0,L.z$)()){var p;return zn(v)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Ke)&&"_self"!==me)return function(v,p){const g=document.createElement("a");g.href=v,g.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(C)}(p||"",me),new Vl(null);const nt=window.open(p||"",me,at);Ae(nt,v,"popup-blocked");try{nt.focus()}catch(wn){}return new Vl(nt)}(p,me,Gi())})()}_openRedirect(p,g,C,M){var k=this;return(0,u.Z)(function*(){return yield k._originValidation(p),v=tu(p,g,C,ct(),M),fn().location.href=v,new Promise(()=>{});var v})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:M,promise:k}=this.eventManagers[g];return M?Promise.resolve(M):(fe(k,"If manager is not set, promise should be"),k)}const C=this.initAndGetManager(p);return this.eventManagers[g]={promise:C},C.catch(()=>{delete this.eventManagers[g]}),C}initAndGetManager(p){var g=this;return(0,u.Z)(function*(){const C=yield function(v){return Ot.apply(this,arguments)}(p),M=new wd(p);return C.register("authEvent",k=>(Ae(null==k?void 0:k.authEvent,p,"invalid-auth-event"),{status:M.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:M},g.iframes[p._key()]=C,M})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(rl,{type:rl},M=>{var k;const J=null===(k=null==M?void 0:M[0])||void 0===k?void 0:k[rl];void 0!==J&&g(!!J),Fe(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(v){return Os.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return je()||El()||zn()}}),this.cordovaResolver=ye(class{constructor(){this._redirectPersistence=Ei,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Gr}_initialize(p){var g=this;return(0,u.Z)(function*(){const C=p._key();let M=g.eventManagers.get(C);return M||(M=new Md(p),g.eventManagers.set(C,M),g.attachCallbackListeners(p,M)),M})()}_openPopup(p){Fe(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,C,M){var k=this;return(0,u.Z)(function*(){!function(v){var p,g,C,M,k,J,me,Be,Ke,at;const nt=ta();Ae("function"==typeof(null===(p=null==nt?void 0:nt.universalLinks)||void 0===p?void 0:p.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ae(void 0!==(null===(g=null==nt?void 0:nt.BuildInfo)||void 0===g?void 0:g.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ae("function"==typeof(null===(k=null===(M=null===(C=null==nt?void 0:nt.cordova)||void 0===C?void 0:C.plugins)||void 0===M?void 0:M.browsertab)||void 0===k?void 0:k.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ae("function"==typeof(null===(Be=null===(me=null===(J=null==nt?void 0:nt.cordova)||void 0===J?void 0:J.plugins)||void 0===me?void 0:me.browsertab)||void 0===Be?void 0:Be.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ae("function"==typeof(null===(at=null===(Ke=null==nt?void 0:nt.cordova)||void 0===Ke?void 0:Ke.InAppBrowser)||void 0===at?void 0:at.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const J=yield k._initialize(p);yield J.initialized(),J.resetRedirect(),Ji.clear(),yield k._originValidation(p);const me=function(v,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:G_(),postBody:null,tenantId:v.tenantId,error:Xe(v,"no-auth-event")}}(p,C,M);yield function(v,p){return bg()._set(Cg(v),p)}(p,me);const Be=yield function(v,p,g){return su.apply(this,arguments)}(p,me,g),Ke=yield function(v){const{cordova:p}=ta();return new Promise(g=>{p.plugins.browsertab.isAvailable(C=>{let M=null;C?p.plugins.browsertab.openUrl(v):M=p.InAppBrowser.open(v,function(v=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),g(M)})})}(Be);return function(v,p,g){return df.apply(this,arguments)}(p,J,Ke)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(v){return il.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:C,handleOpenURL:M,BuildInfo:k}=ta(),J=setTimeout((0,u.Z)(function*(){yield ou(p),g.onEvent(wg())}),500),me=function(){var at=(0,u.Z)(function*(nt){clearTimeout(J);const wn=yield ou(p);let Ii=null;wn&&(null==nt?void 0:nt.url)&&(Ii=function(v,p){var g,C;const M=function(v){const p=Rs(v),g=p.link?decodeURIComponent(p.link):void 0,C=Rs(g).link,M=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Rs(M).link||M||C||g||v}(p);if(M.includes("/__/auth/callback")){const k=Rs(M),J=k.firebaseError?function(v){try{return JSON.parse(v)}catch(p){return null}}(decodeURIComponent(k.firebaseError)):null,me=null===(C=null===(g=null==J?void 0:J.code)||void 0===g?void 0:g.split("auth/"))||void 0===C?void 0:C[1],Be=me?Xe(me):null;return Be?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Be,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:M,postBody:null}}return null}(wn,nt.url)),g.onEvent(Ii||wg())});return function(wn){return at.apply(this,arguments)}}();void 0!==C&&"function"==typeof C.subscribe&&C.subscribe(null,me);const Be=M,Ke=`${k.packageName.toLowerCase()}://`;ta().handleOpenURL=function(){var at=(0,u.Z)(function*(nt){if(nt.toLowerCase().startsWith(Ke)&&me({url:nt}),"function"==typeof Be)try{Be(nt)}catch(wn){console.error(wn)}});return function(nt){return at.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ei,this._completeRedirectFn=Gr}_initialize(p){var g=this;return(0,u.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,C,M){var k=this;return(0,u.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(p,g,C,M)})()}_openRedirect(p,g,C,M){var k=this;return(0,u.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(p,g,C,M)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Tg()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Gl(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,u.Z)(function*(){if(p.underlyingResolver)return;const g=yield function(){return xs.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Ig(v){return v.unwrap()}function ai(v){return Fd(v)}function Fd(v){const{_tokenResponse:p}=v instanceof L.ZR?v.customData:v;if(!p)return null;if(!(v instanceof L.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Si.credentialFromResult(v);const g=p.providerId;if(!g||"password"===g)return null;let C;switch(g){case"google.com":C=Bi;break;case"facebook.com":C=Mc;break;case"github.com":C=nd;break;case"twitter.com":C=Xr;break;default:const{oauthIdToken:M,oauthAccessToken:k,oauthTokenSecret:J,pendingToken:me,nonce:Be}=p;return k||J||M||me?me?g.startsWith("saml.")?Cs._create(g,me):mi._fromParams({providerId:g,signInMethod:g,pendingToken:me,idToken:M,accessToken:k}):new bs(g).credential({idToken:M,accessToken:k,rawNonce:Be}):null}return v instanceof L.ZR?C.credentialFromError(v):C.credentialFromResult(v)}function ur(v,p){return p.catch(g=>{throw g instanceof L.ZR&&function(v,p){var g;const C=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new q_(v,function(v,p){var g;const C=(0,L.m9)(v),M=p;return Ae(p.customData.operationType,C,"argument-error"),Ae(null===(g=M.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,C,"argument-error"),Wo._fromError(C,M)}(v,p));else if(C){const M=Fd(p),k=p;M&&(k.credential=M,k.tenantId=C.tenantId||void 0,k.email=C.email||void 0,k.phoneNumber=C.phoneNumber||void 0)}}(v,g),g}).then(g=>{const M=g.user;return{operationType:g.operationType,credential:ai(g),additionalUserInfo:Lc(g),user:ho.getOrCreate(M)}})}function ol(v,p){return vf.apply(this,arguments)}function vf(){return(vf=(0,u.Z)(function*(v,p){const g=yield p;return{verificationId:g.verificationId,confirm:C=>ur(v,g.confirm(C))}})).apply(this,arguments)}class q_{constructor(p,g){this.resolver=g,this.auth=function(v){return v.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return ur(Ig(this.auth),this.resolver.resolveSignIn(p))}}class ho{constructor(p){this._delegate=p,this.multiFactor=function(v){const p=(0,L.m9)(v);return bi.has(p)||bi.set(p,jc._fromUser(p)),bi.get(p)}(p)}static getOrCreate(p){return ho.USER_MAP.has(p)||ho.USER_MAP.set(p,new ho(p)),ho.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,u.Z)(function*(){return ur(g.auth,Al(g._delegate,p))})()}linkWithPhoneNumber(p,g){var C=this;return(0,u.Z)(function*(){return ol(C.auth,function(v,p,g){return vd.apply(this,arguments)}(C._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,u.Z)(function*(){return ur(g.auth,function(v,p,g){return Kc.apply(this,arguments)}(g._delegate,p,Ps))})()}linkWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield cu(rn(g.auth)),function(v,p,g){return function(v,p,g){return Jo.apply(this,arguments)}(v,p,g)}(g._delegate,p,Ps)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,u.Z)(function*(){return ur(g.auth,yr(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return ol(this.auth,function(v,p,g){return Zn.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return ur(this.auth,function(v,p,g){return Ed.apply(this,arguments)}(this._delegate,p,Ps))}reauthenticateWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield cu(rn(g.auth)),function(v,p,g){return function(v,p,g){return Cn.apply(this,arguments)}(v,p,g)}(g._delegate,p,Ps)})()}sendEmailVerification(p){return function(v,p){return ar.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,u.Z)(function*(){return yield function(v,p){return Pa.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function(v,p){return Ha((0,L.m9)(v),p,null)}(this._delegate,p)}updatePassword(p){return function(v,p){return Ha((0,L.m9)(v),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function(v,p){return cn.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function(v,p){return Ks.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function(v,p,g){return zo.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ho.USER_MAP=new WeakMap;const zl=Ae;let al=(()=>{class v{constructor(g,C){if(this.app=g,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=g.options;zl(M,"invalid-api-key",{appName:g.name}),zl(M,"invalid-api-key",{appName:g.name});const k="undefined"!=typeof window?Ps:void 0;this._delegate=C.initialize({options:{persistence:Mg(M,g.name),popupRedirectResolver:k}}),this._delegate._updateErrorMap(Ee),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ho.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,C){!function(v,p,g){const C=rn(v);Ae(C._canInitEmulator,C,"emulator-config-failed"),Ae(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const M=!!(null==g?void 0:g.disableWarnings),k=hn(p),{host:J,port:me}=function(v){const p=hn(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!g)return{host:"",port:null};const C=g[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(C);if(M){const k=M[1];return{host:k,port:_s(C.substr(k.length+1))}}{const[k,J]=C.split(":");return{host:k,port:_s(J)}}}(p);C.config.emulator={url:`${k}//${J}${null===me?"":`:${me}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:J,port:me,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function(){function v(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,g,C)}applyActionCode(g){return function(v,p){return Hi.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Oe(this._delegate,g)}confirmPasswordReset(g,C){return function(v,p,g){return Va.apply(this,arguments)}(this._delegate,g,C)}createUserWithEmailAndPassword(g,C){var M=this;return(0,u.Z)(function*(){return ur(M._delegate,function(v,p,g){return yi.apply(this,arguments)}(M._delegate,g,C))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(v,p){return Ba.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(v,p){const g=Vo.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,u.Z)(function*(){zl(kd(),g._delegate,"operation-not-supported-in-this-environment");const C=yield function(v,p){return Xo.apply(this,arguments)}(g._delegate,Ps);return C?ur(g._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(v,p){rn(v)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,C,M){const{next:k,error:J,complete:me}=Ld(g,C,M);return this._delegate.onAuthStateChanged(k,J,me)}onIdTokenChanged(g,C,M){const{next:k,error:J,complete:me}=Ld(g,C,M);return this._delegate.onIdTokenChanged(k,J,me)}sendSignInLinkToEmail(g,C){return function(v,p,g){return Ho.apply(this,arguments)}(this._delegate,g,C)}sendPasswordResetEmail(g,C){return function(v,p,g){return La.apply(this,arguments)}(this._delegate,g,C||void 0)}setPersistence(g){var C=this;return(0,u.Z)(function*(){let M;switch(function(v,p){Nd(Object.values(Kn).includes(p),v,"invalid-persistence-type"),(0,L.b$)()?Nd(p!==Kn.SESSION,v,"unsupported-persistence-type"):(0,L.UG)()?Nd(p===Kn.NONE,v,"unsupported-persistence-type"):Pd()?Nd(p===Kn.NONE||p===Kn.LOCAL&&(0,L.hl)(),v,"unsupported-persistence-type"):Nd(p===Kn.NONE||xd(),v,"unsupported-persistence-type")}(C._delegate,g),g){case Kn.SESSION:M=Ei;break;case Kn.LOCAL:M=(yield ye(Yi)._isAvailable())?Yi:Gc;break;case Kn.NONE:M=tt;break;default:return Fe("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return ur(this._delegate,function(v){return qs.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return ur(this._delegate,or(this._delegate,g))}signInWithCustomToken(g){return ur(this._delegate,function(v,p){return jo.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,C){return ur(this._delegate,function(v,p,g){return or((0,L.m9)(v),Bo.credential(p,g))}(this._delegate,g,C))}signInWithEmailLink(g,C){return ur(this._delegate,function(v,p,g){return $o.apply(this,arguments)}(this._delegate,g,C))}signInWithPhoneNumber(g,C){return ol(this._delegate,function(v,p,g){return Ko.apply(this,arguments)}(this._delegate,g,C))}signInWithPopup(g){var C=this;return(0,u.Z)(function*(){return zl(kd(),C._delegate,"operation-not-supported-in-this-environment"),ur(C._delegate,function(v,p,g){return Nl.apply(this,arguments)}(C._delegate,g,Ps))})()}signInWithRedirect(g){var C=this;return(0,u.Z)(function*(){return zl(kd(),C._delegate,"operation-not-supported-in-this-environment"),yield cu(C._delegate),function(v,p,g){return function(v,p,g){return $e.apply(this,arguments)}(v,p,g)}(C._delegate,g,Ps)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(v,p){return Zt.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=Kn,v})();function Ld(v,p,g){let C=v;"function"!=typeof v&&({next:C,error:p,complete:g}=v);const M=C;return{next:J=>M(J&&ho.getOrCreate(J)),error:p,complete:g}}function Mg(v,p){const g=function(v,p){const g=Qn();if(!g)return[];const C=Ht(Hl,v,p);switch(g.getItem(C)){case Kn.NONE:return[tt];case Kn.LOCAL:return[Yi,Ei];case Kn.SESSION:return[Ei];default:return[]}}(v,p);if("undefined"!=typeof self&&!g.includes(Yi)&&g.push(Yi),"undefined"!=typeof window)for(const C of[Gc,Ei])g.includes(C)||g.push(C);return g.includes(tt)||g.push(tt),g}class Wl{constructor(){this.providerId="phone",this._delegate=new Si(Ig(re.Z.auth()))}static credential(p,g){return Si.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}Wl.PHONE_SIGN_IN_METHOD=Si.PHONE_SIGN_IN_METHOD,Wl.PROVIDER_ID=Si.PROVIDER_ID;const bf=Ae;class ll{constructor(p,g,C=re.Z.app()){var M;bf(null===(M=C.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new kl(p,g,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(v){v.INTERNAL.registerComponent(new ie.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),C=p.getProvider("auth");return new al(g,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Bo,FacebookAuthProvider:Mc,GithubAuthProvider:nd,GoogleAuthProvider:Bi,OAuthProvider:bs,SAMLAuthProvider:Ui,PhoneAuthProvider:Wl,PhoneMultiFactorGenerator:j_,RecaptchaVerifier:ll,TwitterAuthProvider:Xr,Auth:al,AuthCredential:Ar,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.2.9")}(re.Z)},6676:function(Ye,Te){!function(V){"use strict";function u(_e){return Array.prototype.slice.call(_e)}function re(_e){return new Promise(function(se,we){_e.onsuccess=function(){se(_e.result)},_e.onerror=function(){we(_e.error)}})}function L(_e,se,we){var Ne,Fe=new Promise(function(Xe,Rt){re(Ne=_e[se].apply(_e,we)).then(Xe,Rt)});return Fe.request=Ne,Fe}function he(_e,se,we){var Ne=L(_e,se,we);return Ne.then(function(Fe){if(Fe)return new F(Fe,Ne.request)})}function le(_e,se,we){we.forEach(function(Ne){Object.defineProperty(_e.prototype,Ne,{get:function(){return this[se][Ne]},set:function(Fe){this[se][Ne]=Fe}})})}function ee(_e,se,we,Ne){Ne.forEach(function(Fe){Fe in we.prototype&&(_e.prototype[Fe]=function(){return L(this[se],Fe,arguments)})})}function ie(_e,se,we,Ne){Ne.forEach(function(Fe){Fe in we.prototype&&(_e.prototype[Fe]=function(){return this[se][Fe].apply(this[se],arguments)})})}function Q(_e,se,we,Ne){Ne.forEach(function(Fe){Fe in we.prototype&&(_e.prototype[Fe]=function(){return he(this[se],Fe,arguments)})})}function X(_e){this._index=_e}function F(_e,se){this._cursor=_e,this._request=se}function j(_e){this._store=_e}function H(_e){this._tx=_e,this.complete=new Promise(function(se,we){_e.oncomplete=function(){se()},_e.onerror=function(){we(_e.error)},_e.onabort=function(){we(_e.error)}})}function ce(_e,se,we){this._db=_e,this.oldVersion=se,this.transaction=new H(we)}function oe(_e){this._db=_e}le(X,"_index",["name","keyPath","multiEntry","unique"]),ee(X,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Q(X,"_index",IDBIndex,["openCursor","openKeyCursor"]),le(F,"_cursor",["direction","key","primaryKey","value"]),ee(F,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(_e){_e in IDBCursor.prototype&&(F.prototype[_e]=function(){var se=this,we=arguments;return Promise.resolve().then(function(){return se._cursor[_e].apply(se._cursor,we),re(se._request).then(function(Ne){if(Ne)return new F(Ne,se._request)})})})}),j.prototype.createIndex=function(){return new X(this._store.createIndex.apply(this._store,arguments))},j.prototype.index=function(){return new X(this._store.index.apply(this._store,arguments))},le(j,"_store",["name","keyPath","indexNames","autoIncrement"]),ee(j,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Q(j,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ie(j,"_store",IDBObjectStore,["deleteIndex"]),H.prototype.objectStore=function(){return new j(this._tx.objectStore.apply(this._tx,arguments))},le(H,"_tx",["objectStoreNames","mode"]),ie(H,"_tx",IDBTransaction,["abort"]),ce.prototype.createObjectStore=function(){return new j(this._db.createObjectStore.apply(this._db,arguments))},le(ce,"_db",["name","version","objectStoreNames"]),ie(ce,"_db",IDBDatabase,["deleteObjectStore","close"]),oe.prototype.transaction=function(){return new H(this._db.transaction.apply(this._db,arguments))},le(oe,"_db",["name","version","objectStoreNames"]),ie(oe,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(_e){[j,X].forEach(function(se){_e in se.prototype&&(se.prototype[_e.replace("open","iterate")]=function(){var we=u(arguments),Ne=we[we.length-1],Fe=this._store||this._index,Xe=Fe[_e].apply(Fe,we.slice(0,-1));Xe.onsuccess=function(){Ne(Xe.result)}})})}),[X,j].forEach(function(_e){_e.prototype.getAll||(_e.prototype.getAll=function(se,we){var Ne=this,Fe=[];return new Promise(function(Xe){Ne.iterateCursor(se,function(Rt){Rt?(Fe.push(Rt.value),void 0===we||Fe.length!=we?Rt.continue():Xe(Fe)):Xe(Fe)})})})}),V.openDb=function(_e,se,we){var Ne=L(indexedDB,"open",[_e,se]),Fe=Ne.request;return Fe&&(Fe.onupgradeneeded=function(Xe){we&&we(new ce(Fe.result,Xe.oldVersion,Fe.transaction))}),Ne.then(function(Xe){return new oe(Xe)})},V.deleteDb=function(_e){return L(indexedDB,"deleteDatabase",[_e])},Object.defineProperty(V,"__esModule",{value:!0})}(Te)},7574:(Ye,Te,V)=>{"use strict";V.d(Te,{y:()=>j});var u=V(7393),L=V(9181),he=V(6490),ee=V(6554),ie=V(4487);var F=V(2494);let j=(()=>{class ce{constructor(Ee){this._isScalar=!1,Ee&&(this._subscribe=Ee)}lift(Ee){const Ce=new ce;return Ce.source=this,Ce.operator=Ee,Ce}subscribe(Ee,Ce,_e){const{operator:se}=this,we=function(ce,oe,Ee){if(ce){if(ce instanceof u.L)return ce;if(ce[L.b])return ce[L.b]()}return ce||oe||Ee?new u.L(ce,oe,Ee):new u.L(he.c)}(Ee,Ce,_e);if(we.add(se?se.call(we,this.source):this.source||F.v.useDeprecatedSynchronousErrorHandling&&!we.syncErrorThrowable?this._subscribe(we):this._trySubscribe(we)),F.v.useDeprecatedSynchronousErrorHandling&&we.syncErrorThrowable&&(we.syncErrorThrowable=!1,we.syncErrorThrown))throw we.syncErrorValue;return we}_trySubscribe(Ee){try{return this._subscribe(Ee)}catch(Ce){F.v.useDeprecatedSynchronousErrorHandling&&(Ee.syncErrorThrown=!0,Ee.syncErrorValue=Ce),function(ce){for(;ce;){const{closed:oe,destination:Ee,isStopped:Ce}=ce;if(oe||Ce)return!1;ce=Ee&&Ee instanceof u.L?Ee:null}return!0}(Ee)?Ee.error(Ce):console.warn(Ce)}}forEach(Ee,Ce){return new(Ce=H(Ce))((_e,se)=>{let we;we=this.subscribe(Ne=>{try{Ee(Ne)}catch(Fe){se(Fe),we&&we.unsubscribe()}},se,_e)})}_subscribe(Ee){const{source:Ce}=this;return Ce&&Ce.subscribe(Ee)}[ee.L](){return this}pipe(...Ee){return 0===Ee.length?this:function(ce){return 0===ce.length?ie.y:1===ce.length?ce[0]:function(Ee){return ce.reduce((Ce,_e)=>_e(Ce),Ee)}}(Ee)(this)}toPromise(Ee){return new(Ee=H(Ee))((Ce,_e)=>{let se;this.subscribe(we=>se=we,we=>_e(we),()=>Ce(se))})}}return ce.create=oe=>new ce(oe),ce})();function H(ce){if(ce||(ce=F.v.Promise||Promise),!ce)throw new Error("no Promise impl found");return ce}},6490:(Ye,Te,V)=>{"use strict";V.d(Te,{c:()=>L});var u=V(2494),re=V(4449);const L={closed:!0,next(he){},error(he){if(u.v.useDeprecatedSynchronousErrorHandling)throw he;(0,re.z)(he)},complete(){}}},9765:(Ye,Te,V)=>{"use strict";V.d(Te,{Yc:()=>ie,xQ:()=>Q});var u=V(7574),re=V(7393),L=V(5319),he=V(7971),le=V(8858),ee=V(9181);class ie extends re.L{constructor(j){super(j),this.destination=j}}let Q=(()=>{class F extends u.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ee.b](){return new ie(this)}lift(H){const ce=new X(this,this);return ce.operator=H,ce}next(H){if(this.closed)throw new he.N;if(!this.isStopped){const{observers:ce}=this,oe=ce.length,Ee=ce.slice();for(let Ce=0;Ce<oe;Ce++)Ee[Ce].next(H)}}error(H){if(this.closed)throw new he.N;this.hasError=!0,this.thrownError=H,this.isStopped=!0;const{observers:ce}=this,oe=ce.length,Ee=ce.slice();for(let Ce=0;Ce<oe;Ce++)Ee[Ce].error(H);this.observers.length=0}complete(){if(this.closed)throw new he.N;this.isStopped=!0;const{observers:H}=this,ce=H.length,oe=H.slice();for(let Ee=0;Ee<ce;Ee++)oe[Ee].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(H){if(this.closed)throw new he.N;return super._trySubscribe(H)}_subscribe(H){if(this.closed)throw new he.N;return this.hasError?(H.error(this.thrownError),L.w.EMPTY):this.isStopped?(H.complete(),L.w.EMPTY):(this.observers.push(H),new le.W(this,H))}asObservable(){const H=new u.y;return H.source=this,H}}return F.create=(j,H)=>new X(j,H),F})();class X extends Q{constructor(j,H){super(),this.destination=j,this.source=H}next(j){const{destination:H}=this;H&&H.next&&H.next(j)}error(j){const{destination:H}=this;H&&H.error&&this.destination.error(j)}complete(){const{destination:j}=this;j&&j.complete&&this.destination.complete()}_subscribe(j){const{source:H}=this;return H?this.source.subscribe(j):L.w.EMPTY}}},8858:(Ye,Te,V)=>{"use strict";V.d(Te,{W:()=>re});var u=V(5319);class re extends u.w{constructor(he,le){super(),this.subject=he,this.subscriber=le,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const he=this.subject,le=he.observers;if(this.subject=null,!le||0===le.length||he.isStopped||he.closed)return;const ee=le.indexOf(this.subscriber);-1!==ee&&le.splice(ee,1)}}},7393:(Ye,Te,V)=>{"use strict";V.d(Te,{L:()=>ie});var u=V(9105),re=V(6490),L=V(5319),he=V(9181),le=V(2494),ee=V(4449);class ie extends L.w{constructor(F,j,H){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=re.c;break;case 1:if(!F){this.destination=re.c;break}if("object"==typeof F){F instanceof ie?(this.syncErrorThrowable=F.syncErrorThrowable,this.destination=F,F.add(this)):(this.syncErrorThrowable=!0,this.destination=new Q(this,F));break}default:this.syncErrorThrowable=!0,this.destination=new Q(this,F,j,H)}}[he.b](){return this}static create(F,j,H){const ce=new ie(F,j,H);return ce.syncErrorThrowable=!1,ce}next(F){this.isStopped||this._next(F)}error(F){this.isStopped||(this.isStopped=!0,this._error(F))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(F){this.destination.next(F)}_error(F){this.destination.error(F),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:F}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=F,this}}class Q extends ie{constructor(F,j,H,ce){super(),this._parentSubscriber=F;let oe,Ee=this;(0,u.m)(j)?oe=j:j&&(oe=j.next,H=j.error,ce=j.complete,j!==re.c&&(Ee=Object.create(j),(0,u.m)(Ee.unsubscribe)&&this.add(Ee.unsubscribe.bind(Ee)),Ee.unsubscribe=this.unsubscribe.bind(this))),this._context=Ee,this._next=oe,this._error=H,this._complete=ce}next(F){if(!this.isStopped&&this._next){const{_parentSubscriber:j}=this;le.v.useDeprecatedSynchronousErrorHandling&&j.syncErrorThrowable?this.__tryOrSetError(j,this._next,F)&&this.unsubscribe():this.__tryOrUnsub(this._next,F)}}error(F){if(!this.isStopped){const{_parentSubscriber:j}=this,{useDeprecatedSynchronousErrorHandling:H}=le.v;if(this._error)H&&j.syncErrorThrowable?(this.__tryOrSetError(j,this._error,F),this.unsubscribe()):(this.__tryOrUnsub(this._error,F),this.unsubscribe());else if(j.syncErrorThrowable)H?(j.syncErrorValue=F,j.syncErrorThrown=!0):(0,ee.z)(F),this.unsubscribe();else{if(this.unsubscribe(),H)throw F;(0,ee.z)(F)}}}complete(){if(!this.isStopped){const{_parentSubscriber:F}=this;if(this._complete){const j=()=>this._complete.call(this._context);le.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?(this.__tryOrSetError(F,j),this.unsubscribe()):(this.__tryOrUnsub(j),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(F,j){try{F.call(this._context,j)}catch(H){if(this.unsubscribe(),le.v.useDeprecatedSynchronousErrorHandling)throw H;(0,ee.z)(H)}}__tryOrSetError(F,j,H){if(!le.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{j.call(this._context,H)}catch(ce){return le.v.useDeprecatedSynchronousErrorHandling?(F.syncErrorValue=ce,F.syncErrorThrown=!0,!0):((0,ee.z)(ce),!0)}return!1}_unsubscribe(){const{_parentSubscriber:F}=this;this._context=null,this._parentSubscriber=null,F.unsubscribe()}}},5319:(Ye,Te,V)=>{"use strict";V.d(Te,{w:()=>ee});var u=V(9796),re=V(1555),L=V(9105);const le=(()=>{function Q(X){return Error.call(this),this.message=X?`${X.length} errors occurred during unsubscription:\n${X.map((F,j)=>`${j+1}) ${F.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=X,this}return Q.prototype=Object.create(Error.prototype),Q})();class ee{constructor(X){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,X&&(this._ctorUnsubscribe=!0,this._unsubscribe=X)}unsubscribe(){let X;if(this.closed)return;let{_parentOrParents:F,_ctorUnsubscribe:j,_unsubscribe:H,_subscriptions:ce}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,F instanceof ee)F.remove(this);else if(null!==F)for(let oe=0;oe<F.length;++oe)F[oe].remove(this);if((0,L.m)(H)){j&&(this._unsubscribe=void 0);try{H.call(this)}catch(oe){X=oe instanceof le?ie(oe.errors):[oe]}}if((0,u.k)(ce)){let oe=-1,Ee=ce.length;for(;++oe<Ee;){const Ce=ce[oe];if((0,re.K)(Ce))try{Ce.unsubscribe()}catch(_e){X=X||[],_e instanceof le?X=X.concat(ie(_e.errors)):X.push(_e)}}}if(X)throw new le(X)}add(X){let F=X;if(!X)return ee.EMPTY;switch(typeof X){case"function":F=new ee(X);case"object":if(F===this||F.closed||"function"!=typeof F.unsubscribe)return F;if(this.closed)return F.unsubscribe(),F;if(!(F instanceof ee)){const ce=F;F=new ee,F._subscriptions=[ce]}break;default:throw new Error("unrecognized teardown "+X+" added to Subscription.")}let{_parentOrParents:j}=F;if(null===j)F._parentOrParents=this;else if(j instanceof ee){if(j===this)return F;F._parentOrParents=[j,this]}else{if(-1!==j.indexOf(this))return F;j.push(this)}const H=this._subscriptions;return null===H?this._subscriptions=[F]:H.push(F),F}remove(X){const F=this._subscriptions;if(F){const j=F.indexOf(X);-1!==j&&F.splice(j,1)}}}var Q;function ie(Q){return Q.reduce((X,F)=>X.concat(F instanceof le?F.errors:F),[])}ee.EMPTY=((Q=new ee).closed=!0,Q)},2494:(Ye,Te,V)=>{"use strict";V.d(Te,{v:()=>re});let u=!1;const re={Promise:void 0,set useDeprecatedSynchronousErrorHandling(L){if(L){const he=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+he.stack)}else u&&console.log("RxJS: Back to a better error behavior. Thank you. <3");u=L},get useDeprecatedSynchronousErrorHandling(){return u}}},5345:(Ye,Te,V)=>{"use strict";V.d(Te,{IY:()=>he,Ds:()=>ee,ft:()=>Q});var u=V(7393),re=V(7574),L=V(7444);class he extends u.L{constructor(F){super(),this.parent=F}_next(F){this.parent.notifyNext(F)}_error(F){this.parent.notifyError(F),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ee extends u.L{notifyNext(F){this.destination.next(F)}notifyError(F){this.destination.error(F)}notifyComplete(){this.destination.complete()}}function Q(X,F){if(F.closed)return;if(X instanceof re.y)return X.subscribe(F);let j;try{j=(0,L.s)(X)(F)}catch(H){F.error(H)}return j}},2441:(Ye,Te,V)=>{"use strict";V.d(Te,{c:()=>le,N:()=>ee});var u=V(9765),re=V(7574),L=V(5319),he=V(1307);class le extends re.y{constructor(j,H){super(),this.source=j,this.subjectFactory=H,this._refCount=0,this._isComplete=!1}_subscribe(j){return this.getSubject().subscribe(j)}getSubject(){const j=this._subject;return(!j||j.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let j=this._connection;return j||(this._isComplete=!1,j=this._connection=new L.w,j.add(this.source.subscribe(new ie(this.getSubject(),this))),j.closed&&(this._connection=null,j=L.w.EMPTY)),j}refCount(){return(0,he.x)()(this)}}const ee=(()=>{const F=le.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:F._subscribe},_isComplete:{value:F._isComplete,writable:!0},getSubject:{value:F.getSubject},connect:{value:F.connect},refCount:{value:F.refCount}}})();class ie extends u.Yc{constructor(j,H){super(j),this.connectable=H}_error(j){this._unsubscribe(),super._error(j)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const j=this.connectable;if(j){this.connectable=null;const H=j._connection;j._refCount=0,j._subject=null,j._connection=null,H&&H.unsubscribe()}}}},9193:(Ye,Te,V)=>{"use strict";V.d(Te,{E:()=>re,c:()=>L});var u=V(7574);const re=new u.y(le=>le.complete());function L(le){return le?function(le){return new u.y(ee=>le.schedule(()=>ee.complete()))}(le):re}},4402:(Ye,Te,V)=>{"use strict";V.d(Te,{D:()=>Ee});var u=V(7574),re=V(7444),L=V(5319),he=V(6554),ie=V(4087),Q=V(377),j=V(4072),H=V(9489);function Ee(Ce,_e){return _e?function(Ce,_e){if(null!=Ce){if(function(Ce){return Ce&&"function"==typeof Ce[he.L]}(Ce))return function(Ce,_e){return new u.y(se=>{const we=new L.w;return we.add(_e.schedule(()=>{const Ne=Ce[he.L]();we.add(Ne.subscribe({next(Fe){we.add(_e.schedule(()=>se.next(Fe)))},error(Fe){we.add(_e.schedule(()=>se.error(Fe)))},complete(){we.add(_e.schedule(()=>se.complete()))}}))})),we})}(Ce,_e);if((0,j.t)(Ce))return function(Ce,_e){return new u.y(se=>{const we=new L.w;return we.add(_e.schedule(()=>Ce.then(Ne=>{we.add(_e.schedule(()=>{se.next(Ne),we.add(_e.schedule(()=>se.complete()))}))},Ne=>{we.add(_e.schedule(()=>se.error(Ne)))}))),we})}(Ce,_e);if((0,H.z)(Ce))return(0,ie.r)(Ce,_e);if(function(Ce){return Ce&&"function"==typeof Ce[Q.hZ]}(Ce)||"string"==typeof Ce)return function(Ce,_e){if(!Ce)throw new Error("Iterable cannot be null");return new u.y(se=>{const we=new L.w;let Ne;return we.add(()=>{Ne&&"function"==typeof Ne.return&&Ne.return()}),we.add(_e.schedule(()=>{Ne=Ce[Q.hZ](),we.add(_e.schedule(function(){if(se.closed)return;let Fe,Xe;try{const Rt=Ne.next();Fe=Rt.value,Xe=Rt.done}catch(Rt){return void se.error(Rt)}Xe?se.complete():(se.next(Fe),this.schedule())}))})),we})}(Ce,_e)}throw new TypeError((null!==Ce&&typeof Ce||Ce)+" is not observable")}(Ce,_e):Ce instanceof u.y?Ce:new u.y((0,re.s)(Ce))}},6693:(Ye,Te,V)=>{"use strict";V.d(Te,{n:()=>he});var u=V(7574),re=V(5015),L=V(4087);function he(le,ee){return ee?(0,L.r)(le,ee):new u.y((0,re.V)(le))}},6682:(Ye,Te,V)=>{"use strict";V.d(Te,{T:()=>le});var u=V(7574),re=V(4869),L=V(3282),he=V(6693);function le(...ee){let ie=Number.POSITIVE_INFINITY,Q=null,X=ee[ee.length-1];return(0,re.K)(X)?(Q=ee.pop(),ee.length>1&&"number"==typeof ee[ee.length-1]&&(ie=ee.pop())):"number"==typeof X&&(ie=ee.pop()),null===Q&&1===ee.length&&ee[0]instanceof u.y?ee[0]:(0,L.J)(ie)((0,he.n)(ee,Q))}},5917:(Ye,Te,V)=>{"use strict";V.d(Te,{of:()=>he});var u=V(4869),re=V(6693),L=V(4087);function he(...le){let ee=le[le.length-1];return(0,u.K)(ee)?(le.pop(),(0,L.r)(le,ee)):(0,re.n)(le)}},8002:(Ye,Te,V)=>{"use strict";V.d(Te,{U:()=>re});var u=V(7393);function re(le,ee){return function(Q){if("function"!=typeof le)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Q.lift(new L(le,ee))}}class L{constructor(ee,ie){this.project=ee,this.thisArg=ie}call(ee,ie){return ie.subscribe(new he(ee,this.project,this.thisArg))}}class he extends u.L{constructor(ee,ie,Q){super(ee),this.project=ie,this.count=0,this.thisArg=Q||this}_next(ee){let ie;try{ie=this.project.call(this.thisArg,ee,this.count++)}catch(Q){return void this.destination.error(Q)}this.destination.next(ie)}}},3282:(Ye,Te,V)=>{"use strict";V.d(Te,{J:()=>L});var u=V(9773),re=V(4487);function L(he=Number.POSITIVE_INFINITY){return(0,u.zg)(re.y,he)}},9773:(Ye,Te,V)=>{"use strict";V.d(Te,{zg:()=>he});var u=V(8002),re=V(4402),L=V(5345);function he(Q,X,F=Number.POSITIVE_INFINITY){return"function"==typeof X?j=>j.pipe(he((H,ce)=>(0,re.D)(Q(H,ce)).pipe((0,u.U)((oe,Ee)=>X(H,oe,ce,Ee))),F)):("number"==typeof X&&(F=X),j=>j.lift(new le(Q,F)))}class le{constructor(X,F=Number.POSITIVE_INFINITY){this.project=X,this.concurrent=F}call(X,F){return F.subscribe(new ee(X,this.project,this.concurrent))}}class ee extends L.Ds{constructor(X,F,j=Number.POSITIVE_INFINITY){super(X),this.project=F,this.concurrent=j,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(X){this.active<this.concurrent?this._tryNext(X):this.buffer.push(X)}_tryNext(X){let F;const j=this.index++;try{F=this.project(X,j)}catch(H){return void this.destination.error(H)}this.active++,this._innerSub(F)}_innerSub(X){const F=new L.IY(this),j=this.destination;j.add(F);const H=(0,L.ft)(X,F);H!==F&&j.add(H)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(X){this.destination.next(X)}notifyComplete(){const X=this.buffer;this.active--,X.length>0?this._next(X.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Ye,Te,V)=>{"use strict";V.d(Te,{ht:()=>j,QV:()=>X});var u=V(7393),re=V(9193),L=V(5917),he=V(7574);class Q{constructor(oe,Ee,Ce){this.kind=oe,this.value=Ee,this.error=Ce,this.hasValue="N"===oe}observe(oe){switch(this.kind){case"N":return oe.next&&oe.next(this.value);case"E":return oe.error&&oe.error(this.error);case"C":return oe.complete&&oe.complete()}}do(oe,Ee,Ce){switch(this.kind){case"N":return oe&&oe(this.value);case"E":return Ee&&Ee(this.error);case"C":return Ce&&Ce()}}accept(oe,Ee,Ce){return oe&&"function"==typeof oe.next?this.observe(oe):this.do(oe,Ee,Ce)}toObservable(){switch(this.kind){case"N":return(0,L.of)(this.value);case"E":return ce=this.error,new he.y(Ee=>Ee.error(ce));case"C":return(0,re.c)()}var ce;throw new Error("unexpected notification kind value")}static createNext(oe){return void 0!==oe?new Q("N",oe):Q.undefinedValueNotification}static createError(oe){return new Q("E",void 0,oe)}static createComplete(){return Q.completeNotification}}function X(ce,oe=0){return function(Ce){return Ce.lift(new F(ce,oe))}}Q.completeNotification=new Q("C"),Q.undefinedValueNotification=new Q("N",void 0);class F{constructor(oe,Ee=0){this.scheduler=oe,this.delay=Ee}call(oe,Ee){return Ee.subscribe(new j(oe,this.scheduler,this.delay))}}class j extends u.L{constructor(oe,Ee,Ce=0){super(oe),this.scheduler=Ee,this.delay=Ce}static dispatch(oe){const{notification:Ee,destination:Ce}=oe;Ee.observe(Ce),this.unsubscribe()}scheduleMessage(oe){this.destination.add(this.scheduler.schedule(j.dispatch,this.delay,new H(oe,this.destination)))}_next(oe){this.scheduleMessage(Q.createNext(oe))}_error(oe){this.scheduleMessage(Q.createError(oe)),this.unsubscribe()}_complete(){this.scheduleMessage(Q.createComplete()),this.unsubscribe()}}class H{constructor(oe,Ee){this.notification=oe,this.destination=Ee}}},1307:(Ye,Te,V)=>{"use strict";V.d(Te,{x:()=>re});var u=V(7393);function re(){return function(ee){return ee.lift(new L(ee))}}class L{constructor(ee){this.connectable=ee}call(ee,ie){const{connectable:Q}=this;Q._refCount++;const X=new he(ee,Q),F=ie.subscribe(X);return X.closed||(X.connection=Q.connect()),F}}class he extends u.L{constructor(ee,ie){super(ee),this.connectable=ie}_unsubscribe(){const{connectable:ee}=this;if(!ee)return void(this.connection=null);this.connectable=null;const ie=ee._refCount;if(ie<=0)return void(this.connection=null);if(ee._refCount=ie-1,ie>1)return void(this.connection=null);const{connection:Q}=this,X=ee._connection;this.connection=null,X&&(!Q||X===Q)&&X.unsubscribe()}}},8819:(Ye,Te,V)=>{"use strict";V.d(Te,{B:()=>ie});var u=V(2441);var he=V(1307),le=V(9765);function ee(){return new le.xQ}function ie(){return Q=>(0,he.x)()(function(Q,X){return function(j){let H;H="function"==typeof Q?Q:function(){return Q};const ce=Object.create(j,u.N);return ce.source=j,ce.subjectFactory=H,ce}}(ee)(Q))}},9673:(Ye,Te,V)=>{"use strict";V.d(Te,{R:()=>le});var u=V(7574),re=V(4581),L=V(6561);class he extends u.y{constructor(Q,X=0,F=re.e){super(),this.source=Q,this.delayTime=X,this.scheduler=F,(!(0,L.k)(X)||X<0)&&(this.delayTime=0),(!F||"function"!=typeof F.schedule)&&(this.scheduler=re.e)}static create(Q,X=0,F=re.e){return new he(Q,X,F)}static dispatch(Q){const{source:X,subscriber:F}=Q;return this.add(X.subscribe(F))}_subscribe(Q){return this.scheduler.schedule(he.dispatch,this.delayTime,{source:this.source,subscriber:Q})}}function le(ie,Q=0){return function(F){return F.lift(new ee(ie,Q))}}class ee{constructor(Q,X){this.scheduler=Q,this.delay=X}call(Q,X){return new he(X,this.delay,this.scheduler).subscribe(Q)}}},3342:(Ye,Te,V)=>{"use strict";V.d(Te,{b:()=>he});var u=V(7393);function re(){}var L=V(9105);function he(ie,Q,X){return function(j){return j.lift(new le(ie,Q,X))}}class le{constructor(Q,X,F){this.nextOrObserver=Q,this.error=X,this.complete=F}call(Q,X){return X.subscribe(new ee(Q,this.nextOrObserver,this.error,this.complete))}}class ee extends u.L{constructor(Q,X,F,j){super(Q),this._tapNext=re,this._tapError=re,this._tapComplete=re,this._tapError=F||re,this._tapComplete=j||re,(0,L.m)(X)?(this._context=this,this._tapNext=X):X&&(this._context=X,this._tapNext=X.next||re,this._tapError=X.error||re,this._tapComplete=X.complete||re)}_next(Q){try{this._tapNext.call(this._context,Q)}catch(X){return void this.destination.error(X)}this.destination.next(Q)}_error(Q){try{this._tapError.call(this._context,Q)}catch(X){return void this.destination.error(X)}this.destination.error(Q)}_complete(){try{this._tapComplete.call(this._context)}catch(Q){return void this.destination.error(Q)}return this.destination.complete()}}},4087:(Ye,Te,V)=>{"use strict";V.d(Te,{r:()=>L});var u=V(7574),re=V(5319);function L(he,le){return new u.y(ee=>{const ie=new re.w;let Q=0;return ie.add(le.schedule(function(){Q!==he.length?(ee.next(he[Q++]),ee.closed||ie.add(this.schedule())):ee.complete()})),ie})}},6465:(Ye,Te,V)=>{"use strict";V.d(Te,{o:()=>L});var u=V(5319);class re extends u.w{constructor(le,ee){super()}schedule(le,ee=0){return this}}class L extends re{constructor(le,ee){super(le,ee),this.scheduler=le,this.work=ee,this.pending=!1}schedule(le,ee=0){if(this.closed)return this;this.state=le;const ie=this.id,Q=this.scheduler;return null!=ie&&(this.id=this.recycleAsyncId(Q,ie,ee)),this.pending=!0,this.delay=ee,this.id=this.id||this.requestAsyncId(Q,this.id,ee),this}requestAsyncId(le,ee,ie=0){return setInterval(le.flush.bind(le,this),ie)}recycleAsyncId(le,ee,ie=0){if(null!==ie&&this.delay===ie&&!1===this.pending)return ee;clearInterval(ee)}execute(le,ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ie=this._execute(le,ee);if(ie)return ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,ee){let Q,ie=!1;try{this.work(le)}catch(X){ie=!0,Q=!!X&&X||new Error(X)}if(ie)return this.unsubscribe(),Q}_unsubscribe(){const le=this.id,ee=this.scheduler,ie=ee.actions,Q=ie.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Q&&ie.splice(Q,1),null!=le&&(this.id=this.recycleAsyncId(ee,le,null)),this.delay=null}}},6102:(Ye,Te,V)=>{"use strict";V.d(Te,{v:()=>re});let u=(()=>{class L{constructor(le,ee=L.now){this.SchedulerAction=le,this.now=ee}schedule(le,ee=0,ie){return new this.SchedulerAction(this,le).schedule(ie,ee)}}return L.now=()=>Date.now(),L})();class re extends u{constructor(he,le=u.now){super(he,()=>re.delegate&&re.delegate!==this?re.delegate.now():le()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(he,le=0,ee){return re.delegate&&re.delegate!==this?re.delegate.schedule(he,le,ee):super.schedule(he,le,ee)}flush(he){const{actions:le}=this;if(this.active)return void le.push(he);let ee;this.active=!0;do{if(ee=he.execute(he.state,he.delay))break}while(he=le.shift());if(this.active=!1,ee){for(;he=le.shift();)he.unsubscribe();throw ee}}}},4581:(Ye,Te,V)=>{"use strict";V.d(Te,{e:()=>H,E:()=>j});let u=1;const re=Promise.resolve(),L={};function he(ce){return ce in L&&(delete L[ce],!0)}const le={setImmediate(ce){const oe=u++;return L[oe]=!0,re.then(()=>he(oe)&&ce()),oe},clearImmediate(ce){he(ce)}};var ie=V(6465),X=V(6102);const j=new class extends X.v{flush(oe){this.active=!0,this.scheduled=void 0;const{actions:Ee}=this;let Ce,_e=-1,se=Ee.length;oe=oe||Ee.shift();do{if(Ce=oe.execute(oe.state,oe.delay))break}while(++_e<se&&(oe=Ee.shift()));if(this.active=!1,Ce){for(;++_e<se&&(oe=Ee.shift());)oe.unsubscribe();throw Ce}}}(class extends ie.o{constructor(oe,Ee){super(oe,Ee),this.scheduler=oe,this.work=Ee}requestAsyncId(oe,Ee,Ce=0){return null!==Ce&&Ce>0?super.requestAsyncId(oe,Ee,Ce):(oe.actions.push(this),oe.scheduled||(oe.scheduled=le.setImmediate(oe.flush.bind(oe,null))))}recycleAsyncId(oe,Ee,Ce=0){if(null!==Ce&&Ce>0||null===Ce&&this.delay>0)return super.recycleAsyncId(oe,Ee,Ce);0===oe.actions.length&&(le.clearImmediate(Ee),oe.scheduled=void 0)}}),H=j},3637:(Ye,Te,V)=>{"use strict";V.d(Te,{z:()=>L,P:()=>he});var u=V(6465);const L=new(V(6102).v)(u.o),he=L},7771:(Ye,Te,V)=>{"use strict";V.d(Te,{c:()=>ee,N:()=>le});var u=V(6465),L=V(6102);const le=new class extends L.v{}(class extends u.o{constructor(Q,X){super(Q,X),this.scheduler=Q,this.work=X}schedule(Q,X=0){return X>0?super.schedule(Q,X):(this.delay=X,this.state=Q,this.scheduler.flush(this),this)}execute(Q,X){return X>0||this.closed?super.execute(Q,X):this._execute(Q,X)}requestAsyncId(Q,X,F=0){return null!==F&&F>0||null===F&&this.delay>0?super.requestAsyncId(Q,X,F):Q.flush(this)}}),ee=le},377:(Ye,Te,V)=>{"use strict";V.d(Te,{hZ:()=>re});const re="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ye,Te,V)=>{"use strict";V.d(Te,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ye,Te,V)=>{"use strict";V.d(Te,{b:()=>u});const u="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ye,Te,V)=>{"use strict";V.d(Te,{N:()=>re});const re=(()=>{function L(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return L.prototype=Object.create(Error.prototype),L})()},4449:(Ye,Te,V)=>{"use strict";function u(re){setTimeout(()=>{throw re},0)}V.d(Te,{z:()=>u})},4487:(Ye,Te,V)=>{"use strict";function u(re){return re}V.d(Te,{y:()=>u})},9796:(Ye,Te,V)=>{"use strict";V.d(Te,{k:()=>u});const u=Array.isArray||(re=>re&&"number"==typeof re.length)},9489:(Ye,Te,V)=>{"use strict";V.d(Te,{z:()=>u});const u=re=>re&&"number"==typeof re.length&&"function"!=typeof re},9105:(Ye,Te,V)=>{"use strict";function u(re){return"function"==typeof re}V.d(Te,{m:()=>u})},6561:(Ye,Te,V)=>{"use strict";V.d(Te,{k:()=>re});var u=V(9796);function re(L){return!(0,u.k)(L)&&L-parseFloat(L)+1>=0}},1555:(Ye,Te,V)=>{"use strict";function u(re){return null!==re&&"object"==typeof re}V.d(Te,{K:()=>u})},4072:(Ye,Te,V)=>{"use strict";function u(re){return!!re&&"function"!=typeof re.subscribe&&"function"==typeof re.then}V.d(Te,{t:()=>u})},4869:(Ye,Te,V)=>{"use strict";function u(re){return re&&"function"==typeof re.schedule}V.d(Te,{K:()=>u})},7444:(Ye,Te,V)=>{"use strict";V.d(Te,{s:()=>j});var u=V(5015),re=V(4449),he=V(377),ee=V(6554),Q=V(9489),X=V(4072),F=V(1555);const j=H=>{if(H&&"function"==typeof H[ee.L])return(H=>ce=>{const oe=H[ee.L]();if("function"!=typeof oe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return oe.subscribe(ce)})(H);if((0,Q.z)(H))return(0,u.V)(H);if((0,X.t)(H))return(H=>ce=>(H.then(oe=>{ce.closed||(ce.next(oe),ce.complete())},oe=>ce.error(oe)).then(null,re.z),ce))(H);if(H&&"function"==typeof H[he.hZ])return(H=>ce=>{const oe=H[he.hZ]();for(;;){let Ee;try{Ee=oe.next()}catch(Ce){return ce.error(Ce),ce}if(Ee.done){ce.complete();break}if(ce.next(Ee.value),ce.closed)break}return"function"==typeof oe.return&&ce.add(()=>{oe.return&&oe.return()}),ce})(H);{const oe=`You provided ${(0,F.K)(H)?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(oe)}}},5015:(Ye,Te,V)=>{"use strict";V.d(Te,{V:()=>u});const u=re=>L=>{for(let he=0,le=re.length;he<le&&!L.closed;he++)L.next(re[he]);L.complete()}},6463:(Ye,Te,V)=>{"use strict";var u=V(7716);let re=null;function L(){return re}const ie=new u.OlP("DocumentToken");let Q=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,u.Yz7)({factory:X,token:n,providedIn:"platform"}),n})();function X(){return(0,u.LFG)(j)}const F=new u.OlP("Location Initialized");let j=(()=>{class n extends Q{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(e){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,a){H()?this._history.pushState(e,r,a):this.location.hash=a}replaceState(e,r,a){H()?this._history.replaceState(e,r,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ie))},n.\u0275prov=(0,u.Yz7)({factory:ce,token:n,providedIn:"platform"}),n})();function H(){return!!window.history.pushState}function ce(){return new j((0,u.LFG)(ie))}function oe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ee(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ce(n){return n&&"?"!==n[0]?"?"+n:n}let _e=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,u.Yz7)({factory:se,token:n,providedIn:"root"}),n})();function se(n){const t=(0,u.LFG)(ie).location;return new Ne((0,u.LFG)(Q),t&&t.origin||"")}const we=new u.OlP("appBaseHref");let Ne=(()=>{class n extends _e{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return oe(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Ce(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${r}${a}`:r}pushState(e,r,a,c){const f=this.prepareExternalUrl(a+Ce(c));this._platformLocation.pushState(e,r,f)}replaceState(e,r,a,c){const f=this.prepareExternalUrl(a+Ce(c));this._platformLocation.replaceState(e,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Q),u.LFG(we,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n extends _e{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=oe(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,a,c){let f=this.prepareExternalUrl(a+Ce(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(e,r,f)}replaceState(e,r,a,c){let f=this.prepareExternalUrl(a+Ce(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Q),u.LFG(we,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Xe=(()=>{class n{constructor(e,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const a=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ee(mt(a)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Ce(r))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,mt(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",a=null){this._platformStrategy.pushState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ce(r)),a)}replaceState(e,r="",a=null){this._platformStrategy.replaceState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ce(r)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformStrategy).historyGo)||void 0===a||a.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(a=>a(e,r))}subscribe(e,r,a){return this._subject.subscribe({next:e,error:r,complete:a})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(_e),u.LFG(Q))},n.normalizeQueryParams=Ce,n.joinWithSlash=oe,n.stripTrailingSlash=Ee,n.\u0275prov=(0,u.Yz7)({factory:Rt,token:n,providedIn:"root"}),n})();function Rt(){return new Xe((0,u.LFG)(_e),(0,u.LFG)(Q))}function mt(n){return n.replace(/\/index.html$/,"")}var fe=(()=>((fe=fe||{})[fe.Zero=0]="Zero",fe[fe.One=1]="One",fe[fe.Two=2]="Two",fe[fe.Few=3]="Few",fe[fe.Many=4]="Many",fe[fe.Other=5]="Other",fe))();const Ni=u.kL8;class Ar{}let kn=(()=>{class n extends Ar{constructor(e){super(),this.locale=e}getPluralCategory(e,r){switch(Ni(r||this.locale)(e)){case fe.Zero:return"zero";case fe.One:return"one";case fe.Two:return"two";case fe.Few:return"few";case fe.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.soG))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Hn(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[a,c]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(a.trim()===t)return decodeURIComponent(c)}return null}let Po=(()=>{class n{constructor(e,r,a,c){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=a,this._renderer=c,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(a=>{r?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})(),ir=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new Ia,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ko("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ko("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Ia{constructor(){this.$implicit=null,this.ngIf=null}}function ko(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(t)}'.`)}let Uo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[{provide:Ar,useClass:kn}]}),n})();let qs=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Ra((0,u.LFG)(ie),window)}),n})();class Ra{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=r.currentNode;for(;a;){const c=a.shadowRoot;if(c){const f=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(f)return f}a=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],a-c[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=xa(this.window.history)||xa(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function xa(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Pa{}class ka extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new ka,re||(re=n)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(ti=ti||document.querySelector("base"),ti?ti.getAttribute("href"):null);return null==e?null:function(n){Jt=Jt||document.createElement("a"),Jt.setAttribute("href",n);const t=Jt.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ti=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Hn(document.cookie,t)}}let Jt,ti=null;const Il=new u.OlP("TRANSITION_ID"),or=[{provide:u.ip1,useFactory:function(n,t,e){return()=>{e.get(u.CZH).donePromise.then(()=>{const r=L(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<a.length;c++)r.remove(a[c])})}},deps:[Il,ie,u.zs3],multi:!0}];class mn{static init(){(0,u.VLi)(new mn)}addToWindow(t){u.dqk.getAngularTestability=(r,a=!0)=>{const c=t.findTestabilityInTree(r,a);if(null==c)throw new Error("Could not find testability for element.");return c},u.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const a=u.dqk.getAllAngularTestabilities();let c=a.length,f=!1;const _=function(b){f=f||b,c--,0==c&&r(f)};a.forEach(function(b){b.whenStable(_)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const a=t.getTestability(e);return null!=a?a:r?L().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Al=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Hi=new u.OlP("EventManagerPlugins");let Oe=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,a){return this._findPluginFor(r).addEventListener(e,r,a)}addGlobalEventListener(e,r,a){return this._findPluginFor(r).addGlobalEventListener(e,r,a)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const a=this._plugins;for(let c=0;c<a.length;c++){const f=a[c];if(f.supports(e))return this._eventNameToPlugin.set(e,f),f}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Hi),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Et{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const a=L().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,r)}}let Pc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),r.add(a))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Zt=(()=>{class n extends Pc{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,a){e.forEach(c=>{const f=this._doc.createElement("style");f.textContent=c,a.push(r.appendChild(f))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(kc),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,a)=>{this._addStylesToHost(e,a,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(kc))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function kc(n){L().remove(n)}const yi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},jr=/%COMP%/g;function _n(n,t,e){for(let r=0;r<t.length;r++){let a=t[r];Array.isArray(a)?_n(n,a,e):(a=a.replace(jr,n),e.push(a))}return e}function Hr(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let $i=(()=>{class n{constructor(e,r,a){this.eventManager=e,this.sharedStylesHost=r,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new ar(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let a=this.rendererByCompId.get(r.id);return a||(a=new Ua(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,a)),a.applyToHost(e),a}case 1:case u.ifc.ShadowDom:return new Fc(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const a=_n(r.id,r.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Oe),u.LFG(Zt),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class ar{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(yi[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,a){if(a){e=a+":"+e;const c=yi[a];c?t.setAttributeNS(c,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const a=yi[r];a?t.removeAttributeNS(a,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,a){a&(u.JOm.DashCase|u.JOm.Important)?t.style.setProperty(e,r,a&u.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&u.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Hr(r)):this.eventManager.addEventListener(t,e,Hr(r))}}class Ua extends ar{constructor(t,e,r,a){super(t),this.component=r;const c=_n(a+"-"+r.id,r.styles,[]);e.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(jr,a+"-"+r.id),this.hostAttr="_nghost-%COMP%".replace(jr,a+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class Fc extends ar{constructor(t,e,r,a){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=_n(a.id,a.styles,[]);for(let f=0;f<c.length;f++){const _=document.createElement("style");_.textContent=c[f],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Ks=(()=>{class n extends Et{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,a){return e.addEventListener(r,a,!1),()=>this.removeEventListener(e,r,a)}removeEventListener(e,r,a){return e.removeEventListener(r,a)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Js=["alt","control","meta","shift"],Lc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},k_={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Vc=(()=>{class n extends Et{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,a){const c=n.parseEventName(r),f=n.eventCallback(c.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(e,c.domEventName,f))}static parseEventName(e){const r=e.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const c=n._normalizeKey(r.pop());let f="";if(Js.forEach(b=>{const w=r.indexOf(b);w>-1&&(r.splice(w,1),f+=b+".")}),f+=c,0!=r.length||0===c.length)return null;const _={};return _.domEventName=a,_.fullKey=f,_}static getEventFullKey(e){let r="",a=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&lr.hasOwnProperty(t)&&(t=lr[t]))}return Lc[t]||t}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Js.forEach(c=>{c!=a&&k_[c](e)&&(r+=c+".")}),r+=a,r}static eventCallback(e,r,a){return c=>{n.getEventFullKey(c)===e&&a.runGuarded(()=>r(c))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),vi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,u.Yz7)({factory:function(){return(0,u.LFG)(Yo)},token:n,providedIn:"root"}),n})(),Yo=(()=>{class n extends vi{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case u.q3G.NONE:return r;case u.q3G.HTML:return(0,u.qzn)(r,"HTML")?(0,u.z3N)(r):(0,u.EiD)(this._doc,String(r)).toString();case u.q3G.STYLE:return(0,u.qzn)(r,"Style")?(0,u.z3N)(r):r;case u.q3G.SCRIPT:if((0,u.qzn)(r,"Script"))return(0,u.z3N)(r);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.yhl)(r),(0,u.qzn)(r,"URL")?(0,u.z3N)(r):(0,u.mCW)(String(r));case u.q3G.RESOURCE_URL:if((0,u.qzn)(r,"ResourceURL"))return(0,u.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,u.JVY)(e)}bypassSecurityTrustStyle(e){return(0,u.L6k)(e)}bypassSecurityTrustScript(e){return(0,u.eBb)(e)}bypassSecurityTrustUrl(e){return(0,u.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,u.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ie))},n.\u0275prov=(0,u.Yz7)({factory:function(){return function(n){return new Yo(n.get(ie))}((0,u.LFG)(u.gxx))},token:n,providedIn:"root"}),n})();const Xs=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function(){ka.makeCurrent(),mn.init()},multi:!0},{provide:ie,useFactory:function(){return(0,u.RDi)(document),document},deps:[]}]),Hc=[[],{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function(){return new u.qLn},deps:[]},{provide:Hi,useClass:Ks,multi:!0,deps:[ie,u.R0b,u.Lbi]},{provide:Hi,useClass:Vc,multi:!0,deps:[ie]},[],{provide:$i,useClass:$i,deps:[Oe,Zt,u.AFp]},{provide:u.FYo,useExisting:$i},{provide:Pc,useExisting:Zt},{provide:Zt,useClass:Zt,deps:[ie]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:Oe,useClass:Oe,deps:[Hi,u.R0b]},{provide:Pa,useClass:Al,deps:[]},[]];let $c=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:u.AFp,useValue:e.appId},{provide:Il,useExisting:u.AFp},or]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:Hc,imports:[Uo,u.hGG]}),n})();"undefined"!=typeof window&&window;var yn=V(4402),Ge=V(5917),ht=V(9765),qa=V(7971);class Wn extends ht.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new qa.N;return this._value}next(t){super.next(this._value=t)}}var Ts=V(4869),no=V(9796),vn=V(7393);class xl extends vn.L{notifyNext(t,e,r,a,c){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class L_ extends vn.L{constructor(t,e,r){super(),this.parent=t,this.outerValue=e,this.outerIndex=r,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Yi=V(7444),sn=V(7574);function gd(n,t,e,r,a=new L_(n,e,r)){if(!a.closed)return t instanceof sn.y?t.subscribe(a):(0,Yi.s)(t)(a)}var Pl=V(6693);const Ka={};function Zi(...n){let t,e;return(0,Ts.K)(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&(0,no.k)(n[0])&&(n=n[0]),(0,Pl.n)(n,e).lift(new Zc(t))}class Zc{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new qo(t,this.resultSelector))}}class qo extends xl{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Ka),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let r=0;r<e;r++)this.add(gd(this,t[r],void 0,r))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,r){const a=this.values,f=this.toRespond?a[r]===Ka?--this.toRespond:this.toRespond:0;a[r]=e,0===f&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}const ni=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var $r=V(3282);function ro(...n){return(0,$r.J)(1)((0,Ge.of)(...n))}var Di=V(9193);function ri(n){return new sn.y(t=>{let e;try{e=n()}catch(a){return void t.error(a)}return(e?(0,yn.D)(e):(0,Di.c)()).subscribe(t)})}var _d=V(2441),wt=V(8002),ii=V(5345);function Yn(n,t){return"function"==typeof t?e=>e.pipe(Yn((r,a)=>(0,yn.D)(n(r,a)).pipe((0,wt.U)((c,f)=>t(r,c,a,f))))):e=>e.lift(new og(n))}class og{constructor(t){this.project=t}call(t,e){return e.subscribe(new ln(t,this.project))}}class ln extends ii.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const r=this.index++;try{e=this.project(t,r)}catch(a){return void this.destination.error(a)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const r=new ii.IY(this),a=this.destination;a.add(r),this.innerSubscription=(0,ii.ft)(t,r),this.innerSubscription!==r&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const kl=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function qi(n){return t=>0===n?(0,Di.c)():t.lift(new yd(n))}class yd{constructor(t){if(this.total=t,this.total<0)throw new kl}call(t,e){return e.subscribe(new ag(t,this.total))}}class ag extends vn.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))}}function Ko(...n){const t=n[n.length-1];return(0,Ts.K)(t)?(n.pop(),e=>ro(n,e,t)):e=>ro(n,e)}function qc(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(a){return a.lift(new vd(n,t,e))}}class vd{constructor(t,e,r=!1){this.accumulator=t,this.seed=e,this.hasSeed=r}call(t,e){return e.subscribe(new lg(t,this.accumulator,this.seed,this.hasSeed))}}class lg extends vn.L{constructor(t,e,r,a){super(t),this.accumulator=e,this._seed=r,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let r;try{r=this.accumulator(this.seed,t,e)}catch(a){this.destination.error(a)}this.seed=r,this.destination.next(r)}}function Zn(n,t){return function(r){return r.lift(new Qa(n,t))}}class Qa{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Ki(t,this.predicate,this.thisArg))}}class Ki extends vn.L{constructor(t,e,r){super(t),this.predicate=e,this.thisArg=r,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}e&&this.destination.next(t)}}function As(n){return function(e){const r=new cn(n),a=e.lift(r);return r.caught=a}}class cn{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Si(t,this.selector,this.caught))}}class Si extends ii.Ds{constructor(t,e,r){super(t),this.selector=e,this.caught=r}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(c){return void super.error(c)}this._unsubscribeAndRecycle();const r=new ii.IY(this);this.add(r);const a=(0,ii.ft)(e,r);a!==r&&this.add(a)}}}var Xt=V(9773);function Qo(n,t){return(0,Xt.zg)(n,t,1)}function bd(n){return function(e){return 0===n?(0,Di.c)():e.lift(new si(n))}}class si{constructor(t){if(this.total=t,this.total<0)throw new kl}call(t,e){return e.subscribe(new Ti(t,this.total))}}class Ti extends vn.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,r=this.total,a=this.count++;e.length<r?e.push(t):e[a%r]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const r=this.count>=this.total?this.total:this.count,a=this.ring;for(let c=0;c<r;c++){const f=e++%r;t.next(a[f])}}t.complete()}}function io(n=Cd){return t=>t.lift(new Or(n))}class Or{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Qi(t,this.errorFactory))}}class Qi extends vn.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Cd(){return new ni}function Nl(n=null){return t=>t.lift(new so(n))}class so{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Ed(t,this.defaultValue))}}class Ed extends vn.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var oo=V(4487);function bn(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Zn((a,c)=>n(a,c,r)):oo.y,qi(1),e?Nl(t):io(()=>new ni))}var qn=V(3342),Ji=V(1307),Ms=V(5319);class D{constructor(t){this.callback=t}call(t,e){return e.subscribe(new T(t,this.callback))}}class T extends vn.L{constructor(t,e){super(t),this.add(new Ms.w(e))}}class R{constructor(t,e){this.id=t,this.url=e}}class U extends R{constructor(t,e,r="imperative",a=null){super(t,e),this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class te extends R{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pe extends R{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xe extends R{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class He extends R{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $e extends R{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mt extends R{constructor(t,e,r,a,c){super(t,e),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zt extends R{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cn extends R{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rr{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Nn{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Jo{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ja{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xo{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gr{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xr{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ft="primary";class nf{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function on(n){return new nf(n)}const wd="ngNavigationCancelingError";function Dd(n){const t=Error("NavigationCancelingError: "+n);return t[wd]=!0,t}function Qc(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const a={};for(let c=0;c<r.length;c++){const f=r[c],_=n[c];if(f.startsWith(":"))a[f.substring(1)]=_;else if(f!==_.path)return null}return{consumed:n.slice(0,r.length),posParams:a}}function oi(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let a;for(let c=0;c<e.length;c++)if(a=e[c],!rf(n[a],t[a]))return!1;return!0}function rf(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((a,c)=>r[c]===a)}return n===t}function V_(n){return Array.prototype.concat.apply([],n)}function Xa(n){return n.length>0?n[n.length-1]:null}function Fn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function cr(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,yn.D)(Promise.resolve(n)):(0,Ge.of)(n)}const dg={exact:function fg(n,t,e){if(!nl(n.segments,t.segments)||!Sd(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!fg(n.children[r],t.children[r],e))return!1;return!0},subset:tl},el={exact:function(n,t){return oi(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>rf(n[e],t[e]))},ignored:()=>!0};function Jc(n,t,e){return dg[e.paths](n.root,t.root,e.matrixParams)&&el[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function tl(n,t,e){return Fl(n,t,t.segments,e)}function Fl(n,t,e,r){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!nl(a,e)||t.hasChildren()||!Sd(a,e,r))}if(n.segments.length===e.length){if(!nl(n.segments,e)||!Sd(n.segments,e,r))return!1;for(const a in t.children)if(!n.children[a]||!tl(n.children[a],t.children[a],r))return!1;return!0}{const a=e.slice(0,n.segments.length),c=e.slice(n.segments.length);return!!(nl(n.segments,a)&&Sd(n.segments,a,r)&&n.children[ft])&&Fl(n.children[ft],t,c,r)}}function Sd(n,t,e){return t.every((r,a)=>el[e](n[a].parameters,r.parameters))}class Ll{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=on(this.queryParams)),this._queryParamMap}toString(){return af.serialize(this)}}class Ot{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Fn(e,(r,a)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ao(this)}}class Xc{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=on(this.parameters)),this._parameterMap}toString(){return lf(this)}}function nl(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class sf{}class Vl{parse(t){const e=new ta(t);return new Ll(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var n;return`${`/${eu(t.root,!0)}`}${function(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(a=>`${tu(e)}=${tu(a)}`).join("&"):`${tu(e)}=${tu(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${n=t.fragment,encodeURI(n)}`:""}`}}const af=new Vl;function ao(n){return n.segments.map(t=>lf(t)).join("/")}function eu(n,t){if(!n.hasChildren())return ao(n);if(t){const e=n.children[ft]?eu(n.children[ft],!1):"",r=[];return Fn(n.children,(a,c)=>{c!==ft&&r.push(`${c}:${eu(a,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function(n,t){let e=[];return Fn(n.children,(r,a)=>{a===ft&&(e=e.concat(t(r,a)))}),Fn(n.children,(r,a)=>{a!==ft&&(e=e.concat(t(r,a)))}),e}(n,(r,a)=>a===ft?[eu(n.children[ft],!1)]:[`${a}:${eu(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ft]?`${ao(n)}/${e[0]}`:`${ao(n)}/(${e.join("//")})`}}function pg(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tu(n){return pg(n).replace(/%3B/gi,";")}function rl(n){return pg(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nu(n){return decodeURIComponent(n)}function Id(n){return nu(n.replace(/\+/g,"%20"))}function lf(n){return`${rl(n.path)}${function(n){return Object.keys(n).map(t=>`;${rl(t)}=${rl(n[t])}`).join("")}(n.parameters)}`}const gg=/^[^\/()?;=#]+/;function ru(n){const t=n.match(gg);return t?t[0]:""}const H_=/^[^=?&#]+/,co=/^[^?&#]+/;class ta{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ot([],{}):new Ot([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[ft]=new Ot(t,e)),r}parseSegment(){const t=ru(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Xc(nu(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ru(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const a=ru(this.remaining);a&&(r=a,this.capture(r))}t[nu(e)]=nu(r)}parseQueryParam(t){const e=function(n){const t=n.match(H_);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const f=function(n){const t=n.match(co);return t?t[0]:""}(this.remaining);f&&(r=f,this.capture(r))}const a=Id(e),c=Id(r);if(t.hasOwnProperty(a)){let f=t[a];Array.isArray(f)||(f=[f],t[a]=f),f.push(c)}else t[a]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ru(this.remaining),a=this.remaining[r.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let c;r.indexOf(":")>-1?(c=r.substr(0,r.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=ft);const f=this.parseChildren();e[c]=1===Object.keys(f).length?f[ft]:new Ot([],f),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class mg{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=cf(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=cf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=su(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return su(t,this._root).map(e=>e.value)}}function cf(n,t){if(n===t.value)return t;for(const e of t.children){const r=cf(n,e);if(r)return r}return null}function su(n,t){if(n===t.value)return[t];for(const e of t.children){const r=su(n,e);if(r.length)return r.unshift(t),r}return[]}class uo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function il(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class uf extends mg{constructor(t,e){super(t),this.snapshot=e,Md(this,t)}toString(){return this.snapshot.toString()}}function _g(n,t){const e=function(n,t){const f=new Ad([],{},{},"",{},ft,t,null,n.root,-1,{});return new Ul("",new uo(f,[]))}(n,t),r=new Wn([new Xc("",{})]),a=new Wn({}),c=new Wn({}),f=new Wn({}),_=new Wn(""),b=new Bl(r,a,f,_,c,ft,t,e.root);return b.snapshot=e.root,new uf(new uo(b,[]),e)}class Bl{constructor(t,e,r,a,c,f,_,b){this.url=t,this.params=e,this.queryParams=r,this.fragment=a,this.data=c,this.outlet=f,this.component=_,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,wt.U)(t=>on(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,wt.U)(t=>on(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yg(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const a=e[r],c=e[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(c.component)break;r--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Ad{constructor(t,e,r,a,c,f,_,b,w,O,x){this.url=t,this.params=e,this.queryParams=r,this.fragment=a,this.data=c,this.outlet=f,this.component=_,this.routeConfig=b,this._urlSegment=w,this._lastPathIndex=O,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=on(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=on(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ul extends mg{constructor(t,e){super(e),this.url=t,Md(this,e)}toString(){return Xi(this._root)}}function Md(n,t){t.value._routerState=n,t.children.forEach(e=>Md(n,e))}function Xi(n){const t=n.children.length>0?` { ${n.children.map(Xi).join(", ")} } `:"";return`${n.value}${t}`}function sl(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,oi(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),oi(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!oi(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),oi(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ou(n,t){return oi(n.params,t.params)&&function(n,t){return nl(n,t)&&n.every((e,r)=>oi(e.parameters,t[r].parameters))}(n.url,t.url)&&!(!n.parent!=!t.parent)&&(!n.parent||ou(n.parent,t.parent))}function au(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const a=function(n,t,e){return t.children.map(r=>{for(const a of e.children)if(n.shouldReuseRoute(r.value,a.value.snapshot))return au(n,r,a);return au(n,r)})}(n,t,e);return new uo(r,a)}{if(n.shouldAttach(t.value)){const c=n.retrieve(t.value);if(null!==c){const f=c.route;return G_(t,f),f}}const r=function(n){return new Bl(new Wn(n.url),new Wn(n.params),new Wn(n.queryParams),new Wn(n.fragment),new Wn(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(c=>au(n,c));return new uo(r,a)}}function G_(n,t){if(n.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=n.value;for(let e=0;e<n.children.length;++e)G_(n.children[e],t.children[e])}function jl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Rs(n){return"object"==typeof n&&null!=n&&n.outlets}function Eg(n,t,e,r,a){let c={};return r&&Fn(r,(f,_)=>{c[_]=Array.isArray(f)?f.map(b=>`${b}`):`${f}`}),new Ll(e.root===n?t:z_(e.root,n,t),c,a)}function z_(n,t,e){const r={};return Fn(n.children,(a,c)=>{r[c]=a===t?e:z_(a,t,e)}),new Ot(n.segments,r)}class ff{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&jl(r[0]))throw new Error("Root segment cannot have matrix parameters");const a=r.find(Rs);if(a&&a!==Xa(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pf{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function na(n,t,e){if(n||(n=new Ot([],{})),0===n.segments.length&&n.hasChildren())return lu(n,t,e);const r=function(n,t,e){let r=0,a=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(r>=e.length)return c;const f=n.segments[a],_=e[r];if(Rs(_))break;const b=`${_}`,w=r<e.length-1?e[r+1]:null;if(a>0&&void 0===b)break;if(b&&w&&"object"==typeof w&&void 0===w.outlets){if(!Sg(b,w,f))return c;r+=2}else{if(!Sg(b,{},f))return c;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(n,t,e),a=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new Ot(n.segments.slice(0,r.pathIndex),{});return c.children[ft]=new Ot(n.segments.slice(r.pathIndex),n.children),lu(c,0,a)}return r.match&&0===a.length?new Ot(n.segments,{}):r.match&&!n.hasChildren()?gf(n,t,e):r.match?lu(n,0,a):gf(n,t,e)}function lu(n,t,e){if(0===e.length)return new Ot(n.segments,{});{const r=function(n){return Rs(n[0])?n[0].outlets:{[ft]:n}}(e),a={};return Fn(r,(c,f)=>{"string"==typeof c&&(c=[c]),null!==c&&(a[f]=na(n.children[f],t,c))}),Fn(n.children,(c,f)=>{void 0===r[f]&&(a[f]=c)}),new Ot(n.segments,a)}}function gf(n,t,e){const r=n.segments.slice(0,t);let a=0;for(;a<e.length;){const c=e[a];if(Rs(c)){const b=En(c.outlets);return new Ot(r,b)}if(0===a&&jl(e[0])){r.push(new Xc(n.segments[t].path,mf(e[0]))),a++;continue}const f=Rs(c)?c.outlets[ft]:`${c}`,_=a<e.length-1?e[a+1]:null;f&&_&&jl(_)?(r.push(new Xc(f,mf(_))),a+=2):(r.push(new Xc(f,{})),a++)}return new Ot(r,{})}function En(n){const t={};return Fn(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=gf(new Ot([],{}),0,e))}),t}function mf(n){const t={};return Fn(n,(e,r)=>t[r]=`${e}`),t}function Sg(n,t,e){return n==e.path&&oi(t,e.parameters)}class Pd{constructor(t,e,r,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=a}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),sl(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const a=il(e);t.children.forEach(c=>{const f=c.value.outlet;this.deactivateRoutes(c,a[f],r),delete a[f]}),Fn(a,(c,f)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(t,e,r){const a=t.value,c=e?e.value:null;if(a===c)if(a.component){const f=r.getContext(a.outlet);f&&this.deactivateChildRoutes(t,e,f.children)}else this.deactivateChildRoutes(t,e,r);else c&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet);if(r&&r.outlet){const a=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),a=r&&t.value.component?r.children:e,c=il(t);for(const f of Object.keys(c))this.deactivateRouteAndItsChildren(c[f],a);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const a=il(e);t.children.forEach(c=>{this.activateRoutes(c,a[c.value.outlet],r),this.forwardEvent(new Gr(c.value.snapshot))}),t.children.length&&this.forwardEvent(new Ja(t.value.snapshot))}activateRoutes(t,e,r){const a=t.value,c=e?e.value:null;if(sl(a),a===c)if(a.component){const f=r.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,f.children)}else this.activateChildRoutes(t,e,r);else if(a.component){const f=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const _=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),f.children.onOutletReAttached(_.contexts),f.attachRef=_.componentRef,f.route=_.route.value,f.outlet&&f.outlet.attach(_.componentRef,_.route.value),kd(_.route)}else{const _=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),b=_?_.module.componentFactoryResolver:null;f.attachRef=null,f.route=a,f.resolver=b,f.outlet&&f.outlet.activateWith(a,b),this.activateChildRoutes(t,null,f.children)}}else this.activateChildRoutes(t,null,r)}}function kd(n){sl(n.value),n.children.forEach(kd)}class _f{constructor(t,e){this.routes=t,this.module=e}}function xs(n){return"function"==typeof n}function Kn(n){return n instanceof Ll}const ra=Symbol("INITIAL_VALUE");function $l(){return Yn(n=>Zi(n.map(t=>t.pipe(qi(1),Ko(ra)))).pipe(qc((t,e)=>{let r=!1;return e.reduce((a,c,f)=>a!==ra?a:(c===ra&&(r=!0),r||!1!==c&&f!==e.length-1&&!Kn(c)?a:c),t)},ra),Zn(t=>t!==ra),(0,wt.U)(t=>Kn(t)?t:!0===t),qi(1)))}let Qn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&u._UZ(0,"router-outlet")},directives:function(){return[Sf]},encapsulation:2}),n})();function Gl(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];Ps(r,Ig(t,r))}}function Ps(n,t){n.children&&Gl(n.children,t)}function Ig(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function yf(n){const t=n.children&&n.children.map(yf),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ft&&(e.component=Qn),e}function ai(n){return n.outlet||ft}function Ag(n,t){const e=n.filter(r=>ai(r)===t);return e.push(...n.filter(r=>ai(r)!==t)),e}const Fd={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ur(n,t,e){var r;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Fd):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const c=(t.matcher||Qc)(e,n,t);if(!c)return Object.assign({},Fd);const f={};Fn(c.posParams,(b,w)=>{f[w]=b.path});const _=c.consumed.length>0?Object.assign(Object.assign({},f),c.consumed[c.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:c.consumed,lastChild:c.consumed.length,parameters:_,positionalParamSegments:null!==(r=c.posParams)&&void 0!==r?r:{}}}function ol(n,t,e,r,a="corrected"){if(e.length>0&&function(n,t,e){return e.some(r=>al(n,t,r)&&ai(r)!==ft)}(n,e,r)){const f=new Ot(t,function(n,t,e,r){const a={};a[ft]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const c of e)if(""===c.path&&ai(c)!==ft){const f=new Ot([],{});f._sourceSegment=n,f._segmentIndexShift=t.length,a[ai(c)]=f}return a}(n,t,r,new Ot(e,n.children)));return f._sourceSegment=n,f._segmentIndexShift=t.length,{segmentGroup:f,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(r=>al(n,t,r))}(n,e,r)){const f=new Ot(n.segments,function(n,t,e,r,a,c){const f={};for(const _ of r)if(al(n,e,_)&&!a[ai(_)]){const b=new Ot([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===c?n.segments.length:t.length,f[ai(_)]=b}return Object.assign(Object.assign({},a),f)}(n,t,e,r,n.children,a));return f._sourceSegment=n,f._segmentIndexShift=t.length,{segmentGroup:f,slicedSegments:e}}const c=new Ot(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}function al(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Ld(n,t,e,r){return!!(ai(n)===r||r!==ft&&al(t,e,n))&&("**"===n.path||ur(t,n,e).matched)}function Mg(n,t,e){return 0===t.length&&!n.children[e]}class Wl{constructor(t){this.segmentGroup=t||null}}class bf{constructor(t){this.urlTree=t}}function ll(n){return new sn.y(t=>t.error(new Wl(n)))}function Og(n){return new sn.y(t=>t.error(new bf(n)))}function K_(n){return new sn.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class g{constructor(t,e,r,a,c){this.configLoader=e,this.urlSerializer=r,this.urlTree=a,this.config=c,this.allowRedirects=!0,this.ngModule=t.get(u.h0i)}apply(){const t=ol(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ot(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ft).pipe((0,wt.U)(c=>this.createUrlTree(M(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(As(c=>{if(c instanceof bf)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof Wl?this.noMatchError(c):c}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,ft).pipe((0,wt.U)(a=>this.createUrlTree(M(a),t.queryParams,t.fragment))).pipe(As(a=>{throw a instanceof Wl?this.noMatchError(a):a}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const a=t.segments.length>0?new Ot([],{[ft]:t}):t;return new Ll(a,e,r)}expandSegmentGroup(t,e,r,a){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,wt.U)(c=>new Ot([],c))):this.expandSegment(t,r,e,r.segments,a,!0)}expandChildren(t,e,r){const a=[];for(const c of Object.keys(r.children))"primary"===c?a.unshift(c):a.push(c);return(0,yn.D)(a).pipe(Qo(c=>{const f=r.children[c],_=Ag(e,c);return this.expandSegmentGroup(t,_,f,c).pipe((0,wt.U)(b=>({segment:b,outlet:c})))}),qc((c,f)=>(c[f.outlet]=f.segment,c),{}),function(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Zn((a,c)=>n(a,c,r)):oo.y,bd(1),e?Nl(t):io(()=>new ni))}())}expandSegment(t,e,r,a,c,f){return(0,yn.D)(r).pipe(Qo(_=>this.expandSegmentAgainstRoute(t,e,r,_,a,c,f).pipe(As(w=>{if(w instanceof Wl)return(0,Ge.of)(null);throw w}))),bn(_=>!!_),As((_,b)=>{if(_ instanceof ni||"EmptyError"===_.name){if(Mg(e,a,c))return(0,Ge.of)(new Ot([],{}));throw new Wl(e)}throw _}))}expandSegmentAgainstRoute(t,e,r,a,c,f,_){return Ld(a,e,c,f)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,c,f):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,a,c,f):ll(e):ll(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,a,c,f){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,a,f):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,a,c,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,a){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Og(c):this.lineralizeSegments(r,c).pipe((0,Xt.zg)(f=>{const _=new Ot(f,{});return this.expandSegment(t,_,e,f,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,a,c,f){const{matched:_,consumedSegments:b,lastChild:w,positionalParamSegments:O}=ur(e,a,c);if(!_)return ll(e);const x=this.applyRedirectCommands(b,a.redirectTo,O);return a.redirectTo.startsWith("/")?Og(x):this.lineralizeSegments(a,x).pipe((0,Xt.zg)(z=>this.expandSegment(t,e,r,z.concat(c.slice(w)),f,!1)))}matchSegmentAgainstRoute(t,e,r,a,c){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,Ge.of)(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe((0,wt.U)(z=>(r._loadedConfig=z,new Ot(a,{})))):(0,Ge.of)(new Ot(a,{}));const{matched:f,consumedSegments:_,lastChild:b}=ur(e,r,a);if(!f)return ll(e);const w=a.slice(b);return this.getChildConfig(t,r,a).pipe((0,Xt.zg)(x=>{const z=x.module,Y=x.routes,{segmentGroup:ae,slicedSegments:Re}=ol(e,_,w,Y),Ve=new Ot(ae.segments,ae.children);if(0===Re.length&&Ve.hasChildren())return this.expandChildren(z,Y,Ve).pipe((0,wt.U)(vt=>new Ot(_,vt)));if(0===Y.length&&0===Re.length)return(0,Ge.of)(new Ot(_,{}));const qe=ai(r)===c;return this.expandSegment(z,Ve,Y,Re,qe?ft:c,!0).pipe((0,wt.U)(Nt=>new Ot(_.concat(Nt.segments),Nt.children)))}))}getChildConfig(t,e,r){return e.children?(0,Ge.of)(new _f(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,Ge.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe((0,Xt.zg)(a=>{return a?this.configLoader.load(t.injector,e).pipe((0,wt.U)(c=>(e._loadedConfig=c,c))):(n=e,new sn.y(t=>t.error(Dd(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Ge.of)(new _f([],t))}runCanLoadGuards(t,e,r){const a=e.canLoad;if(!a||0===a.length)return(0,Ge.of)(!0);const c=a.map(f=>{const _=t.get(f);let b;if((n=_)&&xs(n.canLoad))b=_.canLoad(e,r);else{if(!xs(_))throw new Error("Invalid CanLoad guard");b=_(e,r)}var n;return cr(b)});return(0,Ge.of)(c).pipe($l(),(0,qn.b)(f=>{if(!Kn(f))return;const _=Dd(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw _.url=f,_}),(0,wt.U)(f=>!0===f))}lineralizeSegments(t,e){let r=[],a=e.root;for(;;){if(r=r.concat(a.segments),0===a.numberOfChildren)return(0,Ge.of)(r);if(a.numberOfChildren>1||!a.children[ft])return K_(t.redirectTo);a=a.children[ft]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,a){const c=this.createSegmentGroup(t,e.root,r,a);return new Ll(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Fn(t,(a,c)=>{if("string"==typeof a&&a.startsWith(":")){const _=a.substring(1);r[c]=e[_]}else r[c]=a}),r}createSegmentGroup(t,e,r,a){const c=this.createSegments(t,e.segments,r,a);let f={};return Fn(e.children,(_,b)=>{f[b]=this.createSegmentGroup(t,_,r,a)}),new Ot(c,f)}createSegments(t,e,r,a){return e.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,a):this.findOrReturn(c,r))}findPosParam(t,e,r){const a=r[e.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return a}findOrReturn(t,e){let r=0;for(const a of e){if(a.path===t.path)return e.splice(r),a;r++}return t}}function M(n){const t={};for(const r of Object.keys(n.children)){const c=M(n.children[r]);(c.segments.length>0||c.hasChildren())&&(t[r]=c)}return function(n){if(1===n.numberOfChildren&&n.children[ft]){const t=n.children[ft];return new Ot(n.segments.concat(t.segments),t.children)}return n}(new Ot(n.segments,t))}class J{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class me{constructor(t,e){this.component=t,this.route=e}}function Be(n,t,e){const r=n._root;return wn(r,t?t._root:null,e,[r.value])}function at(n,t,e){const r=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function wn(n,t,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=il(t);return n.children.forEach(f=>{(function(n,t,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,f=t?t.value:null,_=e?e.getContext(n.value.outlet):null;if(f&&c.routeConfig===f.routeConfig){const b=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!nl(n.url,t.url);case"pathParamsOrQueryParamsChange":return!nl(n.url,t.url)||!oi(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ou(n,t)||!oi(n.queryParams,t.queryParams);case"paramsChange":default:return!ou(n,t)}}(f,c,c.routeConfig.runGuardsAndResolvers);b?a.canActivateChecks.push(new J(r)):(c.data=f.data,c._resolvedData=f._resolvedData),wn(n,t,c.component?_?_.children:null:e,r,a),b&&_&&_.outlet&&_.outlet.isActivated&&a.canDeactivateChecks.push(new me(_.outlet.component,f))}else f&&Yl(t,_,a),a.canActivateChecks.push(new J(r)),wn(n,null,c.component?_?_.children:null:e,r,a)})(f,c[f.value.outlet],e,r.concat([f.value]),a),delete c[f.value.outlet]}),Fn(c,(f,_)=>Yl(f,e.getContext(_),a)),a}function Yl(n,t,e){const r=il(n),a=n.value;Fn(r,(c,f)=>{Yl(c,a.component?t?t.children.getContext(f):null:t,e)}),e.canDeactivateChecks.push(new me(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}class wf{}function Zl(n){return new sn.y(t=>t.error(n))}class aC{constructor(t,e,r,a,c,f){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=f}recognize(){const t=ol(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,ft);if(null===e)return null;const r=new Ad([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ft,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new uo(r,e),c=new Ul(this.url,a);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(t){const e=t.value,r=yg(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const c of Object.keys(e.children)){const f=e.children[c],_=Ag(t,c),b=this.processSegmentGroup(_,f,c);if(null===b)return null;r.push(...b)}const a=Pg(r);return a.sort((t,e)=>t.value.outlet===ft?-1:e.value.outlet===ft?1:t.value.outlet.localeCompare(e.value.outlet)),a}processSegment(t,e,r,a){for(const c of t){const f=this.processSegmentAgainstRoute(c,e,r,a);if(null!==f)return f}return Mg(e,r,a)?[]:null}processSegmentAgainstRoute(t,e,r,a){if(t.redirectTo||!Ld(t,e,r,a))return null;let c,f=[],_=[];if("**"===t.path){const Y=r.length>0?Xa(r).parameters:{};c=new Ad(r,Y,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,uu(t),ai(t),t.component,t,X_(e),tS(e)+r.length,kg(t))}else{const Y=ur(e,t,r);if(!Y.matched)return null;f=Y.consumedSegments,_=r.slice(Y.lastChild),c=new Ad(f,Y.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,uu(t),ai(t),t.component,t,X_(e),tS(e)+f.length,kg(t))}const b=(n=t).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:w,slicedSegments:O}=ol(e,f,_,b.filter(Y=>void 0===Y.redirectTo),this.relativeLinkResolution);var n;if(0===O.length&&w.hasChildren()){const Y=this.processChildren(b,w);return null===Y?null:[new uo(c,Y)]}if(0===b.length&&0===O.length)return[new uo(c,[])];const x=ai(t)===a,z=this.processSegment(b,w,O,x?ft:a);return null===z?null:[new uo(c,z)]}}function cC(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Pg(n){const t=[],e=new Set;for(const r of n){if(!cC(r)){t.push(r);continue}const a=t.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==a?(a.children.push(...r.children),e.add(a)):t.push(r)}for(const r of e){const a=Pg(r.children);t.push(new uo(r.value,a))}return t.filter(r=>!e.has(r))}function X_(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function tS(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function uu(n){return n.data||{}}function kg(n){return n.resolve||{}}function ty(n){return Yn(t=>{const e=n(t);return e?(0,yn.D)(e).pipe((0,wt.U)(()=>t)):(0,Ge.of)(t)})}class aS extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Ng=new u.OlP("ROUTES");class Fg{constructor(t,e,r,a){this.loader=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=a}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const a=this.loadModuleFactory(e.loadChildren).pipe((0,wt.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e);const f=c.create(t);return new _f(V_(f.injector.get(Ng,void 0,u.XFs.Self|u.XFs.Optional)).map(yf),f)}),As(c=>{throw e._loader$=void 0,c}));return e._loader$=new _d.c(a,()=>new ht.xQ).pipe((0,Ji.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,yn.D)(this.loader.load(t)):cr(t()).pipe((0,Xt.zg)(e=>e instanceof u.YKP?(0,Ge.of)(e):(0,yn.D)(this.compiler.compileModuleAsync(e))))}}class hC{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ql,this.attachRef=null}}class ql{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new hC,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class cS{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function fC(n){throw n}function pC(n,t,e){return t.parse("/")}function Kl(n,t){return(0,Ge.of)(null)}const gC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zr=(()=>{class n{constructor(e,r,a,c,f,_,b,w){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=a,this.location=c,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ht.xQ,this.errorHandler=fC,this.malformedUriErrorHandler=pC,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Kl,afterPreactivation:Kl},this.urlHandlingStrategy=new cS,this.routeReuseStrategy=new aS,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(u.h0i),this.console=f.get(u.c2e);const z=f.get(u.R0b);this.isNgZoneEnabled=z instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=new Ll(new Ot([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Fg(_,b,Y=>this.triggerEvent(new Rr(Y)),Y=>this.triggerEvent(new Nn(Y))),this.routerState=_g(this.currentUrlTree,this.rootComponentType),this.transitions=new Wn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(Zn(a=>0!==a.id),(0,wt.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Yn(a=>{let c=!1,f=!1;return(0,Ge.of)(a).pipe((0,qn.b)(_=>{this.currentNavigation={id:_.id,initialUrl:_.currentRawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Yn(_=>{const b=this.browserUrlTree.toString(),w=!this.navigated||_.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return Vg(_.source)&&(this.browserUrlTree=_.extractedUrl),(0,Ge.of)(_).pipe(Yn(x=>{const z=this.transitions.getValue();return r.next(new U(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),z!==this.transitions.getValue()?Di.E:Promise.resolve(x)}),function(n,t,e,r){return Yn(a=>function(n,t,e,r,a){return new g(n,t,e,r,a).apply()}(n,t,e,a.extractedUrl,r).pipe((0,wt.U)(c=>Object.assign(Object.assign({},a),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,qn.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function(n,t,e,r,a){return(0,Xt.zg)(c=>function(n,t,e,r,a="emptyOnly",c="legacy"){try{const f=new aC(n,t,e,r,a,c).recognize();return null===f?Zl(new wf):(0,Ge.of)(f)}catch(f){return Zl(f)}}(n,t,c.urlAfterRedirects,e(c.urlAfterRedirects),r,a).pipe((0,wt.U)(f=>Object.assign(Object.assign({},c),{targetSnapshot:f}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,qn.b)(x=>{"eager"===this.urlUpdateStrategy&&(x.extras.skipLocationChange||this.setBrowserUrl(x.urlAfterRedirects,x),this.browserUrlTree=x.urlAfterRedirects);const z=new He(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);r.next(z)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:z,extractedUrl:Y,source:ae,restoredState:Re,extras:Ve}=_,qe=new U(z,this.serializeUrl(Y),ae,Re);r.next(qe);const rt=_g(Y,this.rootComponentType).snapshot;return(0,Ge.of)(Object.assign(Object.assign({},_),{targetSnapshot:rt,urlAfterRedirects:Y,extras:Object.assign(Object.assign({},Ve),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=_.rawUrl,this.browserUrlTree=_.urlAfterRedirects,_.resolve(null),Di.E}),ty(_=>{const{targetSnapshot:b,id:w,extractedUrl:O,rawUrl:x,extras:{skipLocationChange:z,replaceUrl:Y}}=_;return this.hooks.beforePreactivation(b,{navigationId:w,appliedUrlTree:O,rawUrlTree:x,skipLocationChange:!!z,replaceUrl:!!Y})}),(0,qn.b)(_=>{const b=new $e(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}),(0,wt.U)(_=>Object.assign(Object.assign({},_),{guards:Be(_.targetSnapshot,_.currentSnapshot,this.rootContexts)})),function(n,t){return(0,Xt.zg)(e=>{const{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:c,canDeactivateChecks:f}}=e;return 0===f.length&&0===c.length?(0,Ge.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,r){return(0,yn.D)(n).pipe((0,Xt.zg)(a=>function(n,t,e,r,a){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,Ge.of)(!0);const f=c.map(_=>{const b=at(_,t,a);let w;if(function(n){return n&&xs(n.canDeactivate)}(b))w=cr(b.canDeactivate(n,t,e,r));else{if(!xs(b))throw new Error("Invalid CanDeactivate guard");w=cr(b(n,t,e,r))}return w.pipe(bn())});return(0,Ge.of)(f).pipe($l())}(a.component,a.route,e,t,r)),bn(a=>!0!==a,!0))}(f,r,a,n).pipe((0,Xt.zg)(_=>_&&function(n){return"boolean"==typeof n}(_)?function(n,t,e,r){return(0,yn.D)(t).pipe(Qo(a=>ro(function(n,t){return null!==n&&t&&t(new Jo(n)),(0,Ge.of)(!0)}(a.route.parent,r),function(n,t){return null!==n&&t&&t(new Xo(n)),(0,Ge.of)(!0)}(a.route,r),function(n,t,e){const r=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(f=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(f)).filter(f=>null!==f).map(f=>ri(()=>{const _=f.guards.map(b=>{const w=at(b,f.node,e);let O;if(function(n){return n&&xs(n.canActivateChild)}(w))O=cr(w.canActivateChild(r,n));else{if(!xs(w))throw new Error("Invalid CanActivateChild guard");O=cr(w(r,n))}return O.pipe(bn())});return(0,Ge.of)(_).pipe($l())}));return(0,Ge.of)(c).pipe($l())}(n,a.path,e),function(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Ge.of)(!0);const a=r.map(c=>ri(()=>{const f=at(c,t,e);let _;if(function(n){return n&&xs(n.canActivate)}(f))_=cr(f.canActivate(t,n));else{if(!xs(f))throw new Error("Invalid CanActivate guard");_=cr(f(t,n))}return _.pipe(bn())}));return(0,Ge.of)(a).pipe($l())}(n,a.route,e))),bn(a=>!0!==a,!0))}(r,c,n,t):(0,Ge.of)(_)),(0,wt.U)(_=>Object.assign(Object.assign({},e),{guardsResult:_})))})}(this.ngModule.injector,_=>this.triggerEvent(_)),(0,qn.b)(_=>{if(Kn(_.guardsResult)){const w=Dd(`Redirecting to "${this.serializeUrl(_.guardsResult)}"`);throw w.url=_.guardsResult,w}const b=new Mt(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.triggerEvent(b)}),Zn(_=>!!_.guardsResult||(this.restoreHistory(_),this.cancelNavigationTransition(_,""),!1)),ty(_=>{if(_.guards.canActivateChecks.length)return(0,Ge.of)(_).pipe((0,qn.b)(b=>{const w=new zt(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(w)}),Yn(b=>{let w=!1;return(0,Ge.of)(b).pipe(function(n,t){return(0,Xt.zg)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:a}}=e;if(!a.length)return(0,Ge.of)(e);let c=0;return(0,yn.D)(a).pipe(Qo(f=>function(n,t,e,r){return function(n,t,e,r){const a=Object.keys(n);if(0===a.length)return(0,Ge.of)({});const c={};return(0,yn.D)(a).pipe((0,Xt.zg)(f=>function(n,t,e,r){const a=at(n,t,r);return cr(a.resolve?a.resolve(t,e):a(t,e))}(n[f],t,e,r).pipe((0,qn.b)(_=>{c[f]=_}))),bd(1),(0,Xt.zg)(()=>Object.keys(c).length===a.length?(0,Ge.of)(c):Di.E))}(n._resolve,n,t,r).pipe((0,wt.U)(c=>(n._resolvedData=c,n.data=Object.assign(Object.assign({},n.data),yg(n,e).resolve),null)))}(f.route,r,n,t)),(0,qn.b)(()=>c++),bd(1),(0,Xt.zg)(f=>c===a.length?(0,Ge.of)(e):Di.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,qn.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,qn.b)(b=>{const w=new Cn(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(w)}))}),ty(_=>{const{targetSnapshot:b,id:w,extractedUrl:O,rawUrl:x,extras:{skipLocationChange:z,replaceUrl:Y}}=_;return this.hooks.afterPreactivation(b,{navigationId:w,appliedUrlTree:O,rawUrlTree:x,skipLocationChange:!!z,replaceUrl:!!Y})}),(0,wt.U)(_=>{const b=function(n,t,e){const r=au(n,t._root,e?e._root:void 0);return new uf(r,t)}(this.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return Object.assign(Object.assign({},_),{targetRouterState:b})}),(0,qn.b)(_=>{this.currentUrlTree=_.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl),this.routerState=_.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_),this.browserUrlTree=_.urlAfterRedirects)}),((n,t,e)=>(0,wt.U)(r=>(new Pd(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,_=>this.triggerEvent(_)),(0,qn.b)({next(){c=!0},complete(){c=!0}}),function(n){return t=>t.lift(new D(n))}(()=>{var _;if(!c&&!f){const b=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,b)):this.cancelNavigationTransition(a,b)}(null===(_=this.currentNavigation)||void 0===_?void 0:_.id)===a.id&&(this.currentNavigation=null)}),As(_=>{if(f=!0,function(n){return n&&n[wd]}(_)){const b=Kn(_.url);b||(this.navigated=!0,this.restoreHistory(a,!0));const w=new pe(a.id,this.serializeUrl(a.extractedUrl),_.message);r.next(w),b?setTimeout(()=>{const O=this.urlHandlingStrategy.merge(_.url,this.rawUrlTree),x={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Vg(a.source)};this.scheduleNavigation(O,"imperative",null,x,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const b=new xe(a.id,this.serializeUrl(a.extractedUrl),_);r.next(b);try{a.resolve(this.errorHandler(_))}catch(w){a.reject(w)}}return Di.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:a,state:c,urlTree:f}=r,_={replaceUrl:!0};if(c){const b=Object.assign({},c);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(_.state=b)}this.scheduleNavigation(f,a,c,_)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(e){var r;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,r){if(!e)return!0;const a=r.urlTree.toString()===e.urlTree.toString();return r.transitionId!==e.transitionId||!a||!("hashchange"===r.source&&"popstate"===e.source||"popstate"===r.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Gl(e),this.config=e.map(yf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:a,queryParams:c,fragment:f,queryParamsHandling:_,preserveFragment:b}=r,w=a||this.routerState.root,O=b?this.currentUrlTree.fragment:f;let x=null;switch(_){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=c||null}return null!==x&&(x=this.removeEmptyProps(x)),function(n,t,e,r,a){if(0===e.length)return Eg(t.root,t.root,t,r,a);const c=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ff(!0,0,n);let t=0,e=!1;const r=n.reduce((a,c,f)=>{if("object"==typeof c&&null!=c){if(c.outlets){const _={};return Fn(c.outlets,(b,w)=>{_[w]="string"==typeof b?b.split("/"):b}),[...a,{outlets:_}]}if(c.segmentPath)return[...a,c.segmentPath]}return"string"!=typeof c?[...a,c]:0===f?(c.split("/").forEach((_,b)=>{0==b&&"."===_||(0==b&&""===_?e=!0:".."===_?t++:""!=_&&a.push(_))}),a):[...a,c]},[]);return new ff(e,t,r)}(e);if(c.toRoot())return Eg(t.root,new Ot([],{}),t,r,a);const f=function(n,t,e){if(n.isAbsolute)return new pf(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const c=e.snapshot._urlSegment;return new pf(c,c===t.root,0)}const r=jl(n.commands[0])?0:1;return function(n,t,e){let r=n,a=t,c=e;for(;c>a;){if(c-=a,r=r.parent,!r)throw new Error("Invalid number of '../'");a=r.segments.length}return new pf(r,!1,a-c)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(c,t,n),_=f.processChildren?lu(f.segmentGroup,f.index,c.commands):na(f.segmentGroup,f.index,c.commands);return Eg(f.segmentGroup,_,t,r,a)}(w,this.currentUrlTree,e,x,null!=O?O:null)}navigateByUrl(e,r={skipLocationChange:!1}){const a=Kn(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return r}isActive(e,r){let a;if(a=!0===r?Object.assign({},gC):!1===r?Object.assign({},mC):r,Kn(e))return Jc(this.currentUrlTree,e,a);const c=this.parseUrl(e);return Jc(this.currentUrlTree,c,a)}removeEmptyProps(e){return Object.keys(e).reduce((r,a)=>{const c=e[a];return null!=c&&(r[a]=c),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new te(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,a,c,f){var _,b;if(this.disposed)return Promise.resolve(!1);const w=this.getTransition(),O=Vg(r)&&w&&!Vg(w.source),Y=(this.lastSuccessfulId===w.id||this.currentNavigation?w.rawUrl:w.urlAfterRedirects).toString()===e.toString();if(O&&Y)return Promise.resolve(!0);let ae,Re,Ve;f?(ae=f.resolve,Re=f.reject,Ve=f.promise):Ve=new Promise((Nt,vt)=>{ae=Nt,Re=vt});const qe=++this.navigationId;let rt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),rt=a&&a.\u0275routerPageId?a.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(_=this.browserPageId)&&void 0!==_?_:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):rt=0,this.setTransition({id:qe,targetPageId:rt,source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:ae,reject:Re,promise:Ve,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ve.catch(Nt=>Promise.reject(Nt))}setBrowserUrl(e,r){const a=this.urlSerializer.serialize(e),c=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl?this.location.replaceState(a,"",c):this.location.go(a,"",c)}restoreHistory(e,r=!1){var a,c;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===f?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===f&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const a=new pe(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.DyG),u.LFG(sf),u.LFG(ql),u.LFG(Xe),u.LFG(u.zs3),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(void 0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Vg(n){return"imperative"!==n}let Sf=(()=>{class n{constructor(e,r,a,c,f){this.parentContexts=e,this.location=r,this.resolver=a,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.name=c||ft,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const f=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),_=this.parentContexts.getOrCreateContext(this.name).children,b=new jg(e,_,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(ql),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class jg{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Bl?this.route:t===ql?this.childContexts:this.parent.get(t,e)}}class ry{}class sy{preload(t,e){return(0,Ge.of)(null)}}let Hg=(()=>{class n{constructor(e,r,a,c,f){this.router=e,this.injector=c,this.preloadingStrategy=f,this.loader=new Fg(r,a,w=>e.triggerEvent(new Rr(w)),w=>e.triggerEvent(new Nn(w)))}setUpPreloading(){this.subscription=this.router.events.pipe(Zn(e=>e instanceof te),Qo(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(u.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const a=[];for(const c of r)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const f=c._loadedConfig;a.push(this.processRoutes(f.module,f.routes))}else c.loadChildren&&!c.canLoad?a.push(this.preloadConfig(e,c)):c.children&&a.push(this.processRoutes(e,c.children));return(0,yn.D)(a).pipe((0,$r.J)(),(0,wt.U)(c=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,Ge.of)(r._loadedConfig):this.loader.load(e.injector,r)).pipe((0,Xt.zg)(c=>(r._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(zr),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(ry))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),hu=(()=>{class n{constructor(e,r,a={}){this.router=e,this.viewportScroller=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof U?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof te&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof xr&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new xr(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(zr),u.LFG(qs),u.LFG(void 0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ql=new u.OlP("ROUTER_CONFIGURATION"),yC=new u.OlP("ROUTER_FORROOT_GUARD"),vC=[Xe,{provide:sf,useClass:Vl},{provide:zr,useFactory:function(n,t,e,r,a,c,f,_={},b,w){const O=new zr(null,n,t,e,r,a,c,V_(f));return b&&(O.urlHandlingStrategy=b),w&&(O.routeReuseStrategy=w),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy)}(_,O),_.enableTracing&&O.events.subscribe(x=>{var z,Y;null===(z=console.group)||void 0===z||z.call(console,`Router Event: ${x.constructor.name}`),console.log(x.toString()),console.log(x),null===(Y=console.groupEnd)||void 0===Y||Y.call(console)}),O},deps:[sf,ql,Xe,u.zs3,u.v3s,u.Sil,Ng,Ql,[class{},new u.FiY],[class{},new u.FiY]]},ql,{provide:Bl,useFactory:function(n){return n.routerState.root},deps:[zr]},{provide:u.v3s,useClass:u.EAV},Hg,sy,class{preload(t,e){return e().pipe(As(()=>(0,Ge.of)(null)))}},{provide:Ql,useValue:{enableTracing:!1}}];function oy(){return new u.PXZ("Router",zr)}let ay=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[vC,ly(e),{provide:yC,useFactory:dS,deps:[[zr,new u.FiY,new u.tp0]]},{provide:Ql,useValue:r||{}},{provide:_e,useFactory:bC,deps:[Q,[new u.tBr(we),new u.FiY],Ql]},{provide:hu,useFactory:$O,deps:[zr,qs,Ql]},{provide:ry,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:sy},{provide:u.PXZ,multi:!0,useFactory:oy},[cy,{provide:u.ip1,multi:!0,useFactory:CC,deps:[cy]},{provide:EC,useFactory:pS,deps:[cy]},{provide:u.tb,multi:!0,useExisting:EC}]]}}static forChild(e){return{ngModule:n,providers:[ly(e)]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(yC,8),u.LFG(zr,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function $O(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new hu(n,t,e)}function bC(n,t,e={}){return e.useHash?new Fe(n,t):new Ne(n,t)}function dS(n){return"guarded"}function ly(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:Ng,multi:!0,useValue:n}]}let cy=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ht.xQ}appInitializer(){return this.injector.get(F,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const a=new Promise(_=>r=_),c=this.injector.get(zr),f=this.injector.get(Ql);return"disabled"===f.initialNavigation?(c.setUpLocationChangeListener(),r(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?(0,Ge.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),c.initialNavigation()):r(!0),a})}bootstrapListener(e){const r=this.injector.get(Ql),a=this.injector.get(Hg),c=this.injector.get(hu),f=this.injector.get(zr),_=this.injector.get(u.z2F);e===_.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&f.initialNavigation(),a.setUpPreloading(),c.init(),f.resetRootComponentType(_.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function CC(n){return n.appInitializer.bind(n)}function pS(n){return n.bootstrapListener.bind(n)}const EC=new u.OlP("Router Initializer"),wC=[];let mS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[ay.forRoot(wC)],ay]}),n})();var $g=V(3637),Gg=V(6682),Ct=V(8819);function zg(n,t){return e=>e.lift(new DC(n,t))}class DC{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Wg(t,this.compare,this.keySelector))}}class Wg extends vn.L{constructor(t,e,r){super(t),this.keySelector=r,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:a}=this;e=a?a(t):t}catch(a){return this.destination.error(a)}let r=!1;if(this.hasKey)try{const{compare:a}=this;r=a(this.key,e)}catch(a){return this.destination.error(a)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}class SC{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new _S(t,this.observables,this.project))}}class _S extends xl{constructor(t,e,r){super(t),this.observables=e,this.project=r,this.toRespond=[];const a=e.length;this.values=new Array(a);for(let c=0;c<a;c++)this.toRespond.push(c);for(let c=0;c<a;c++)this.add(gd(this,e[c],void 0,c))}notifyNext(t,e,r){this.values[r]=e;const a=this.toRespond;if(a.length>0){const c=a.indexOf(r);-1!==c&&a.splice(c,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}class ul{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new dy(t,this.predicate))}}class dy extends vn.L{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}var ns=V(4784),rs=V(8939),TC=(V(1352),V(3394)),Bd=V(3910),li=V(8239),ia=V(8026),B=V(3854),Ud=V(5422);const yS="@firebase/database";let Yg="";function vS(n){Yg=n}class bS{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,B.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,B.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class zO{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,B.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const hy=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new bS(t)}}catch(t){}return new zO},Jl=hy("localStorage"),fy=hy("sessionStorage"),Xl=new Ud.Yd("@firebase/database"),CS=function(){let n=1;return function(){return n++}}(),ES=function(n){const t=(0,B.dS)(n),e=new B.gQ;e.update(t);const r=e.digest();return B.US.encodeByteArray(r)},Zg=function(...n){let t="";for(let e=0;e<n.length;e++){const r=n[e];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=Zg.apply(null,r):t+="object"==typeof r?(0,B.Pz)(r):r,t+=" "}return t};let jd=null,wS=!0;const DS=function(n,t){(0,B.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Xl.logLevel=Ud.in.VERBOSE,jd=Xl.log.bind(Xl),t&&fy.set("logging_enabled",!0)):"function"==typeof n?jd=n:(jd=null,fy.remove("logging_enabled"))},kr=function(...n){if(!0===wS&&(wS=!1,null===jd&&!0===fy.get("logging_enabled")&&DS(!0)),jd){const t=Zg.apply(null,n);jd(t)}},qg=function(n){return function(...t){kr(n,...t)}},AC=function(...n){const t="FIREBASE INTERNAL ERROR: "+Zg(...n);Xl.error(t)},dl=function(...n){const t=`FIREBASE FATAL ERROR: ${Zg(...n)}`;throw Xl.error(t),new Error(t)},Ai=function(...n){const t="FIREBASE WARNING: "+Zg(...n);Xl.warn(t)},Hd=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},sa="[MIN_NAME]",ks="[MAX_NAME]",tc=function(n,t){if(n===t)return 0;if(n===sa||t===ks)return-1;if(t===sa||n===ks)return 1;{const e=hl(n),r=hl(t);return null!==e?null!==r?e-r==0?n.length-t.length:e-r:-1:null!==r?1:n<t?-1:1}},py=function(n,t){return n===t?0:n<t?-1:1},Tf=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,B.Pz)(t))},oa=function(n){if("object"!=typeof n||null===n)return(0,B.Pz)(n);const t=[];for(const r in n)t.push(r);t.sort();let e="{";for(let r=0;r<t.length;r++)0!==r&&(e+=","),e+=(0,B.Pz)(t[r]),e+=":",e+=oa(n[t[r]]);return e+="}",e},gy=function(n,t){const e=n.length;if(e<=t)return[n];const r=[];for(let a=0;a<e;a+=t)r.push(n.substring(a,a+t>e?e:a+t));return r};function vr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const TS=function(n){(0,B.hu)(!Hd(n),"Invalid JSON number");const r=1023;let a,c,f,_,b;0===n?(c=0,f=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(_=Math.min(Math.floor(Math.log(n)/Math.LN2),r),c=_+r,f=Math.round(n*Math.pow(2,52-_)-Math.pow(2,52))):(c=0,f=Math.round(n/Math.pow(2,-1074))));const w=[];for(b=52;b;b-=1)w.push(f%2?1:0),f=Math.floor(f/2);for(b=11;b;b-=1)w.push(c%2?1:0),c=Math.floor(c/2);w.push(a?1:0),w.reverse();const O=w.join("");let x="";for(b=0;b<64;b+=8){let z=parseInt(O.substr(b,8),2).toString(16);1===z.length&&(z="0"+z),x+=z}return x.toLowerCase()},AS=new RegExp("^-?(0*)\\d{1,10}$"),OC=-2147483648,fu=2147483647,hl=function(n){if(AS.test(n)){const t=Number(n);if(t>=OC&&t<=fu)return t}return null},nc=function(n){try{n()}catch(t){setTimeout(()=>{throw Ai("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},fl=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class Gd{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Ai(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class MS{constructor(t,e,r){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(kr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ai(t)}}let zd=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const RC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,vy="websocket",xC="long_polling";class Xg{constructor(t,e,r,a,c=!1,f="",_=!1){this.secure=e,this.namespace=r,this.webSocketOnly=a,this.nodeAdmin=c,this.persistenceKey=f,this.includeNamespaceInQueryParams=_,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Jl.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Jl.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function PC(n,t,e){let r;if((0,B.hu)("string"==typeof t,"typeof type must == string"),(0,B.hu)("object"==typeof e,"typeof params must == object"),t===vy)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==xC)throw new Error("Unknown connection type: "+t);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const a=[];return vr(e,(c,f)=>{a.push(c+"="+f)}),r+a.join("&")}class is{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,B.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,B.p$)(this.counters_)}}const by={},Cy={};function kC(n){const t=n.toString();return by[t]||(by[t]=new is),by[t]}class NC{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<r.length;++a)r[a]&&nc(()=>{this.onMessage_(r[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Wd{constructor(t,e,r,a,c,f,_){this.connId=t,this.repoInfo=e,this.applicationId=r,this.appCheckToken=a,this.authToken=c,this.transportSessionId=f,this.lastSessionId=_,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=qg(t),this.stats_=kC(e),this.urlFn=b=>(this.appCheckToken&&(b.ac=this.appCheckToken),PC(e,xC,b))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new NC(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,B.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ty((...c)=>{const[f,_,b,w,O]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===f)this.id=_,this.password=b;else{if("close"!==f)throw new Error("Unrecognized command received: "+f);_?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(_,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[f,_]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(f,_)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&RC.test(location.hostname)&&(r.r="f");const a=this.urlFn(r);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wd.forceAllow_=!0}static forceDisallow(){Wd.forceDisallow_=!0}static isAvailable(){return!((0,B.Yr)()||!Wd.forceAllow_&&(Wd.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,B.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const r=(0,B.h$)(e),a=gy(r,1840);for(let c=0;c<a.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[c]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,B.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,B.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Ty{constructor(t,e,r,a){if(this.onDisconnect=r,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,B.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=CS(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Ty.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(_){kr("frame writing exception"),_.stack&&kr(_.stack),kr(_)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||kr("No IE domain setting required")}catch(e){const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),r="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const f=this.pendingSegs.shift();r=r+"&seg"+a+"="+f.seg+"&ts"+a+"="+f.ts+"&d"+a+"="+f.d,a++}return e+=r,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,r){this.pendingSegs.push({seg:t,ts:e,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const r=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),r()})}addTag(t,e){(0,B.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const a=r.readyState;(!a||"loaded"===a||"complete"===a)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=()=>{kr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let Mf=null;"undefined"!=typeof MozWebSocket?Mf=MozWebSocket:"undefined"!=typeof WebSocket&&(Mf=WebSocket);let Of=(()=>{class n{constructor(e,r,a,c,f,_,b){this.connId=e,this.applicationId=a,this.appCheckToken=c,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=qg(this.connId),this.stats_=kC(r),this.connURL=n.connectionURL_(r,_,b,c),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,a,c){const f={v:"5"};return!(0,B.Yr)()&&"undefined"!=typeof location&&location.hostname&&RC.test(location.hostname)&&(f.r="f"),r&&(f.s=r),a&&(f.ls=a),c&&(f.ac=c),PC(e,vy,f)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Jl.set("previous_websocket_failure",!0);try{if((0,B.Yr)()){const c={headers:{"User-Agent":`Firebase/5/${Yg}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(c.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(c.headers["X-Firebase-AppCheck"]=this.appCheckToken);const f=process.env,_=0===this.connURL.indexOf("wss://")?f.HTTPS_PROXY||f.https_proxy:f.HTTP_PROXY||f.http_proxy;_&&(c.proxy={origin:_}),this.mySock=new Mf(this.connURL,[],c)}else this.mySock=new Mf(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(a){this.log_("Error instantiating WebSocket.");const c=a.message||a.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const c=a.message||a.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==Mf&&!n.forceDisallow_}static previouslyFailed(){return Jl.isInMemoryStorage||!0===Jl.get("previous_websocket_failure")}markConnectionHealthy(){Jl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const a=(0,B.cI)(r);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,B.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const a=this.extractFrameCount_(r);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const r=(0,B.Pz)(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const a=gy(r,16384);a.length>1&&this.sendString_(String(a.length));for(let c=0;c<a.length;c++)this.sendString_(a[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class Iy{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Wd,Of]}initTransports_(t){const e=Of&&Of.isAvailable();let r=e&&!Of.previouslyFailed();if(t.webSocketOnly&&(e||Ai("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Of];else{const a=this.transports_=[];for(const c of Iy.ALL_TRANSPORTS)c&&c.isAvailable()&&a.push(c)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class Oy{constructor(t,e,r,a,c,f,_,b,w,O){this.id=t,this.repoInfo_=e,this.applicationId_=r,this.appCheckToken_=a,this.authToken_=c,this.onMessage_=f,this.onReady_=_,this.onDisconnect_=b,this.onKill_=w,this.lastSessionId=O,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=qg("c:"+this.id+":"),this.transportManager_=new Iy(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,r)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=fl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Tf("t",t),r=Tf("d",t);if("c"===e)this.onSecondaryControl_(r);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Tf("t",t),r=Tf("d",t);"c"===e?this.onControl_(r):"d"===e&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Tf("t",t);if("d"in t){const r=t.d;if("h"===e)this.onHandshake_(r);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(r):"r"===e?this.onReset_(r):"e"===e?AC("Server Error: "+r):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):AC("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,r=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==r&&Ai("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,r),fl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Jl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ry{put(t,e,r,a){}merge(t,e,r,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,r){}onDisconnectMerge(t,e,r){}onDisconnectCancel(t,e){}reportStats(t){}}class xy{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,B.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let a=0;a<r.length;a++)r[a].callback.apply(r[a].context,e)}}on(t,e,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:r});const a=this.getInitialEvent(t);a&&e.apply(r,a)}off(t,e,r){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let c=0;c<a.length;c++)if(a[c].callback===e&&(!r||r===a[c].context))return void a.splice(c,1)}validateEventType_(t){(0,B.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class xf extends xy{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,B.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new xf}getInitialEvent(t){return(0,B.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Gt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let r=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[r]=this.pieces_[a],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Wt(){return new Gt("")}function Pt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function pu(n){return n.pieces_.length-n.pieceNum_}function Yt(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Gt(n.pieces_,t)}function rm(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function pl(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function YC(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Gt(t,0)}function pn(n,t){const e=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)e.push(n.pieces_[r]);if(t instanceof Gt)for(let r=t.pieceNum_;r<t.pieces_.length;r++)e.push(t.pieces_[r]);else{const r=t.split("/");for(let a=0;a<r.length;a++)r[a].length>0&&e.push(r[a])}return new Gt(e,0)}function xt(n){return n.pieceNum_>=n.pieces_.length}function ci(n,t){const e=Pt(n),r=Pt(t);if(null===e)return t;if(e===r)return ci(Yt(n),Yt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function ZC(n,t){const e=pl(n,0),r=pl(t,0);for(let a=0;a<e.length&&a<r.length;a++){const c=tc(e[a],r[a]);if(0!==c)return c}return e.length===r.length?0:e.length<r.length?-1:1}function ky(n,t){if(pu(n)!==pu(t))return!1;for(let e=n.pieceNum_,r=t.pieceNum_;e<=n.pieces_.length;e++,r++)if(n.pieces_[e]!==t.pieces_[r])return!1;return!0}function Mi(n,t){let e=n.pieceNum_,r=t.pieceNum_;if(pu(n)>pu(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[r])return!1;++e,++r}return!0}class jS{constructor(t,e){this.errorPrefix_=e,this.parts_=pl(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,B.ug)(this.parts_[r]);gu(this)}}function gu(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+rc(n))}function rc(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Ny extends xy{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Ny}getInitialEvent(t){return(0,B.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const kf=1e3;let Fy,ic=(()=>{class n extends Ry{constructor(e,r,a,c,f,_,b,w){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=a,this.onConnectStatus_=c,this.onServerInfoUpdate_=f,this.authTokenProvider_=_,this.appCheckTokenProvider_=b,this.authOverride_=w,this.id=n.nextPersistentConnectionId_++,this.log_=qg("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=kf,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,w&&!(0,B.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ny.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&xf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,a){const c=++this.requestNumber_,f={r:c,a:e,b:r};this.log_((0,B.Pz)(f)),(0,B.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),a&&(this.requestCBHash_[c]=a)}get(e){this.initConnection_();const r=new B.BH,a={p:e._path.toString(),q:e._queryObject},c={action:"g",request:a,onComplete:_=>{const b=_.d;"ok"===_.s?(this.onDataUpdate_(a.p,b,!1,null),r.resolve(b)):r.reject(b)}};this.outstandingGets_.push(c),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const _=this.outstandingGets_[f];void 0===_||c!==_||(delete this.outstandingGets_[f],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+f+" timed out on connection"),r.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(f),r.promise}listen(e,r,a,c){this.initConnection_();const f=e._queryIdentifier,_=e._path.toString();this.log_("Listen called for "+_+" "+f),this.listens.has(_)||this.listens.set(_,new Map),(0,B.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,B.hu)(!this.listens.get(_).has(f),"listen() called twice for same path/queryId.");const b={onComplete:c,hashFn:r,query:e,tag:a};this.listens.get(_).set(f,b),this.connected_&&this.sendListen_(b)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(a)})}sendListen_(e){const r=e.query,a=r._path.toString(),c=r._queryIdentifier;this.log_("Listen on "+a+" for "+c);const f={p:a};e.tag&&(f.q=r._queryObject,f.t=e.tag),f.h=e.hashFn(),this.sendRequest("q",f,b=>{const w=b.d,O=b.s;n.warnOnListenWarnings_(w,r),(this.listens.get(a)&&this.listens.get(a).get(c))===e&&(this.log_("listen response",b),"ok"!==O&&this.removeListen_(a,c),e.onComplete&&e.onComplete(O,w))})}static warnOnListenWarnings_(e,r){if(e&&"object"==typeof e&&(0,B.r3)(e,"w")){const a=(0,B.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const c='".indexOn": "'+r._queryParams.getIndex().toString()+'"',f=r._path.toString();Ai(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,B.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=(0,B.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(r,a,c=>{const f=c.s,_=c.d||"error";this.authToken_===e&&("ok"===f?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,_))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,a=e.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,a)})}unlisten(e,r){const a=e._path.toString(),c=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+c),(0,B.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,c)&&this.connected_&&this.sendUnlisten_(a,c,e._queryObject,r)}sendUnlisten_(e,r,a,c){this.log_("Unlisten on "+e+" for "+r);const f={p:e};c&&(f.q=a,f.t=c),this.sendRequest("n",f)}onDisconnectPut(e,r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:a})}onDisconnectMerge(e,r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:a})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,a,c){const f={p:r,d:a};this.log_("onDisconnect "+e,f),this.sendRequest(e,f,_=>{c&&setTimeout(()=>{c(_.s,_.d)},Math.floor(0))})}put(e,r,a,c){this.putInternal("p",e,r,a,c)}merge(e,r,a,c){this.putInternal("m",e,r,a,c)}putInternal(e,r,a,c,f){this.initConnection_();const _={p:r,d:a};void 0!==f&&(_.h=f),this.outstandingPuts_.push({action:e,request:_,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,c=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,a,f=>{this.log_(r+" response",f),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(f.s,f.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,B.Pz)(e));const r=e.r,a=this.requestCBHash_[r];a&&(delete this.requestCBHash_[r],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),"d"===e?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===e?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===e?this.onListenRevoked_(r.p,r.q):"ac"===e?this.onAuthRevoked_(r.s,r.d):"apc"===e?this.onAppCheckRevoked_(r.s,r.d):"sd"===e?this.onSecurityDebugPacket_(r):AC("Unrecognized action received from server: "+(0,B.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,B.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=kf,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=kf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=kf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,li.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const r=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),c=e.onRealtimeDisconnect_.bind(e),f=e.id+":"+n.nextConnectionId_++,_=e.lastSessionId;let b=!1,w=null;const O=function(){w?w.close():(b=!0,c())};e.realtime_={close:O,sendRequest:function(Y){(0,B.hu)(w,"sendRequest call when we're not connected not allowed."),w.sendRequest(Y)}};const z=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[Y,ae]=yield Promise.all([e.authTokenProvider_.getToken(z),e.appCheckTokenProvider_.getToken(z)]);b?kr("getToken() completed but was canceled"):(kr("getToken() completed. Creating connection."),e.authToken_=Y&&Y.accessToken,e.appCheckToken_=ae&&ae.token,w=new Oy(f,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,r,a,c,Re=>{Ai(Re+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},_))}catch(Y){e.log_("Failed to get token: "+Y),b||(e.repoInfo_.nodeAdmin&&Ai(Y),O())}}})()}interrupt(e){kr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){kr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,B.xb)(this.interruptReasons_)&&(this.reconnectDelay_=kf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let a;a=r?r.map(f=>oa(f)).join("$"):"default";const c=this.removeListen_(e,a);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(e,r){const a=new Gt(e).toString();let c;if(this.listens.has(a)){const f=this.listens.get(a);c=f.get(r),f.delete(r),0===f.size&&this.listens.delete(a)}else c=void 0;return c}onAuthRevoked_(e,r){kr("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){kr("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";(0,B.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+r+"."+Yg.replace(/\./g,"-")]=1,(0,B.uI)()?e["framework.cordova"]=1:(0,B.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=xf.getInstance().currentlyOnline();return(0,B.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Qe{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Qe(t,e)}}class Zd{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const r=new Qe(sa,t),a=new Qe(sa,e);return 0!==this.compare(r,a)}minPost(){return Qe.MIN}}class ca extends Zd{static get __EMPTY_NODE(){return Fy}static set __EMPTY_NODE(t){Fy=t}compare(t,e){return tc(t.name,e.name)}isDefinedOn(t){throw(0,B.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Qe.MIN}maxPost(){return new Qe(ks,Fy)}makePost(t,e){return(0,B.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Qe(t,Fy)}toString(){return".key"}}const Ns=new ca;class qd{constructor(t,e,r,a,c=null){this.isReverse_=a,this.resultGenerator_=c,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(t=t,f=e?r(t.key,e):1,a&&(f*=-1),f<0)t=this.isReverse_?t.left:t.right;else{if(0===f){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let sm,ua=(()=>{class n{constructor(e,r,a,c,f){this.key=e,this.value=r,this.color=null!=a?a:n.RED,this.left=null!=c?c:Oi.EMPTY_NODE,this.right=null!=f?f:Oi.EMPTY_NODE}copy(e,r,a,c,f){return new n(null!=e?e:this.key,null!=r?r:this.value,null!=a?a:this.color,null!=c?c:this.left,null!=f?f:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let c=this;const f=a(e,c.key);return c=f<0?c.copy(null,null,null,c.left.insert(e,r,a),null):0===f?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(e,r,a)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return Oi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let a,c;if(a=this,r(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===r(e,a.key)){if(a.right.isEmpty())return Oi.EMPTY_NODE;c=a.right.min_(),a=a.copy(c.key,c.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Oi{constructor(t,e=Oi.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Oi(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,ua.BLACK,null,null))}remove(t){return new Oi(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ua.BLACK,null,null))}get(t){let e,r=this.root_;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e)return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null}getPredecessorKey(t){let e,r=this.root_,a=null;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e){if(r.left.isEmpty())return a?a.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}e<0?r=r.left:e>0&&(a=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new qd(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new qd(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new qd(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new qd(this.root_,null,this.comparator_,!0,t)}}function JC(n,t){return tc(n.name,t.name)}function im(n,t){return tc(n,t)}Oi.EMPTY_NODE=new class{copy(t,e,r,a,c){return this}insert(t,e,r){return new ua(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const eE=function(n){return"number"==typeof n?"number:"+TS(n):"string:"+n},tE=function(n){if(n.isLeafNode()){const t=n.val();(0,B.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,B.r3)(t,".sv"),"Priority must be a string or number.")}else(0,B.hu)(n===sm||n.isEmpty(),"priority of unexpected type.");(0,B.hu)(n===sm||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Kd,Ly,Vy,sc=(()=>{class n{constructor(e,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,(0,B.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),tE(this.priorityNode_)}static set __childrenNodeConstructor(e){Kd=e}static get __childrenNodeConstructor(){return Kd}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return xt(e)?this:".priority"===Pt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return".priority"===e?this.updatePriority(r):r.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const a=Pt(e);return null===a?r:r.isEmpty()&&".priority"!==a?this:((0,B.hu)(".priority"!==a||1===pu(e),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Yt(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+eE(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",e+="number"===r?TS(this.value_):this.value_,this.lazyHash_=ES(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,B.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,a=typeof this.value_,c=n.VALUE_TYPE_ORDER.indexOf(r),f=n.VALUE_TYPE_ORDER.indexOf(a);return(0,B.hu)(c>=0,"Unknown leaf type: "+r),(0,B.hu)(f>=0,"Unknown leaf type: "+a),c===f?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:f-c}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const gn=new class extends Zd{compare(t,e){const r=t.node.getPriority(),a=e.node.getPriority(),c=r.compareTo(a);return 0===c?tc(t.name,e.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Qe.MIN}maxPost(){return new Qe(ks,new sc("[PRIORITY-POST]",Vy))}makePost(t,e){const r=Ly(t);return new Qe(e,new sc("[PRIORITY-POST]",r))}toString(){return".priority"}},ZS=Math.log(2);class qS{constructor(t){this.count=parseInt(Math.log(t+1)/ZS,10),this.current_=this.count-1;const a=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Nf=function(n,t,e,r){n.sort(t);const a=function(b,w){const O=w-b;let x,z;if(0===O)return null;if(1===O)return x=n[b],z=e?e(x):x,new ua(z,x.node,ua.BLACK,null,null);{const Y=parseInt(O/2,10)+b,ae=a(b,Y),Re=a(Y+1,w);return x=n[Y],z=e?e(x):x,new ua(z,x.node,ua.BLACK,ae,Re)}},_=function(b){let w=null,O=null,x=n.length;const z=function(ae,Re){const Ve=x-ae,qe=x;x-=ae;const rt=a(Ve+1,qe),Nt=n[Ve],vt=e?e(Nt):Nt;Y(new ua(vt,Nt.node,Re,null,rt))},Y=function(ae){w?(w.left=ae,w=ae):(O=ae,w=ae)};for(let ae=0;ae<b.count;++ae){const Re=b.nextBitIsOne(),Ve=Math.pow(2,b.count-(ae+1));Re?z(Ve,ua.BLACK):(z(Ve,ua.BLACK),z(Ve,ua.RED))}return O}(new qS(n.length));return new Oi(r||t,_)};let iE;const mu={};class gl{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,B.hu)(mu&&gn,"ChildrenNode.ts has not been loaded"),iE=iE||new gl({".priority":mu},{".priority":gn}),iE}get(t){const e=(0,B.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Oi?e:null}hasIndex(t){return(0,B.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,B.hu)(t!==Ns,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let a=!1;const c=e.getIterator(Qe.Wrap);let _,f=c.getNext();for(;f;)a=a||t.isDefinedOn(f.node),r.push(f),f=c.getNext();_=a?Nf(r,t.getCompare()):mu;const b=t.toString(),w=Object.assign({},this.indexSet_);w[b]=t;const O=Object.assign({},this.indexes_);return O[b]=_,new gl(O,w)}addToIndexes(t,e){const r=(0,B.UI)(this.indexes_,(a,c)=>{const f=(0,B.DV)(this.indexSet_,c);if((0,B.hu)(f,"Missing index implementation for "+c),a===mu){if(f.isDefinedOn(t.node)){const _=[],b=e.getIterator(Qe.Wrap);let w=b.getNext();for(;w;)w.name!==t.name&&_.push(w),w=b.getNext();return _.push(t),Nf(_,f.getCompare())}return mu}{const _=e.get(t.name);let b=a;return _&&(b=b.remove(new Qe(t.name,_))),b.insert(t,t.node)}});return new gl(r,this.indexSet_)}removeFromIndexes(t,e){const r=(0,B.UI)(this.indexes_,a=>{if(a===mu)return a;{const c=e.get(t.name);return c?a.remove(new Qe(t.name,c)):a}});return new gl(r,this.indexSet_)}}let Ff,At=(()=>{class n{constructor(e,r,a){this.children_=e,this.priorityNode_=r,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&tE(this.priorityNode_),this.children_.isEmpty()&&(0,B.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ff||(Ff=new n(new Oi(im),null,gl.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ff}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const r=this.children_.get(e);return null===r?Ff:r}}getChild(e){const r=Pt(e);return null===r?this:this.getImmediateChild(r).getChild(Yt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,r){if((0,B.hu)(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);{const a=new Qe(e,r);let c,f;r.isEmpty()?(c=this.children_.remove(e),f=this.indexMap_.removeFromIndexes(a,this.children_)):(c=this.children_.insert(e,r),f=this.indexMap_.addToIndexes(a,this.children_));const _=c.isEmpty()?Ff:this.priorityNode_;return new n(c,_,f)}}updateChild(e,r){const a=Pt(e);if(null===a)return r;{(0,B.hu)(".priority"!==Pt(e)||1===pu(e),".priority must be the last token in a path");const c=this.getImmediateChild(a).updateChild(Yt(e),r);return this.updateImmediateChild(a,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let a=0,c=0,f=!0;if(this.forEachChild(gn,(_,b)=>{r[_]=b.val(e),a++,f&&n.INTEGER_REGEXP_.test(_)?c=Math.max(c,Number(_)):f=!1}),!e&&f&&c<2*a){const _=[];for(const b in r)_[b]=r[b];return _}return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+eE(this.getPriority().val())+":"),this.forEachChild(gn,(r,a)=>{const c=a.hash();""!==c&&(e+=":"+r+":"+c)}),this.lazyHash_=""===e?"":ES(e)}return this.lazyHash_}getPredecessorChildName(e,r,a){const c=this.resolveIndex_(a);if(c){const f=c.getPredecessorKey(new Qe(e,r));return f?f.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const a=r.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new Qe(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const a=r.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new Qe(r,this.children_.get(r)):null}forEachChild(e,r){const a=this.resolveIndex_(e);return a?a.inorderTraversal(c=>r(c.name,c.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const a=this.resolveIndex_(r);if(a)return a.getIteratorFrom(e,c=>c);{const c=this.children_.getIteratorFrom(e.name,Qe.Wrap);let f=c.peek();for(;null!=f&&r.compare(f,e)<0;)c.getNext(),f=c.peek();return c}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const a=this.resolveIndex_(r);if(a)return a.getReverseIteratorFrom(e,c=>c);{const c=this.children_.getReverseIteratorFrom(e.name,Qe.Wrap);let f=c.peek();for(;null!=f&&r.compare(f,e)>0;)c.getNext(),f=c.peek();return c}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===_u?-1:0}withIndex(e){if(e===Ns||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===Ns||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const a=this.getIterator(gn),c=r.getIterator(gn);let f=a.getNext(),_=c.getNext();for(;f&&_;){if(f.name!==_.name||!f.node.equals(_.node))return!1;f=a.getNext(),_=c.getNext()}return null===f&&null===_}return!1}return!1}}resolveIndex_(e){return e===Ns?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const _u=new class extends At{constructor(){super(new Oi(im),At.EMPTY_NODE,gl.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return At.EMPTY_NODE}isEmpty(){return!1}};function Dn(n,t=null){if(null===n)return At.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,B.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new sc(n,Dn(t));if(n instanceof Array){let e=At.EMPTY_NODE;return vr(n,(r,a)=>{if((0,B.r3)(n,r)&&"."!==r.substring(0,1)){const c=Dn(a);(c.isLeafNode()||!c.isEmpty())&&(e=e.updateImmediateChild(r,c))}}),e.updatePriority(Dn(t))}{const e=[];let r=!1;if(vr(n,(f,_)=>{if("."!==f.substring(0,1)){const b=Dn(_);b.isEmpty()||(r=r||!b.getPriority().isEmpty(),e.push(new Qe(f,b)))}}),0===e.length)return At.EMPTY_NODE;const c=Nf(e,JC,f=>f.name,im);if(r){const f=Nf(e,gn.getCompare());return new At(c,Dn(t),new gl({".priority":f},{".priority":gn}))}return new At(c,Dn(t),gl.Default)}}Object.defineProperties(Qe,{MIN:{value:new Qe(sa,At.EMPTY_NODE)},MAX:{value:new Qe(ks,_u)}}),ca.__EMPTY_NODE=At.EMPTY_NODE,sc.__childrenNodeConstructor=At,sm=_u,Vy=_u,function(n){Ly=n}(Dn);class om extends Zd{constructor(t){super(),this.indexPath_=t,(0,B.hu)(!xt(t)&&".priority"!==Pt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const r=this.extractChild(t.node),a=this.extractChild(e.node),c=r.compareTo(a);return 0===c?tc(t.name,e.name):c}makePost(t,e){const r=Dn(t),a=At.EMPTY_NODE.updateChild(this.indexPath_,r);return new Qe(e,a)}maxPost(){const t=At.EMPTY_NODE.updateChild(this.indexPath_,_u);return new Qe(ks,t)}toString(){return pl(this.indexPath_,0).join("/")}}const ss=new class extends Zd{compare(t,e){const r=t.node.compareTo(e.node);return 0===r?tc(t.name,e.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Qe.MIN}maxPost(){return Qe.MAX}makePost(t,e){const r=Dn(t);return new Qe(e,r)}toString(){return".value"}},Lf="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",oE=function(){let n=0;const t=[];return function(e){const r=e===n;let a;n=e;const c=new Array(8);for(a=7;a>=0;a--)c[a]=Lf.charAt(e%64),e=Math.floor(e/64);(0,B.hu)(0===e,"Cannot push at time == 0");let f=c.join("");if(r){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)f+=Lf.charAt(t[a]);return(0,B.hu)(20===f.length,"nextPushId: Length should be 20."),f}}(),Uy=function(n){if(n===""+fu)return"-";const t=hl(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let f=0;f<e.length;f++)e[f]=n.charAt(f);if(e.length<786)return e.push("-"),e.join("");let r=e.length-1;for(;r>=0&&"z"===e[r];)r--;if(-1===r)return ks;const c=Lf.charAt(Lf.indexOf(e[r])+1);return e[r]=c,e.slice(0,r+1).join("")},aE=function(n){if(n===""+OC)return sa;const t=hl(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let r=0;r<e.length;r++)e[r]=n.charAt(r);return"-"===e[e.length-1]?1===e.length?""+fu:(delete e[e.length-1],e.join("")):(e[e.length-1]=Lf.charAt(Lf.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function JS(n){return{type:"value",snapshotNode:n}}function yu(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function vu(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Vf(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class Hy{constructor(t){this.index_=t}updateChild(t,e,r,a,c,f){(0,B.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const _=t.getImmediateChild(e);return _.getChild(a).equals(r.getChild(a))&&_.isEmpty()===r.isEmpty()||(null!=f&&(r.isEmpty()?t.hasChild(e)?f.trackChildChange(vu(e,_)):(0,B.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):_.isEmpty()?f.trackChildChange(yu(e,r)):f.trackChildChange(Vf(e,r,_))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(e,r).withIndex(this.index_)}updateFullNode(t,e,r){return null!=r&&(t.isLeafNode()||t.forEachChild(gn,(a,c)=>{e.hasChild(a)||r.trackChildChange(vu(a,c))}),e.isLeafNode()||e.forEachChild(gn,(a,c)=>{if(t.hasChild(a)){const f=t.getImmediateChild(a);f.equals(c)||r.trackChildChange(Vf(a,c,f))}else r.trackChildChange(yu(a,c))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?At.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Bf{constructor(t){this.indexedFilter_=new Hy(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Bf.getStartPost_(t),this.endPost_=Bf.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,r,a,c,f){return this.matches(new Qe(e,r))||(r=At.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,r,a,c,f)}updateFullNode(t,e,r){e.isLeafNode()&&(e=At.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(At.EMPTY_NODE);const c=this;return e.forEachChild(gn,(f,_)=>{c.matches(new Qe(f,_))||(a=a.updateImmediateChild(f,At.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class XS{constructor(t){this.rangedFilter_=new Bf(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,r,a,c,f){return this.rangedFilter_.matches(new Qe(e,r))||(r=At.EMPTY_NODE),t.getImmediateChild(e).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,r,a,c,f):this.fullLimitUpdateChild_(t,e,r,c,f)}updateFullNode(t,e,r){let a;if(e.isLeafNode()||e.isEmpty())a=At.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let c;a=At.EMPTY_NODE.withIndex(this.index_),c=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;c.hasNext()&&f<this.limit_;){const _=c.getNext();let b;if(b=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),_)<=0:this.index_.compare(_,this.rangedFilter_.getEndPost())<=0,!b)break;a=a.updateImmediateChild(_.name,_.node),f++}}else{let c,f,_,b;if(a=e.withIndex(this.index_),a=a.updatePriority(At.EMPTY_NODE),this.reverse_){b=a.getReverseIterator(this.index_),c=this.rangedFilter_.getEndPost(),f=this.rangedFilter_.getStartPost();const x=this.index_.getCompare();_=(z,Y)=>x(Y,z)}else b=a.getIterator(this.index_),c=this.rangedFilter_.getStartPost(),f=this.rangedFilter_.getEndPost(),_=this.index_.getCompare();let w=0,O=!1;for(;b.hasNext();){const x=b.getNext();!O&&_(c,x)<=0&&(O=!0),O&&w<this.limit_&&_(x,f)<=0?w++:a=a.updateImmediateChild(x.name,At.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,r,a,c){let f;if(this.reverse_){const x=this.index_.getCompare();f=(z,Y)=>x(Y,z)}else f=this.index_.getCompare();const _=t;(0,B.hu)(_.numChildren()===this.limit_,"");const b=new Qe(e,r),w=this.reverse_?_.getFirstChild(this.index_):_.getLastChild(this.index_),O=this.rangedFilter_.matches(b);if(_.hasChild(e)){const x=_.getImmediateChild(e);let z=a.getChildAfterChild(this.index_,w,this.reverse_);for(;null!=z&&(z.name===e||_.hasChild(z.name));)z=a.getChildAfterChild(this.index_,z,this.reverse_);const Y=null==z?1:f(z,b);if(O&&!r.isEmpty()&&Y>=0)return null!=c&&c.trackChildChange(Vf(e,r,x)),_.updateImmediateChild(e,r);{null!=c&&c.trackChildChange(vu(e,x));const Re=_.updateImmediateChild(e,At.EMPTY_NODE);return null!=z&&this.rangedFilter_.matches(z)?(null!=c&&c.trackChildChange(yu(z.name,z.node)),Re.updateImmediateChild(z.name,z.node)):Re}}return r.isEmpty()?t:O&&f(w,b)>=0?(null!=c&&(c.trackChildChange(vu(w.name,w.node)),c.trackChildChange(yu(e,r))),_.updateImmediateChild(e,r).updateImmediateChild(w.name,At.EMPTY_NODE)):t}}class am{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=gn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,B.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,B.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:sa}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,B.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,B.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ks}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,B.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===gn}copy(){const t=new am;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function oc(n,t,e){const r=n.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=e?(r.startNameSet_=!0,r.indexStartName_=e):(r.startNameSet_=!1,r.indexStartName_=""),r}function os(n,t,e){const r=n.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==e?(r.endNameSet_=!0,r.indexEndName_=e):(r.endNameSet_=!1,r.indexEndName_=""),r}function cm(n,t){const e=n.copy();return e.index_=t,e}function cE(n){const t={};if(n.isDefault())return t;let e;return n.index_===gn?e="$priority":n.index_===ss?e="$value":n.index_===Ns?e="$key":((0,B.hu)(n.index_ instanceof om,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,B.Pz)(e),n.startSet_&&(t.startAt=(0,B.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,B.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,B.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,B.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function um(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==gn&&(t.i=n.index_.toString()),t}class as extends Ry{constructor(t,e,r,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=r,this.appCheckTokenProvider_=a,this.log_=qg("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,B.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,r,a){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const f=as.getListenId_(t,r),_={};this.listens_[f]=_;const b=cE(t._queryParams);this.restRequest_(c+".json",b,(w,O)=>{let x=O;if(404===w&&(x=null,w=null),null===w&&this.onDataUpdate_(c,x,!1,r),(0,B.DV)(this.listens_,f)===_){let z;z=w?401===w?"permission_denied":"rest_error:"+w:"ok",a(z,null)}})}unlisten(t,e){const r=as.getListenId_(t,e);delete this.listens_[r]}get(t){const e=cE(t._queryParams),r=t._path.toString(),a=new B.BH;return this.restRequest_(r+".json",e,(c,f)=>{let _=f;404===c&&(_=null,c=null),null===c?(this.onDataUpdate_(r,_,!1,null),a.resolve(_)):a.reject(new Error(_))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},r){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,c])=>{a&&a.accessToken&&(e.auth=a.accessToken),c&&c.token&&(e.ac=c.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,B.xO)(e);this.log_("Sending REST request for "+f);const _=new XMLHttpRequest;_.onreadystatechange=()=>{if(r&&4===_.readyState){this.log_("REST Response for "+f+" received. status:",_.status,"response:",_.responseText);let b=null;if(_.status>=200&&_.status<300){try{b=(0,B.cI)(_.responseText)}catch(w){Ai("Failed to parse JSON response for "+f+": "+_.responseText)}r(null,b)}else 401!==_.status&&404!==_.status&&Ai("Got unsuccessful REST response for "+f+" Status: "+_.status),r(_.status);r=null}},_.open("GET",f,!0),_.send()})}}class jf{constructor(){this.rootNode_=At.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function dr(){return{value:null,children:new Map}}function Fs(n,t,e){if(xt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const r=Pt(t);n.children.has(r)||n.children.set(r,dr()),Fs(n.children.get(r),t=Yt(t),e)}}function Qd(n,t){if(xt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(gn,(r,a)=>{Fs(n,new Gt(r),a)}),Qd(n,t)}}if(n.children.size>0){const e=Pt(t);return t=Yt(t),n.children.has(e)&&Qd(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function Ri(n,t,e){null!==n.value?e(t,n.value):function(n,t){n.children.forEach((e,r)=>{t(r,e)})}(n,(r,a)=>{Ri(a,new Gt(t.toString()+"/"+r),e)})}class Jd{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&vr(this.last_,(r,a)=>{e[r]=e[r]-a}),this.last_=t,e}}class th{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Jd(t);const r=1e4+2e4*Math.random();fl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),e={};let r=!1;vr(t,(a,c)=>{c>0&&(0,B.r3)(this.statsToReport_,a)&&(e[a]=c,r=!0)}),r&&this.server_.reportStats(e),fl(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Nr=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Nr||(Nr={})),Nr))();function cc(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Hf{constructor(t,e,r){this.path=t,this.affectedTree=e,this.revert=r,this.type=Nr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(xt(this.path)){if(null!=this.affectedTree.value)return(0,B.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Gt(t));return new Hf(Wt(),e,this.revert)}}return(0,B.hu)(Pt(this.path)===t,"operationForChild called for unrelated child."),new Hf(Yt(this.path),this.affectedTree,this.revert)}}class nh{constructor(t,e){this.source=t,this.path=e,this.type=Nr.LISTEN_COMPLETE}operationForChild(t){return xt(this.path)?new nh(this.source,Wt()):new nh(this.source,Yt(this.path))}}class uc{constructor(t,e,r){this.source=t,this.path=e,this.snap=r,this.type=Nr.OVERWRITE}operationForChild(t){return xt(this.path)?new uc(this.source,Wt(),this.snap.getImmediateChild(t)):new uc(this.source,Yt(this.path),this.snap)}}class Cu{constructor(t,e,r){this.source=t,this.path=e,this.children=r,this.type=Nr.MERGE}operationForChild(t){if(xt(this.path)){const e=this.children.subtree(new Gt(t));return e.isEmpty()?null:e.value?new uc(this.source,Wt(),e.value):new Cu(this.source,Wt(),e)}return(0,B.hu)(Pt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Cu(this.source,Yt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ml{constructor(t,e,r){this.node_=t,this.fullyInitialized_=e,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(xt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Pt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class uE{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function rh(n,t,e,r,a,c){const f=r.filter(_=>_.type===e);f.sort((_,b)=>function(n,t,e){if(null==t.childName||null==e.childName)throw(0,B.g5)("Should only compare child_ events.");const r=new Qe(t.childName,t.snapshotNode),a=new Qe(e.childName,e.snapshotNode);return n.index_.compare(r,a)}(n,_,b)),f.forEach(_=>{const b=function(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,_,c);a.forEach(w=>{w.respondsTo(_.type)&&t.push(w.createEvent(b,n.query_))})})}function $f(n,t){return{eventCache:n,serverCache:t}}function Gf(n,t,e,r){return $f(new ml(t,e,r),n.serverCache)}function fE(n,t,e,r){return $f(n.eventCache,new ml(t,e,r))}function zf(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Eu(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let pE;class un{constructor(t,e=(()=>(pE||(pE=new Oi(py)),pE))()){this.value=t,this.children=e}static fromObject(t){let e=new un(null);return vr(t,(r,a)=>{e=e.set(new Gt(r),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Wt(),value:this.value};if(xt(t))return null;{const r=Pt(t),a=this.children.get(r);if(null!==a){const c=a.findRootMostMatchingPathAndValue(Yt(t),e);return null!=c?{path:pn(new Gt(r),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(xt(t))return this;{const e=Pt(t),r=this.children.get(e);return null!==r?r.subtree(Yt(t)):new un(null)}}set(t,e){if(xt(t))return new un(e,this.children);{const r=Pt(t),c=(this.children.get(r)||new un(null)).set(Yt(t),e),f=this.children.insert(r,c);return new un(this.value,f)}}remove(t){if(xt(t))return this.children.isEmpty()?new un(null):new un(null,this.children);{const e=Pt(t),r=this.children.get(e);if(r){const a=r.remove(Yt(t));let c;return c=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&c.isEmpty()?new un(null):new un(this.value,c)}return this}}get(t){if(xt(t))return this.value;{const e=Pt(t),r=this.children.get(e);return r?r.get(Yt(t)):null}}setTree(t,e){if(xt(t))return e;{const r=Pt(t),c=(this.children.get(r)||new un(null)).setTree(Yt(t),e);let f;return f=c.isEmpty()?this.children.remove(r):this.children.insert(r,c),new un(this.value,f)}}fold(t){return this.fold_(Wt(),t)}fold_(t,e){const r={};return this.children.inorderTraversal((a,c)=>{r[a]=c.fold_(pn(t,a),e)}),e(t,this.value,r)}findOnPath(t,e){return this.findOnPath_(t,Wt(),e)}findOnPath_(t,e,r){const a=!!this.value&&r(e,this.value);if(a)return a;if(xt(t))return null;{const c=Pt(t),f=this.children.get(c);return f?f.findOnPath_(Yt(t),pn(e,c),r):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Wt(),e)}foreachOnPath_(t,e,r){if(xt(t))return this;{this.value&&r(e,this.value);const a=Pt(t),c=this.children.get(a);return c?c.foreachOnPath_(Yt(t),pn(e,a),r):new un(null)}}foreach(t){this.foreach_(Wt(),t)}foreach_(t,e){this.children.inorderTraversal((r,a)=>{a.foreach_(pn(t,r),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,r)=>{r.value&&t(e,r.value)})}}class go{constructor(t){this.writeTree_=t}static empty(){return new go(new un(null))}}function ih(n,t,e){if(xt(t))return new go(new un(e));{const r=n.writeTree_.findRootMostValueAndPath(t);if(null!=r){const a=r.path;let c=r.value;const f=ci(a,t);return c=c.updateChild(f,e),new go(n.writeTree_.set(a,c))}{const a=new un(e),c=n.writeTree_.setTree(t,a);return new go(c)}}}function Gy(n,t,e){let r=n;return vr(e,(a,c)=>{r=ih(r,pn(t,a),c)}),r}function gE(n,t){if(xt(t))return go.empty();{const e=n.writeTree_.setTree(t,new un(null));return new go(e)}}function mE(n,t){return null!=wu(n,t)}function wu(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(ci(e.path,t)):null}function zy(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(gn,(r,a)=>{t.push(new Qe(r,a))}):n.writeTree_.children.inorderTraversal((r,a)=>{null!=a.value&&t.push(new Qe(r,a.value))}),t}function Du(n,t){if(xt(t))return n;{const e=wu(n,t);return new go(null!=e?new un(e):n.writeTree_.subtree(t))}}function _E(n){return n.writeTree_.isEmpty()}function Wf(n,t){return yE(Wt(),n.writeTree_,t)}function yE(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let r=null;return t.children.inorderTraversal((a,c)=>{".priority"===a?((0,B.hu)(null!==c.value,"Priority writes must always be leaf nodes"),r=c.value):e=yE(pn(n,a),c,e)}),!e.getChild(n).isEmpty()&&null!==r&&(e=e.updateChild(pn(n,".priority"),r)),e}}function Wy(n,t){return DE(t,n)}function oT(n,t){if(n.snap)return Mi(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Mi(pn(n.path,e),t))return!0;return!1}function XO(n){return n.visible}function aT(n,t,e){let r=go.empty();for(let a=0;a<n.length;++a){const c=n[a];if(t(c)){const f=c.path;let _;if(c.snap)Mi(e,f)?(_=ci(e,f),r=ih(r,_,c.snap)):Mi(f,e)&&(_=ci(f,e),r=ih(r,Wt(),c.snap.getChild(_)));else{if(!c.children)throw(0,B.g5)("WriteRecord should have .snap or .children");if(Mi(e,f))_=ci(e,f),r=Gy(r,_,c.children);else if(Mi(f,e))if(_=ci(f,e),xt(_))r=Gy(r,Wt(),c.children);else{const b=(0,B.DV)(c.children,Pt(_));if(b){const w=b.getChild(Yt(_));r=ih(r,Wt(),w)}}}}}return r}function vE(n,t,e,r,a){if(r||a){const c=Du(n.visibleWrites,t);return!a&&_E(c)?e:a||null!=e||mE(c,Wt())?Wf(aT(n.allWrites,function(w){return(w.visible||a)&&(!r||!~r.indexOf(w.writeId))&&(Mi(w.path,t)||Mi(t,w.path))},t),e||At.EMPTY_NODE):null}{const c=wu(n.visibleWrites,t);if(null!=c)return c;{const f=Du(n.visibleWrites,t);return _E(f)?e:null!=e||mE(f,Wt())?Wf(f,e||At.EMPTY_NODE):null}}}function dm(n,t,e,r){return vE(n.writeTree,n.treePath,t,e,r)}function hm(n,t){return function(n,t,e){let r=At.EMPTY_NODE;const a=wu(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(gn,(c,f)=>{r=r.updateImmediateChild(c,f)}),r;if(e){const c=Du(n.visibleWrites,t);return e.forEachChild(gn,(f,_)=>{const b=Wf(Du(c,new Gt(f)),_);r=r.updateImmediateChild(f,b)}),zy(c).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}return zy(Du(n.visibleWrites,t)).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}(n.writeTree,n.treePath,t)}function Yf(n,t,e,r){return function(n,t,e,r,a){(0,B.hu)(r||a,"Either existingEventSnap or existingServerSnap must exist");const c=pn(t,e);if(mE(n.visibleWrites,c))return null;{const f=Du(n.visibleWrites,c);return _E(f)?a.getChild(e):Wf(f,a.getChild(e))}}(n.writeTree,n.treePath,t,e,r)}function fm(n,t){return function(n,t){return wu(n.visibleWrites,t)}(n.writeTree,pn(n.treePath,t))}function qy(n,t,e){return function(n,t,e,r){const a=pn(t,e),c=wu(n.visibleWrites,a);return null!=c?c:r.isCompleteForChild(e)?Wf(Du(n.visibleWrites,a),r.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function wE(n,t){return DE(pn(n.treePath,t),n.writeTree)}function DE(n,t){return{treePath:n,writeTree:t}}class uT{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,r=t.childName;(0,B.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,B.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(r);if(a){const c=a.type;if("child_added"===e&&"child_removed"===c)this.changeMap.set(r,Vf(r,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===c)this.changeMap.delete(r);else if("child_removed"===e&&"child_changed"===c)this.changeMap.set(r,vu(r,a.oldSnap));else if("child_changed"===e&&"child_added"===c)this.changeMap.set(r,yu(r,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==c)throw(0,B.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(r,Vf(r,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const Ky=new class{getCompleteChild(t){return null}getChildAfterChild(t,e,r){return null}};class Qy{constructor(t,e,r=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=r}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new ml(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return qy(this.writes_,t,r)}}getChildAfterChild(t,e,r){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Eu(this.viewCache_),c=function(n,t,e,r,a,c){return function(n,t,e,r,a,c,f){let _;const b=Du(n.visibleWrites,t),w=wu(b,Wt());if(null!=w)_=w;else{if(null==e)return[];_=Wf(b,e)}if(_=_.withIndex(f),_.isEmpty()||_.isLeafNode())return[];{const O=[],x=f.getCompare(),z=c?_.getReverseIteratorFrom(r,f):_.getIteratorFrom(r,f);let Y=z.getNext();for(;Y&&O.length<a;)0!==x(Y,r)&&O.push(Y),Y=z.getNext();return O}}(n.writeTree,n.treePath,t,e,r,a,c)}(this.writes_,a,e,1,r,t);return 0===c.length?null:c[0]}}function pm(n,t,e,r,a,c){const f=t.eventCache;if(null!=fm(r,e))return t;{let _,b;if(xt(e))if((0,B.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const w=Eu(t),x=hm(r,w instanceof At?w:At.EMPTY_NODE);_=n.filter.updateFullNode(t.eventCache.getNode(),x,c)}else{const w=dm(r,Eu(t));_=n.filter.updateFullNode(t.eventCache.getNode(),w,c)}else{const w=Pt(e);if(".priority"===w){(0,B.hu)(1===pu(e),"Can't have a priority with additional path components");const O=f.getNode();b=t.serverCache.getNode();const x=Yf(r,e,O,b);_=null!=x?n.filter.updatePriority(O,x):f.getNode()}else{const O=Yt(e);let x;if(f.isCompleteForChild(w)){b=t.serverCache.getNode();const z=Yf(r,e,f.getNode(),b);x=null!=z?f.getNode().getImmediateChild(w).updateChild(O,z):f.getNode().getImmediateChild(w)}else x=qy(r,w,t.serverCache);_=null!=x?n.filter.updateChild(f.getNode(),w,x,O,a,c):f.getNode()}}return Gf(t,_,f.isFullyInitialized()||xt(e),n.filter.filtersNodes())}}function gm(n,t,e,r,a,c,f,_){const b=t.serverCache;let w;const O=f?n.filter:n.filter.getIndexedFilter();if(xt(e))w=O.updateFullNode(b.getNode(),r,null);else if(O.filtersNodes()&&!b.isFiltered()){const Y=b.getNode().updateChild(e,r);w=O.updateFullNode(b.getNode(),Y,null)}else{const Y=Pt(e);if(!b.isCompleteForPath(e)&&pu(e)>1)return t;const ae=Yt(e),Ve=b.getNode().getImmediateChild(Y).updateChild(ae,r);w=".priority"===Y?O.updatePriority(b.getNode(),Ve):O.updateChild(b.getNode(),Y,Ve,ae,Ky,null)}const x=fE(t,w,b.isFullyInitialized()||xt(e),O.filtersNodes());return pm(n,x,e,a,new Qy(a,x,c),_)}function IE(n,t,e,r,a,c,f){const _=t.eventCache;let b,w;const O=new Qy(a,t,c);if(xt(e))w=n.filter.updateFullNode(t.eventCache.getNode(),r,f),b=Gf(t,w,!0,n.filter.filtersNodes());else{const x=Pt(e);if(".priority"===x)w=n.filter.updatePriority(t.eventCache.getNode(),r),b=Gf(t,w,_.isFullyInitialized(),_.isFiltered());else{const z=Yt(e),Y=_.getNode().getImmediateChild(x);let ae;if(xt(z))ae=r;else{const Re=O.getCompleteChild(x);ae=null!=Re?".priority"===rm(z)&&Re.getChild(YC(z)).isEmpty()?Re:Re.updateChild(z,r):At.EMPTY_NODE}b=Y.equals(ae)?t:Gf(t,n.filter.updateChild(_.getNode(),x,ae,z,O,f),_.isFullyInitialized(),n.filter.filtersNodes())}}return b}function oh(n,t){return n.eventCache.isCompleteForChild(t)}function mm(n,t,e){return e.foreach((r,a)=>{t=t.updateChild(r,a)}),t}function Zf(n,t,e,r,a,c,f,_){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let w,b=t;w=xt(e)?r:new un(null).setTree(e,r);const O=t.serverCache.getNode();return w.children.inorderTraversal((x,z)=>{if(O.hasChild(x)){const ae=mm(0,t.serverCache.getNode().getImmediateChild(x),z);b=gm(n,b,new Gt(x),ae,a,c,f,_)}}),w.children.inorderTraversal((x,z)=>{const Y=!t.serverCache.isCompleteForChild(x)&&void 0===z.value;if(!O.hasChild(x)&&!Y){const Re=mm(0,t.serverCache.getNode().getImmediateChild(x),z);b=gm(n,b,new Gt(x),Re,a,c,f,_)}}),b}class AE{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,a=new Hy(r.getIndex()),c=function(n){return n.loadsAllData()?new Hy(n.getIndex()):n.hasLimit()?new XS(n):new Bf(n)}(r);this.processor_=function(n){return{filter:n}}(c);const f=e.serverCache,_=e.eventCache,b=a.updateFullNode(At.EMPTY_NODE,f.getNode(),null),w=c.updateFullNode(At.EMPTY_NODE,_.getNode(),null),O=new ml(b,f.isFullyInitialized(),a.filtersNodes()),x=new ml(w,_.isFullyInitialized(),c.filtersNodes());this.viewCache_=$f(x,O),this.eventGenerator_=new uE(this.query_)}get query(){return this.query_}}function ME(n,t){const e=Eu(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!xt(t)&&!e.getImmediateChild(Pt(t)).isEmpty())?e.getChild(t):null}function tv(n){return 0===n.eventRegistrations_.length}function nv(n,t,e){const r=[];if(e){(0,B.hu)(null==t,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(c=>{const f=c.createCancelEvent(e,a);f&&r.push(f)})}if(t){let a=[];for(let c=0;c<n.eventRegistrations_.length;++c){const f=n.eventRegistrations_[c];if(f.matches(t)){if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(c+1));break}}else a.push(f)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return r}function _m(n,t,e,r){t.type===Nr.MERGE&&null!==t.source.queryId&&((0,B.hu)(Eu(n.viewCache_),"We should always have a full cache before handling merges"),(0,B.hu)(zf(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,c=function(n,t,e,r,a){const c=new uT;let f,_;if(e.type===Nr.OVERWRITE){const w=e;w.source.fromUser?f=IE(n,t,w.path,w.snap,r,a,c):((0,B.hu)(w.source.fromServer,"Unknown source."),_=w.source.tagged||t.serverCache.isFiltered()&&!xt(w.path),f=gm(n,t,w.path,w.snap,r,a,_,c))}else if(e.type===Nr.MERGE){const w=e;w.source.fromUser?f=function(n,t,e,r,a,c,f){let _=t;return r.foreach((b,w)=>{const O=pn(e,b);oh(t,Pt(O))&&(_=IE(n,_,O,w,a,c,f))}),r.foreach((b,w)=>{const O=pn(e,b);oh(t,Pt(O))||(_=IE(n,_,O,w,a,c,f))}),_}(n,t,w.path,w.children,r,a,c):((0,B.hu)(w.source.fromServer,"Unknown source."),_=w.source.tagged||t.serverCache.isFiltered(),f=Zf(n,t,w.path,w.children,r,a,_,c))}else if(e.type===Nr.ACK_USER_WRITE){const w=e;f=w.revert?function(n,t,e,r,a,c){let f;if(null!=fm(r,e))return t;{const _=new Qy(r,t,a),b=t.eventCache.getNode();let w;if(xt(e)||".priority"===Pt(e)){let O;if(t.serverCache.isFullyInitialized())O=dm(r,Eu(t));else{const x=t.serverCache.getNode();(0,B.hu)(x instanceof At,"serverChildren would be complete if leaf node"),O=hm(r,x)}O=O,w=n.filter.updateFullNode(b,O,c)}else{const O=Pt(e);let x=qy(r,O,t.serverCache);null==x&&t.serverCache.isCompleteForChild(O)&&(x=b.getImmediateChild(O)),w=null!=x?n.filter.updateChild(b,O,x,Yt(e),_,c):t.eventCache.getNode().hasChild(O)?n.filter.updateChild(b,O,At.EMPTY_NODE,Yt(e),_,c):b,w.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=dm(r,Eu(t)),f.isLeafNode()&&(w=n.filter.updateFullNode(w,f,c)))}return f=t.serverCache.isFullyInitialized()||null!=fm(r,Wt()),Gf(t,w,f,n.filter.filtersNodes())}}(n,t,w.path,r,a,c):function(n,t,e,r,a,c,f){if(null!=fm(a,e))return t;const _=t.serverCache.isFiltered(),b=t.serverCache;if(null!=r.value){if(xt(e)&&b.isFullyInitialized()||b.isCompleteForPath(e))return gm(n,t,e,b.getNode().getChild(e),a,c,_,f);if(xt(e)){let w=new un(null);return b.getNode().forEachChild(Ns,(O,x)=>{w=w.set(new Gt(O),x)}),Zf(n,t,e,w,a,c,_,f)}return t}{let w=new un(null);return r.foreach((O,x)=>{const z=pn(e,O);b.isCompleteForPath(z)&&(w=w.set(O,b.getNode().getChild(z)))}),Zf(n,t,e,w,a,c,_,f)}}(n,t,w.path,w.affectedTree,r,a,c)}else{if(e.type!==Nr.LISTEN_COMPLETE)throw(0,B.g5)("Unknown operation type: "+e.type);f=function(n,t,e,r,a){const c=t.serverCache;return pm(n,fE(t,c.getNode(),c.isFullyInitialized()||xt(e),c.isFiltered()),e,r,Ky,a)}(n,t,e.path,r,c)}const b=c.getChanges();return function(n,t,e){const r=t.eventCache;if(r.isFullyInitialized()){const a=r.getNode().isLeafNode()||r.getNode().isEmpty(),c=zf(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!r.getNode().equals(c)||!r.getNode().getPriority().equals(c.getPriority()))&&e.push(JS(zf(t)))}}(t,f,b),{viewCache:f,changes:b}}(n.processor_,a,t,e,r);return function(n,t){(0,B.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,B.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,c.viewCache),(0,B.hu)(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=c.viewCache,ym(n,c.changes,c.viewCache.eventCache.getNode(),null)}function ym(n,t,e,r){return function(n,t,e,r){const a=[],c=[];return t.forEach(f=>{"child_changed"===f.type&&n.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&c.push(function(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(f.childName,f.snapshotNode))}),rh(n,a,"child_removed",t,r,e),rh(n,a,"child_added",t,r,e),rh(n,a,"child_moved",c,r,e),rh(n,a,"child_changed",t,r,e),rh(n,a,"value",t,r,e),a}(n.eventGenerator_,t,e,r?[r]:n.eventRegistrations_)}let ah,Jf;class vm{constructor(){this.views=new Map}}function qf(n,t,e,r){const a=t.source.queryId;if(null!==a){const c=n.views.get(a);return(0,B.hu)(null!=c,"SyncTree gave us an op for an invalid query."),_m(c,t,e,r)}{let c=[];for(const f of n.views.values())c=c.concat(_m(f,t,e,r));return c}}function rv(n,t,e,r,a){const f=n.views.get(t._queryIdentifier);if(!f){let _=dm(e,a?r:null),b=!1;_?b=!0:r instanceof At?(_=hm(e,r),b=!1):(_=At.EMPTY_NODE,b=!1);const w=$f(new ml(_,b,!1),new ml(r,a,!1));return new AE(t,w)}return f}function iv(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function da(n,t){let e=null;for(const r of n.views.values())e=e||ME(r,t);return e}function Kf(n,t){return t._queryParams.loadsAllData()?Qf(n):n.views.get(t._queryIdentifier)}function sv(n,t){return null!=Kf(n,t)}function _l(n){return null!=Qf(n)}function Qf(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let FE=1;class ov{constructor(t){this.listenProvider_=t,this.syncPointTree_=new un(null),this.pendingWriteTree_={visibleWrites:go.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function LE(n,t,e,r,a){return function(n,t,e,r,a){(0,B.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:r,visible:a}),a&&(n.visibleWrites=ih(n.visibleWrites,t,e)),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r,a),a?mo(n,new uc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function dc(n,t,e=!1){const r=function(n,t){for(let e=0;e<n.allWrites.length;e++){const r=n.allWrites[e];if(r.writeId===t)return r}return null}(n.pendingWriteTree_,t);if(function(n,t){const e=n.allWrites.findIndex(_=>_.writeId===t);(0,B.hu)(e>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[e];n.allWrites.splice(e,1);let a=r.visible,c=!1,f=n.allWrites.length-1;for(;a&&f>=0;){const _=n.allWrites[f];_.visible&&(f>=e&&oT(_,r.path)?a=!1:Mi(r.path,_.path)&&(c=!0)),f--}return!!a&&(c?(function(n){n.visibleWrites=aT(n.allWrites,XO,Wt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=gE(n.visibleWrites,r.path):vr(r.children,b=>{n.visibleWrites=gE(n.visibleWrites,pn(r.path,b))}),!0))}(n.pendingWriteTree_,t)){let c=new un(null);return null!=r.snap?c=c.set(Wt(),!0):vr(r.children,f=>{c=c.set(new Gt(f),!0)}),mo(n,new Hf(r.path,c,e))}return[]}function lh(n,t,e){return mo(n,new uc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function av(n,t,e,r){const a=t._path,c=n.syncPointTree_.get(a);let f=[];if(c&&("default"===t._queryIdentifier||sv(c,t))){const _=function(n,t,e,r){const a=t._queryIdentifier,c=[];let f=[];const _=_l(n);if("default"===a)for(const[b,w]of n.views.entries())f=f.concat(nv(w,e,r)),tv(w)&&(n.views.delete(b),w.query._queryParams.loadsAllData()||c.push(w.query));else{const b=n.views.get(a);b&&(f=f.concat(nv(b,e,r)),tv(b)&&(n.views.delete(a),b.query._queryParams.loadsAllData()||c.push(b.query)))}return _&&!_l(n)&&c.push(new((0,B.hu)(ah,"Reference.ts has not been loaded"),ah)(t._repo,t._path)),{removed:c,events:f}}(c,t,e,r);(function(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(a));const b=_.removed;f=_.events;const w=-1!==b.findIndex(x=>x._queryParams.loadsAllData()),O=n.syncPointTree_.findOnPath(a,(x,z)=>_l(z));if(w&&!O){const x=n.syncPointTree_.subtree(a);if(!x.isEmpty()){const z=function(n){return n.fold((t,e,r)=>{if(e&&_l(e))return[Qf(e)];{let a=[];return e&&(a=iv(e)),vr(r,(c,f)=>{a=a.concat(f)}),a}})}(x);for(let Y=0;Y<z.length;++Y){const ae=z[Y],Re=ae.query,Ve=lv(n,ae);n.listenProvider_.startListening(rp(Re),bm(n,Re),Ve.hashFn,Ve.onComplete)}}}if(!O&&b.length>0&&!r)if(w){const x=null;n.listenProvider_.stopListening(rp(t),x)}else b.forEach(x=>{const z=n.queryToTagMap.get(ep(x));n.listenProvider_.stopListening(rp(x),z)});!function(n,t){for(let e=0;e<t.length;++e){const r=t[e];if(!r._queryParams.loadsAllData()){const a=ep(r),c=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(c)}}}(n,b)}return f}function UE(n,t,e){const r=t._path;let a=null,c=!1;n.syncPointTree_.foreachOnPath(r,(x,z)=>{const Y=ci(x,r);a=a||da(z,Y),c=c||_l(z)});let _,f=n.syncPointTree_.get(r);f?(c=c||_l(f),a=a||da(f,Wt())):(f=new vm,n.syncPointTree_=n.syncPointTree_.set(r,f)),null!=a?_=!0:(_=!1,a=At.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((z,Y)=>{const ae=da(Y,Wt());ae&&(a=a.updateImmediateChild(z,ae))}));const b=sv(f,t);if(!b&&!t._queryParams.loadsAllData()){const x=ep(t);(0,B.hu)(!n.queryToTagMap.has(x),"View does not exist, but we have a tag");const z=FE++;n.queryToTagMap.set(x,z),n.tagToQueryMap.set(z,x)}let O=function(n,t,e,r,a,c){const f=rv(n,t,r,a,c);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,f),function(n,t){n.eventRegistrations_.push(t)}(f,e),function(n,t){const e=n.viewCache_.eventCache,r=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(gn,(c,f)=>{r.push(yu(c,f))}),e.isFullyInitialized()&&r.push(JS(e.getNode())),ym(n,r,e.getNode(),t)}(f,e)}(f,t,e,Wy(n.pendingWriteTree_,r),a,_);if(!b&&!c){const x=Kf(f,t);O=O.concat(function(n,t,e){const r=t._path,a=bm(n,t),c=lv(n,e),f=n.listenProvider_.startListening(rp(t),a,c.hashFn,c.onComplete),_=n.syncPointTree_.subtree(r);if(a)(0,B.hu)(!_l(_.value),"If we're adding a query, it shouldn't be shadowed");else{const b=_.fold((w,O,x)=>{if(!xt(w)&&O&&_l(O))return[Qf(O).query];{let z=[];return O&&(z=z.concat(iv(O).map(Y=>Y.query))),vr(x,(Y,ae)=>{z=z.concat(ae)}),z}});for(let w=0;w<b.length;++w){const O=b[w];n.listenProvider_.stopListening(rp(O),bm(n,O))}}return f}(n,t,x))}return O}function Xf(n,t,e){const a=n.pendingWriteTree_,c=n.syncPointTree_.findOnPath(t,(f,_)=>{const w=da(_,ci(f,t));if(w)return w});return vE(a,t,c,e,!0)}function mo(n,t){return HE(t,n.syncPointTree_,null,Wy(n.pendingWriteTree_,Wt()))}function HE(n,t,e,r){if(xt(n.path))return $E(n,t,e,r);{const a=t.get(Wt());null==e&&null!=a&&(e=da(a,Wt()));let c=[];const f=Pt(n.path),_=n.operationForChild(f),b=t.children.get(f);if(b&&_){const w=e?e.getImmediateChild(f):null,O=wE(r,f);c=c.concat(HE(_,b,w,O))}return a&&(c=c.concat(qf(a,n,r,e))),c}}function $E(n,t,e,r){const a=t.get(Wt());null==e&&null!=a&&(e=da(a,Wt()));let c=[];return t.children.inorderTraversal((f,_)=>{const b=e?e.getImmediateChild(f):null,w=wE(r,f),O=n.operationForChild(f);O&&(c=c.concat($E(O,_,b,w)))}),a&&(c=c.concat(qf(a,n,r,e))),c}function lv(n,t){const e=t.query,r=bm(n,e);return{hashFn:()=>(function(n){return n.viewCache_.serverCache.getNode()}(t)||At.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return r?function(n,t,e){const r=GE(n,e);if(r){const a=tp(r),c=a.path,f=a.queryId,_=ci(c,t);return np(n,c,new nh(cc(f),_))}return[]}(n,e._path,r):function(n,t){return mo(n,new nh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const c=function(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const r=new Error(n+" at "+t._path.toString()+": "+e);return r.code=n.toUpperCase(),r}(a,e);return av(n,e,null,c)}}}}function bm(n,t){const e=ep(t);return n.queryToTagMap.get(e)}function ep(n){return n._path.toString()+"$"+n._queryIdentifier}function GE(n,t){return n.tagToQueryMap.get(t)}function tp(n){const t=n.indexOf("$");return(0,B.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Gt(n.substr(0,t))}}function np(n,t,e){const r=n.syncPointTree_.get(t);return(0,B.hu)(r,"Missing sync point for query tag that we're tracking"),qf(r,e,Wy(n.pendingWriteTree_,t),null)}function rp(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new((0,B.hu)(Jf,"Reference.ts has not been loaded"),Jf)(n._repo,n._path):n}class ls{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new ls(e)}node(){return this.node_}}class Cm{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=pn(this.path_,t);return new Cm(this.syncTree_,e)}node(){return Xf(this.syncTree_,this.path_)}}const WE=function(n,t,e){return n&&"object"==typeof n?((0,B.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?ET(n[".sv"],t,e):"object"==typeof n[".sv"]?wT(n[".sv"],t):void(0,B.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},ET=function(n,t,e){switch(n){case"timestamp":return e.timestamp;default:(0,B.hu)(!1,"Unexpected server value: "+n)}},wT=function(n,t,e){n.hasOwnProperty("increment")||(0,B.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,B.hu)(!1,"Unexpected increment value: "+r);const a=t.node();if((0,B.hu)(null!=a,"Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return r;const f=a.getValue();return"number"!=typeof f?r:f+r},YE=function(n,t,e,r){return Su(t,new Cm(e,n),r)},ip=function(n,t,e){return Su(n,new ls(t),e)};function Su(n,t,e){const r=n.getPriority().val(),a=WE(r,t.getImmediateChild(".priority"),e);let c;if(n.isLeafNode()){const f=n,_=WE(f.getValue(),t,e);return _!==f.getValue()||a!==f.getPriority().val()?new sc(_,Dn(a)):n}{const f=n;return c=f,a!==f.getPriority().val()&&(c=c.updatePriority(new sc(a))),f.forEachChild(gn,(_,b)=>{const w=Su(b,t.getImmediateChild(_),e);w!==b&&(c=c.updateImmediateChild(_,w))}),c}}class cv{constructor(t="",e=null,r={children:{},childCount:0}){this.name=t,this.parent=e,this.node=r}}function sp(n,t){let e=t instanceof Gt?t:new Gt(t),r=n,a=Pt(e);for(;null!==a;){const c=(0,B.DV)(r.node.children,a)||{children:{},childCount:0};r=new cv(a,r,c),e=Yt(e),a=Pt(e)}return r}function Tu(n){return n.node.value}function Em(n,t){n.node.value=t,ch(n)}function uv(n){return n.node.childCount>0}function Dm(n,t){vr(n.node.children,(e,r)=>{t(new cv(e,n,r))})}function dv(n,t,e,r){e&&!r&&t(n),Dm(n,a=>{dv(a,t,!0,r)}),e&&r&&t(n)}function Iu(n){return new Gt(null===n.parent?n.name:Iu(n.parent)+"/"+n.name)}function ch(n){null!==n.parent&&function(n,t,e){const r=function(n){return void 0===Tu(n)&&!uv(n)}(e),a=(0,B.r3)(n.node.children,t);r&&a?(delete n.node.children[t],n.node.childCount--,ch(n)):!r&&!a&&(n.node.children[t]=e.node,n.node.childCount++,ch(n))}(n.parent,n.name,n)}const KE=/[\[\].#$\/\u0000-\u001F\u007F]/,QE=/[\[\].#$\u0000-\u001F\u007F]/,Sm=10485760,op=function(n){return"string"==typeof n&&0!==n.length&&!KE.test(n)},hv=function(n){return"string"==typeof n&&0!==n.length&&!QE.test(n)},uh=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Hd(n)||n&&"object"==typeof n&&(0,B.r3)(n,".sv")},pa=function(n,t,e,r){r&&void 0===t||ap((0,B.gK)(n,"value"),t,e)},ap=function(n,t,e){const r=e instanceof Gt?new jS(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+rc(r));if("function"==typeof t)throw new Error(n+"contains a function "+rc(r)+" with contents = "+t.toString());if(Hd(t))throw new Error(n+"contains "+t.toString()+" "+rc(r));if("string"==typeof t&&t.length>Sm/3&&(0,B.ug)(t)>Sm)throw new Error(n+"contains a string greater than "+Sm+" utf8 bytes "+rc(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,c=!1;if(vr(t,(f,_)=>{if(".value"===f)a=!0;else if(".priority"!==f&&".sv"!==f&&(c=!0,!op(f)))throw new Error(n+" contains an invalid key ("+f+") "+rc(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,B.ug)(t),gu(n)})(r,f),ap(n,_,r),function(n){const t=n.parts_.pop();n.byteLength_-=(0,B.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),a&&c)throw new Error(n+' contains ".value" child '+rc(r)+" in addition to actual children.")}},XE=function(n,t,e,r){if(r&&void 0===t)return;const a=(0,B.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const c=[];vr(t,(f,_)=>{const b=new Gt(f);if(ap(a,_,pn(e,b)),".priority"===rm(b)&&!uh(_))throw new Error(a+"contains an invalid value for '"+b.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(b)}),function(n,t){let e,r;for(e=0;e<t.length;e++){r=t[e];const c=pl(r);for(let f=0;f<c.length;f++)if((".priority"!==c[f]||f!==c.length-1)&&!op(c[f]))throw new Error(n+"contains an invalid key ("+c[f]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(ZC);let a=null;for(e=0;e<t.length;e++){if(r=t[e],null!==a&&Mi(a,r))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(a,c)},fv=function(n,t,e){if(!e||void 0!==t){if(Hd(t))throw new Error((0,B.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!uh(t))throw new Error((0,B.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},lp=function(n,t,e,r){if(!(r&&void 0===e||op(e)))throw new Error((0,B.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},cp=function(n,t,e,r){if(!(r&&void 0===e||hv(e)))throw new Error((0,B.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ls=function(n,t){if(".info"===Pt(t))throw new Error(n+" failed = Can't modify data under /.info/")},ew=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!op(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),hv(n)}(e))throw new Error((0,B.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class TT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Tm(n,t){let e=null;for(let r=0;r<t.length;r++){const a=t[r],c=a.getPath();null!==e&&!ky(c,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:c}),e.events.push(a)}e&&n.eventLists_.push(e)}function pv(n,t,e){Tm(n,e),tw(n,r=>ky(r,t))}function Vs(n,t,e){Tm(n,e),tw(n,r=>Mi(r,t)||Mi(t,r))}function tw(n,t){n.recursionDepth_++;let e=!0;for(let r=0;r<n.eventLists_.length;r++){const a=n.eventLists_[r];a&&(t(a.path)?(IT(n.eventLists_[r]),n.eventLists_[r]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function IT(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const r=e.getEventRunner();jd&&kr("event: "+e.toString()),nc(r)}}}const nw="repo_interrupt";class rw{constructor(t,e,r,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=r,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new TT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=dr(),this.transactionQueueTree_=new cv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function gv(n){const e=n.infoData_.getNode(new Gt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function dh(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:gv(n)})}function mv(n,t,e,r,a){n.dataUpdateCount++;const c=new Gt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let f=[];if(a)if(r){const b=(0,B.UI)(e,w=>Dn(w));f=function(n,t,e,r){const a=GE(n,r);if(a){const c=tp(a),f=c.path,_=c.queryId,b=ci(f,t),w=un.fromObject(e);return np(n,f,new Cu(cc(_),b,w))}return[]}(n.serverSyncTree_,c,b,a)}else{const b=Dn(e);f=function(n,t,e,r){const a=GE(n,r);if(null!=a){const c=tp(a),f=c.path,_=c.queryId,b=ci(f,t);return np(n,f,new uc(cc(_),b,e))}return[]}(n.serverSyncTree_,c,b,a)}else if(r){const b=(0,B.UI)(e,w=>Dn(w));f=function(n,t,e){const r=un.fromObject(e);return mo(n,new Cu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,c,b)}else{const b=Dn(e);f=lh(n.serverSyncTree_,c,b)}let _=c;f.length>0&&(_=yl(n,c)),Vs(n.eventQueue_,_,f)}function _v(n,t){Im(n,"connected",t),!1===t&&function(n){it(n,"onDisconnectEvents");const t=dh(n),e=dr();Ri(n.onDisconnect_,Wt(),(a,c)=>{const f=YE(a,c,n.serverSyncTree_,t);Fs(e,a,f)});let r=[];Ri(e,Wt(),(a,c)=>{r=r.concat(lh(n.serverSyncTree_,a,c));const f=wv(n,a);yl(n,f)}),n.onDisconnect_=dr(),Vs(n.eventQueue_,Wt(),r)}(n)}function Im(n,t,e){const r=new Gt("/.info/"+t),a=Dn(e);n.infoData_.updateSnapshot(r,a);const c=lh(n.infoSyncTree_,r,a);Vs(n.eventQueue_,r,c)}function up(n){return n.nextWriteId_++}function dp(n,t,e,r,a){it(n,"set",{path:t.toString(),value:e,priority:r});const c=dh(n),f=Dn(e,r),_=Xf(n.serverSyncTree_,t),b=ip(f,_,c),w=up(n),O=LE(n.serverSyncTree_,t,b,w,!0);Tm(n.eventQueue_,O),n.server_.put(t.toString(),f.val(!0),(z,Y)=>{const ae="ok"===z;ae||Ai("set at "+t+" failed: "+z);const Re=dc(n.serverSyncTree_,w,!ae);Vs(n.eventQueue_,t,Re),hc(0,a,z,Y)});const x=wv(n,t);yl(n,x),Vs(n.eventQueue_,x,[])}function OT(n,t,e){n.server_.onDisconnectCancel(t.toString(),(r,a)=>{"ok"===r&&Qd(n.onDisconnect_,t),hc(0,e,r,a)})}function Mu(n,t,e,r){const a=Dn(e);n.server_.onDisconnectPut(t.toString(),a.val(!0),(c,f)=>{"ok"===c&&Fs(n.onDisconnect_,t,a),hc(0,r,c,f)})}function Am(n,t,e){let r;r=".info"===Pt(t._path)?av(n.infoSyncTree_,t,e):av(n.serverSyncTree_,t,e),pv(n.eventQueue_,t._path,r)}function bv(n){n.persistentConnection_&&n.persistentConnection_.interrupt(nw)}function it(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),kr(e,...t)}function hc(n,t,e,r){t&&nc(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let c=a;r&&(c+=": "+r);const f=new Error(c);f.code=a,t(f)}})}function Cv(n,t,e){return Xf(n.serverSyncTree_,t,e)||At.EMPTY_NODE}function Ou(n,t=n.transactionQueueTree_){if(t||hh(n,t),Tu(t)){const e=PT(n,t);(0,B.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function(n,t,e){const r=e.map(w=>w.currentWriteId),a=Cv(n,t,r);let c=a;const f=a.hash();for(let w=0;w<e.length;w++){const O=e[w];(0,B.hu)(0===O.status,"tryToSendTransactionQueue_: items in queue should all be run."),O.status=1,O.retryCount++;const x=ci(t,O.path);c=c.updateChild(x,O.currentOutputSnapshotRaw)}const _=c.val(!0),b=t;n.server_.put(b.toString(),_,w=>{it(n,"transaction put response",{path:b.toString(),status:w});let O=[];if("ok"===w){const x=[];for(let z=0;z<e.length;z++)e[z].status=2,O=O.concat(dc(n.serverSyncTree_,e[z].currentWriteId)),e[z].onComplete&&x.push(()=>e[z].onComplete(null,!0,e[z].currentOutputSnapshotResolved)),e[z].unwatcher();hh(n,sp(n.transactionQueueTree_,t)),Ou(n,n.transactionQueueTree_),Vs(n.eventQueue_,t,O);for(let z=0;z<x.length;z++)nc(x[z])}else{if("datastale"===w)for(let x=0;x<e.length;x++)e[x].status=3===e[x].status?4:0;else{Ai("transaction at "+b.toString()+" failed: "+w);for(let x=0;x<e.length;x++)e[x].status=4,e[x].abortReason=w}yl(n,t)}},f)}(n,Iu(t),e)}else uv(t)&&Dm(t,e=>{Ou(n,e)})}function yl(n,t){const e=On(n,t),r=Iu(e);return function(n,t,e){if(0===t.length)return;const r=[];let a=[];const f=t.filter(_=>0===_.status).map(_=>_.currentWriteId);for(let _=0;_<t.length;_++){const b=t[_],w=ci(e,b.path);let x,O=!1;if((0,B.hu)(null!==w,"rerunTransactionsUnderNode_: relativePath should not be null."),4===b.status)O=!0,x=b.abortReason,a=a.concat(dc(n.serverSyncTree_,b.currentWriteId,!0));else if(0===b.status)if(b.retryCount>=25)O=!0,x="maxretry",a=a.concat(dc(n.serverSyncTree_,b.currentWriteId,!0));else{const z=Cv(n,b.path,f);b.currentInputSnapshot=z;const Y=t[_].update(z.val());if(void 0!==Y){ap("transaction failed: Data returned ",Y,b.path);let ae=Dn(Y);"object"==typeof Y&&null!=Y&&(0,B.r3)(Y,".priority")||(ae=ae.updatePriority(z.getPriority()));const Ve=b.currentWriteId,qe=dh(n),rt=ip(ae,z,qe);b.currentOutputSnapshotRaw=ae,b.currentOutputSnapshotResolved=rt,b.currentWriteId=up(n),f.splice(f.indexOf(Ve),1),a=a.concat(LE(n.serverSyncTree_,b.path,rt,b.currentWriteId,b.applyLocally)),a=a.concat(dc(n.serverSyncTree_,Ve,!0))}else O=!0,x="nodata",a=a.concat(dc(n.serverSyncTree_,b.currentWriteId,!0))}Vs(n.eventQueue_,e,a),a=[],O&&(t[_].status=2,setTimeout(t[_].unwatcher,Math.floor(0)),t[_].onComplete&&r.push("nodata"===x?()=>t[_].onComplete(null,!1,t[_].currentInputSnapshot):()=>t[_].onComplete(new Error(x),!1,null)))}hh(n,n.transactionQueueTree_);for(let _=0;_<r.length;_++)nc(r[_]);Ou(n,n.transactionQueueTree_)}(n,PT(n,e),r),r}function On(n,t){let e,r=n.transactionQueueTree_;for(e=Pt(t);null!==e&&void 0===Tu(r);)r=sp(r,e),e=Pt(t=Yt(t));return r}function PT(n,t){const e=[];return Ev(n,t,e),e.sort((r,a)=>r.order-a.order),e}function Ev(n,t,e){const r=Tu(t);if(r)for(let a=0;a<r.length;a++)e.push(r[a]);Dm(t,a=>{Ev(n,a,e)})}function hh(n,t){const e=Tu(t);if(e){let r=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[r]=e[a],r++);e.length=r,Em(t,e.length>0?e:void 0)}Dm(t,r=>{hh(n,r)})}function wv(n,t){const e=Iu(On(n,t)),r=sp(n.transactionQueueTree_,t);return function(n,t,e){let r=n.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,a=>{Om(n,a)}),Om(n,r),dv(r,a=>{Om(n,a)}),e}function Om(n,t){const e=Tu(t);if(e){const r=[];let a=[],c=-1;for(let f=0;f<e.length;f++)3===e[f].status||(1===e[f].status?((0,B.hu)(c===f-1,"All SENT items should be at beginning of queue."),c=f,e[f].status=3,e[f].abortReason="set"):((0,B.hu)(0===e[f].status,"Unexpected transaction status in abort"),e[f].unwatcher(),a=a.concat(dc(n.serverSyncTree_,e[f].currentWriteId,!0)),e[f].onComplete&&r.push(e[f].onComplete.bind(null,new Error("set"),!1,null))));-1===c?Em(t,void 0):e.length=c+1,Vs(n.eventQueue_,Iu(t),a);for(let f=0;f<r.length;f++)nc(r[f])}}const Rm=function(n,t){const e=kT(n),r=e.namespace;return"firebase.com"===e.domain&&dl(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==e.domain&&dl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ai("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Xg(e.host,e.secure,r,t,"ws"===e.scheme||"wss"===e.scheme,"",r!==e.subdomain),path:new Gt(e.pathString)}},kT=function(n){let t="",e="",r="",a="",c="",f=!0,_="https",b=443;if("string"==typeof n){let w=n.indexOf("//");w>=0&&(_=n.substring(0,w-1),n=n.substring(w+2));let O=n.indexOf("/");-1===O&&(O=n.length);let x=n.indexOf("?");-1===x&&(x=n.length),t=n.substring(0,Math.min(O,x)),O<x&&(a=function(n){let t="";const e=n.split("/");for(let r=0;r<e.length;r++)if(e[r].length>0){let a=e[r];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch(c){}t+="/"+a}return t}(n.substring(O,x)));const z=function(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const r=e.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ai(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,x)));w=t.indexOf(":"),w>=0?(f="https"===_||"wss"===_,b=parseInt(t.substring(w+1),10)):w=t.length;const Y=t.slice(0,w);if("localhost"===Y.toLowerCase())e="localhost";else if(Y.split(".").length<=2)e=Y;else{const ae=t.indexOf(".");r=t.substring(0,ae).toLowerCase(),e=t.substring(ae+1),c=r}"ns"in z&&(c=z.ns)}return{host:t,port:b,domain:e,subdomain:r,secure:f,scheme:_,pathString:a,namespace:c}};class lw{constructor(t,e,r,a){this.eventType=t,this.eventRegistration=e,this.snapshot=r,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,B.Pz)(this.snapshot.exportVal())}}class cw{constructor(t,e,r){this.eventRegistration=t,this.error=e,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class fh{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,B.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class uw{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new B.BH;return OT(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Ls("OnDisconnect.remove",this._path);const t=new B.BH;return Mu(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Ls("OnDisconnect.set",this._path),pa("OnDisconnect.set",t,this._path,!1);const e=new B.BH;return Mu(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Ls("OnDisconnect.setWithPriority",this._path),pa("OnDisconnect.setWithPriority",t,this._path,!1),fv("OnDisconnect.setWithPriority",e,!1);const r=new B.BH;return function(n,t,e,r,a){const c=Dn(e,r);n.server_.onDisconnectPut(t.toString(),c.val(!0),(f,_)=>{"ok"===f&&Fs(n.onDisconnect_,t,c),hc(0,a,f,_)})}(this._repo,this._path,t,e,r.wrapCallback(()=>{})),r.promise}update(t){Ls("OnDisconnect.update",this._path),XE("OnDisconnect.update",t,this._path,!1);const e=new B.BH;return function(n,t,e,r){if((0,B.xb)(e))return kr("onDisconnect().update() called with empty data.  Don't do anything."),void hc(0,r,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(a,c)=>{"ok"===a&&vr(e,(f,_)=>{const b=Dn(_);Fs(n.onDisconnect_,pn(t,f),b)}),hc(0,r,a,c)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class xi{constructor(t,e,r,a){this._repo=t,this._path=e,this._queryParams=r,this._orderByCalled=a}get key(){return xt(this._path)?null:rm(this._path)}get ref(){return new cs(this._repo,this._path)}get _queryIdentifier(){const t=um(this._queryParams),e=oa(t);return"{}"===e?"default":e}get _queryObject(){return um(this._queryParams)}isEqual(t){if(!((t=(0,B.m9)(t))instanceof xi))return!1;const e=this._repo===t._repo,r=ky(this._path,t._path);return e&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function xm(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function yo(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Ns){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==sa)throw new Error(r);if("string"!=typeof t)throw new Error(a)}if(n.hasEnd()){if(n.getIndexEndName()!==ks)throw new Error(r);if("string"!=typeof e)throw new Error(a)}}else if(n.getIndex()===gn){if(null!=t&&!uh(t)||null!=e&&!uh(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,B.hu)(n.getIndex()instanceof om||n.getIndex()===ss,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function hp(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class cs extends xi{constructor(t,e){super(t,e,new am,!1)}get parent(){const t=YC(this._path);return null===t?null:new cs(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class fc{constructor(t,e,r){this._node=t,this.ref=e,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Gt(t),r=vo(this.ref,t);return new fc(this._node.getChild(e),r,gn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,a)=>t(new fc(a,vo(this.ref,r),gn)))}hasChild(t){const e=new Gt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function dw(n,t){return(n=(0,B.m9)(n))._checkNotDeleted("ref"),void 0!==t?vo(n._root,t):n._root}function ph(n,t){(n=(0,B.m9)(n))._checkNotDeleted("refFromURL");const e=Rm(t,n._repo.repoInfo_.nodeAdmin);ew("refFromURL",e);const r=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&dl("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),dw(n,e.path.toString())}function vo(n,t){return null===Pt((n=(0,B.m9)(n))._path)?((e=t)&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),cp("child","path",e,!1)):cp("child","path",t,!1),new cs(n._repo,pn(n._path,t));var e}function Pm(n,t){n=(0,B.m9)(n),Ls("set",n._path),pa("set",t,n._path,!1);const e=new B.BH;return dp(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function LT(n,t){XE("update",t,n._path,!1);const e=new B.BH;return function(n,t,e,r){it(n,"update",{path:t.toString(),value:e});let a=!0;const c=dh(n),f={};if(vr(e,(_,b)=>{a=!1,f[_]=YE(pn(t,_),Dn(b),n.serverSyncTree_,c)}),a)kr("update() called with empty data.  Don't do anything."),hc(0,r,"ok",void 0);else{const _=up(n),b=function(n,t,e,r){!function(n,t,e,r){(0,B.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:r,visible:!0}),n.visibleWrites=Gy(n.visibleWrites,t,e),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r);const a=un.fromObject(e);return mo(n,new Cu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}(n.serverSyncTree_,t,f,_);Tm(n.eventQueue_,b),n.server_.merge(t.toString(),e,(w,O)=>{const x="ok"===w;x||Ai("update at "+t+" failed: "+w);const z=dc(n.serverSyncTree_,_,!x),Y=z.length>0?yl(n,t):t;Vs(n.eventQueue_,Y,z),hc(0,r,w,O)}),vr(e,w=>{const O=wv(n,pn(t,w));yl(n,O)}),Vs(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function pw(n){return function(n,t){const e=function(n,t){const e=t._path;let r=null;n.syncPointTree_.foreachOnPath(e,(w,O)=>{const x=ci(w,e);r=r||da(O,x)});let a=n.syncPointTree_.get(e);a?r=r||da(a,Wt()):(a=new vm,n.syncPointTree_=n.syncPointTree_.set(e,a));const c=null!=r,f=c?new ml(r,!0,!1):null;return function(n){return zf(n.viewCache_)}(rv(a,t,Wy(n.pendingWriteTree_,t._path),c?f.getNode():At.EMPTY_NODE,c))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(r=>{const a=Dn(r).withIndex(t._queryParams.getIndex()),c=lh(n.serverSyncTree_,t._path,a);return pv(n.eventQueue_,t._path,c),Promise.resolve(a)},r=>(it(n,"get for query "+(0,B.Pz)(t)+" failed: "+r),Promise.reject(new Error(r))))}((n=(0,B.m9)(n))._repo,n).then(t=>new fc(t,new cs(n._repo,n._path),n._queryParams.getIndex()))}class km{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const r=e._queryParams.getIndex();return new lw("value",this,new fc(t.snapshotNode,new cs(e._repo,e._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new cw(this,t,e):null}matches(t){return t instanceof km&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Nm{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new cw(this,t,e):null}createEvent(t,e){(0,B.hu)(null!=t.childName,"Child events should have a childName.");const r=vo(new cs(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new lw(t.type,this,new fc(t.snapshotNode,r,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Nm&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Fm(n,t,e,r,a){let c;if("object"==typeof r&&(c=void 0,a=r),"function"==typeof r&&(c=r),a&&a.onlyOnce){const b=e,w=(O,x)=>{Am(n._repo,n,_),b(O,x)};w.userCallback=e.userCallback,w.context=e.context,e=w}const f=new fh(e,c||void 0),_="value"===t?new km(f):new Nm(t,f);return function(n,t,e){let r;r=".info"===Pt(t._path)?UE(n.infoSyncTree_,t,e):UE(n.serverSyncTree_,t,e),pv(n.eventQueue_,t._path,r)}(n._repo,n,_),()=>Am(n._repo,n,_)}function gw(n,t,e,r){return Fm(n,"value",t,e,r)}function VT(n,t,e,r){return Fm(n,"child_added",t,e,r)}function BT(n,t,e,r){return Fm(n,"child_changed",t,e,r)}function Dv(n,t,e,r){return Fm(n,"child_moved",t,e,r)}function fp(n,t,e,r){return Fm(n,"child_removed",t,e,r)}function mw(n,t,e){let r=null;const a=e?new fh(e):null;"value"===t?r=new km(a):t&&(r=new Nm(t,a)),Am(n._repo,n,r)}class bo{}class Sv extends bo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){pa("endAt",this._value,t._path,!0);const e=os(t._queryParams,this._value,this._key);if(hp(e),yo(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new xi(t._repo,t._path,e,t._orderByCalled)}}class UT extends bo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){pa("endBefore",this._value,t._path,!1);const e=function(n,t,e){let r,a;return n.index_===Ns?("string"==typeof t&&(t=aE(t)),a=os(n,t,e)):(r=null==e?sa:aE(e),a=os(n,t,r)),a.endBeforeSet_=!0,a}(t._queryParams,this._value,this._key);if(hp(e),yo(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new xi(t._repo,t._path,e,t._orderByCalled)}}class _w extends bo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){pa("startAt",this._value,t._path,!0);const e=oc(t._queryParams,this._value,this._key);if(hp(e),yo(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new xi(t._repo,t._path,e,t._orderByCalled)}}class $T extends bo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){pa("startAfter",this._value,t._path,!1);const e=function(n,t,e){let r;if(n.index_===Ns)"string"==typeof t&&(t=Uy(t)),r=oc(n,t,e);else{let a;a=null==e?ks:Uy(e),r=oc(n,t,a)}return r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(hp(e),yo(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new xi(t._repo,t._path,e,t._orderByCalled)}}class GT extends bo{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new xi(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class gh extends bo{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new xi(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class vw extends bo{constructor(t){super(),this._path=t}_apply(t){xm(t,"orderByChild");const e=new Gt(this._path);if(xt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new om(e),a=cm(t._queryParams,r);return yo(a),new xi(t._repo,t._path,a,!0)}}class bw extends bo{_apply(t){xm(t,"orderByKey");const e=cm(t._queryParams,Ns);return yo(e),new xi(t._repo,t._path,e,!0)}}class Cw extends bo{_apply(t){xm(t,"orderByPriority");const e=cm(t._queryParams,gn);return yo(e),new xi(t._repo,t._path,e,!0)}}class Tv extends bo{_apply(t){xm(t,"orderByValue");const e=cm(t._queryParams,ss);return yo(e),new xi(t._repo,t._path,e,!0)}}class Ew extends bo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(pa("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Sv(this._value,this._key)._apply(new _w(this._value,this._key)._apply(t))}}function Co(n,...t){let e=(0,B.m9)(n);for(const r of t)e=r._apply(e);return e}(function(n){(0,B.hu)(!ah,"__referenceConstructor has already been defined"),ah=n})(cs),function(n){(0,B.hu)(!Jf,"__referenceConstructor has already been defined"),Jf=n}(cs);const Iv={};function Av(n,t,e,r,a){let c=r||n.options.databaseURL;void 0===c&&(n.options.projectId||dl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),kr("Using default host for project ",n.options.projectId),c=`${n.options.projectId}-default-rtdb.firebaseio.com`);let b,w,f=Rm(c,a),_=f.repoInfo;"undefined"!=typeof process&&(w=process.env.FIREBASE_DATABASE_EMULATOR_HOST),w?(b=!0,c=`http://${w}?ns=${_.namespace}`,f=Rm(c,a),_=f.repoInfo):b=!f.repoInfo.secure;const O=a&&b?new zd(zd.OWNER):new MS(n.name,n.options,t);ew("Invalid Firebase Database URL",f),xt(f.path)||dl("Database URL must point to the root of a Firebase Database (not including a child path).");const x=function(n,t,e,r){let a=Iv[t.name];a||(a={},Iv[t.name]=a);let c=a[n.toURLString()];return c&&dl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new rw(n,false,e,r),a[n.toURLString()]=c,c}(_,n,O,new Gd(n.name,e));return new nI(x,n)}class nI{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(n,t,e){if(n.stats_=kC(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new as(n.repoInfo_,(r,a,c,f)=>{mv(n,r,a,c,f)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>_v(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,B.Pz)(e)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new ic(n.repoInfo_,t,(r,a,c,f)=>{mv(n,r,a,c,f)},r=>{_v(n,r)},r=>{!function(n,t){vr(t,(e,r)=>{Im(n,e,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function(n,t){const e=n.toString();return Cy[e]||(Cy[e]=t()),Cy[e]}(n.repoInfo_,()=>new th(n.stats_,n.server_)),n.infoData_=new jf,n.infoSyncTree_=new ov({startListening:(r,a,c,f)=>{let _=[];const b=n.infoData_.getNode(r._path);return b.isEmpty()||(_=lh(n.infoSyncTree_,r._path,b),setTimeout(()=>{f("ok")},0)),_},stopListening:()=>{}}),Im(n,"connected",!1),n.serverSyncTree_=new ov({startListening:(r,a,c,f)=>(n.server_.listen(r,c,a,(_,b)=>{const w=f(_,b);Vs(n.eventQueue_,r._path,w)}),[]),stopListening:(r,a)=>{n.server_.unlisten(r,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new cs(this._repo,Wt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(n,t){const e=Iv[t];(!e||e[n.key]!==n)&&dl(`Database ${t}(${n.repoInfo_}) has already been deleted.`),bv(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&dl("Cannot call "+t+" on a deleted database.")}}function Dw(n,t){DS(n,t)}class lI{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ic.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},ic.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},vS(ia.SDK_VERSION),(0,ia._registerComponent)(new Bd.wA("database",(t,{instanceIdentifier:e})=>Av(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,ia.registerVersion)(yS,"0.12.5",void 0),(0,ia.registerVersion)(yS,"0.12.5","esm2017");const Ov=new Ud.Yd("@firebase/database-compat"),Mw=function(n){Ov.warn("FIREBASE WARNING: "+n)};class dI{constructor(t){this._delegate=t}cancel(t){(0,B.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,B.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),r=>t(r)),e}remove(t){(0,B.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,B.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),r=>t(r)),e}set(t,e){(0,B.Dv)("OnDisconnect.set",1,2,arguments.length),(0,B.Wj)("OnDisconnect.set","onComplete",e,!0);const r=this._delegate.set(t);return e&&r.then(()=>e(null),a=>e(a)),r}setWithPriority(t,e,r){(0,B.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,B.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const a=this._delegate.setWithPriority(t,e);return r&&a.then(()=>r(null),c=>r(c)),a}update(t,e){if((0,B.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let c=0;c<t.length;++c)a[""+c]=t[c];t=a,Mw("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,B.Wj)("OnDisconnect.update","onComplete",e,!0);const r=this._delegate.update(t);return e&&r.then(()=>e(null),a=>e(a)),r}}class Ow{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,B.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class pc{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,B.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,B.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,B.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,B.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,B.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),cp("DataSnapshot.child","path",t,!1),new pc(this._database,this._delegate.child(t))}hasChild(t){return(0,B.Dv)("DataSnapshot.hasChild",1,1,arguments.length),cp("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,B.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,B.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,B.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new pc(this._database,e)))}hasChildren(){return(0,B.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,B.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,B.Dv)("DataSnapshot.ref",0,0,arguments.length),new Pi(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class br{constructor(t,e){this.database=t,this._delegate=e}on(t,e,r,a){var c;(0,B.Dv)("Query.on",2,4,arguments.length),(0,B.Wj)("Query.on","callback",e,!1);const f=br.getCancelAndContextArgs_("Query.on",r,a),_=(w,O)=>{e.call(f.context,new pc(this.database,w),O)};_.userCallback=e,_.context=f.context;const b=null===(c=f.cancel)||void 0===c?void 0:c.bind(f.context);switch(t){case"value":return gw(this._delegate,_,b),e;case"child_added":return VT(this._delegate,_,b),e;case"child_removed":return fp(this._delegate,_,b),e;case"child_changed":return BT(this._delegate,_,b),e;case"child_moved":return Dv(this._delegate,_,b),e;default:throw new Error((0,B.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,r){if((0,B.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,B.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,B.Wj)("Query.off","callback",e,!0),(0,B.lb)("Query.off","context",r,!0),e){const a=()=>{};a.userCallback=e,a.context=r,mw(this._delegate,t,a)}else mw(this._delegate,t)}get(){return pw(this._delegate).then(t=>new pc(this.database,t))}once(t,e,r,a){(0,B.Dv)("Query.once",1,4,arguments.length),(0,B.Wj)("Query.once","callback",e,!0);const c=br.getCancelAndContextArgs_("Query.once",r,a),f=new B.BH,_=(w,O)=>{const x=new pc(this.database,w);e&&e.call(c.context,x,O),f.resolve(x)};_.userCallback=e,_.context=c.context;const b=w=>{c.cancel&&c.cancel.call(c.context,w),f.reject(w)};switch(t){case"value":gw(this._delegate,_,b,{onlyOnce:!0});break;case"child_added":VT(this._delegate,_,b,{onlyOnce:!0});break;case"child_removed":fp(this._delegate,_,b,{onlyOnce:!0});break;case"child_changed":BT(this._delegate,_,b,{onlyOnce:!0});break;case"child_moved":Dv(this._delegate,_,b,{onlyOnce:!0});break;default:throw new Error((0,B.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return f.promise}limitToFirst(t){return(0,B.Dv)("Query.limitToFirst",1,1,arguments.length),new br(this.database,Co(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new GT(n)}(t)))}limitToLast(t){return(0,B.Dv)("Query.limitToLast",1,1,arguments.length),new br(this.database,Co(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new gh(n)}(t)))}orderByChild(t){return(0,B.Dv)("Query.orderByChild",1,1,arguments.length),new br(this.database,Co(this._delegate,function(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return cp("orderByChild","path",n,!1),new vw(n)}(t)))}orderByKey(){return(0,B.Dv)("Query.orderByKey",0,0,arguments.length),new br(this.database,Co(this._delegate,new bw))}orderByPriority(){return(0,B.Dv)("Query.orderByPriority",0,0,arguments.length),new br(this.database,Co(this._delegate,new Cw))}orderByValue(){return(0,B.Dv)("Query.orderByValue",0,0,arguments.length),new br(this.database,Co(this._delegate,new Tv))}startAt(t=null,e){return(0,B.Dv)("Query.startAt",0,2,arguments.length),new br(this.database,Co(this._delegate,function(n=null,t){return lp("startAt","key",t,!0),new _w(n,t)}(t,e)))}startAfter(t=null,e){return(0,B.Dv)("Query.startAfter",0,2,arguments.length),new br(this.database,Co(this._delegate,function(n,t){return lp("startAfter","key",t,!0),new $T(n,t)}(t,e)))}endAt(t=null,e){return(0,B.Dv)("Query.endAt",0,2,arguments.length),new br(this.database,Co(this._delegate,function(n,t){return lp("endAt","key",t,!0),new Sv(n,t)}(t,e)))}endBefore(t=null,e){return(0,B.Dv)("Query.endBefore",0,2,arguments.length),new br(this.database,Co(this._delegate,function(n,t){return lp("endBefore","key",t,!0),new UT(n,t)}(t,e)))}equalTo(t,e){return(0,B.Dv)("Query.equalTo",1,2,arguments.length),new br(this.database,Co(this._delegate,function(n,t){return lp("equalTo","key",t,!0),new Ew(n,t)}(t,e)))}toString(){return(0,B.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,B.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,B.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof br))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,r){const a={cancel:void 0,context:void 0};if(e&&r)a.cancel=e,(0,B.Wj)(t,"cancel",a.cancel,!0),a.context=r,(0,B.lb)(t,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,B.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new Pi(this.database,new cs(this._delegate._repo,this._delegate._path))}}class Pi extends br{constructor(t,e){super(t,new xi(e._repo,e._path,new am,!1)),this.database=t,this._delegate=e}getKey(){return(0,B.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,B.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Pi(this.database,vo(this._delegate,t))}getParent(){(0,B.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Pi(this.database,t):null}getRoot(){return(0,B.Dv)("Reference.root",0,0,arguments.length),new Pi(this.database,this._delegate.root)}set(t,e){(0,B.Dv)("Reference.set",1,2,arguments.length),(0,B.Wj)("Reference.set","onComplete",e,!0);const r=Pm(this._delegate,t);return e&&r.then(()=>e(null),a=>e(a)),r}update(t,e){if((0,B.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let c=0;c<t.length;++c)a[""+c]=t[c];t=a,Mw("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ls("Reference.update",this._delegate._path),(0,B.Wj)("Reference.update","onComplete",e,!0);const r=LT(this._delegate,t);return e&&r.then(()=>e(null),a=>e(a)),r}setWithPriority(t,e,r){(0,B.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,B.Wj)("Reference.setWithPriority","onComplete",r,!0);const a=function(n,t,e){if(Ls("setWithPriority",n._path),pa("setWithPriority",t,n._path,!1),fv("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new B.BH;return dp(n._repo,n._path,t,e,r.wrapCallback(()=>{})),r.promise}(this._delegate,t,e);return r&&a.then(()=>r(null),c=>r(c)),a}remove(t){(0,B.Dv)("Reference.remove",0,1,arguments.length),(0,B.Wj)("Reference.remove","onComplete",t,!0);const e=function(n){return Ls("remove",n._path),Pm(n,null)}(this._delegate);return t&&e.then(()=>t(null),r=>t(r)),e}transaction(t,e,r){(0,B.Dv)("Reference.transaction",1,3,arguments.length),(0,B.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,B.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,r){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,B.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const a=function(n,t,e){var r;if(n=(0,B.m9)(n),Ls("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const a=null===(r=null==e?void 0:e.applyLocally)||void 0===r||r,c=new B.BH,_=gw(n,()=>{});return function(n,t,e,r,a,c){it(n,"transaction on "+t);const f={path:t,update:e,onComplete:r,status:null,order:CS(),applyLocally:c,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},_=Cv(n,t,void 0);f.currentInputSnapshot=_;const b=f.update(_.val());if(void 0===b)f.unwatcher(),f.currentOutputSnapshotRaw=null,f.currentOutputSnapshotResolved=null,f.onComplete&&f.onComplete(null,!1,f.currentInputSnapshot);else{ap("transaction failed: Data returned ",b,f.path),f.status=0;const w=sp(n.transactionQueueTree_,t),O=Tu(w)||[];let x;O.push(f),Em(w,O),"object"==typeof b&&null!==b&&(0,B.r3)(b,".priority")?(x=(0,B.DV)(b,".priority"),(0,B.hu)(uh(x),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):x=(Xf(n.serverSyncTree_,t)||At.EMPTY_NODE).getPriority().val();const z=dh(n),Y=Dn(b,x),ae=ip(Y,_,z);f.currentOutputSnapshotRaw=Y,f.currentOutputSnapshotResolved=ae,f.currentWriteId=up(n);const Re=LE(n.serverSyncTree_,t,ae,f.currentWriteId,f.applyLocally);Vs(n.eventQueue_,t,Re),Ou(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(b,w,O)=>{let x=null;b?c.reject(b):(x=new fc(O,new cs(n._repo,n._path),gn),c.resolve(new lI(w,x)))},_,a),c.promise}(this._delegate,t,{applyLocally:r}).then(c=>new Ow(c.committed,new pc(this.database,c.snapshot)));return e&&a.then(c=>e(null,c.committed,c.snapshot),c=>e(c,!1,null)),a}setPriority(t,e){(0,B.Dv)("Reference.setPriority",1,2,arguments.length),(0,B.Wj)("Reference.setPriority","onComplete",e,!0);const r=function(n,t){n=(0,B.m9)(n),Ls("setPriority",n._path),fv("setPriority",t,!1);const e=new B.BH;return dp(n._repo,pn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&r.then(()=>e(null),a=>e(a)),r}push(t,e){(0,B.Dv)("Reference.push",0,2,arguments.length),(0,B.Wj)("Reference.push","onComplete",e,!0);const r=function(n,t){n=(0,B.m9)(n),Ls("push",n._path),pa("push",t,n._path,!0);const e=gv(n._repo),r=oE(e),a=vo(n,r),c=vo(n,r);let f;return f=null!=t?Pm(c,t).then(()=>c):Promise.resolve(c),a.then=f.then.bind(f),a.catch=f.then.bind(f,void 0),a}(this._delegate,t),a=r.then(f=>new Pi(this.database,f));e&&a.then(()=>e(null),f=>e(f));const c=new Pi(this.database,r);return c.then=a.then.bind(a),c.catch=a.catch.bind(a,void 0),c}onDisconnect(){return Ls("Reference.onDisconnect",this._delegate._path),new dI(new uw(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class mh{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,r={}){!function(n,t,e,r={}){(n=(0,B.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&dl("Cannot call useEmulator() after instance has already been initialized.");const a=n._repoInternal;let c;if(a.repoInfo_.nodeAdmin)r.mockUserToken&&dl('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new zd(zd.OWNER);else if(r.mockUserToken){const f="string"==typeof r.mockUserToken?r.mockUserToken:(0,B.Sg)(r.mockUserToken,n.app.options.projectId);c=new zd(f)}!function(n,t,e,r){n.repoInfo_=new Xg(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(a,t,e,c)}(this._delegate,t,e,r)}ref(t){if((0,B.Dv)("database.ref",0,1,arguments.length),t instanceof Pi){const e=ph(this._delegate,t.toString());return new Pi(this,e)}{const e=dw(this._delegate,t);return new Pi(this,e)}}refFromURL(t){(0,B.Dv)("database.refFromURL",1,1,arguments.length);const r=ph(this._delegate,t);return new Pi(this,r)}goOffline(){return(0,B.Dv)("database.goOffline",0,0,arguments.length),function(n){(n=(0,B.m9)(n))._checkNotDeleted("goOffline"),bv(n._repo)}(this._delegate)}goOnline(){return(0,B.Dv)("database.goOnline",0,0,arguments.length),function(n){(n=(0,B.m9)(n))._checkNotDeleted("goOnline"),function(n){n.persistentConnection_&&n.persistentConnection_.resume(nw)}(n._repo)}(this._delegate)}}mh.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:n=>function(n){return{".sv":{increment:n}}}(n)};var hI=Object.freeze({__proto__:null,initStandalone:function({app:n,url:t,version:e,customAuthImpl:r,namespace:a,nodeAdmin:c=!1}){vS(e);const f=new Bd.zt("auth-internal",new Bd.H0("database-standalone"));return f.setComponent(new Bd.wA("auth-internal",()=>r,"PRIVATE")),{instance:new mh(Av(n,f,void 0,t,c),n),namespace:a}}});const _h=mh.ServerValue;!function(n){n.INTERNAL.registerComponent(new Bd.wA("database-compat",(t,{instanceIdentifier:e})=>{const r=t.getProvider("app-compat").getImmediate(),a=t.getProvider("database").getImmediate({identifier:e});return new mh(a,r)},"PUBLIC").setServiceProps({Reference:Pi,Query:br,Database:mh,DataSnapshot:pc,enableLogging:Dw,INTERNAL:hI,ServerValue:_h}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.5")}(TC.Z);var Ru=V(309),Vm=V(7771),fI=V(8858);class yh extends ht.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new pI(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,r=e?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,c=r.length;let f;if(this.closed)throw new qa.N;if(this.isStopped||this.hasError?f=Ms.w.EMPTY:(this.observers.push(t),f=new fI.W(this,t)),a&&t.add(t=new Ru.ht(t,a)),e)for(let _=0;_<c&&!t.closed;_++)t.next(r[_]);else for(let _=0;_<c&&!t.closed;_++)t.next(r[_].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),f}_getNow(){return(this.scheduler||Vm.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,r=this._windowTime,a=this._events,c=a.length;let f=0;for(;f<c&&!(t-a[f].time<r);)f++;return c>e&&(f=Math.max(f,c-e)),f>0&&a.splice(0,f),a}}class pI{constructor(t,e){this.time=t,this.value=e}}function Rw(n,t,e){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:t,refCount:!1,scheduler:e},a=>a.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:r}){let a,f,c=0,_=!1,b=!1;return function(O){let x;c++,!a||_?(_=!1,a=new yh(n,t,r),x=a.subscribe(this),f=O.subscribe({next(z){a.next(z)},error(z){_=!0,a.error(z)},complete(){b=!0,f=void 0,a.complete()}}),b&&(f=void 0)):x=a.subscribe(this),this.add(()=>{c--,x.unsubscribe(),x=void 0,f&&!b&&e&&0===c&&(f.unsubscribe(),f=void 0,a=void 0)})}}(r))}function Eo(n,t){return t?Yn(()=>n,t):Yn(()=>n)}var Bm=V(9673);V(2329);const kv=new Map,kw={activated:!1,tokenObservers:[]},bI={initialized:!1,enabled:!1};function Cr(n){return kv.get(n)||kw}function Bs(n,t){kv.set(n,t)}function Pu(){return bI}class EI{constructor(t,e,r,a,c){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=a,a>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,li.Z)(function*(){e.stop();try{e.pending=new B.BH,yield function(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new B.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ui=new B.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Fw(n){if(!Cr(n).activated)throw ui.create("use-before-activation",{appName:n.name})}function Lv(n,t){return Vv.apply(this,arguments)}function Vv(){return(Vv=(0,li.Z)(function*({url:n,body:t},e){const r={"Content-Type":"application/json"},a=e.getImmediate({optional:!0});a&&(r["X-Firebase-Client"]=a.getPlatformInfoString());const c={method:"POST",body:JSON.stringify(t),headers:r};let f,_;try{f=yield fetch(n,c)}catch(x){throw ui.create("fetch-network-error",{originalErrorMessage:x.message})}if(200!==f.status)throw ui.create("fetch-status-error",{httpStatus:f.status});try{_=yield f.json()}catch(x){throw ui.create("fetch-parse-error",{originalErrorMessage:x.message})}const b=_.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw ui.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const w=1e3*Number(b[1]),O=Date.now();return{token:_.attestationToken,expireTimeMillis:O+w,issuedAtTimeMillis:O}})).apply(this,arguments)}function gp(n,t){const{projectId:e,appId:r,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${r}:exchangeDebugToken?key=${a}`,body:{debug_token:t}}}const mp="firebase-app-check-store";let ga=null;function Bv(){return ga||(ga=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=r=>{n(r.target.result)},e.onerror=r=>{var a;t(ui.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},e.onupgradeneeded=r=>{const a=r.target.result;switch(r.oldVersion){case 0:a.createObjectStore(mp,{keyPath:"compositeKey"})}}}catch(e){t(ui.create("storage-open",{originalErrorMessage:e.message}))}}),ga)}function Uv(){return(Uv=(0,li.Z)(function*(n,t){const r=(yield Bv()).transaction(mp,"readwrite"),c=r.objectStore(mp).put({compositeKey:n,value:t});return new Promise((f,_)=>{c.onsuccess=b=>{f()},r.onerror=b=>{var w;_(ui.create("storage-set",{originalErrorMessage:null===(w=b.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const bh=new Ud.Yd("@firebase/app-check");function Bw(n,t){return(0,B.hl)()?function(n,t){return function(n,t){return Uv.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{bh.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Gv(){return Pu().enabled}function yp(){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,li.Z)(function*(){const n=Pu();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const vp={error:"UNKNOWN_ERROR"};function en(n){return B.US.encodeString(JSON.stringify(n),!1)}function wo(n){return gc.apply(this,arguments)}function gc(){return(gc=(0,li.Z)(function*(n,t=!1){const e=n.app;Fw(e);const r=Cr(e);let c,a=r.token;if(!a){const b=yield r.cachedTokenPromise;b&&ma(b)&&(a=b)}if(!t&&a&&ma(a))return{token:a.token};let _,f=!1;if(Gv()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Lv(gp(e,yield yp()),n.platformLoggerProvider).then(w=>(r.exchangeTokenPromise=void 0,w)),f=!0);const b=yield r.exchangeTokenPromise;return yield Bw(e,b),Bs(e,Object.assign(Object.assign({},r),{token:b})),{token:b.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(b=>(r.exchangeTokenPromise=void 0,b)),f=!0),a=yield r.exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?bh.warn(b.message):bh.error(b),c=b}return a?(_={token:a.token},Bs(e,Object.assign(Object.assign({},r),{token:a})),yield Bw(e,a)):_=wR(c),f&&Ym(e,_),_})).apply(this,arguments)}function jw(n,t){const e=Cr(n),r=e.tokenObservers.filter(a=>a.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Bs(n,Object.assign(Object.assign({},e),{tokenObservers:r}))}function yt(n){const{app:t}=n,e=Cr(t);let r=e.tokenRefresher;r||(r=function(n){const{app:t}=n;return new EI((0,li.Z)(function*(){let r;if(r=Cr(t).token?yield wo(n,!0):yield wo(n),r.error)throw r.error}),()=>!0,()=>{const e=Cr(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Bs(t,Object.assign(Object.assign({},e),{tokenRefresher:r}))),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function Ym(n,t){const e=Cr(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch(a){}}function ma(n){return n.expireTimeMillis-Date.now()>0}function wR(n){return{token:en(vp),error:n}}class Hw{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=Cr(this.app);for(const e of t)jw(this.app,e.next);return Promise.resolve()}}const Cp="app-check-internal";(0,ia._registerComponent)(new Bd.wA("app-check",n=>function(n,t){return new Hw(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Cp).initialize()})),(0,ia._registerComponent)(new Bd.wA(Cp,n=>function(n){return{getToken:t=>wo(n,t),addTokenListener:t=>function(n,t,e,r){const{app:a}=n,c=Cr(a),f={next:e,error:r,type:t};if(Bs(a,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,f]})),c.token&&ma(c.token)){const _=c.token;Promise.resolve().then(()=>{e({token:_.token}),yt(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>yt(n))}(n,"INTERNAL",t),removeTokenListener:t=>jw(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ia.registerVersion)("@firebase/app-check","0.5.3");class Yw{constructor(){return(0,ns.vb)("app-check")}}"undefined"!=typeof window&&window;var BI=V(7841);const qw=new u.OlP("angularfire2.auth.use-emulator"),Kw=new u.OlP("angularfire2.auth.settings"),Qw=new u.OlP("angularfire2.auth.tenant-id"),e_=new u.OlP("angularfire2.auth.langugage-code"),Jw=new u.OlP("angularfire2.auth.use-device-language"),Xw=new u.OlP("angularfire.auth.persistence"),Zv=(n,t,e,r,a,c,f,_)=>(0,rs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=t.runOutsideAngular(()=>n.auth());if(e&&b.useEmulator(...e),r&&(b.tenantId=r),b.languageCode=a,c&&b.useDeviceLanguage(),f)for(const[w,O]of Object.entries(f))b.settings[w]=O;return _&&b.setPersistence(_),b},[e,r,a,c,f,_]);let t_=(()=>{class n{constructor(e,r,a,c,f,_,b,w,O,x,z,Y){const ae=new ht.xQ,Re=(0,Ge.of)(void 0).pipe((0,Ru.QV)(f.outsideAngular),Yn(()=>c.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,1352)))),(0,wt.U)(()=>(0,rs.on)(e,c,r)),(0,wt.U)(Ve=>Zv(Ve,c,_,w,O,x,b,z)),Rw({bufferSize:1,refCount:!1}));if(function(n){return"server"===n}(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ge.of)(null);else{Re.pipe(bn()).subscribe();const qe=Re.pipe(Yn(vt=>vt.getRedirectResult().then(Vr=>Vr,()=>null)),ns.iC,Rw({bufferSize:1,refCount:!1})),rt=Re.pipe(Yn(vt=>new sn.y(Vr=>({unsubscribe:c.runOutsideAngular(()=>vt.onAuthStateChanged(Yr=>Vr.next(Yr),Yr=>Vr.error(Yr),()=>Vr.complete()))})))),Nt=Re.pipe(Yn(vt=>new sn.y(Vr=>({unsubscribe:c.runOutsideAngular(()=>vt.onIdTokenChanged(Yr=>Vr.next(Yr),Yr=>Vr.error(Yr),()=>Vr.complete()))}))));this.authState=qe.pipe(Eo(rt),(0,Bm.R)(f.outsideAngular),(0,Ru.QV)(f.insideAngular)),this.user=qe.pipe(Eo(Nt),(0,Bm.R)(f.outsideAngular),(0,Ru.QV)(f.insideAngular)),this.idToken=this.user.pipe(Yn(vt=>vt?(0,yn.D)(vt.getIdToken()):(0,Ge.of)(null))),this.idTokenResult=this.user.pipe(Yn(vt=>vt?(0,yn.D)(vt.getIdTokenResult()):(0,Ge.of)(null))),this.credential=(0,Gg.T)(qe,ae,this.authState.pipe(Zn(vt=>!vt))).pipe((0,wt.U)(vt=>(null==vt?void 0:vt.user)?vt:null),(0,Bm.R)(f.outsideAngular),(0,Ru.QV)(f.insideAngular))}return(0,rs.pX)(this,Re,c,{spy:{apply:(Ve,qe,rt)=>{(Ve.startsWith("signIn")||Ve.startsWith("createUser"))&&rt.then(Nt=>ae.next(Nt))}}})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(rs.Dh),u.LFG(rs.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ns.HU),u.LFG(qw,8),u.LFG(Kw,8),u.LFG(Qw,8),u.LFG(e_,8),u.LFG(Jw,8),u.LFG(Xw,8),u.LFG(Yw,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function e0(n){return null==n}function t0(n){return"function"==typeof n.set}function n0(n,t){return t0(t)?t:n.ref(t)}function r0(n,t){if(function(n){return"string"==typeof n}(n))return t.stringCase();if(t0(n))return t.firebaseCase();if(function(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Dp(n,t,e="on",r=$g.z){return new sn.y(a=>{let c=null;return c=n[e](t,(f,_)=>{r.schedule(()=>{a.next({snapshot:f,prevKey:_})}),"once"===e&&r.schedule(()=>a.complete())},f=>{r.schedule(()=>a.error(f))}),"on"===e?{unsubscribe(){null!=c&&n.off(t,c)}}:{unsubscribe(){}}}).pipe((0,wt.U)(a=>{const{snapshot:c,prevKey:f}=a;let _=null;return c.exists()&&(_=c.key),{type:t,payload:c,prevKey:f,key:_}}),(0,Ct.B)())}function s0(n,t){const e=n.length;for(let r=0;r<e;r++)if(n[r].payload.key===t)return r;return-1}function o0(n,t){const{payload:e,prevKey:r,key:a}=t,c=s0(n,a),f=function(n,t){if(e0(t))return 0;{const e=s0(n,t);return-1===e?n.length:e+1}}(n,r);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let _=null;t.payload.forEach(b=>{const w={payload:b,type:"value",prevKey:_,key:b.key};return _=b.key,n=[...n,w],!1})}return n;case"child_added":if(c>-1){const _=n[c-1];(_&&_.key||null)!==r&&(n=n.filter(b=>b.payload.key!==e.key)).splice(f,0,t)}else{if(null==r)return[t,...n];(n=n.slice()).splice(f,0,t)}return n;case"child_removed":return n.filter(_=>_.payload.key!==e.key);case"child_changed":return n.map(_=>_.payload.key===a?t:_);case"child_moved":if(c>-1){const _=n.splice(c,1)[0];return(n=n.slice()).splice(f,0,_),n}return n;default:return n}}function Dh(n){return(e0(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function $I(n,t,e){return function(n,t,e){return Dp(n,"value","once",e).pipe(Yn(r=>{const a=[(0,Ge.of)(r)];return t.forEach(c=>a.push(Dp(n,c,"on",e))),(0,Gg.T)(...a).pipe(qc(o0,[]))}),zg())}(n,t=Dh(t),e)}function qv(n,t,e){const r=(t=Dh(t)).map(a=>Dp(n,a,"on",e));return(0,Gg.T)(...r)}function a0(n,t){return function(r,a){return r0(r,{stringCase:()=>n.child(r)[t](a),firebaseCase:()=>r[t](a),snapshotCase:()=>r.ref[t](a)})}}function YI(n){return function(e){return e?r0(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function c0(n,t){return function(){return Dp(n,"value","on",t)}}const xR=new u.OlP("angularfire2.realtimeDatabaseURL"),PR=new u.OlP("angularfire2.database.use-emulator");let i_,Sh=(()=>{class n{constructor(e,r,a,c,f,_,b,w,O,x,z,Y,ae,Re,Ve){this.schedulers=_;const qe=b,rt=(0,rs.on)(e,f,r);w&&Zv(rt,f,O,z,Y,ae,x,Re),this.database=(0,rs.cc)(`${rt.name}.database.${a}`,"AngularFireDatabase",rt.name,()=>{const Nt=f.runOutsideAngular(()=>rt.database(a||void 0));return qe&&Nt.useEmulator(...qe),Nt},[qe])}list(e,r){const a=this.schedulers.ngZone.runOutsideAngular(()=>n0(this.database,e));let c=a;return r&&(c=r(a)),function(n,t){const e=t.schedulers.outsideAngular,r=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:a0(r,"update"),set:a0(r,"set"),push:a=>r.push(a),remove:YI(r),snapshotChanges:a=>$I(n,a,e).pipe(ns.iC),stateChanges:a=>qv(n,a,e).pipe(ns.iC),auditTrail:a=>function(n,t,e){return function(n,t,e){return function(n,t){return Dp(n,"value","on",t).pipe((0,wt.U)(e=>{let r;return e.payload.forEach(a=>(r=a.key,!1)),{data:e,lastKeyToLoad:r}}))}(n,e).pipe(function(...n){return t=>{let e;return"function"==typeof n[n.length-1]&&(e=n.pop()),t.lift(new SC(n,e))}}(t),(0,wt.U)(([a,c])=>{const f=a.lastKeyToLoad,_=c.map(b=>b.key);return{actions:c,lastKeyToLoad:f,loadedKeys:_}}),function(n){return t=>t.lift(new ul(n))}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,wt.U)(a=>a.actions))}(n,qv(n,t).pipe(qc((a,c)=>[...a,c],[])),e)}(n,a,e).pipe(ns.iC),valueChanges:(a,c)=>$I(n,a,e).pipe((0,wt.U)(_=>_.map(b=>c&&c.idField?Object.assign(Object.assign({},b.payload.val()),{[c.idField]:b.key}):b.payload.val())),ns.iC)}}(c,this)}object(e){return function(n,t){return{query:n,snapshotChanges:()=>c0(n,t.schedulers.outsideAngular)().pipe(ns.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>c0(n,t.schedulers.outsideAngular)().pipe(ns.iC,(0,wt.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>n0(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(rs.Dh),u.LFG(rs.xv,8),u.LFG(xR,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ns.HU),u.LFG(PR,8),u.LFG(t_,8),u.LFG(qw,8),u.LFG(Kw,8),u.LFG(Qw,8),u.LFG(e_,8),u.LFG(Jw,8),u.LFG(Xw,8),u.LFG(Yw,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Kv=(()=>{class n{constructor(){BI.Z.registerVersion("angularfire",ns.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Sh]}),n})();function Hs(n){return null!=n&&"false"!=`${n}`}function n_(n){return Array.isArray(n)?n:[n]}function Jn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Fu(n){return n instanceof u.SBq?n.nativeElement:n}function r_(n){return t=>t.lift(new QI(n))}class QI{constructor(t){this.total=t}call(t,e){return e.subscribe(new Th(t,this.total))}}class Th extends vn.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}class u0{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new So(t,this.dueTime,this.scheduler))}}class So extends vn.L{constructor(t,e,r){super(t),this.dueTime=e,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Qv,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Qv(n){n.debouncedNext()}function Lu(n){return t=>t.lift(new d0(n))}class d0{constructor(t){this.notifier=t}call(t,e){const r=new h0(t),a=(0,ii.ft)(this.notifier,new ii.IY(r));return a&&!r.seenValue?(r.add(a),e.subscribe(r)):r}}class h0 extends ii.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}try{i_="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){i_=!1}let o_,Ah,f0,xn=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(n){return"browser"===n}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!i_)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(u.Lbi))},token:n,providedIn:"root"}),n})(),s_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function Xv(n){return function(){if(null==o_&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>o_=!0}))}finally{o_=o_||!1}return o_}()?n:!!n.capture}function eb(){if(null==Ah){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ah=!1,Ah;if("scrollBehavior"in document.documentElement.style)Ah=!0;else{const n=Element.prototype.scrollTo;Ah=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ah}function Mh(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Vu(n){return n.composedPath?n.composedPath()[0]:n.target}function a_(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}let eA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const g0=new Set;let Oh,m0=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):nA}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function(n){if(!g0.has(n))try{Oh||(Oh=document.createElement("style"),Oh.setAttribute("type","text/css"),document.head.appendChild(Oh)),Oh.sheet&&(Oh.sheet.insertRule(`@media ${n} {body{ }}`,0),g0.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(xn))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(xn))},token:n,providedIn:"root"}),n})();function nA(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Bu=(()=>{class n{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new ht.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return _0(n_(e)).some(a=>this._registerQuery(a).mql.matches)}observe(e){let c=Zi(_0(n_(e)).map(f=>this._registerQuery(f).observable));return c=ro(c.pipe(qi(1)),c.pipe(r_(1),function(n,t=$g.P){return e=>e.lift(new u0(n,t))}(0))),c.pipe((0,wt.U)(f=>{const _={matches:!1,breakpoints:{}};return f.forEach(({matches:b,query:w})=>{_.matches=_.matches||b,_.breakpoints[w]=b}),_}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),c={observable:new sn.y(f=>{const _=b=>this._zone.run(()=>f.next(b));return r.addListener(_),()=>{r.removeListener(_)}}).pipe(Ko(r),(0,wt.U)(({matches:f})=>({query:e,matches:f})),Lu(this._destroySubject)),mql:r};return this._queries.set(e,c),c}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(m0),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(m0),u.LFG(u.R0b))},token:n,providedIn:"root"}),n})();function _0(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}let y0=(()=>{class n{constructor(e){this.sanitizer=e}set json(e){this.jsonLD=this.getSafeHTML(e)}getSafeHTML(e){const a=`<script type="application/ld+json">${e?JSON.stringify(e,null,2).replace(/<\/script>/g,"<\\/script>"):""}<\/script>`;return this.sanitizer.bypassSecurityTrustHtml(a)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(vi))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngx-json-ld"]],hostVars:1,hostBindings:function(e,r){2&e&&u.Ikx("innerHTML",r.jsonLD,u.oJD)},inputs:{json:"json"},decls:0,vars:0,template:function(e,r){},encapsulation:2,changeDetection:0}),n})(),v0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Uo]]}),n})();var b0=V(9105);function l_(n,t,e,r){return(0,b0.m)(e)&&(r=e,e=void 0),r?l_(n,t,e).pipe((0,wt.U)(a=>(0,no.k)(a)?r(...a):r(a))):new sn.y(a=>{C0(n,t,function(f){a.next(arguments.length>1?Array.prototype.slice.call(arguments):f)},a,e)})}function C0(n,t,e,r,a){let c;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const f=n;n.addEventListener(t,e,a),c=()=>f.removeEventListener(t,e,a)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const f=n;n.on(t,e),c=()=>f.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const f=n;n.addListener(t,e),c=()=>f.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let f=0,_=n.length;f<_;f++)C0(n[f],t,e,r,a)}r.add(c)}var aA=V(6465),cA=V(6102);new class extends cA.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let r,a=-1,c=e.length;t=t||e.shift();do{if(r=t.execute(t.state,t.delay))break}while(++a<c&&(t=e.shift()));if(this.active=!1,r){for(;++a<c&&(t=e.shift());)t.unsubscribe();throw r}}}(class extends aA.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(t,e,r);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});V(4581);class c_{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new dA(t,this.durationSelector))}}class dA extends ii.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:a}=this;e=a(t)}catch(a){return this.destination.error(a)}const r=(0,ii.ft)(e,new ii.IY(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:r}=this;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var E0=V(6561);function nb(n){const{index:t,period:e,subscriber:r}=n;if(r.next(t),!r.closed){if(-1===e)return r.complete();n.index=t+1,this.schedule(n,e)}}function Rp(n,t=$g.P){return function(n){return function(e){return e.lift(new c_(n))}}(()=>function(n=0,t,e){let r=-1;return(0,E0.k)(t)?r=Number(t)<1?1:Number(t):(0,Ts.K)(t)&&(e=t),(0,Ts.K)(e)||(e=$g.P),new sn.y(a=>{const c=(0,E0.k)(n)?n:+n-e.now();return e.schedule(nb,c,{index:0,period:r,subscriber:a})})}(n,t))}const D0=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,u.f3M)(ie)}});let Uu=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new u.vpe,e){const a=e.documentElement?e.documentElement.dir:null,c=(e.body?e.body.dir:null)||a;this.value="ltr"===c||"rtl"===c?c:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(D0,8))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(D0,8))},token:n,providedIn:"root"}),n})(),Rh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),ob=(()=>{class n{constructor(e,r,a){this._ngZone=e,this._platform=r,this._scrolled=new ht.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=a}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new sn.y(r=>{this._globalSubscription||this._addGlobalListener();const a=e>0?this._scrolled.pipe(Rp(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ge.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const a=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(Zn(c=>!c||a.indexOf(c)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((a,c)=>{this._scrollableContainsElement(c,e)&&r.push(c)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let a=Fu(r),c=e.getElementRef().nativeElement;do{if(a==c)return!0}while(a=a.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>l_(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.R0b),u.LFG(xn),u.LFG(ie,8))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(u.R0b),u.LFG(xn),u.LFG(ie,8))},token:n,providedIn:"root"}),n})(),ju=(()=>{class n{constructor(e,r,a){this._platform=e,this._change=new ht.xQ,this._changeListener=c=>{this._change.next(c)},this._document=a,r.runOutsideAngular(()=>{if(e.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:a}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+a,right:e.left+r,height:a,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),a=e.documentElement,c=a.getBoundingClientRect();return{top:-c.top||e.body.scrollTop||r.scrollY||a.scrollTop||0,left:-c.left||e.body.scrollLeft||r.scrollX||a.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Rp(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(xn),u.LFG(u.R0b),u.LFG(ie,8))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(xn),u.LFG(u.R0b),u.LFG(ie,8))},token:n,providedIn:"root"}),n})(),ab=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),lb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Rh,s_,ab],Rh,ab]}),n})();class kh{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Nh extends kh{constructor(t,e,r,a){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=a}}class xp extends kh{constructor(t,e,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class ub extends kh{constructor(t){super(),this.element=t instanceof u.SBq?t.nativeElement:t}}class Fh{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Nh?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof xp?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof ub?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class DA extends Fh{constructor(t,e,r,a,c){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=a,this.attachDomPortal=f=>{const _=f.element,b=this._document.createComment("dom-portal");_.parentNode.insertBefore(b,_),this.outletElement.appendChild(_),this._attachedPortal=f,super.setDisposeFn(()=>{b.parentNode&&b.parentNode.replaceChild(_,b)})},this._document=c}attachComponentPortal(t){const r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let a;return t.viewContainerRef?(a=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>a.destroy())):(a=r.create(t.injector||this._defaultInjector),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.detachView(a.hostView),a.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(a)),this._attachedPortal=t,a}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context);return r.rootNodes.forEach(a=>this.outletElement.appendChild(a)),r.detectChanges(),this.setDisposeFn(()=>{let a=e.indexOf(r);-1!==a&&e.remove(a)}),this._attachedPortal=t,r}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Lh=(()=>{class n extends Fh{constructor(e,r,a){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new u.vpe,this.attachDomPortal=c=>{const f=c.element,_=this._document.createComment("dom-portal");c.setAttachedHost(this),f.parentNode.insertBefore(_,f),this._getRootNode().appendChild(f),this._attachedPortal=c,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=a}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,c=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),f=r.createComponent(c,r.length,e.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(f.hostView.rootNodes[0]),super.setDisposeFn(()=>f.destroy()),this._attachedPortal=e,this._attachedRef=f,this.attached.emit(f),f}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u._Vd),u.Y36(u.s_b),u.Y36(ie))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[u.qOj]}),n})(),u_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const h_=eb();class z0{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Jn(-this._previousScrollPosition.left),t.style.top=Jn(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,a=this._document.body.style,c=r.scrollBehavior||"",f=a.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),h_&&(r.scrollBehavior=a.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),h_&&(r.scrollBehavior=c,a.scrollBehavior=f)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class nM{constructor(t,e,r,a){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=a,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class rM{enable(){}disable(){}attach(){}}function W0(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function iM(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Y0{constructor(t,e,r,a){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=a,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:a}=this._viewportRuler.getViewportSize();W0(e,[{width:r,height:a,bottom:a,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Z0=(()=>{class n{constructor(e,r,a,c){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=a,this.noop=()=>new rM,this.close=f=>new nM(this._scrollDispatcher,this._ngZone,this._viewportRuler,f),this.block=()=>new z0(this._viewportRuler,this._document),this.reposition=f=>new Y0(this._scrollDispatcher,this._viewportRuler,this._ngZone,f),this._document=c}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ob),u.LFG(ju),u.LFG(u.R0b),u.LFG(ie))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(ob),u.LFG(ju),u.LFG(u.R0b),u.LFG(ie))},token:n,providedIn:"root"}),n})();class f_{constructor(t){if(this.scrollStrategy=new rM,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const r of e)void 0!==t[r]&&(this[r]=t[r])}}}class sM{constructor(t,e,r,a,c){this.offsetX=r,this.offsetY=a,this.panelClass=c,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class oM{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let lM=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(ie))},token:n,providedIn:"root"}),n})(),cM=(()=>{class n extends lM{constructor(e){super(e),this._keydownListener=r=>{const a=this._attachedOverlays;for(let c=a.length-1;c>-1;c--)if(a[c]._keydownEvents.observers.length>0){a[c]._keydownEvents.next(r);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(ie))},token:n,providedIn:"root"}),n})(),pb=(()=>{class n extends lM{constructor(e,r){super(e),this._platform=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=Vu(a)},this._clickListener=a=>{const c=Vu(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let b=_.length-1;b>-1;b--){const w=_[b];if(!(w._outsidePointerEvents.observers.length<1)&&w.hasAttached()){if(w.overlayElement.contains(c)||w.overlayElement.contains(f))break;w._outsidePointerEvents.next(a)}}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ie),u.LFG(xn))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(ie),u.LFG(xn))},token:n,providedIn:"root"}),n})(),Ln=(()=>{class n{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||a_()){const a=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let c=0;c<a.length;c++)a[c].parentNode.removeChild(a[c])}const r=this._document.createElement("div");r.classList.add(e),a_()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ie),u.LFG(xn))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(ie),u.LFG(xn))},token:n,providedIn:"root"}),n})();class Mx{constructor(t,e,r,a,c,f,_,b,w){this._portalOutlet=t,this._host=e,this._pane=r,this._config=a,this._ngZone=c,this._keyboardDispatcher=f,this._document=_,this._location=b,this._outsideClickDispatcher=w,this._backdropElement=null,this._backdropClick=new ht.xQ,this._attachments=new ht.xQ,this._detachments=new ht.xQ,this._locationChanges=Ms.w.EMPTY,this._backdropClickHandler=O=>this._backdropClick.next(O),this._keydownEvents=new ht.xQ,this._outsidePointerEvents=new ht.xQ,a.scrollStrategy&&(this._scrollStrategy=a.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=a.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(qi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Jn(this._config.width),t.height=Jn(this._config.height),t.minWidth=Jn(this._config.minWidth),t.minHeight=Jn(this._config.minHeight),t.maxWidth=Jn(this._config.maxWidth),t.maxHeight=Jn(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const r=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",r),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",r)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(t,e,r){const a=t.classList;n_(e).forEach(c=>{c&&(r?a.add(c):a.remove(c))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Lu((0,Gg.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.parentNode&&t.parentNode.removeChild(t),this._backdropElement===t&&(this._backdropElement=null))}}const gb="cdk-overlay-connected-position-bounding-box",q0=/([A-Za-z%]+)$/;class K0{constructor(t,e,r,a,c){this._viewportRuler=e,this._document=r,this._platform=a,this._overlayContainer=c,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ht.xQ,this._resizeSubscription=Ms.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(gb),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,r=this._viewportRect,a=[];let c;for(let f of this._preferredPositions){let _=this._getOriginPoint(t,f),b=this._getOverlayPoint(_,e,f),w=this._getOverlayFit(b,e,r,f);if(w.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(w,b,r)?a.push({position:f,origin:_,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!c||c.overlayFit.visibleArea<w.visibleArea)&&(c={overlayFit:w,overlayPoint:b,originPoint:_,position:f,overlayRect:e})}if(a.length){let f=null,_=-1;for(const b of a){const w=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);w>_&&(_=w,f=b)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ya(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(gb),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let r,a;if("center"==e.originX)r=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,f=this._isRtl()?t.left:t.right;r="start"==e.originX?c:f}return a="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:r,y:a}}_getOverlayPoint(t,e,r){let a,c;return a="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,c="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:t.x+a,y:t.y+c}}_getOverlayFit(t,e,r,a){const c=J0(e);let{x:f,y:_}=t,b=this._getOffset(a,"x"),w=this._getOffset(a,"y");b&&(f+=b),w&&(_+=w);let z=0-_,Y=_+c.height-r.height,ae=this._subtractOverflows(c.width,0-f,f+c.width-r.width),Re=this._subtractOverflows(c.height,z,Y),Ve=ae*Re;return{visibleArea:Ve,isCompletelyWithinViewport:c.width*c.height===Ve,fitsInViewportVertically:Re===c.height,fitsInViewportHorizontally:ae==c.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){const a=r.bottom-e.y,c=r.right-e.x,f=Q0(this._overlayRef.getConfig().minHeight),_=Q0(this._overlayRef.getConfig().minWidth),w=t.fitsInViewportHorizontally||null!=_&&_<=c;return(t.fitsInViewportVertically||null!=f&&f<=a)&&w}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const a=J0(e),c=this._viewportRect,f=Math.max(t.x+a.width-c.width,0),_=Math.max(t.y+a.height-c.height,0),b=Math.max(c.top-r.top-t.y,0),w=Math.max(c.left-r.left-t.x,0);let O=0,x=0;return O=a.width<=c.width?w||-f:t.x<this._viewportMargin?c.left-r.left-t.x:0,x=a.height<=c.height?b||-_:t.y<this._viewportMargin?c.top-r.top-t.y:0,this._previousPushAmount={x:O,y:x},{x:t.x+O,y:t.y+x}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const r=this._getScrollVisibility(),a=new oM(t,r);this._positionChanges.next(a)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,a=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let c=0;c<e.length;c++)e[c].style.transformOrigin=`${r} ${a}`}_calculateBoundingBoxRect(t,e){const r=this._viewportRect,a=this._isRtl();let c,f,_,O,x,z;if("top"===e.overlayY)f=t.y,c=r.height-f+this._viewportMargin;else if("bottom"===e.overlayY)_=r.height-t.y+2*this._viewportMargin,c=r.height-_+this._viewportMargin;else{const Y=Math.min(r.bottom-t.y+r.top,t.y),ae=this._lastBoundingBoxSize.height;c=2*Y,f=t.y-Y,c>ae&&!this._isInitialRender&&!this._growAfterOpen&&(f=t.y-ae/2)}if("end"===e.overlayX&&!a||"start"===e.overlayX&&a)z=r.width-t.x+this._viewportMargin,O=t.x-this._viewportMargin;else if("start"===e.overlayX&&!a||"end"===e.overlayX&&a)x=t.x,O=r.right-t.x;else{const Y=Math.min(r.right-t.x+r.left,t.x),ae=this._lastBoundingBoxSize.width;O=2*Y,x=t.x-Y,O>ae&&!this._isInitialRender&&!this._growAfterOpen&&(x=t.x-ae/2)}return{top:f,left:x,bottom:_,right:z,width:O,height:c}}_setBoundingBoxStyles(t,e){const r=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const a={};if(this._hasExactPosition())a.top=a.left="0",a.bottom=a.right=a.maxHeight=a.maxWidth="",a.width=a.height="100%";else{const c=this._overlayRef.getConfig().maxHeight,f=this._overlayRef.getConfig().maxWidth;a.height=Jn(r.height),a.top=Jn(r.top),a.bottom=Jn(r.bottom),a.width=Jn(r.width),a.left=Jn(r.left),a.right=Jn(r.right),a.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",a.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",c&&(a.maxHeight=Jn(c)),f&&(a.maxWidth=Jn(f))}this._lastBoundingBoxSize=r,ya(this._boundingBox.style,a)}_resetBoundingBoxStyles(){ya(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ya(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const r={},a=this._hasExactPosition(),c=this._hasFlexibleDimensions,f=this._overlayRef.getConfig();if(a){const O=this._viewportRuler.getViewportScrollPosition();ya(r,this._getExactOverlayY(e,t,O)),ya(r,this._getExactOverlayX(e,t,O))}else r.position="static";let _="",b=this._getOffset(e,"x"),w=this._getOffset(e,"y");b&&(_+=`translateX(${b}px) `),w&&(_+=`translateY(${w}px)`),r.transform=_.trim(),f.maxHeight&&(a?r.maxHeight=Jn(f.maxHeight):c&&(r.maxHeight="")),f.maxWidth&&(a?r.maxWidth=Jn(f.maxWidth):c&&(r.maxWidth="")),ya(this._pane.style,r)}_getExactOverlayY(t,e,r){let a={top:"",bottom:""},c=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,r));let f=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return c.y-=f,"bottom"===t.overlayY?a.bottom=this._document.documentElement.clientHeight-(c.y+this._overlayRect.height)+"px":a.top=Jn(c.y),a}_getExactOverlayX(t,e,r){let f,a={left:"",right:""},c=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,r)),f=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===f?a.right=this._document.documentElement.clientWidth-(c.x+this._overlayRect.width)+"px":a.left=Jn(c.x),a}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(a=>a.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:iM(t,r),isOriginOutsideView:W0(t,r),isOverlayClipped:iM(e,r),isOverlayOutsideView:W0(e,r)}}_subtractOverflows(t,...e){return e.reduce((r,a)=>r-Math.max(a,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&n_(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof u.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}}function ya(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Q0(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(q0);return e&&"px"!==e?null:parseFloat(t)}return n||null}function J0(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}class X0{constructor(t,e,r,a,c,f,_){this._preferredPositions=[],this._positionStrategy=new K0(r,a,c,f,_).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,r,a){const c=new sM(t,e,r,a);return this._preferredPositions.push(c),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const _c="cdk-global-overlay-wrapper";class eD{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(_c),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:a,height:c,maxWidth:f,maxHeight:_}=r,b=!("100%"!==a&&"100vw"!==a||f&&"100%"!==f&&"100vw"!==f),w=!("100%"!==c&&"100vh"!==c||_&&"100%"!==_&&"100vh"!==_);t.position=this._cssPosition,t.marginLeft=b?"0":this._leftOffset,t.marginTop=w?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,b?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(_c),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let mb=(()=>{class n{constructor(e,r,a,c){this._viewportRuler=e,this._document=r,this._platform=a,this._overlayContainer=c}global(){return new eD}connectedTo(e,r,a){return new X0(r,a,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new K0(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ju),u.LFG(ie),u.LFG(xn),u.LFG(Ln))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(ju),u.LFG(ie),u.LFG(xn),u.LFG(Ln))},token:n,providedIn:"root"}),n})(),_b=0,yc=(()=>{class n{constructor(e,r,a,c,f,_,b,w,O,x,z){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=a,this._positionBuilder=c,this._keyboardDispatcher=f,this._injector=_,this._ngZone=b,this._document=w,this._directionality=O,this._location=x,this._outsideClickDispatcher=z}create(e){const r=this._createHostElement(),a=this._createPaneElement(r),c=this._createPortalOutlet(a),f=new f_(e);return f.direction=f.direction||this._directionality.value,new Mx(c,r,a,f,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+_b++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(u.z2F)),new DA(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Z0),u.LFG(Ln),u.LFG(u._Vd),u.LFG(mb),u.LFG(cM),u.LFG(u.zs3),u.LFG(u.R0b),u.LFG(ie),u.LFG(Uu),u.LFG(Xe),u.LFG(pb))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ox={provide:new u.OlP("cdk-connected-overlay-scroll-strategy"),deps:[yc],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let rD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[yc,Ox],imports:[[Rh,u_,lb],lb]}),n})(),oD=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const r=function(n){try{return n.frameElement}catch(t){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(r&&(-1===lD(r)||!this.isVisible(r)))return!1;let a=e.nodeName.toLowerCase(),c=lD(e);return e.hasAttribute("contenteditable")?-1!==c:!("iframe"===a||"object"===a||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===a?!!e.hasAttribute("controls")&&-1!==c:"video"===a?-1!==c&&(null!==c||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,r){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||aD(n))}(e)&&!this.isDisabled(e)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(xn))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(xn))},token:n,providedIn:"root"}),n})();function aD(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function lD(n){if(!aD(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class yM{constructor(t,e,r,a,c=!1){this._element=t,this._checker=e,this._ngZone=r,this._document=a,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,c||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let r=0;r<e.length;r++)e[r].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[r]):e[r].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[r]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const r=this._getFirstTabbableElement(e);return null==r||r.focus(t),!!r}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let r=0;r<e.length;r++){let a=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(a)return a}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let r=e.length-1;r>=0;r--){let a=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(a)return a}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(qi(1)).subscribe(t)}}let vM=(()=>{class n{constructor(e,r,a){this._checker=e,this._ngZone=r,this._document=a}create(e,r=!1){return new yM(e,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(oD),u.LFG(u.R0b),u.LFG(ie))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(oD),u.LFG(u.R0b),u.LFG(ie))},token:n,providedIn:"root"}),n})();function Gs(n){return 0===n.offsetX&&0===n.offsetY}function wM(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}"undefined"!=typeof Element&&Element;const yb=new u.OlP("cdk-input-modality-detector-options"),DM={ignoreKeys:[18,17,224,91,16]},$u=Xv({passive:!0,capture:!0});let bb=(()=>{class n{constructor(e,r,a,c){this._platform=e,this._mostRecentTarget=null,this._modality=new Wn(null),this._lastTouchMs=0,this._onKeydown=f=>{var _,b;(null===(b=null===(_=this._options)||void 0===_?void 0:_.ignoreKeys)||void 0===b?void 0:b.some(w=>w===f.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Vu(f))},this._onMousedown=f=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Gs(f)?"keyboard":"mouse"),this._mostRecentTarget=Vu(f))},this._onTouchstart=f=>{wM(f)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Vu(f))},this._options=Object.assign(Object.assign({},DM),c),this.modalityDetected=this._modality.pipe(r_(1)),this.modalityChanged=this.modalityDetected.pipe(zg()),e.isBrowser&&r.runOutsideAngular(()=>{a.addEventListener("keydown",this._onKeydown,$u),a.addEventListener("mousedown",this._onMousedown,$u),a.addEventListener("touchstart",this._onTouchstart,$u)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,$u),document.removeEventListener("mousedown",this._onMousedown,$u),document.removeEventListener("touchstart",this._onTouchstart,$u))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(xn),u.LFG(u.R0b),u.LFG(ie),u.LFG(yb,8))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(xn),u.LFG(u.R0b),u.LFG(ie),u.LFG(yb,8))},token:n,providedIn:"root"}),n})();const g_=new u.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),m_=new u.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Vh=(()=>{class n{constructor(e,r,a,c){this._ngZone=r,this._defaultOptions=c,this._document=a,this._liveElement=e||this._createLiveElement()}announce(e,...r){const a=this._defaultOptions;let c,f;return 1===r.length&&"number"==typeof r[0]?f=r[0]:[c,f]=r,this.clear(),clearTimeout(this._previousTimeout),c||(c=a&&a.politeness?a.politeness:"polite"),null==f&&a&&(f=a.duration),this._liveElement.setAttribute("aria-live",c),this._ngZone.runOutsideAngular(()=>new Promise(_=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,_(),"number"==typeof f&&(this._previousTimeout=setTimeout(()=>this.clear(),f))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const e="cdk-live-announcer-element",r=this._document.getElementsByClassName(e),a=this._document.createElement("div");for(let c=0;c<r.length;c++)r[c].parentNode.removeChild(r[c]);return a.classList.add(e),a.classList.add("cdk-visually-hidden"),a.setAttribute("aria-atomic","true"),a.setAttribute("aria-live","polite"),this._document.body.appendChild(a),a}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(g_,8),u.LFG(u.R0b),u.LFG(ie),u.LFG(m_,8))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(g_,8),u.LFG(u.R0b),u.LFG(ie),u.LFG(m_,8))},token:n,providedIn:"root"}),n})();const wb=new u.OlP("cdk-focus-monitor-default-options"),Fp=Xv({passive:!0,capture:!0});let __=(()=>{class n{constructor(e,r,a,c,f){this._ngZone=e,this._platform=r,this._inputModalityDetector=a,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ht.xQ,this._rootNodeFocusAndBlurListener=_=>{const b=Vu(_),w="focus"===_.type?this._onFocus:this._onBlur;for(let O=b;O;O=O.parentElement)w.call(this,_,O)},this._document=c,this._detectionMode=(null==f?void 0:f.detectionMode)||0}monitor(e,r=!1){const a=Fu(e);if(!this._platform.isBrowser||1!==a.nodeType)return(0,Ge.of)(null);const c=function(n){if(function(){if(null==f0){const n="undefined"!=typeof document?document.head:null;f0=!(!n||!n.createShadowRoot&&!n.attachShadow)}return f0}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(a)||this._getDocument(),f=this._elementInfo.get(a);if(f)return r&&(f.checkChildren=!0),f.subject;const _={checkChildren:r,subject:new ht.xQ,rootNode:c};return this._elementInfo.set(a,_),this._registerGlobalListeners(_),_.subject}stopMonitoring(e){const r=Fu(e),a=this._elementInfo.get(r);a&&(a.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(a))}focusVia(e,r,a){const c=Fu(e);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([_,b])=>this._originChanged(_,r,b)):(this._setOrigin(r),"function"==typeof c.focus&&c.focus(a))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,r,a){a?e.classList.add(r):e.classList.remove(r)}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,r){this._toggleClass(e,"cdk-focused",!!r),this._toggleClass(e,"cdk-touch-focused","touch"===r),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===r),this._toggleClass(e,"cdk-mouse-focused","mouse"===r),this._toggleClass(e,"cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const a=this._elementInfo.get(r),c=Vu(e);!a||!a.checkChildren&&r!==c||this._originChanged(r,this._getFocusOrigin(c),a)}_onBlur(e,r){const a=this._elementInfo.get(r);!a||a.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(a.subject,null))}_emitOrigin(e,r){this._ngZone.run(()=>e.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,a=this._rootNodeFocusListenerCount.get(r)||0;a||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Fp),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Fp)}),this._rootNodeFocusListenerCount.set(r,a+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Lu(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const a=this._rootNodeFocusListenerCount.get(r);a>1?this._rootNodeFocusListenerCount.set(r,a-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Fp),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Fp),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,a){this._setClasses(e,r),this._emitOrigin(a.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((a,c)=>{(c===e||a.checkChildren&&c.contains(e))&&r.push([c,a])}),r}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.R0b),u.LFG(xn),u.LFG(bb),u.LFG(ie,8),u.LFG(wb,8))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(u.R0b),u.LFG(xn),u.LFG(bb),u.LFG(ie,8),u.LFG(wb,8))},token:n,providedIn:"root"}),n})();const Db="cdk-high-contrast-black-on-white",dD="cdk-high-contrast-white-on-black",Sb="cdk-high-contrast-active";let hD=(()=>{class n{constructor(e,r){this._platform=e,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,a=r&&r.getComputedStyle?r.getComputedStyle(e):null,c=(a&&a.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),c){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Sb),e.remove(Db),e.remove(dD),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(e.add(Sb),e.add(Db)):2===r&&(e.add(Sb),e.add(dD))}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(xn),u.LFG(ie))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(xn),u.LFG(ie))},token:n,providedIn:"root"}),n})();const pD=new u.GfV("12.2.13");class Wr{}const zs="*";function Tb(n,t){return{type:7,name:n,definitions:t,options:{}}}function Gu(n,t=null){return{type:4,styles:t,timings:n}}function Ib(n,t=null){return{type:2,steps:n,options:t}}function Ws(n){return{type:6,styles:n,offset:null}}function y_(n,t,e){return{type:0,name:n,styles:t,options:e}}function v_(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function bl(n){Promise.resolve(null).then(n)}class va{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){bl(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class b_{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,a=0;const c=this.players.length;0==c?bl(()=>this._onFinish()):this.players.forEach(f=>{f.onDone(()=>{++e==c&&this._onFinish()}),f.onDestroy(()=>{++r==c&&this._onDestroy()}),f.onStart(()=>{++a==c&&this._onStart()})}),this.totalTime=this.players.reduce((f,_)=>Math.max(f,_.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const a=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(a)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function mD(){return"undefined"!=typeof window&&void 0!==window.document}function Mb(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ba(n){switch(n.length){case 0:return new va;case 1:return n[0];default:return new b_(n)}}function _D(n,t,e,r,a={},c={}){const f=[],_=[];let b=-1,w=null;if(r.forEach(O=>{const x=O.offset,z=x==b,Y=z&&w||{};Object.keys(O).forEach(ae=>{let Re=ae,Ve=O[ae];if("offset"!==ae)switch(Re=t.normalizePropertyName(Re,f),Ve){case"!":Ve=a[ae];break;case zs:Ve=c[ae];break;default:Ve=t.normalizeStyleValue(ae,Re,Ve,f)}Y[Re]=Ve}),z||_.push(Y),w=Y,b=x}),f.length){const O="\n - ";throw new Error(`Unable to animate due to the following errors:${O}${f.join(O)}`)}return _}function C_(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&E_(e,"start",n)));break;case"done":n.onDone(()=>r(e&&E_(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&E_(e,"destroy",n)))}}function E_(n,t,e){const r=e.totalTime,c=Ob(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==r?n.totalTime:r,!!e.disabled),f=n._data;return null!=f&&(c._data=f),c}function Ob(n,t,e,r,a="",c=0,f){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:a,totalTime:c,disabled:!!f}}function us(n,t,e){let r;return n instanceof Map?(r=n.get(t),r||n.set(t,r=e)):(r=n[t],r||(r=n[t]=e)),r}function yD(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let Ao=(n,t)=>!1,vc=(n,t)=>!1,zu=(n,t,e)=>[];const vD=Mb();(vD||"undefined"!=typeof Element)&&(Ao=mD()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),vc=(()=>{if(vD||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,r)=>t.apply(e,[r]):vc}})(),zu=(n,t,e)=>{let r=[];if(e){const a=n.querySelectorAll(t);for(let c=0;c<a.length;c++)r.push(a[c])}else{const a=n.querySelector(t);a&&r.push(a)}return r});let bc=null,xb=!1;function D_(n){bc||(bc=("undefined"!=typeof document?document.body:null)||{},xb=!!bc.style&&"WebkitAppearance"in bc.style);let t=!0;return bc.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in bc.style,!t&&xb&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in bc.style)),t}const Vp=vc,Pb=Ao,kb=zu;function Nb(n){const t={};return Object.keys(n).forEach(e=>{const r=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=n[e]}),t}let Cc=(()=>{class n{validateStyleProperty(e){return D_(e)}matchesElement(e,r){return Vp(e,r)}containsElement(e,r){return Pb(e,r)}query(e,r,a){return kb(e,r,a)}computeStyle(e,r,a){return a||""}animate(e,r,a,c,f,_=[],b){return new va(a,c)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Bp=(()=>{class n{}return n.NOOP=new Cc,n})();const ED="ng-enter",Fb="ng-leave",S_="ng-trigger",Lb=".ng-trigger",AM="ng-animating",wD=".ng-animating";function Bh(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Vb(parseFloat(t[1]),t[2])}function Vb(n,t){switch(t){case"s":return 1e3*n;default:return n}}function Bb(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let a,c=0,f="";if("string"==typeof n){const _=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};a=Vb(parseFloat(_[1]),_[2]);const b=_[3];null!=b&&(c=Vb(parseFloat(b),_[4]));const w=_[5];w&&(f=w)}else a=n;if(!e){let _=!1,b=t.length;a<0&&(t.push("Duration values below 0 are not allowed for this animation step."),_=!0),c<0&&(t.push("Delay values below 0 are not allowed for this animation step."),_=!0),_&&t.splice(b,0,`The provided timing value "${n}" is invalid.`)}return{duration:a,delay:c,easing:f}}(n,t,e)}function Up(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function i(n,t,e={}){if(t)for(let r in n)e[r]=n[r];else Up(n,e);return e}function s(n,t,e){return e?t+":"+e+";":""}function o(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=s(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=s(0,$(e),n.style[e]));n.setAttribute("style",t)}function l(n,t,e){n.style&&(Object.keys(t).forEach(r=>{const a=N(r);e&&!e.hasOwnProperty(r)&&(e[r]=n.style[a]),n.style[a]=t[r]}),Mb()&&o(n))}function d(n,t){n.style&&(Object.keys(t).forEach(e=>{const r=N(e);n.style[r]=""}),Mb()&&o(n))}function h(n){return Array.isArray(n)?1==n.length?n[0]:Ib(n):n}const y=new RegExp("{{\\s*(.+?)\\s*}}","g");function E(n){let t=[];if("string"==typeof n){let e;for(;e=y.exec(n);)t.push(e[1]);y.lastIndex=0}return t}function S(n,t,e){const r=n.toString(),a=r.replace(y,(c,f)=>{let _=t[f];return t.hasOwnProperty(f)||(e.push(`Please provide a value for the animation param ${f}`),_=""),_.toString()});return a==r?n:a}function I(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const P=/-+([a-z0-9])/g;function N(n){return n.replace(P,(...t)=>t[1].toUpperCase())}function $(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function K(n,t){return 0===n||0===t}function ge(n,t,e){const r=Object.keys(e);if(r.length&&t.length){let c=t[0],f=[];if(r.forEach(_=>{c.hasOwnProperty(_)||f.push(_),c[_]=e[_]}),f.length)for(var a=1;a<t.length;a++){let _=t[a];f.forEach(function(b){_[b]=Pe(n,b)})}}return t}function ne(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function Pe(n,t){return window.getComputedStyle(n)[t]}function et(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,t,e){if(":"==n[0]){const b=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof b)return void t.push(b);n=b}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const a=r[1],c=r[2],f=r[3];t.push(Uh(a,f));"<"==c[0]&&!("*"==a&&"*"==f)&&t.push(Uh(f,a))}(r,e,t)):e.push(n),e}const Vn=new Set(["true","1"]),fi=new Set(["false","0"]);function Uh(n,t){const e=Vn.has(n)||fi.has(n),r=Vn.has(t)||fi.has(t);return(a,c)=>{let f="*"==n||n==a,_="*"==t||t==c;return!f&&e&&"boolean"==typeof a&&(f=a?Vn.has(n):fi.has(n)),!_&&r&&"boolean"==typeof c&&(_=c?Vn.has(t):fi.has(t)),f&&_}}const jh=new RegExp("s*:selfs*,?","g");function Ec(n,t,e){return new Ub(n).build(t,e)}class Ub{constructor(t){this._driver=t}build(t,e){const r=new $b(e);return this._resetContextStyleTimingState(r),ne(this,h(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,a=e.depCount=0;const c=[],f=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(_=>{if(this._resetContextStyleTimingState(e),0==_.type){const b=_,w=b.name;w.toString().split(/\s*,\s*/).forEach(O=>{b.name=O,c.push(this.visitState(b,e))}),b.name=w}else if(1==_.type){const b=this.visitTransition(_,e);r+=b.queryCount,a+=b.depCount,f.push(b)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:c,transitions:f,queryCount:r,depCount:a,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),a=t.options&&t.options.params||null;if(r.containsDynamicStyles){const c=new Set,f=a||{};if(r.styles.forEach(_=>{if(DD(_)){const b=_;Object.keys(b).forEach(w=>{E(b[w]).forEach(O=>{f.hasOwnProperty(O)||c.add(O)})})}}),c.size){const _=I(c.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${_.join(", ")}`)}}return{type:0,name:t.name,style:r,options:a?{params:a}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=ne(this,h(t.animation),e);return{type:1,matchers:et(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:jp(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>ne(this,r,e)),options:jp(t.options)}}visitGroup(t,e){const r=e.currentTime;let a=0;const c=t.steps.map(f=>{e.currentTime=r;const _=ne(this,f,e);return a=Math.max(a,e.currentTime),_});return e.currentTime=a,{type:3,steps:c,options:jp(t.options)}}visitAnimate(t,e){const r=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return OM(Bb(n,t).duration,0,"");const r=n;if(r.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=OM(0,0,"");return c.dynamic=!0,c.strValue=r,c}return e=e||Bb(r,t),OM(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let a,c=t.styles?t.styles:Ws({});if(5==c.type)a=this.visitKeyframes(c,e);else{let f=t.styles,_=!1;if(!f){_=!0;const w={};r.easing&&(w.easing=r.easing),f=Ws(w)}e.currentTime+=r.duration+r.delay;const b=this.visitStyle(f,e);b.isEmptyStep=_,a=b}return e.currentAnimateTimings=null,{type:4,timings:r,style:a,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[];Array.isArray(t.styles)?t.styles.forEach(f=>{"string"==typeof f?f==zs?r.push(f):e.errors.push(`The provided style string value ${f} is not allowed.`):r.push(f)}):r.push(t.styles);let a=!1,c=null;return r.forEach(f=>{if(DD(f)){const _=f,b=_.easing;if(b&&(c=b,delete _.easing),!a)for(let w in _)if(_[w].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:r,easing:c,offset:t.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let a=e.currentTime,c=e.currentTime;r&&c>0&&(c-=r.duration+r.delay),t.styles.forEach(f=>{"string"!=typeof f&&Object.keys(f).forEach(_=>{if(!this._driver.validateStyleProperty(_))return void e.errors.push(`The provided animation property "${_}" is not a supported CSS property for animations`);const b=e.collectedStyles[e.currentQuerySelector],w=b[_];let O=!0;w&&(c!=a&&c>=w.startTime&&a<=w.endTime&&(e.errors.push(`The CSS property "${_}" that exists between the times of "${w.startTime}ms" and "${w.endTime}ms" is also being animated in a parallel animation between the times of "${c}ms" and "${a}ms"`),O=!1),c=w.startTime),O&&(b[_]={startTime:c,endTime:a}),e.options&&function(n,t,e){const r=t.params||{},a=E(n);a.length&&a.forEach(c=>{r.hasOwnProperty(c)||e.push(`Unable to resolve the local animation param ${c} in the given list of values`)})}(f[_],e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;let c=0;const f=[];let _=!1,b=!1,w=0;const O=t.steps.map(qe=>{const rt=this._makeStyleAst(qe,e);let Nt=null!=rt.offset?rt.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(DD(e)&&e.hasOwnProperty("offset")){const r=e;t=parseFloat(r.offset),delete r.offset}});else if(DD(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(rt.styles),vt=0;return null!=Nt&&(c++,vt=rt.offset=Nt),b=b||vt<0||vt>1,_=_||vt<w,w=vt,f.push(vt),rt});b&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),_&&e.errors.push("Please ensure that all keyframe offsets are in order");const x=t.steps.length;let z=0;c>0&&c<x?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==c&&(z=1/(x-1));const Y=x-1,ae=e.currentTime,Re=e.currentAnimateTimings,Ve=Re.duration;return O.forEach((qe,rt)=>{const Nt=z>0?rt==Y?1:z*rt:f[rt],vt=Nt*Ve;e.currentTime=ae+Re.delay+vt,Re.duration=vt,this._validateStyleAst(qe,e),qe.offset=Nt,r.styles.push(qe)}),r}visitReference(t,e){return{type:8,animation:ne(this,h(t.animation),e),options:jp(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:jp(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:jp(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,a=t.options||{};e.queryCount++,e.currentQuery=t;const[c,f]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(jh,"")),[n=n.replace(/@\*/g,Lb).replace(/@\w+/g,e=>Lb+"-"+e.substr(1)).replace(/:animating/g,wD),t]}(t.selector);e.currentQuerySelector=r.length?r+" "+c:c,us(e.collectedStyles,e.currentQuerySelector,{});const _=ne(this,h(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:c,limit:a.limit||0,optional:!!a.optional,includeSelf:f,animation:_,originalSelector:t.selector,options:jp(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Bb(t.timings,e.errors,!0);return{type:12,animation:ne(this,h(t.animation),e),timings:r,options:null}}}class $b{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function DD(n){return!Array.isArray(n)&&"object"==typeof n}function jp(n){return n?(n=Up(n)).params&&(n.params=function(n){return n?Up(n):null}(n.params)):n={},n}function OM(n,t,e){return{duration:n,delay:t,easing:e}}function RM(n,t,e,r,a,c,f=null,_=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:a,delay:c,totalTime:a+c,easing:f,subTimeline:_}}class SD{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const s1=new RegExp(":enter","g"),a1=new RegExp(":leave","g");function xM(n,t,e,r,a,c={},f={},_,b,w=[]){return(new l1).buildKeyframes(n,t,e,r,a,c,f,_,b,w)}class l1{buildKeyframes(t,e,r,a,c,f,_,b,w,O=[]){w=w||new SD;const x=new PM(t,e,w,a,c,O,[]);x.options=b,x.currentTimeline.setStyles([f],null,x.errors,b),ne(this,r,x);const z=x.timelines.filter(Y=>Y.containsAnimation());if(z.length&&Object.keys(_).length){const Y=z[z.length-1];Y.allowOnlyTimelineStyles()||Y.setStyles([_],null,x.errors,b)}return z.length?z.map(Y=>Y.buildKeyframes()):[RM(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.consume(e.element);if(r){const a=e.createSubContext(t.options),c=e.currentTimeline.currentTime,f=this._visitSubInstructions(r,a,a.options);c!=f&&e.transformIntoNewTimeline(f)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,r){let c=e.currentTimeline.currentTime;const f=null!=r.duration?Bh(r.duration):null,_=null!=r.delay?Bh(r.delay):null;return 0!==f&&t.forEach(b=>{const w=e.appendInstructionToTimeline(b,f,_);c=Math.max(c,w.duration+w.delay)}),c}visitReference(t,e){e.updateOptions(t.options,!0),ne(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let a=e;const c=t.options;if(c&&(c.params||c.delay)&&(a=e.createSubContext(c),a.transformIntoNewTimeline(),null!=c.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=TD);const f=Bh(c.delay);a.delayNextStep(f)}t.steps.length&&(t.steps.forEach(f=>ne(this,f,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>r&&a.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let a=e.currentTimeline.currentTime;const c=t.options&&t.options.delay?Bh(t.options.delay):0;t.steps.forEach(f=>{const _=e.createSubContext(t.options);c&&_.delayNextStep(c),ne(this,f,_),a=Math.max(a,_.currentTimeline.currentTime),r.push(_.currentTimeline)}),r.forEach(f=>e.currentTimeline.mergeTimelineCollectedStyles(f)),e.transformIntoNewTimeline(a),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return Bb(e.params?S(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),a=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),a.snapshotCurrentStyles());const c=t.style;5==c.type?this.visitKeyframes(c,e):(e.incrementTime(r.duration),this.visitStyle(c,e),a.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,a=e.currentAnimateTimings;!a&&r.getCurrentStyleProperties().length&&r.forwardFrame();const c=a&&a.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(c):r.setStyles(t.styles,c,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,a=e.currentTimeline.duration,c=r.duration,_=e.createSubContext().currentTimeline;_.easing=r.easing,t.styles.forEach(b=>{_.forwardTime((b.offset||0)*c),_.setStyles(b.styles,b.easing,e.errors,e.options),_.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(_),e.transformIntoNewTimeline(a+c),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,a=t.options||{},c=a.delay?Bh(a.delay):0;c&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=TD);let f=r;const _=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!a.optional,e.errors);e.currentQueryTotal=_.length;let b=null;_.forEach((w,O)=>{e.currentQueryIndex=O;const x=e.createSubContext(t.options,w);c&&x.delayNextStep(c),w===e.element&&(b=x.currentTimeline),ne(this,t.animation,x),x.currentTimeline.applyStylesToKeyframe(),f=Math.max(f,x.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(f),b&&(e.currentTimeline.mergeTimelineCollectedStyles(b),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,a=e.currentTimeline,c=t.timings,f=Math.abs(c.duration),_=f*(e.currentQueryTotal-1);let b=f*e.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":b=_-b;break;case"full":b=r.currentStaggerTime}const O=e.currentTimeline;b&&O.delayNextStep(b);const x=O.currentTime;ne(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=a.currentTime-x+(a.startTime-r.currentTimeline.startTime)}}const TD={};class PM{constructor(t,e,r,a,c,f,_,b){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=a,this._leaveClassName=c,this.errors=f,this.timelines=_,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=TD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=b||new ID(this._driver,e,0),_.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let a=this.options;null!=r.duration&&(a.duration=Bh(r.duration)),null!=r.delay&&(a.delay=Bh(r.delay));const c=r.params;if(c){let f=a.params;f||(f=this.options.params={}),Object.keys(c).forEach(_=>{(!e||!f.hasOwnProperty(_))&&(f[_]=S(c[_],f,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(a=>{r[a]=e[a]})}}return t}createSubContext(t=null,e,r){const a=e||this.element,c=new PM(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,r||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(t),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(t){return this.previousNode=TD,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const a={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+t.delay,easing:""},c=new c1(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,a,t.stretchStartingKeyframe);return this.timelines.push(c),a}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,a,c,f){let _=[];if(a&&_.push(this.element),t.length>0){t=(t=t.replace(s1,"."+this._enterClassName)).replace(a1,"."+this._leaveClassName);let w=this._driver.query(this.element,t,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),_.push(...w)}return!c&&0==_.length&&f.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),_}}class ID{constructor(t,e,r,a){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new ID(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||zs,this._currentKeyframe[e]=zs}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,a){e&&(this._previousKeyframe.easing=e);const c=a&&a.params||{},f=function(n,t){const e={};let r;return n.forEach(a=>{"*"===a?(r=r||Object.keys(t),r.forEach(c=>{e[c]=zs})):i(a,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(f).forEach(_=>{const b=S(f[_],c,r);this._pendingStyles[_]=b,this._localTimelineStyles.hasOwnProperty(_)||(this._backFill[_]=this._globalTimelineStyles.hasOwnProperty(_)?this._globalTimelineStyles[_]:zs),this._updateStyle(_,b)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(r=>{this._currentKeyframe[r]=t[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const r=this._styleSummary[e],a=t._styleSummary[e];(!r||a.time>r.time)&&this._updateStyle(e,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((_,b)=>{const w=i(_,!0);Object.keys(w).forEach(O=>{const x=w[O];"!"==x?t.add(O):x==zs&&e.add(O)}),r||(w.offset=b/this.duration),a.push(w)});const c=t.size?I(t.values()):[],f=e.size?I(e.values()):[];if(r){const _=a[0],b=Up(_);_.offset=0,b.offset=1,a=[_,b]}return RM(this.element,a,c,f,this.duration,this.startTime,this.easing,!1)}}class c1 extends ID{constructor(t,e,r,a,c,f,_=!1){super(t,e,f.delay),this.keyframes=r,this.preStyleProps=a,this.postStyleProps=c,this._stretchStartingKeyframe=_,this.timings={duration:f.duration,delay:f.delay,easing:f.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:a}=this.timings;if(this._stretchStartingKeyframe&&e){const c=[],f=r+e,_=e/f,b=i(t[0],!1);b.offset=0,c.push(b);const w=i(t[0],!1);w.offset=aP(_),c.push(w);const O=t.length-1;for(let x=1;x<=O;x++){let z=i(t[x],!1);z.offset=aP((e+z.offset*r)/f),c.push(z)}r=f,e=0,a="",t=c}return RM(this.element,t,this.preStyleProps,this.postStyleProps,r,e,a,!0)}}function aP(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class kM{}class d1 extends kM{normalizePropertyName(t,e){return N(t)}normalizeStyleValue(t,e,r,a){let c="";const f=r.toString().trim();if(h1[e]&&0!==r&&"0"!==r)if("number"==typeof r)c="px";else{const _=r.match(/^[+-]?[\d\.]+([a-z]*)$/);_&&0==_[1].length&&a.push(`Please provide a CSS unit value for ${t}:${r}`)}return f+c}}const h1=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function lP(n,t,e,r,a,c,f,_,b,w,O,x,z){return{type:0,element:n,triggerName:t,isRemovalTransition:a,fromState:e,fromStyles:c,toState:r,toStyles:f,timelines:_,queriedElements:b,preStyleProps:w,postStyleProps:O,totalTime:x,errors:z}}const NM={};class cP{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,a){return function(n,t,e,r,a){return n.some(c=>c(t,e,r,a))}(this.ast.matchers,t,e,r,a)}buildStyles(t,e,r){const a=this._stateStyles["*"],c=this._stateStyles[t],f=a?a.buildStyles(e,r):{};return c?c.buildStyles(e,r):f}build(t,e,r,a,c,f,_,b,w,O){const x=[],z=this.ast.options&&this.ast.options.params||NM,ae=this.buildStyles(r,_&&_.params||NM,x),Re=b&&b.params||NM,Ve=this.buildStyles(a,Re,x),qe=new Set,rt=new Map,Nt=new Map,vt="void"===a,Vr={params:Object.assign(Object.assign({},z),Re)},Yr=O?[]:xM(t,e,this.ast.animation,c,f,ae,Ve,Vr,w,x);let hs=0;if(Yr.forEach(Ku=>{hs=Math.max(Ku.duration+Ku.delay,hs)}),x.length)return lP(e,this._triggerName,r,a,vt,ae,Ve,[],[],rt,Nt,hs,x);Yr.forEach(Ku=>{const Qu=Ku.element,JN=us(rt,Qu,{});Ku.preStyleProps.forEach(Zp=>JN[Zp]=!0);const rC=us(Nt,Qu,{});Ku.postStyleProps.forEach(Zp=>rC[Zp]=!0),Qu!==e&&qe.add(Qu)});const qu=I(qe.values());return lP(e,this._triggerName,r,a,vt,ae,Ve,Yr,qu,rt,Nt,hs)}}class g1{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r={},a=Up(this.defaultParams);return Object.keys(t).forEach(c=>{const f=t[c];null!=f&&(a[c]=f)}),this.styles.styles.forEach(c=>{if("string"!=typeof c){const f=c;Object.keys(f).forEach(_=>{let b=f[_];b.length>1&&(b=S(b,a,e));const w=this.normalizer.normalizePropertyName(_,e);b=this.normalizer.normalizeStyleValue(_,w,b,e),r[w]=b})}}),r}}class _1{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states={},e.states.forEach(a=>{this.states[a.name]=new g1(a.style,a.options&&a.options.params||{},r)}),uP(this.states,"true","1"),uP(this.states,"false","0"),e.transitions.forEach(a=>{this.transitionFactories.push(new cP(t,a,this.states))}),this.fallbackTransition=function(n,t,e){return new cP(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(f,_)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,a){return this.transitionFactories.find(f=>f.match(t,e,r,a))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function uP(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const v1=new SD;class b1{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(t,e){const r=[],a=Ec(this._driver,e,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[t]=a}_buildPlayer(t,e,r){const a=t.element,c=_D(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(a,c,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const a=[],c=this._animations[t];let f;const _=new Map;if(c?(f=xM(this._driver,e,c,ED,Fb,{},{},r,v1,a),f.forEach(O=>{const x=us(_,O.element,{});O.postStyleProps.forEach(z=>x[z]=null)})):(a.push("The requested animation doesn't exist or has already been destroyed"),f=[]),a.length)throw new Error(`Unable to create the animation due to the following errors: ${a.join("\n")}`);_.forEach((O,x)=>{Object.keys(O).forEach(z=>{O[z]=this._driver.computeStyle(x,z,zs)})});const w=ba(f.map(O=>{const x=_.get(O.element);return this._buildPlayer(O,{},x)}));return this._playersById[t]=w,w.onDestroy(()=>this.destroy(t)),this.players.push(w),w}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,r,a){const c=Ob(e,"","","");return C_(this._getPlayer(t),r,c,a),()=>{}}command(t,e,r,a){if("register"==r)return void this.register(t,a[0]);if("create"==r)return void this.create(t,e,a[0]||{});const c=this._getPlayer(t);switch(r){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(t)}}}const dP="ng-animate-queued",hP="ng-animate-disabled",fP=".ng-animate-disabled",D1=[],pP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},S1={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ca="__ng_removed";class FM{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(r?t.value:t),r){const c=Up(t);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(a=>{null==r[a]&&(r[a]=e[a])})}}}const Gb="void",LM=new FM(Gb);class T1{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ea(e,this._hostClassName)}listen(t,e,r,a){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${e}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${e}" is not supported!`);const c=us(this._elementListeners,t,[]),f={name:e,phase:r,callback:a};c.push(f);const _=us(this._engine.statesByElement,t,{});return _.hasOwnProperty(e)||(Ea(t,S_),Ea(t,S_+"-"+e),_[e]=LM),()=>{this._engine.afterFlush(()=>{const b=c.indexOf(f);b>=0&&c.splice(b,1),this._triggers[e]||delete _[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,r,a=!0){const c=this._getTrigger(e),f=new VM(this.id,e,t);let _=this._engine.statesByElement.get(t);_||(Ea(t,S_),Ea(t,S_+"-"+e),this._engine.statesByElement.set(t,_={}));let b=_[e];const w=new FM(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&b&&w.absorbOptions(b.options),_[e]=w,b||(b=LM),w.value!==Gb&&b.value===w.value){if(!function(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let a=0;a<e.length;a++){const c=e[a];if(!t.hasOwnProperty(c)||n[c]!==t[c])return!1}return!0}(b.params,w.params)){const Re=[],Ve=c.matchStyles(b.value,b.params,Re),qe=c.matchStyles(w.value,w.params,Re);Re.length?this._engine.reportError(Re):this._engine.afterFlush(()=>{d(t,Ve),l(t,qe)})}return}const z=us(this._engine.playersByElement,t,[]);z.forEach(Re=>{Re.namespaceId==this.id&&Re.triggerName==e&&Re.queued&&Re.destroy()});let Y=c.matchTransition(b.value,w.value,t,w.params),ae=!1;if(!Y){if(!a)return;Y=c.fallbackTransition,ae=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:Y,fromState:b,toState:w,player:f,isFallbackTransition:ae}),ae||(Ea(t,dP),f.onStart(()=>{I_(t,dP)})),f.onDone(()=>{let Re=this.players.indexOf(f);Re>=0&&this.players.splice(Re,1);const Ve=this._engine.playersByElement.get(t);if(Ve){let qe=Ve.indexOf(f);qe>=0&&Ve.splice(qe,1)}}),this.players.push(f),z.push(f),f}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,r)=>{delete e[t]}),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(a=>a.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,Lb,!0);r.forEach(a=>{if(a[Ca])return;const c=this._engine.fetchNamespacesByElement(a);c.size?c.forEach(f=>f.triggerLeaveAnimation(a,e,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(t,e,r,a){const c=this._engine.statesByElement.get(t);if(c){const f=[];if(Object.keys(c).forEach(_=>{if(this._triggers[_]){const b=this.trigger(t,_,Gb,a);b&&f.push(b)}}),f.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),r&&ba(f).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const a=new Set;e.forEach(c=>{const f=c.name;if(a.has(f))return;a.add(f);const b=this._triggers[f].fallbackTransition,w=r[f]||LM,O=new FM(Gb),x=new VM(this.id,f,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:f,transition:b,fromState:w,toState:O,player:x,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let a=!1;if(r.totalAnimations){const c=r.players.length?r.playersByQueriedElement.get(t):[];if(c&&c.length)a=!0;else{let f=t;for(;f=f.parentNode;)if(r.statesByElement.get(f)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(t),a)r.markElementAsRemoved(this.id,t,!1,e);else{const c=t[Ca];(!c||c===pP)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){Ea(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const a=r.player;if(a.destroyed)return;const c=r.element,f=this._elementListeners.get(c);f&&f.forEach(_=>{if(_.name==r.triggerName){const b=Ob(c,r.triggerName,r.fromState.value,r.toState.value);b._data=t,C_(r.player,_.phase,b,_.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):e.push(r)}),this._queue=[],e.sort((r,a)=>{const c=r.transition.ast.depCount,f=a.transition.ast.depCount;return 0==c||0==f?c-f:this._engine.driver.containsElement(r.element,a.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class I1{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,c)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new T1(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList.length-1;if(r>=0){let a=!1;for(let c=r;c>=0;c--)if(this.driver.containsElement(this._namespaceList[c].hostElement,e)){this._namespaceList.splice(c+1,0,t),a=!0;break}a||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let a=this._namespaceLookup[t];a&&a.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const a=this._namespaceList.indexOf(r);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r){const a=Object.keys(r);for(let c=0;c<a.length;c++){const f=r[a[c]].namespaceId;if(f){const _=this._fetchNamespace(f);_&&e.add(_)}}}return e}trigger(t,e,r,a){if(AD(e)){const c=this._fetchNamespace(t);if(c)return c.trigger(e,r,a),!0}return!1}insertNode(t,e,r,a){if(!AD(e))return;const c=e[Ca];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const f=this.collectedLeaveElements.indexOf(e);f>=0&&this.collectedLeaveElements.splice(f,1)}if(t){const f=this._fetchNamespace(t);f&&f.insertNode(e,r)}a&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ea(t,hP)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),I_(t,hP))}removeNode(t,e,r,a){if(AD(e)){const c=t?this._fetchNamespace(t):null;if(c?c.removeNode(e,a):this.markElementAsRemoved(t,e,!1,a),r){const f=this.namespacesByHostElement.get(e);f&&f.id!==t&&f.removeNode(e,a)}}else this._onRemovalComplete(e,a)}markElementAsRemoved(t,e,r,a){this.collectedLeaveElements.push(e),e[Ca]={namespaceId:t,setForRemoval:a,hasAnimation:r,removedBeforeQueried:!1}}listen(t,e,r,a,c){return AD(e)?this._fetchNamespace(t).listen(e,r,a,c):()=>{}}_buildInstruction(t,e,r,a,c){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,a,t.fromState.options,t.toState.options,e,c)}destroyInnerAnimations(t){let e=this.driver.query(t,Lb,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,wD,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ba(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ca];if(e&&e.setForRemoval){if(t[Ca]=pP,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,fP)&&this.markElementAsDisabled(t,!1),this.driver.query(t,fP,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,a)=>this._balanceNamespaceList(r,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ea(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let a=0;a<r.length;a++)r[a]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?ba(e).onDone(()=>{r.forEach(a=>a())}):r.forEach(a=>a())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const r=new SD,a=[],c=new Map,f=[],_=new Map,b=new Map,w=new Map,O=new Set;this.disabledNodes.forEach(Je=>{O.add(Je);const lt=this.driver.query(Je,".ng-animate-queued",!0);for(let Dt=0;Dt<lt.length;Dt++)O.add(lt[Dt])});const x=this.bodyNode,z=Array.from(this.statesByElement.keys()),Y=_P(z,this.collectedEnterElements),ae=new Map;let Re=0;Y.forEach((Je,lt)=>{const Dt=ED+Re++;ae.set(lt,Dt),Je.forEach(qt=>Ea(qt,Dt))});const Ve=[],qe=new Set,rt=new Set;for(let Je=0;Je<this.collectedLeaveElements.length;Je++){const lt=this.collectedLeaveElements[Je],Dt=lt[Ca];Dt&&Dt.setForRemoval&&(Ve.push(lt),qe.add(lt),Dt.hasAnimation?this.driver.query(lt,".ng-star-inserted",!0).forEach(qt=>qe.add(qt)):rt.add(lt))}const Nt=new Map,vt=_P(z,Array.from(qe));vt.forEach((Je,lt)=>{const Dt=Fb+Re++;Nt.set(lt,Dt),Je.forEach(qt=>Ea(qt,Dt))}),t.push(()=>{Y.forEach((Je,lt)=>{const Dt=ae.get(lt);Je.forEach(qt=>I_(qt,Dt))}),vt.forEach((Je,lt)=>{const Dt=Nt.get(lt);Je.forEach(qt=>I_(qt,Dt))}),Ve.forEach(Je=>{this.processLeaveNode(Je)})});const Vr=[],Yr=[];for(let Je=this._namespaceList.length-1;Je>=0;Je--)this._namespaceList[Je].drainQueuedTransitions(e).forEach(Dt=>{const qt=Dt.player,Zr=Dt.element;if(Vr.push(qt),this.collectedEnterElements.length){const Tc=Zr[Ca];if(Tc&&Tc.setForMove)return void qt.destroy()}const Sc=!x||!this.driver.containsElement(x,Zr),Oo=Nt.get(Zr),Yh=ae.get(Zr),Xn=this._buildInstruction(Dt,r,Yh,Oo,Sc);if(Xn.errors&&Xn.errors.length)Yr.push(Xn);else{if(Sc)return qt.onStart(()=>d(Zr,Xn.fromStyles)),qt.onDestroy(()=>l(Zr,Xn.toStyles)),void a.push(qt);if(Dt.isFallbackTransition)return qt.onStart(()=>d(Zr,Xn.fromStyles)),qt.onDestroy(()=>l(Zr,Xn.toStyles)),void a.push(qt);Xn.timelines.forEach(Tc=>Tc.stretchStartingKeyframe=!0),r.append(Zr,Xn.timelines),f.push({instruction:Xn,player:qt,element:Zr}),Xn.queriedElements.forEach(Tc=>us(_,Tc,[]).push(qt)),Xn.preStyleProps.forEach((Tc,iC)=>{const eS=Object.keys(Tc);if(eS.length){let qp=b.get(iC);qp||b.set(iC,qp=new Set),eS.forEach(jO=>qp.add(jO))}}),Xn.postStyleProps.forEach((Tc,iC)=>{const eS=Object.keys(Tc);let qp=w.get(iC);qp||w.set(iC,qp=new Set),eS.forEach(jO=>qp.add(jO))})}});if(Yr.length){const Je=[];Yr.forEach(lt=>{Je.push(`@${lt.triggerName} has failed due to:\n`),lt.errors.forEach(Dt=>Je.push(`- ${Dt}\n`))}),Vr.forEach(lt=>lt.destroy()),this.reportError(Je)}const hs=new Map,qu=new Map;f.forEach(Je=>{const lt=Je.element;r.has(lt)&&(qu.set(lt,lt),this._beforeAnimationBuild(Je.player.namespaceId,Je.instruction,hs))}),a.forEach(Je=>{const lt=Je.element;this._getPreviousPlayers(lt,!1,Je.namespaceId,Je.triggerName,null).forEach(qt=>{us(hs,lt,[]).push(qt),qt.destroy()})});const Ku=Ve.filter(Je=>vP(Je,b,w)),Qu=new Map;mP(Qu,this.driver,rt,w,zs).forEach(Je=>{vP(Je,b,w)&&Ku.push(Je)});const rC=new Map;Y.forEach((Je,lt)=>{mP(rC,this.driver,new Set(Je),b,"!")}),Ku.forEach(Je=>{const lt=Qu.get(Je),Dt=rC.get(Je);Qu.set(Je,Object.assign(Object.assign({},lt),Dt))});const Zp=[],XN=[],eF={};f.forEach(Je=>{const{element:lt,player:Dt,instruction:qt}=Je;if(r.has(lt)){if(O.has(lt))return Dt.onDestroy(()=>l(lt,qt.toStyles)),Dt.disabled=!0,Dt.overrideTotalTime(qt.totalTime),void a.push(Dt);let Zr=eF;if(qu.size>1){let Oo=lt;const Yh=[];for(;Oo=Oo.parentNode;){const Xn=qu.get(Oo);if(Xn){Zr=Xn;break}Yh.push(Oo)}Yh.forEach(Xn=>qu.set(Xn,Zr))}const Sc=this._buildAnimation(Dt.namespaceId,qt,hs,c,rC,Qu);if(Dt.setRealPlayer(Sc),Zr===eF)Zp.push(Dt);else{const Oo=this.playersByElement.get(Zr);Oo&&Oo.length&&(Dt.parentPlayer=ba(Oo)),a.push(Dt)}}else d(lt,qt.fromStyles),Dt.onDestroy(()=>l(lt,qt.toStyles)),XN.push(Dt),O.has(lt)&&a.push(Dt)}),XN.forEach(Je=>{const lt=c.get(Je.element);if(lt&&lt.length){const Dt=ba(lt);Je.setRealPlayer(Dt)}}),a.forEach(Je=>{Je.parentPlayer?Je.syncPlayerEvents(Je.parentPlayer):Je.destroy()});for(let Je=0;Je<Ve.length;Je++){const lt=Ve[Je],Dt=lt[Ca];if(I_(lt,Fb),Dt&&Dt.hasAnimation)continue;let qt=[];if(_.size){let Sc=_.get(lt);Sc&&Sc.length&&qt.push(...Sc);let Oo=this.driver.query(lt,wD,!0);for(let Yh=0;Yh<Oo.length;Yh++){let Xn=_.get(Oo[Yh]);Xn&&Xn.length&&qt.push(...Xn)}}const Zr=qt.filter(Sc=>!Sc.destroyed);Zr.length?R1(this,lt,Zr):this.processLeaveNode(lt)}return Ve.length=0,Zp.forEach(Je=>{this.players.push(Je),Je.onDone(()=>{Je.destroy();const lt=this.players.indexOf(Je);this.players.splice(lt,1)}),Je.play()}),Zp}elementContainsData(t,e){let r=!1;const a=e[Ca];return a&&a.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,a,c){let f=[];if(e){const _=this.playersByQueriedElement.get(t);_&&(f=_)}else{const _=this.playersByElement.get(t);if(_){const b=!c||c==Gb;_.forEach(w=>{w.queued||!b&&w.triggerName!=a||f.push(w)})}}return(r||a)&&(f=f.filter(_=>!(r&&r!=_.namespaceId||a&&a!=_.triggerName))),f}_beforeAnimationBuild(t,e,r){const c=e.element,f=e.isRemovalTransition?void 0:t,_=e.isRemovalTransition?void 0:e.triggerName;for(const b of e.timelines){const w=b.element,O=w!==c,x=us(r,w,[]);this._getPreviousPlayers(w,O,f,_,e.toState).forEach(Y=>{const ae=Y.getRealPlayer();ae.beforeDestroy&&ae.beforeDestroy(),Y.destroy(),x.push(Y)})}d(c,e.fromStyles)}_buildAnimation(t,e,r,a,c,f){const _=e.triggerName,b=e.element,w=[],O=new Set,x=new Set,z=e.timelines.map(ae=>{const Re=ae.element;O.add(Re);const Ve=Re[Ca];if(Ve&&Ve.removedBeforeQueried)return new va(ae.duration,ae.delay);const qe=Re!==b,rt=function(n){const t=[];return yP(n,t),t}((r.get(Re)||D1).map(hs=>hs.getRealPlayer())).filter(hs=>!!hs.element&&hs.element===Re),Nt=c.get(Re),vt=f.get(Re),Vr=_D(0,this._normalizer,0,ae.keyframes,Nt,vt),Yr=this._buildPlayer(ae,Vr,rt);if(ae.subTimeline&&a&&x.add(Re),qe){const hs=new VM(t,_,Re);hs.setRealPlayer(Yr),w.push(hs)}return Yr});w.forEach(ae=>{us(this.playersByQueriedElement,ae.element,[]).push(ae),ae.onDone(()=>function(n,t,e){let r;if(n instanceof Map){if(r=n.get(t),r){if(r.length){const a=r.indexOf(e);r.splice(a,1)}0==r.length&&n.delete(t)}}else if(r=n[t],r){if(r.length){const a=r.indexOf(e);r.splice(a,1)}0==r.length&&delete n[t]}return r}(this.playersByQueriedElement,ae.element,ae))}),O.forEach(ae=>Ea(ae,AM));const Y=ba(z);return Y.onDestroy(()=>{O.forEach(ae=>I_(ae,AM)),l(b,e.toStyles)}),x.forEach(ae=>{us(a,ae,[]).push(Y)}),Y}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new va(t.duration,t.delay)}}class VM{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new va,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(r=>C_(t,e,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){us(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function AD(n){return n&&1===n.nodeType}function gP(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function mP(n,t,e,r,a){const c=[];e.forEach(b=>c.push(gP(b)));const f=[];r.forEach((b,w)=>{const O={};b.forEach(x=>{const z=O[x]=t.computeStyle(w,x,a);(!z||0==z.length)&&(w[Ca]=S1,f.push(w))}),n.set(w,O)});let _=0;return e.forEach(b=>gP(b,c[_++])),f}function _P(n,t){const e=new Map;if(n.forEach(_=>e.set(_,[])),0==t.length)return e;const a=new Set(t),c=new Map;function f(_){if(!_)return 1;let b=c.get(_);if(b)return b;const w=_.parentNode;return b=e.has(w)?w:a.has(w)?1:f(w),c.set(_,b),b}return t.forEach(_=>{const b=f(_);1!==b&&e.get(b).push(_)}),e}const MD="$$classes";function Ea(n,t){if(n.classList)n.classList.add(t);else{let e=n[MD];e||(e=n[MD]={}),e[t]=!0}}function I_(n,t){if(n.classList)n.classList.remove(t);else{let e=n[MD];e&&delete e[t]}}function R1(n,t,e){ba(e).onDone(()=>n.processLeaveNode(t))}function yP(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof b_?yP(r.players,t):t.push(r)}}function vP(n,t,e){const r=e.get(n);if(!r)return!1;let a=t.get(n);return a?r.forEach(c=>a.add(c)):t.set(n,r),e.delete(n),!0}class OD{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(a,c)=>{},this._transitionEngine=new I1(t,e,r),this._timelineEngine=new b1(t,e,r),this._transitionEngine.onRemovalComplete=(a,c)=>this.onRemovalComplete(a,c)}registerTrigger(t,e,r,a,c){const f=t+"-"+a;let _=this._triggerCache[f];if(!_){const b=[],w=Ec(this._driver,c,b);if(b.length)throw new Error(`The animation trigger "${a}" has failed to build due to the following errors:\n - ${b.join("\n - ")}`);_=function(n,t,e){return new _1(n,t,e)}(a,w,this._normalizer),this._triggerCache[f]=_}this._transitionEngine.registerTrigger(e,a,_)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,a){this._transitionEngine.insertNode(t,e,r,a)}onRemove(t,e,r,a){this._transitionEngine.removeNode(t,e,a||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,a){if("@"==r.charAt(0)){const[c,f]=yD(r);this._timelineEngine.command(c,e,f,a)}else this._transitionEngine.trigger(t,e,r,a)}listen(t,e,r,a,c){if("@"==r.charAt(0)){const[f,_]=yD(r);return this._timelineEngine.listen(f,e,_,c)}return this._transitionEngine.listen(t,e,r,a,c)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function bP(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=BM(t[0]),t.length>1&&(r=BM(t[t.length-1]))):t&&(e=BM(t)),e||r?new k1(n,e,r):null}let k1=(()=>{class n{constructor(e,r,a){this._element=e,this._startStyles=r,this._endStyles=a,this._state=0;let c=n.initialStylesByElement.get(e);c||n.initialStylesByElement.set(e,c={}),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&l(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(l(this._element,this._initialStyles),this._endStyles&&(l(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(d(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(d(this._element,this._endStyles),this._endStyles=null),l(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function BM(n){let t=null;const e=Object.keys(n);for(let r=0;r<e.length;r++){const a=e[r];N1(a)&&(t=t||{},t[a]=n[a])}return t}function N1(n){return"display"===n||"position"===n}const CP="animation",EP="animationend";class V1{constructor(t,e,r,a,c,f,_){this._element=t,this._name=e,this._duration=r,this._delay=a,this._easing=c,this._fillMode=f,this._onDoneFn=_,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=b=>this._handleCallback(b)}apply(){(function(n,t){const e=jM(n,"").trim();let r=0;e.length&&(function(n,t){let e=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&e++;return e}(e)+1,t=`${e}, ${t}`),RD(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),SP(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){wP(this._element,this._name,"paused")}resume(){wP(this._element,this._name,"running")}setPosition(t){const e=DP(this._element,this._name);this._position=t*this._duration,RD(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),SP(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const r=jM(n,"").split(","),a=UM(r,t);a>=0&&(r.splice(a,1),RD(n,"",r.join(",")))}(this._element,this._name))}}function wP(n,t,e){RD(n,"PlayState",e,DP(n,t))}function DP(n,t){const e=jM(n,"");return e.indexOf(",")>0?UM(e.split(","),t):UM([e],t)}function UM(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function SP(n,t,e){e?n.removeEventListener(EP,t):n.addEventListener(EP,t)}function RD(n,t,e,r){const a=CP+t;if(null!=r){const c=n.style[a];if(c.length){const f=c.split(",");f[r]=e,e=f.join(",")}}n.style[a]=e}function jM(n,t){return n.style[CP+t]||""}class TP{constructor(t,e,r,a,c,f,_,b){this.element=t,this.keyframes=e,this.animationName=r,this._duration=a,this._delay=c,this._finalStyles=_,this._specialStyles=b,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=f||"linear",this.totalTime=a+c,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new V1(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(t[r]=e?this._finalStyles[r]:Pe(this.element,r))})}this.currentSnapshot=t}}class G1 extends va{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Nb(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class AP{constructor(){this._count=0}validateStyleProperty(t){return D_(t)}matchesElement(t,e){return Vp(t,e)}containsElement(t,e){return Pb(t,e)}query(t,e,r){return kb(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,r){r=r.map(_=>Nb(_));let a=`@keyframes ${e} {\n`,c="";r.forEach(_=>{c=" ";const b=parseFloat(_.offset);a+=`${c}${100*b}% {\n`,c+=" ",Object.keys(_).forEach(w=>{const O=_[w];switch(w){case"offset":return;case"easing":return void(O&&(a+=`${c}animation-timing-function: ${O};\n`));default:return void(a+=`${c}${w}: ${O};\n`)}}),a+=`${c}}\n`}),a+="}\n";const f=document.createElement("style");return f.textContent=a,f}animate(t,e,r,a,c,f=[],_){const b=f.filter(Ve=>Ve instanceof TP),w={};K(r,a)&&b.forEach(Ve=>{let qe=Ve.currentSnapshot;Object.keys(qe).forEach(rt=>w[rt]=qe[rt])});const O=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(a=>{"offset"==a||"easing"==a||(t[a]=r[a])})}),t}(e=ge(t,e,w));if(0==r)return new G1(t,O);const x="gen_css_kf_"+this._count++,z=this.buildKeyframeElement(t,x,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(z);const ae=bP(t,e),Re=new TP(t,e,x,r,a,c,O,ae);return Re.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(z)),Re}}class OP{constructor(t,e,r,a){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,r){return t.animate(e,r)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Pe(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class q1{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(RP().toString()),this._cssKeyframesDriver=new AP}validateStyleProperty(t){return D_(t)}matchesElement(t,e){return Vp(t,e)}containsElement(t,e){return Pb(t,e)}query(t,e,r){return kb(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,r,a,c,f=[],_){if(!_&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,r,a,c,f);const O={duration:r,delay:a,fill:0==a?"both":"forwards"};c&&(O.easing=c);const x={},z=f.filter(ae=>ae instanceof OP);K(r,a)&&z.forEach(ae=>{let Re=ae.currentSnapshot;Object.keys(Re).forEach(Ve=>x[Ve]=Re[Ve])});const Y=bP(t,e=ge(t,e=e.map(ae=>i(ae,!1)),x));return new OP(t,e,O,Y)}}function RP(){return mD()&&Element.prototype.animate||{}}let Q1=(()=>{class n extends Wr{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(e)?Ib(e):e;return xP(this._renderer,null,r,"register",[a]),new J1(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.FYo),u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class J1 extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new X1(this._id,t,e||{},this._renderer)}}class X1{constructor(t,e,r,a){this.id=t,this.element=e,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return xP(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function xP(n,t,e,r,a){return n.setProperty(t,`@@${e}:${r}`,a)}const PP="@.disabled";let eL=(()=>{class n{constructor(e,r,a){this.delegate=e,this.engine=r,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(c,f)=>{f&&f.parentNode(c)&&f.removeChild(c.parentNode,c)}}createRenderer(e,r){const c=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let O=this._rendererCache.get(c);return O||(O=new kP("",c,this.engine),this._rendererCache.set(c,O)),O}const f=r.id,_=r.id+"-"+this._currentId;this._currentId++,this.engine.register(_,e);const b=O=>{Array.isArray(O)?O.forEach(b):this.engine.registerTrigger(f,_,e,O.name,O)};return r.data.animation.forEach(b),new tL(this,_,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,a){e>=0&&e<this._microtaskId?this._zone.run(()=>r(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[f,_]=c;f(_)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.FYo),u.LFG(OD),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class kP{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?a=>e.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,a=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,a)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,a){this.delegate.setAttribute(t,e,r,a)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,a){this.delegate.setStyle(t,e,r,a)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==PP?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class tL extends kP{constructor(t,e,r,a){super(e,r,a),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==PP?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.substr(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const a=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let c=e.substr(1),f="";return"@"!=c.charAt(0)&&([c,f]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(c)),this.engine.listen(this.namespaceId,a,c,f,_=>{this.factory.scheduleListenerCallback(_._data||-1,r,_)})}return this.delegate.listen(t,e,r)}}let iL=(()=>{class n extends OD{constructor(e,r,a){super(e.body,r,a)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ie),u.LFG(Bp),u.LFG(kM))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const A_=new u.OlP("AnimationModuleType"),NP=[{provide:Wr,useClass:Q1},{provide:kM,useFactory:function(){return new d1}},{provide:OD,useClass:iL},{provide:u.FYo,useFactory:function(n,t,e){return new eL(n,t,e)},deps:[$i,OD,u.R0b]}],FP=[{provide:Bp,useFactory:function(){return"function"==typeof RP()?new q1:new AP}},{provide:A_,useValue:"BrowserAnimations"},...NP],LP=[{provide:Bp,useClass:Cc},{provide:A_,useValue:"NoopAnimations"},...NP];let lL=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?LP:FP}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:FP,imports:[$c]}),n})();const VP=new u.GfV("12.2.13"),gL=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Hp,wa=(()=>{class n{constructor(e,r,a){this._hasDoneGlobalChecks=!1,this._document=a,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!(!(0,u.X6Q)()||a_())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const r=getComputedStyle(e);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&VP.full!==pD.full&&console.warn("The Angular Material version ("+VP.full+") does not match the Angular CDK version ("+pD.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(hD),u.LFG(gL,8),u.LFG(ie))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Rh],Rh]}),n})();function BP(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Hs(t)}}}function mL(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function _L(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Hs(t)}}}try{Hp="undefined"!=typeof Intl}catch(n){Hp=!1}class ML{constructor(t,e,r){this._renderer=t,this.element=e,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const jP={enterDuration:225,exitDuration:150},HM=Xv({passive:!0}),HP=["mousedown","touchstart"],$P=["mouseup","mouseleave","touchend","touchcancel"];class RL{constructor(t,e,r,a){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,a.isBrowser&&(this._containerElement=Fu(r))}fadeInRipple(t,e,r={}){const a=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),c=Object.assign(Object.assign({},jP),r.animation);r.centered&&(t=a.left+a.width/2,e=a.top+a.height/2);const f=r.radius||function(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),a=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+a*a)}(t,e,a),_=t-a.left,b=e-a.top,w=c.enterDuration,O=document.createElement("div");O.classList.add("mat-ripple-element"),O.style.left=_-f+"px",O.style.top=b-f+"px",O.style.height=2*f+"px",O.style.width=2*f+"px",null!=r.color&&(O.style.backgroundColor=r.color),O.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(O),function(n){window.getComputedStyle(n).getPropertyValue("opacity")}(O),O.style.transform="scale(1)";const x=new ML(this,O,r);return x.state=0,this._activeRipples.add(x),r.persistent||(this._mostRecentTransientRipple=x),this._runTimeoutOutsideZone(()=>{const z=x===this._mostRecentTransientRipple;x.state=1,!r.persistent&&(!z||!this._isPointerDown)&&x.fadeOut()},w),x}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const r=t.element,a=Object.assign(Object.assign({},jP),t.config.animation);r.style.transitionDuration=`${a.exitDuration}ms`,r.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,r.parentNode.removeChild(r)},a.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Fu(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(HP))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents($P),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Gs(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!wM(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,HM)})})}_removeTriggerEvents(){this._triggerElement&&(HP.forEach(t=>{this._triggerElement.removeEventListener(t,this,HM)}),this._pointerUpEventsRegistered&&$P.forEach(t=>{this._triggerElement.removeEventListener(t,this,HM)}))}}const kL=new u.OlP("mat-ripple-global-options");let kD=(()=>{class n{constructor(e,r,a,c,f){this._elementRef=e,this._animationMode=f,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new RL(this,r,e,a)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,a){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,Object.assign(Object.assign({},this.rippleConfig),a)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(xn),u.Y36(kL,8),u.Y36(A_,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&u.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),n})(),GP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[wa,s_],wa]}),n})();const ZP=["mat-button",""],qP=["*"],$L=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],GL=mL(BP(_L(class{constructor(n){this._elementRef=n}})));let QP=(()=>{class n extends GL{constructor(e,r,a){super(e),this._focusMonitor=r,this._animationMode=a,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const c of $L)this._hasHostAttributes(c)&&this._getHostElement().classList.add(c);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,r){e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(__),u.Y36(A_,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,r){if(1&e&&u.Gf(kD,5),2&e){let a;u.iGM(a=u.CRH())&&(r.ripple=a.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,r){2&e&&(u.uIk("disabled",r.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[u.qOj],attrs:ZP,ngContentSelectors:qP,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(u.F$t(),u.TgZ(0,"span",0),u.Hsn(1),u.qZA(),u._UZ(2,"span",1),u._UZ(3,"span",2)),2&e&&(u.xp6(2),u.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),u.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[kD],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),zL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[GP,wa],wa]}),n})();function WL(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"div",1),u.TgZ(1,"button",2),u.NdJ("click",function(){return u.CHM(e),u.oxw().action()}),u._uU(2),u.qZA(),u.qZA()}if(2&n){const e=u.oxw();u.xp6(2),u.Oqu(e.data.action)}}function YL(n,t){}const JP=new u.OlP("MatSnackBarData");class M_{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const ZL=Math.pow(2,31)-1;class $M{constructor(t,e){this._overlayRef=e,this._afterDismissed=new ht.xQ,this._afterOpened=new ht.xQ,this._onAction=new ht.xQ,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,ZL))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let qL=(()=>{class n{constructor(e,r){this.snackBarRef=e,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(u.Y36($M),u.Y36(JP))},n.\u0275cmp=u.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,r){1&e&&(u.TgZ(0,"span"),u._uU(1),u.qZA(),u.YNc(2,WL,3,1,"div",0)),2&e&&(u.xp6(1),u.Oqu(r.data.message),u.xp6(1),u.Q6J("ngIf",r.hasAction))},directives:[ir,QP],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),n})();const KL={snackBarState:Tb("state",[y_("void, hidden",Ws({transform:"scale(0.8)",opacity:0})),y_("visible",Ws({transform:"scale(1)",opacity:1})),v_("* => visible",Gu("150ms cubic-bezier(0, 0, 0.2, 1)")),v_("* => void, * => hidden",Gu("75ms cubic-bezier(0.4, 0.0, 1, 1)",Ws({opacity:0})))])};let QL=(()=>{class n extends Fh{constructor(e,r,a,c,f){super(),this._ngZone=e,this._elementRef=r,this._changeDetectorRef=a,this._platform=c,this.snackBarConfig=f,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new ht.xQ,this._onExit=new ht.xQ,this._onEnter=new ht.xQ,this._animationState="void",this.attachDomPortal=_=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(_)),this._live="assertive"!==f.politeness||f.announcementMessage?"off"===f.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:r,toState:a}=e;if(("void"===a&&"void"!==r||"hidden"===a)&&this._completeExit(),"visible"===a){const c=this._onEnter;this._ngZone.run(()=>{c.next(),c.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(qi(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(a=>e.classList.add(a)):e.classList.add(r)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&r){let a=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(a=document.activeElement),e.removeAttribute("aria-hidden"),r.appendChild(e),null==a||a.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.R0b),u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(xn),u.Y36(M_))},n.\u0275cmp=u.Xpm({type:n,selectors:[["snack-bar-container"]],viewQuery:function(e,r){if(1&e&&u.Gf(Lh,7),2&e){let a;u.iGM(a=u.CRH())&&(r._portalOutlet=a.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,r){1&e&&u.WFA("@state.done",function(c){return r.onAnimationEnd(c)}),2&e&&u.d8E("@state",r._animationState)},features:[u.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,r){1&e&&(u.TgZ(0,"div",0),u.YNc(1,YL,0,0,"ng-template",1),u.qZA(),u._UZ(2,"div")),2&e&&(u.xp6(2),u.uIk("aria-live",r._live)("role",r._role))},directives:[Lh],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[KL.snackBarState]}}),n})(),XP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[rD,u_,Uo,zL,wa],wa]}),n})();const ek=new u.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new M_}});let tk=(()=>{class n{constructor(e,r,a,c,f,_){this._overlay=e,this._live=r,this._injector=a,this._breakpointObserver=c,this._parentSnackBar=f,this._defaultConfig=_,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=qL,this.snackBarContainerComponent=QL,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,r){return this._attach(e,r)}openFromTemplate(e,r){return this._attach(e,r)}open(e,r="",a){const c=Object.assign(Object.assign({},this._defaultConfig),a);return c.data={message:e,action:r},c.announcementMessage===e&&(c.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,c)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,r){const c=u.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:M_,useValue:r}]}),f=new Nh(this.snackBarContainerComponent,r.viewContainerRef,c),_=e.attach(f);return _.instance.snackBarConfig=r,_.instance}_attach(e,r){const a=Object.assign(Object.assign(Object.assign({},new M_),this._defaultConfig),r),c=this._createOverlay(a),f=this._attachSnackBarContainer(c,a),_=new $M(f,c);if(e instanceof u.Rgc){const b=new xp(e,null,{$implicit:a.data,snackBarRef:_});_.instance=f.attachTemplatePortal(b)}else{const b=this._createInjector(a,_),w=new Nh(e,void 0,b),O=f.attachComponentPortal(w);_.instance=O.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Lu(c.detachments())).subscribe(b=>{const w=c.overlayElement.classList;b.matches?w.add(this.handsetCssClass):w.remove(this.handsetCssClass)}),a.announcementMessage&&f._onAnnounce.subscribe(()=>{this._live.announce(a.announcementMessage,a.politeness)}),this._animateSnackBar(_,a),this._openedSnackBarRef=_,this._openedSnackBarRef}_animateSnackBar(e,r){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),r.duration&&r.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(r.duration))}_createOverlay(e){const r=new f_;r.direction=e.direction;let a=this._overlay.position().global();const c="rtl"===e.direction,f="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!c||"end"===e.horizontalPosition&&c,_=!f&&"center"!==e.horizontalPosition;return f?a.left("0"):_?a.right("0"):a.centerHorizontally(),"top"===e.verticalPosition?a.top("0"):a.bottom("0"),r.positionStrategy=a,this._overlay.create(r)}_createInjector(e,r){return u.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:$M,useValue:r},{provide:JP,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(yc),u.LFG(Vh),u.LFG(u.zs3),u.LFG(Bu),u.LFG(n,12),u.LFG(ek))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(yc),u.LFG(Vh),u.LFG(u.gxx),u.LFG(Bu),u.LFG(n,12),u.LFG(ek))},token:n,providedIn:XP}),n})();function XL(n,t){}class GM{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const eV={dialogContainer:Tb("dialogContainer",[y_("void, exit",Ws({opacity:0,transform:"scale(0.7)"})),y_("enter",Ws({transform:"none"})),v_("* => enter",Gu("150ms cubic-bezier(0, 0, 0.2, 1)",Ws({transform:"none",opacity:1}))),v_("* => void, * => exit",Gu("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Ws({opacity:0})))])};let tV=(()=>{class n extends Fh{constructor(e,r,a,c,f,_){super(),this._elementRef=e,this._focusTrapFactory=r,this._changeDetectorRef=a,this._config=f,this._focusMonitor=_,this._animationStateChanged=new u.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=b=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(b)),this._ariaLabelledBy=f.ariaLabelledBy||null,this._document=c}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const r=Mh(),a=this._elementRef.nativeElement;(!r||r===this._document.body||r===a||a.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=Mh())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,r=Mh();return e===r||e.contains(r)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(vM),u.Y36(u.sBO),u.Y36(ie,8),u.Y36(GM),u.Y36(__))},n.\u0275dir=u.lG2({type:n,viewQuery:function(e,r){if(1&e&&u.Gf(Lh,7),2&e){let a;u.iGM(a=u.CRH())&&(r._portalOutlet=a.first)}},features:[u.qOj]}),n})(),nV=(()=>{class n extends tV{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:r}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:e,totalTime:r}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,r){1&e&&u.WFA("@dialogContainer.start",function(c){return r._onAnimationStart(c)})("@dialogContainer.done",function(c){return r._onAnimationDone(c)}),2&e&&(u.Ikx("id",r._id),u.uIk("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),u.d8E("@dialogContainer",r._state))},features:[u.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,r){1&e&&u.YNc(0,XL,0,0,"ng-template",0)},directives:[Lh],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[eV.dialogContainer]}}),n})(),rV=0;class Wb{constructor(t,e,r="mat-dialog-"+rV++){this._overlayRef=t,this._containerInstance=e,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new ht.xQ,this._afterClosed=new ht.xQ,this._beforeClosed=new ht.xQ,this._state=0,e._id=r,e._animationStateChanged.pipe(Zn(a=>"opened"===a.state),qi(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Zn(a=>"closed"===a.state),qi(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Zn(a=>27===a.keyCode&&!this.disableClose&&!function(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(a))).subscribe(a=>{a.preventDefault(),zM(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():zM(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Zn(e=>"closing"===e.state),qi(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function zM(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const iV=new u.OlP("MatDialogData"),sV=new u.OlP("mat-dialog-default-options"),nk=new u.OlP("mat-dialog-scroll-strategy"),aV={provide:nk,deps:[yc],useFactory:function(n){return()=>n.scrollStrategies.block()}};let lV=(()=>{class n{constructor(e,r,a,c,f,_,b,w,O){this._overlay=e,this._injector=r,this._defaultOptions=a,this._parentDialog=c,this._overlayContainer=f,this._dialogRefConstructor=b,this._dialogContainerType=w,this._dialogDataToken=O,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ht.xQ,this._afterOpenedAtThisLevel=new ht.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=ri(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ko(void 0))),this._scrollStrategy=_}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,r){(r=function(n,t){return Object.assign(Object.assign({},t),n)}(r,this._defaultOptions||new GM)).id&&this.getDialogById(r.id);const a=this._createOverlay(r),c=this._attachDialogContainer(a,r),f=this._attachDialogContent(e,c,a,r);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(f),f.afterClosed().subscribe(()=>this._removeOpenDialog(f)),this.afterOpened.next(f),c._initializeWithAttachedContent(),f}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const r=this._getOverlayConfig(e);return this._overlay.create(r)}_getOverlayConfig(e){const r=new f_({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(r.backdropClass=e.backdropClass),r}_attachDialogContainer(e,r){const c=u.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:GM,useValue:r}]}),f=new Nh(this._dialogContainerType,r.viewContainerRef,c,r.componentFactoryResolver);return e.attach(f).instance}_attachDialogContent(e,r,a,c){const f=new this._dialogRefConstructor(a,r,c.id);if(e instanceof u.Rgc)r.attachTemplatePortal(new xp(e,null,{$implicit:c.data,dialogRef:f}));else{const _=this._createInjector(c,f,r),b=r.attachComponentPortal(new Nh(e,c.viewContainerRef,_));f.componentInstance=b.instance}return f.updateSize(c.width,c.height).updatePosition(c.position),f}_createInjector(e,r,a){const c=e&&e.viewContainerRef&&e.viewContainerRef.injector,f=[{provide:this._dialogContainerType,useValue:a},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:r}];return e.direction&&(!c||!c.get(Uu,null,u.XFs.Optional))&&f.push({provide:Uu,useValue:{value:e.direction,change:(0,Ge.of)()}}),u.zs3.create({parent:c||this._injector,providers:f})}_removeOpenDialog(e){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,c)=>{a?c.setAttribute("aria-hidden",a):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const r=e.parentElement.children;for(let a=r.length-1;a>-1;a--){let c=r[a];c!==e&&"SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName&&!c.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let r=e.length;for(;r--;)e[r].close()}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(yc),u.Y36(u.zs3),u.Y36(void 0),u.Y36(void 0),u.Y36(Ln),u.Y36(void 0),u.Y36(u.DyG),u.Y36(u.DyG),u.Y36(u.OlP))},n.\u0275dir=u.lG2({type:n}),n})(),O_=(()=>{class n extends lV{constructor(e,r,a,c,f,_,b){super(e,r,c,_,b,f,Wb,nV,iV)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(yc),u.LFG(u.zs3),u.LFG(Xe,8),u.LFG(sV,8),u.LFG(nk),u.LFG(n,12),u.LFG(Ln))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),dV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[O_,aV],imports:[[rD,u_,wa],wa]}),n})();var hV=V(1555);function ND(n,t){return new sn.y(e=>{const r=n.length;if(0===r)return void e.complete();const a=new Array(r);let c=0,f=0;for(let _=0;_<r;_++){const b=(0,yn.D)(n[_]);let w=!1;e.add(b.subscribe({next:O=>{w||(w=!0,f++),a[_]=O},error:O=>e.error(O),complete:()=>{c++,(c===r||!w)&&(f===r&&e.next(t?t.reduce((O,x,z)=>(O[x]=a[z],O),{}):a),e.complete())}}))}})}let ik=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),$p=(()=>{class n extends ik{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const wc=new u.OlP("NgValueAccessor"),gV={provide:wc,useExisting:(0,u.Gpc)(()=>Yb),multi:!0},_V=new u.OlP("CompositionEventMode");let Yb=(()=>{class n extends ik{constructor(e,r,a){super(e,r),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(_V,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&u.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[u._Bn([gV]),u.qOj]}),n})();const ki=new u.OlP("NgValidators"),$h=new u.OlP("NgAsyncValidators");function gk(n){return null!=n}function mk(n){const t=(0,u.QGY)(n)?(0,yn.D)(n):n;return(0,u.CqO)(t),t}function _k(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function yk(n,t){return t.map(e=>e(n))}function vk(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function WM(n){return null!=n?function(n){if(!n)return null;const t=n.filter(gk);return 0==t.length?null:function(e){return _k(yk(e,t))}}(vk(n)):null}function YM(n){return null!=n?function(n){if(!n)return null;const t=n.filter(gk);return 0==t.length?null:function(e){return function(...n){if(1===n.length){const t=n[0];if((0,no.k)(t))return ND(t,null);if((0,hV.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return ND(e.map(r=>t[r]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return ND(n=1===n.length&&(0,no.k)(n[0])?n[0]:n,null).pipe((0,wt.U)(e=>t(...e)))}return ND(n,null)}(yk(e,t).map(mk)).pipe((0,wt.U)(_k))}}(vk(n)):null}function Ek(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function ZM(n){return n?Array.isArray(n)?n:[n]:[]}function FD(n,t){return Array.isArray(n)?n.includes(t):n===t}function Sk(n,t){const e=ZM(t);return ZM(n).forEach(a=>{FD(e,a)||e.push(a)}),e}function Tk(n,t){return ZM(t).filter(e=>!FD(n,e))}let Ik=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=WM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=YM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,r){return!!this.control&&this.control.hasError(e,r)}getError(e,r){return this.control?this.control.getError(e,r):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n}),n})(),ds=(()=>{class n extends Ik{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();class zh extends Ik{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let qM=(()=>{class n extends class{constructor(t){this._cd=t}is(t){var e,r,a;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(a=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===a?void 0:a[t])}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(zh,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[u.qOj]}),n})();function Zb(n,t){(function(n,t){const e=function(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(Ek(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=function(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(Ek(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const a=()=>n.updateValueAndValidity();UD(t._rawValidators,a),UD(t._rawAsyncValidators,a)})(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Mk(n,t)})}(n,t),function(n,t){const e=(r,a)=>{t.valueAccessor.writeValue(r),a&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Mk(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function UD(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Mk(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function HD(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const qb="VALID",$D="INVALID",R_="PENDING",Kb="DISABLED";function tO(n){return(rO(n)?n.validators:n)||null}function xk(n){return Array.isArray(n)?WM(n):n||null}function nO(n,t){return(rO(t)?t.asyncValidators:n)||null}function Pk(n){return Array.isArray(n)?YM(n):n||null}function rO(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class iO{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=xk(this._rawValidators),this._composedAsyncValidatorFn=Pk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===qb}get invalid(){return this.status===$D}get pending(){return this.status==R_}get disabled(){return this.status===Kb}get enabled(){return this.status!==Kb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=xk(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Pk(t)}addValidators(t){this.setValidators(Sk(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Sk(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Tk(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Tk(t,this._rawAsyncValidators))}hasValidator(t){return FD(this._rawValidators,t)}hasAsyncValidator(t){return FD(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=R_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Kb,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=qb,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qb||this.status===R_)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Kb:qb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=R_,this._hasOwnPendingAsyncValidator=!0;const e=mk(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let r=n;return t.forEach(a=>{r=r instanceof sO?r.controls.hasOwnProperty(a)?r.controls[a]:null:r instanceof xV&&r.at(a)||null}),r}(this,t)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Kb:this.errors?$D:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(R_)?R_:this._anyControlsHaveStatus($D)?$D:qb}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){rO(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class GD extends iO{constructor(t=null,e,r){super(tO(e),nO(r,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){HD(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){HD(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class sO extends iO{constructor(t,e,r){super(tO(e),nO(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,a)=>{r.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e instanceof GD?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const r=this.controls[e];if(this.contains(e)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,r)=>((e.enabled||this.disabled)&&(t[r]=e.value),t))}_reduceChildren(t,e){let r=t;return this._forEachChild((a,c)=>{r=e(r,a,c)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,r)=>{if(void 0===t[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class xV extends iO{constructor(t,e,r){super(tO(e),nO(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((r,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,a)=>{this.at(a)&&this.at(a).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,a)=>{r.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof GD?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,r)=>{if(void 0===t[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const NV={provide:zh,useExisting:(0,u.Gpc)(()=>zD)},Fk=(()=>Promise.resolve(null))();let zD=(()=>{class n extends zh{constructor(e,r,a,c){super(),this.control=new GD,this._registered=!1,this.update=new u.vpe,this._parent=e,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=function(n,t){if(!t)return null;let e,r,a;return Array.isArray(t),t.forEach(c=>{c.constructor===Yb?e=c:function(n){return Object.getPrototypeOf(n.constructor)===$p}(c)?r=c:a=c}),a||r||e||null}(0,c)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,t){return[...t.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Zb(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Fk.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const r=e.isDisabled.currentValue,a=""===r||r&&"false"!==r;Fk.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(ds,9),u.Y36(ki,10),u.Y36($h,10),u.Y36(wc,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([NV]),u.qOj,u.TTD]}),n})(),Vk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const aO=new u.OlP("NgModelWithFormControlWarning");let tN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Vk]]}),n})(),oB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[tN]}),n})(),aB=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:aO,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[tN]}),n})();function lB(n,t){1&n&&(u.TgZ(0,"div",8),u._uU(1," We are sorry, but the email you introduced is not valid! "),u.qZA())}let nN=(()=>{class n{constructor(e,r,a){this.snackBar=e,this.dialogRef=r,this.db=a,this.email="",this.regexp=new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),this.isVisible=!1}subscribe(){if(this.isVisible=!0,this.isEmailValid()){this.db.list("emails").push(this.email);const e=new M_;e.panelClass=["snackbar"],this.snackBar.open("Thank you for your interest","OK",e),this.dialogRef.close(),this.isVisible=!1}}isEmailValid(){return this.regexp.test(this.email)}isEmailErrorsVisibile(){return!this.isEmailValid()&&(this.isVisible||this.isEmailValid())}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(tk),u.Y36(Wb),u.Y36(Sh))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-request-demo-dialog"]],decls:11,vars:2,consts:[[1,"dialog-content"],[1,"title"],["src","../../../assets/demo.svg"],[1,"questions"],[1,"subscribe-input"],["name","email","type","text","placeholder","Type in your email",1,"email-box",3,"ngModel","ngModelChange"],[1,"subscribe-button",3,"click"],["class","error",4,"ngIf"],[1,"error"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u._uU(2,"Request a demo"),u.qZA(),u._UZ(3,"img",2),u.TgZ(4,"div",3),u._uU(5," Introduce your email address and we'll contanct you soon as possible with more details "),u.qZA(),u.TgZ(6,"div",4),u.TgZ(7,"input",5),u.NdJ("ngModelChange",function(c){return r.email=c}),u.qZA(),u.TgZ(8,"button",6),u.NdJ("click",function(){return r.subscribe()}),u._uU(9," Request "),u.qZA(),u.qZA(),u.YNc(10,lB,2,0,"div",7),u.qZA()),2&e&&(u.xp6(7),u.Q6J("ngModel",r.email),u.xp6(3),u.Q6J("ngIf",r.isEmailErrorsVisibile()))},directives:[Yb,qM,zD,ir],styles:[".dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:500px;padding:30px}.dialog-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:var(--color-primary);font-size:24px;font-weight:700;line-height:32.64px;margin-bottom:32px;display:flex;align-self:center}.dialog-content[_ngcontent-%COMP%]   .questions[_ngcontent-%COMP%]{color:var(--color-grey-medium);font-size:16px;font-weight:400;line-height:24px;margin-bottom:32px;text-align:center}.dialog-content[_ngcontent-%COMP%]   .subscribe-input[_ngcontent-%COMP%]{position:relative;display:inline-flex}.dialog-content[_ngcontent-%COMP%]   .subscribe-input[_ngcontent-%COMP%]   .subscribe-button[_ngcontent-%COMP%]{padding:10px 15px;border-radius:24px;border:none;background-color:var(--color-secondary);color:var(--color-white);font-size:14px;line-height:28px;font-weight:800;cursor:pointer}.dialog-content[_ngcontent-%COMP%]   .subscribe-input[_ngcontent-%COMP%]   .email-box[_ngcontent-%COMP%]{padding:10px 15px;border-color:var(--color-grey-medium);border-radius:24px;color:var(--color-grey-medium);font-size:16px;margin-right:5px;width:250px}.dialog-content[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{margin-top:15px;color:var(--color-error)}"]}),n})();function cB(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"div",1),u.TgZ(1,"div",2),u.NdJ("click",function(){return u.CHM(e),u.oxw().goToSection("home")}),u._UZ(2,"img",3),u.qZA(),u.TgZ(3,"div",4),u.TgZ(4,"button",5),u.NdJ("click",function(){return u.CHM(e),u.oxw().goToSection("features")}),u._uU(5," Features "),u.qZA(),u.TgZ(6,"button",5),u.NdJ("click",function(){return u.CHM(e),u.oxw().goToSection("steps")}),u._uU(7,"How it works"),u.qZA(),u.TgZ(8,"button",5),u.NdJ("click",function(){return u.CHM(e),u.oxw().goToSection("story")}),u._uU(9," Our story "),u.qZA(),u.TgZ(10,"button",6),u.NdJ("click",function(){return u.CHM(e),u.oxw().openDialog()}),u._uU(11,"DEMO"),u.qZA(),u.qZA(),u.qZA()}}function uB(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"div",1),u.TgZ(1,"div",2),u.NdJ("click",function(){return u.CHM(e),u.oxw().goToSection("home")}),u._UZ(2,"img",7),u.qZA(),u.TgZ(3,"div",4),u._UZ(4,"img",8),u.qZA(),u.qZA()}}let dB=(()=>{class n{constructor(e,r,a){this.dialog=e,this.db=r,this.isSmallScreen=!1,this.isSmallScreen=a.isMatched("(max-width: 599px)")}goToSection(e){window.location.hash="",window.location.hash=e}openDialog(){this.db.list("demo").push("Press demo "+new Date),this.dialog.open(nN)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(O_),u.Y36(Sh),u.Y36(Bu))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-toolbar"]],decls:2,vars:2,consts:[["class","nav",4,"ngIf"],[1,"nav"],[1,"logo",3,"click"],["src","../../../assets/logo.svg"],[1,"menu"],[1,"option-menu-text",3,"click"],[1,"option-menu-button",3,"click"],["src","../../../assets/Logo_Dark.svg"],["src","../../../assets/menu.svg"]],template:function(e,r){1&e&&(u.YNc(0,cB,12,0,"div",0),u.YNc(1,uB,5,0,"div",0)),2&e&&(u.Q6J("ngIf",!r.isSmallScreen),u.xp6(1),u.Q6J("ngIf",r.isSmallScreen))},directives:[ir],styles:["@media only screen and (min-width: 768px){.nav[_ngcontent-%COMP%]{position:fixed;width:100%;height:100px;background:transparent;align-items:center;display:flex;justify-content:space-between;font-size:14px;font-weight:750}.nav[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.nav[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .option-menu-text[_ngcontent-%COMP%]{padding:6px 16px;font-size:14px;cursor:pointer;color:var(--color-primary);background-color:transparent;border:none;font-weight:800}.nav[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .option-menu-text[_ngcontent-%COMP%]:hover{opacity:70%}.nav[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .option-menu-button[_ngcontent-%COMP%]{padding:8px 24px;border-radius:40px;background-color:var(--color-secondary);color:var(--color-grey-light);border:none;cursor:pointer;margin-right:120px;font-size:14px;font-weight:800}.nav[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .option-menu-button[_ngcontent-%COMP%]:hover{opacity:70%}.nav[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin-left:120px;cursor:pointer}}@media only screen and (max-width: 600px){.nav[_ngcontent-%COMP%]{position:fixed;width:100%;height:56px;background:transparent;align-items:center;display:flex;justify-content:space-between;font-size:14px;font-weight:750}.nav[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin-left:10px}.nav[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:10px}}"]}),n})();function hB(n,t){1&n&&(u.TgZ(0,"div",7),u._uU(1," We are sorry, but the email you introduced is not valid! "),u.qZA())}let rN=(()=>{class n{constructor(e,r,a){this.snackBar=e,this.dialogRef=r,this.db=a,this.email="",this.regexp=new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),this.isVisible=!1}requestDemo(){if(this.isVisible=!0,this.isEmailValid()){this.db.list("emails").push(this.email);const e=new M_;e.panelClass=["snackbar"],localStorage.getItem("email"),this.snackBar.open("Thank you for your interest","OK",e),this.dialogRef.close(),this.isVisible=!1}}isEmailValid(){return this.regexp.test(this.email)}isEmailErrorsVisibile(){return!this.isEmailValid()&&(this.isVisible||this.isEmailValid())}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(tk),u.Y36(Wb),u.Y36(Sh))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-work-in-progress-dialog"]],decls:9,vars:2,consts:[[1,"dialog-content"],[1,"subscribe-text"],["src","../../../assets/demo.svg"],[1,"subscribe-input"],["name","search","type","text","placeholder","Type in your email",1,"email-box",3,"ngModel","ngModelChange"],[1,"subscribe-button",3,"click"],["class","error",4,"ngIf"],[1,"error"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u._uU(2," At the moment, we\u2019re working hard on finishing our beta. Subscribe and you\u2019ll be the first to know when we\u2019re ready to launch. "),u.qZA(),u._UZ(3,"img",2),u.TgZ(4,"div",3),u.TgZ(5,"input",4),u.NdJ("ngModelChange",function(c){return r.email=c}),u.qZA(),u.TgZ(6,"button",5),u.NdJ("click",function(){return r.requestDemo()}),u._uU(7," Subscribe "),u.qZA(),u.qZA(),u.YNc(8,hB,2,0,"div",6),u.qZA()),2&e&&(u.xp6(5),u.Q6J("ngModel",r.email),u.xp6(3),u.Q6J("ngIf",r.isEmailErrorsVisibile()))},directives:[Yb,qM,zD,ir],styles:[".dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:500px;padding:30px}.dialog-content[_ngcontent-%COMP%]   .subscribe-text[_ngcontent-%COMP%]{color:var(--color-grey-medium);font-size:16px;font-weight:400;line-height:24px;margin-bottom:32px;text-align:center}.dialog-content[_ngcontent-%COMP%]   .subscribe-input[_ngcontent-%COMP%]{margin-top:32px;position:relative;display:inline-flex}.dialog-content[_ngcontent-%COMP%]   .subscribe-input[_ngcontent-%COMP%]   .subscribe-button[_ngcontent-%COMP%]{padding:10px 15px;border-radius:24px;border:none;background-color:var(--color-secondary);color:var(--color-white);font-size:14px;line-height:28px;font-weight:800;cursor:pointer}.dialog-content[_ngcontent-%COMP%]   .subscribe-input[_ngcontent-%COMP%]   .email-box[_ngcontent-%COMP%]{padding:10px 15px;border-color:var(--color-grey-medium);border-radius:24px;color:var(--color-grey-medium);font-size:16px;margin-right:5px;width:250px}.dialog-content[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{margin-top:15px;color:var(--color-error)}"]}),n})(),fB=(()=>{class n{constructor(e,r){this.dialog=e,this.db=r}subscribe(){this.db.list("subscribe").push("Press subscribe "+new Date),this.dialog.open(rN)}demo(){this.db.list("demo").push("Press demo "+new Date),this.dialog.open(nN)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(O_),u.Y36(Sh))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-hero"]],decls:19,vars:0,consts:[[1,"hero"],[1,"hero-content"],[1,"tagline"],[1,"border-line"],[1,"tool-description"],[1,"buttons"],[1,"demo","button",3,"click"],[1,"subscribe","button",3,"click"],[1,"hero-image"],["src","../../../assets/hero.png"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"span"),u._uU(4,"Believe in your "),u.qZA(),u.TgZ(5,"span",3),u._uU(6,"data"),u.qZA(),u.qZA(),u.TgZ(7,"div",4),u._uU(8," Odin AI is a "),u.TgZ(9,"span"),u._uU(10,"no-code automated machine learning"),u.qZA(),u._uU(11," web application that automatically solves supervised learning problems without any programming knowledge. Created models are ready to be used in production and easy to understand due to generated human-readable reports. "),u.qZA(),u.TgZ(12,"div",5),u.TgZ(13,"button",6),u.NdJ("click",function(){return r.demo()}),u._uU(14,"Get the demo"),u.qZA(),u.TgZ(15,"button",7),u.NdJ("click",function(){return r.subscribe()}),u._uU(16,"Subscribe"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(17,"div",8),u._UZ(18,"img",9),u.qZA(),u.qZA())},styles:['@media only screen and (min-width: 768px){.hero[_ngcontent-%COMP%]{z-index:1;padding-top:110px;display:flex;justify-content:space-between;margin:50px 50px 0}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-top:200px;width:490px;padding-left:77px}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .tagline[_ngcontent-%COMP%]{font-size:48px;color:var(--color-primary);font-weight:700;margin-bottom:40px}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .tagline[_ngcontent-%COMP%]   .border-line[_ngcontent-%COMP%]{border-bottom:8px solid var(--color-secondary);border-radius:8px}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .tool-description[_ngcontent-%COMP%]{font-size:18px;font-weight:800;line-height:27px;color:var(--color-primary);font-family:"Avenir"}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .tool-description[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--color-secondary)}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-top:32px}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{border-radius:24px;font-size:18px;padding:10px 32px;cursor:pointer}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{opacity:70%}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .demo[_ngcontent-%COMP%]{color:var(--color-grey-light);background-color:var(--color-secondary);border:none}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .subscribe[_ngcontent-%COMP%]{border:2px solid var(--color-secondary);color:var(--color-secondary);background-color:var(--color-white);margin-left:16px}.hero[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]{width:630px;height:720px;padding-right:80px}}@media only screen and (max-width: 600px){.hero[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{padding-top:70px;display:flex;flex-direction:column;align-items:center;width:327px;height:216px}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .tagline[_ngcontent-%COMP%]{font-size:34px;line-height:40px;color:var(--color-primary);font-weight:700;margin-bottom:40px}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .tagline[_ngcontent-%COMP%]   .border-line[_ngcontent-%COMP%]{border-bottom:8px solid var(--color-secondary);border-radius:8px}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .tool-description[_ngcontent-%COMP%]{font-size:18px;font-weight:800;line-height:27px;color:var(--color-primary);font-family:"Avenir"}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .tool-description[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--color-secondary)}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-top:32px;display:flex;flex-direction:row}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{border-radius:24px;font-size:18px;padding:10px 24px}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .demo[_ngcontent-%COMP%]{color:var(--color-grey-light);background-color:var(--color-secondary);border:none}.hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .subscribe[_ngcontent-%COMP%]{border:2px solid var(--color-secondary);color:var(--color-secondary);background-color:var(--color-white);margin-left:16px}.hero[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]{width:350px;height:350px;margin-top:160px;display:flex;align-items:center;justify-content:center}.hero[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}}']}),n})(),pB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-features"]],decls:45,vars:0,consts:[[1,"features-content"],[1,"title"],["src","../../../assets/triangle.svg"],[1,"features"],[1,"features-group"],[1,"feature-element"],["src","../../../assets/feature2.svg"],[1,"feature-title"],[1,"feature-description"],["src","../../../assets/feature5.svg"],["src","../../../assets/feature7.svg"],["src","../../../assets/feature3.svg"],["src","../../../assets/feature4.svg"],[1,"feature-element","margin-top"],["src","../../../assets/feature6.svg"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u._uU(2," Features"),u.TgZ(3,"sub"),u._UZ(4,"img",2),u.qZA(),u.qZA(),u.TgZ(5,"div",3),u.TgZ(6,"div",4),u.TgZ(7,"div",5),u._UZ(8,"img",6),u.TgZ(9,"div",7),u._uU(10,"Human-readable reports"),u.qZA(),u.TgZ(11,"div",8),u._uU(12," Describe how the solution was built, present the decisions at the time of execution and include a description of the learned data "),u.qZA(),u.qZA(),u.TgZ(13,"div",5),u._UZ(14,"img",9),u.TgZ(15,"div",7),u._uU(16,"Supervised learning tasks"),u.qZA(),u.TgZ(17,"div",8),u._uU(18," Solves regression, classification and forecasting problems stored in a tabular format "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(19,"div",4),u.TgZ(20,"div",5),u._UZ(21,"img",10),u.TgZ(22,"div",7),u._uU(23,"Adaptive interface"),u.qZA(),u.TgZ(24,"div",8),u._uU(25," Allows beginner users to solve problems without expertise in AI field and empowers expert users to customize how a solution is generated "),u.qZA(),u.qZA(),u.TgZ(26,"div",5),u._UZ(27,"img",11),u.TgZ(28,"div",7),u._uU(29,"No-code platform"),u.qZA(),u.TgZ(30,"div",8),u._uU(31," Programming knowledge or AI expertise is not needed for using Odin AI "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(32,"div",4),u.TgZ(33,"div",5),u._UZ(34,"img",12),u.TgZ(35,"div",7),u._uU(36,"End-to-end automation"),u.qZA(),u.TgZ(37,"div",8),u._uU(38," Executes all the steps in a data science project, starting with data cleaning and ending with models\u2019 deployment "),u.qZA(),u.qZA(),u.TgZ(39,"div",13),u._UZ(40,"img",14),u.TgZ(41,"div",7),u._uU(42,"API"),u.qZA(),u.TgZ(43,"div",8),u._uU(44," Every solution can be easily accessed and integrated via API calls "),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA())},styles:["@media only screen and (min-width: 768px){.features-content[_ngcontent-%COMP%]{height:750px;z-index:1}.features-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:50px;font-size:34px;font-weight:700;color:var(--color-primary);line-height:40px;margin-left:125px}.features-content[_ngcontent-%COMP%]   .features[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.features-content[_ngcontent-%COMP%]   .features[_ngcontent-%COMP%]   .features-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:394px;width:362px}.features-content[_ngcontent-%COMP%]   .features[_ngcontent-%COMP%]   .features-group[_ngcontent-%COMP%]   .feature-element[_ngcontent-%COMP%]{margin:50px}.features-content[_ngcontent-%COMP%]   .features[_ngcontent-%COMP%]   .features-group[_ngcontent-%COMP%]   .feature-element[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{font-weight:900;font-size:20px;line-height:36px;color:var(--color-primary)}.features-content[_ngcontent-%COMP%]   .features[_ngcontent-%COMP%]   .features-group[_ngcontent-%COMP%]   .feature-element[_ngcontent-%COMP%]   .feature-description[_ngcontent-%COMP%]{font-size:18px;font-weight:400;line-height:27px;color:var(--color-grey-medium)}.features-content[_ngcontent-%COMP%]   .features[_ngcontent-%COMP%]   .features-group[_ngcontent-%COMP%]   .margin-top[_ngcontent-%COMP%]{margin-top:77px}}@media only screen and (max-width: 600px){.features-content[_ngcontent-%COMP%]{z-index:1;margin-left:35px}.features-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:50px;font-size:24px;font-weight:700;color:var(--color-primary);line-height:40px}.features-content[_ngcontent-%COMP%]   .feature-element[_ngcontent-%COMP%]{width:327px;margin-bottom:50px}.features-content[_ngcontent-%COMP%]   .feature-element[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{font-weight:900;font-size:20px;line-height:36px;color:var(--color-primary)}.features-content[_ngcontent-%COMP%]   .feature-element[_ngcontent-%COMP%]   .feature-description[_ngcontent-%COMP%]{font-size:18px;font-weight:400;line-height:27px;color:var(--color-grey-medium)}}"]}),n})();function gB(n,t){1&n&&u._UZ(0,"img",6)}function mB(n,t){1&n&&u._UZ(0,"img",7)}let _B=(()=>{class n{constructor(e){this.isSmallScreen=!1,this.isSmallScreen=e.isMatched("(max-width: 599px)")}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Bu))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-steps"]],decls:8,vars:2,consts:[[1,"how-it-works-content"],[1,"title"],["src","../../../assets/triangle.svg"],[1,"steps-content"],["src","../../../assets/diagram.png",4,"ngIf"],["src","../../../assets/schema_mobile 1.svg",4,"ngIf"],["src","../../../assets/diagram.png"],["src","../../../assets/schema_mobile 1.svg"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u._uU(2," How it works"),u.TgZ(3,"sub"),u._UZ(4,"img",2),u.qZA(),u.qZA(),u.TgZ(5,"div",3),u.YNc(6,gB,1,0,"img",4),u.YNc(7,mB,1,0,"img",5),u.qZA(),u.qZA()),2&e&&(u.xp6(6),u.Q6J("ngIf",!r.isSmallScreen),u.xp6(1),u.Q6J("ngIf",r.isSmallScreen))},directives:[ir],styles:["@media only screen and (min-width: 768px){.how-it-works-content[_ngcontent-%COMP%]{margin-top:100px;padding-top:20px;margin-left:125px}.how-it-works-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:50px;font-size:34px;font-weight:700;color:var(--color-primary);line-height:40px}.how-it-works-content[_ngcontent-%COMP%]   .steps-content[_ngcontent-%COMP%]{display:flex;justify-content:center}.how-it-works-content[_ngcontent-%COMP%]   .steps-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:500px}}@media only screen and (max-width: 600px){.how-it-works-content[_ngcontent-%COMP%]{margin-left:35px}.how-it-works-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:50px;font-size:24px;font-weight:700;color:var(--color-primary);line-height:40px}.how-it-works-content[_ngcontent-%COMP%]   .steps-content[_ngcontent-%COMP%]{width:300px;display:flex;align-items:center}.how-it-works-content[_ngcontent-%COMP%]   .steps-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}}"]}),n})(),yB=(()=>{class n{constructor(e,r){this.dialog=e,this.db=r}subscribe(){this.db.list("subscribe").push("Press subscribe "+new Date),this.dialog.open(rN)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(O_),u.Y36(Sh))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-our-story"]],decls:11,vars:0,consts:[[1,"story-content"],[1,"title"],["src","../../../assets/triangle.svg"],[1,"past-description"],[1,"future-description"],[1,"subscribe",3,"click"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u._uU(2," Our story"),u.TgZ(3,"sub"),u._UZ(4,"img",2),u.qZA(),u.qZA(),u.TgZ(5,"div",3),u._uU(6," Odin AI has started as a research project that makes artificial intelligence easily accessible for everyone. After publishing a paper within ICCP in 2021, we wanted to transform this idea into a company. "),u.qZA(),u.TgZ(7,"div",4),u._uU(8," Now, we are part of the FIX Cluj, a program organized in partnership with City Hall of Cluj-Napoca, which helps young entrepreneurs to develop their ideas into a business. "),u.qZA(),u.TgZ(9,"button",5),u.NdJ("click",function(){return r.subscribe()}),u._uU(10,"Subscribe"),u.qZA(),u.qZA())},styles:["@media only screen and (min-width: 768px){.story-content[_ngcontent-%COMP%]{width:466px;height:315px;margin-left:15px}.story-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:50px;font-size:34px;font-weight:700;color:var(--color-primary);line-height:40px}.story-content[_ngcontent-%COMP%]   .past-description[_ngcontent-%COMP%]{color:var(--color-primary);font-size:18px;line-height:28.8px;font-weight:800;margin-bottom:20px}.story-content[_ngcontent-%COMP%]   .future-description[_ngcontent-%COMP%]{color:var(--color-grey-medium);font-size:18px;line-height:27px;font-weight:400;margin-bottom:20px}.story-content[_ngcontent-%COMP%]   .subscribe[_ngcontent-%COMP%]{background-color:var(--color-secondary);color:var(--color-white);border:none;border-radius:24px;font-size:18px;line-height:28.8px;font-weight:800;padding:8px 24px;margin-bottom:50px;cursor:pointer}.story-content[_ngcontent-%COMP%]   .subscribe[_ngcontent-%COMP%]:hover{opacity:70%}}@media only screen and (max-width: 600px){.story-content[_ngcontent-%COMP%]{width:327px;margin-left:35px}.story-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:50px;font-size:24px;font-weight:700;color:var(--color-primary);line-height:40px}.story-content[_ngcontent-%COMP%]   .past-description[_ngcontent-%COMP%]{color:var(--color-primary);font-size:18px;line-height:28.8px;font-weight:800;margin-bottom:20px}.story-content[_ngcontent-%COMP%]   .future-description[_ngcontent-%COMP%]{color:var(--color-grey-medium);font-size:18px;line-height:27px;font-weight:400;margin-bottom:20px}.story-content[_ngcontent-%COMP%]   .subscribe[_ngcontent-%COMP%]{background-color:var(--color-secondary);color:var(--color-white);border:none;border-radius:24px;font-size:18px;line-height:28.8px;font-weight:800;padding:8px 24px;margin-bottom:50px}}"]}),n})();var Gp=(()=>(function(n){n.Cristina="https://www.linkedin.com/in/cristina-racovita/",n.Bogdan="https://www.linkedin.com/in/bogdan-bindila/"}(Gp||(Gp={})),Gp))();let pO=(()=>{class n{openSite(e){window.open(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function vB(n,t){1&n&&(u.TgZ(0,"div",15),u.TgZ(1,"div"),u._uU(2,"\xa9 2022 Odin AI. All rights reserved."),u.qZA(),u.TgZ(3,"div"),u._uU(4,"Terms of Use & Privacy"),u.qZA(),u.qZA())}function bB(n,t){1&n&&(u.TgZ(0,"div",15),u.TgZ(1,"div"),u._uU(2,"\xa9 2022 Odin AI. All rights reserved."),u.qZA(),u.TgZ(3,"div"),u._uU(4,"Terms of Use & Privacy"),u.qZA(),u.qZA())}let CB=(()=>{class n{constructor(e,r){this.siteService=e,this.email="odin.automl.ai@gmail.com",this.isSmallScreen=!1,this.isSmallScreen=r.isMatched("(max-width: 599px)")}openCristinaLinkedln(){this.siteService.openSite(Gp.Cristina)}openBogdanLinkedln(){this.siteService.openSite(Gp.Bogdan)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(pO),u.Y36(Bu))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-footer"]],decls:28,vars:4,consts:[[1,"footer"],[1,"footer-content"],[1,"logo"],["src","../../../assets/logo.svg"],[1,"text"],[1,"tool-description"],["class","legal text",4,"ngIf"],[1,"overview"],[1,"contact-title"],[1,"details"],[1,"contact-image",3,"click"],["src","../../../assets/linkedln.svg"],[1,"contact-image"],["src","../../../assets/email.png",1,"email"],[3,"href"],[1,"legal","text"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u._UZ(3,"img",3),u.qZA(),u.TgZ(4,"div",4),u._uU(5," Your "),u.TgZ(6,"span",5),u._uU(7,"no-code automated machine learning"),u.qZA(),u._uU(8," web application that automatically solves supervised learning problems without any programming knowledge required. "),u.qZA(),u.YNc(9,vB,5,0,"div",6),u.qZA(),u.TgZ(10,"div",7),u.TgZ(11,"div",8),u._uU(12,"Contact"),u.qZA(),u.TgZ(13,"div",9),u.TgZ(14,"div",10),u.NdJ("click",function(){return r.openBogdanLinkedln()}),u.TgZ(15,"span"),u._UZ(16,"img",11),u.qZA(),u._uU(17," Bogdan B\xeendil\u0103 "),u.qZA(),u.TgZ(18,"div",10),u.NdJ("click",function(){return r.openCristinaLinkedln()}),u.TgZ(19,"span"),u._UZ(20,"img",11),u.qZA(),u._uU(21," Cristina Racovi\u021b\u0103 "),u.qZA(),u.TgZ(22,"div",12),u.TgZ(23,"span"),u._UZ(24,"img",13),u.qZA(),u.TgZ(25,"a",14),u._uU(26),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.YNc(27,bB,5,0,"div",6),u.qZA()),2&e&&(u.xp6(9),u.Q6J("ngIf",!r.isSmallScreen),u.xp6(16),u.MGl("href","mailto:",r.email,"",u.LSH),u.xp6(1),u.Oqu(r.email),u.xp6(1),u.Q6J("ngIf",r.isSmallScreen))},directives:[ir],styles:["@media only screen and (min-width: 768px){.footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;background-color:var(--color-grey-light);padding-top:50px;align-items:baseline}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{margin-left:125px}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:140px;height:35px;margin-bottom:20px}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:16px;font-weight:400;line-height:24px;color:var(--color-primary);width:368px;height:116px}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .tool-description[_ngcontent-%COMP%]{color:var(--color-secondary)}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .legal[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;font-weight:800}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .legal[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-right:30px}.footer[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]{margin-right:305px}.footer[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]   .contact-title[_ngcontent-%COMP%]{margin-bottom:24px;font-size:24px;font-weight:800;line-height:24px;color:var(--color-primary)}.footer[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{font-size:16px;font-weight:400;line-height:32px;color:var(--color-primary)}.footer[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]{cursor:pointer;display:flex}.footer[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]:hover{opacity:70%}.footer[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding-right:10px}.footer[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{height:26px;width:26px}}@media only screen and (max-width: 600px){.footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--color-grey-light);padding-top:50px;align-items:baseline;padding-left:35px}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:140px;height:35px;margin-bottom:20px}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .tool-description[_ngcontent-%COMP%]{color:var(--color-secondary)}.footer[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:16px;font-weight:400;line-height:24px;color:var(--color-primary);width:327px}.footer[_ngcontent-%COMP%]   .legal[_ngcontent-%COMP%]{font-weight:800;font-size:14px;padding-bottom:30px}.footer[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]   .contact-title[_ngcontent-%COMP%]{margin-bottom:10px;margin-top:20px;font-size:16px;font-weight:800;line-height:24px;color:var(--color-primary)}.footer[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{font-size:14px;font-weight:400;line-height:32px;margin-bottom:20px;color:var(--color-primary)}.footer[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]{display:flex}.footer[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding-right:10px}.footer[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{height:26px;width:26px}}"]}),n})();var Jb=(()=>(function(n){n.Cristina="Cristina Racovi\u021b\u0103",n.Bogdan="Bogdan B\xeendil\u0103"}(Jb||(Jb={})),Jb))(),Xb=(()=>(function(n){n.Cristina="../../../assets/profile-picture1.svg",n.Bogdan="../../../assets/profile-picture2.svg"}(Xb||(Xb={})),Xb))();const EB=function(n){return{"special-name":n}};let wB=(()=>{class n{constructor(){this.imageUrl="",this.name=""}isSpecialName(){return this.name.includes("Cristina")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-profile-picture"]],inputs:{imageUrl:"imageUrl",name:"name"},decls:4,vars:5,consts:[[1,"profile-picture"],[3,"src"],[1,"name",3,"ngClass"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0),u._UZ(1,"img",1),u.TgZ(2,"div",2),u._uU(3),u.qZA(),u.qZA()),2&e&&(u.xp6(1),u.s9C("src",r.imageUrl,u.LSH),u.xp6(1),u.Q6J("ngClass",u.VKq(3,EB,r.isSpecialName())),u.xp6(1),u.hij(" ",r.name," "))},directives:[Po],styles:[".profile-picture[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;cursor:pointer}.profile-picture[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px;line-height:24.5px;font-weight:800;color:var(--color-primary)}.profile-picture[_ngcontent-%COMP%]   .special-name[_ngcontent-%COMP%]{color:var(--color-secondary)}"]}),n})();function DB(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"div",6),u.TgZ(1,"app-profile-picture",7),u.NdJ("click",function(){return u.CHM(e),u.oxw().openBogdanLinkeIn()}),u.qZA(),u.TgZ(2,"app-profile-picture",8),u.NdJ("click",function(){return u.CHM(e),u.oxw().openCristinaLinkeIn()}),u.qZA(),u.qZA()}if(2&n){const e=u.oxw();u.xp6(1),u.Q6J("imageUrl",e.bogdansPicture)("name",e.bogdansName),u.xp6(1),u.Q6J("imageUrl",e.cristinasPicture)("name",e.cristinasName)}}function SB(n,t){1&n&&(u.TgZ(0,"div",6),u._UZ(1,"img",9),u._UZ(2,"img",10),u.qZA())}let IB=(()=>{class n{constructor(e,r){this.siteService=e,this.isSmallScreen=!1,this.isSmallScreen=r.isMatched("(max-width: 599px)")}openForm(){this.siteService.openSite("https://forms.gle/Aw9i53FDkYWd3KXr9")}openCristinaLinkeIn(){this.siteService.openSite(Gp.Cristina)}openBogdanLinkeIn(){this.siteService.openSite(Gp.Bogdan)}get cristinasName(){return Jb.Cristina}get bogdansName(){return Jb.Bogdan}get cristinasPicture(){return Xb.Cristina}get bogdansPicture(){return Xb.Bogdan}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(pO),u.Y36(Bu))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-contact"]],decls:9,vars:2,consts:[[1,"contact-content"],["src","../../../assets/Shapes.svg"],["class","profiles",4,"ngIf"],[1,"form"],[1,"question"],[3,"click"],[1,"profiles"],[1,"first",3,"imageUrl","name","click"],[1,"second",3,"imageUrl","name","click"],["src","../../../assets/Group 354.svg"],["src","../../../assets/Group 355.svg"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0),u._UZ(1,"img",1),u.YNc(2,DB,3,4,"div",2),u.YNc(3,SB,3,0,"div",2),u.TgZ(4,"div",3),u.TgZ(5,"div",4),u._uU(6," Do you want to help us? "),u.qZA(),u.TgZ(7,"button",5),u.NdJ("click",function(){return r.openForm()}),u._uU(8,"Fill in our form"),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(2),u.Q6J("ngIf",!r.isSmallScreen),u.xp6(1),u.Q6J("ngIf",r.isSmallScreen))},directives:[ir,wB],styles:["@media only screen and (min-width: 768px){.contact-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:drop-shadow(6px 6px 6px var(--color-grey-medium))}.contact-content[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]{background-color:var(--color-white);border-radius:16px;box-shadow:6px 6px 6px #0000001a;z-index:2;position:absolute;width:379px;height:315px;margin-top:50px;margin-left:230px;transform:skew(-5deg);display:flex;justify-content:center;flex-direction:row;align-items:center}.contact-content[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]{margin-left:55px;transform:skew(5deg)}.contact-content[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]:hover{opacity:70%}.contact-content[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{margin-bottom:50px;margin-right:55px;transform:skew(5deg)}.contact-content[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]:hover{opacity:70%}.contact-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly;align-items:center;position:absolute;z-index:2;box-shadow:6px 6px 6px #0000001a;border-radius:57px;width:404px;height:61px;background-color:var(--color-white);margin-top:415px;margin-left:40px}.contact-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{font-size:16px;line-height:28.8px;font-weight:800;color:var(--color-primary)}.contact-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{z-index:1;background-color:var(--color-secondary);color:var(--color-white);border:none;border-radius:24px;font-size:16px;line-height:28.8px;cursor:pointer;font-weight:800;padding:8px 16px}.contact-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:70%}.contact-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{z-index:1;position:absolute}}@media only screen and (max-width: 600px){.contact-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:drop-shadow(6px 6px 6px var(--color-grey-medium))}.contact-content[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]{background-color:var(--color-white);border-radius:16px;box-shadow:6px 6px 6px #0000001a;z-index:2;position:absolute;width:379px;height:315px;margin-top:50px;margin-left:230px;transform:skew(-5deg);display:flex;justify-content:center;flex-direction:row;align-items:center}.contact-content[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]{margin-left:55px;transform:skew(5deg)}.contact-content[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]:hover{opacity:70%}.contact-content[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{margin-bottom:50px;margin-right:55px;transform:skew(5deg)}.contact-content[_ngcontent-%COMP%]   .profiles[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]:hover{opacity:70%}.contact-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly;align-items:center;position:absolute;z-index:2;box-shadow:6px 6px 6px #0000001a;border-radius:57px;width:404px;height:61px;background-color:var(--color-white);margin-top:415px;margin-left:40px}.contact-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{font-size:16px;line-height:28.8px;font-weight:800;color:var(--color-primary)}.contact-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{z-index:1;background-color:var(--color-secondary);color:var(--color-white);border:none;border-radius:24px;font-size:16px;line-height:28.8px;cursor:pointer;font-weight:800;padding:8px 16px}.contact-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:70%}.contact-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{z-index:1;position:absolute}}"]}),n})();function AB(n,t){1&n&&(u.TgZ(0,"div",9),u._UZ(1,"app-contact"),u.qZA())}let MB=(()=>{class n{constructor(e,r){this.db=e,this.schema={"@context":"https://odin-ai.net","@type":"WebSite",name:"odin-ai",url:"https://odin-ai.net"},this.isSmallScreen=!1,this.db.list("homePage").push("Home "+new Date),this.isSmallScreen=r.isMatched("(max-width: 599px)")}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Sh),u.Y36(Bu))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:10,vars:2,consts:[[3,"json"],[1,"home"],[1,"sticky"],["id","home"],["id","features",1,"features"],["id","steps"],["id","story",1,"info"],[1,"our-story"],["class","contact",4,"ngIf"],[1,"contact"]],template:function(e,r){1&e&&(u._UZ(0,"ngx-json-ld",0),u.TgZ(1,"div",1),u._UZ(2,"app-toolbar",2),u._UZ(3,"app-hero",3),u._UZ(4,"app-features",4),u._UZ(5,"app-steps",5),u.TgZ(6,"div",6),u._UZ(7,"app-our-story",7),u.YNc(8,AB,2,0,"div",8),u.qZA(),u._UZ(9,"app-footer"),u.qZA()),2&e&&(u.Q6J("json",r.schema),u.xp6(8),u.Q6J("ngIf",!r.isSmallScreen))},directives:[y0,dB,fB,pB,_B,yB,ir,CB,IB],styles:[".home[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:linear-gradient(var(--color-gradient-primary),var(--color-white),var(--color-gradient-secondary),var(--color-white))}.home[_ngcontent-%COMP%]   .sticky[_ngcontent-%COMP%]{position:fixed;top:0;z-index:1000}@media only screen and (min-width: 768px){.features[_ngcontent-%COMP%]{padding-top:70px}.info[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:space-between;margin-bottom:400px;margin-top:50px;padding-top:70px}.info[_ngcontent-%COMP%]   .our-story[_ngcontent-%COMP%]{margin-left:113px}.info[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]{width:550px;height:60px;margin-right:187px}}"]}),n})();const iN_firebaseConfig={apiKey:"AIzaSyDBinS6CbtKtptEE-idN7AfYuMuOk5SV00",authDomain:"odin-ai-1d452.firebaseapp.com",databaseURL:"https://odin-ai-1d452-default-rtdb.europe-west1.firebasedatabase.app",projectId:"odin-ai-1d452",storageBucket:"odin-ai-1d452.appspot.com",messagingSenderId:"108799986020",appId:"1:108799986020:web:70d99216c4541c54c89271",measurementId:"G-TX38SQQDKQ"};var Dc=V(4762);function Lr(n){return"function"==typeof n}function gO(n){const e=n(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const mO=gO(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,a)=>`${a+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function _O(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class Yu{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const c of e)c.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(Lr(r))try{r()}catch(c){t=c instanceof mO?c.errors:[c]}const{_finalizers:a}=this;if(a){this._finalizers=null;for(const c of a)try{aN(c)}catch(f){t=null!=t?t:[],f instanceof mO?t=[...t,...f.errors]:t.push(f)}}if(t)throw new mO(t)}}add(t){var e;if(t&&t!==this)if(this.closed)aN(t);else{if(t instanceof Yu){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&_O(e,t)}remove(t){const{_finalizers:e}=this;e&&_O(e,t),t instanceof Yu&&t._removeParent(this)}}Yu.EMPTY=(()=>{const n=new Yu;return n.closed=!0,n})();const sN=Yu.EMPTY;function oN(n){return n instanceof Yu||n&&"closed"in n&&Lr(n.remove)&&Lr(n.add)&&Lr(n.unsubscribe)}function aN(n){Lr(n)?n():n.unsubscribe()}const zp={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},WD={setTimeout(n,t,...e){const{delegate:r}=WD;return(null==r?void 0:r.setTimeout)?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=WD;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function lN(n){WD.setTimeout(()=>{const{onUnhandledError:t}=zp;if(!t)throw n;t(n)})}function yO(){}const OB=vO("C",void 0,void 0);function vO(n,t,e){return{kind:n,value:t,error:e}}let Wp=null;function YD(n){if(zp.useDeprecatedSynchronousErrorHandling){const t=!Wp;if(t&&(Wp={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:r}=Wp;if(Wp=null,e)throw r}}else n()}class bO extends Yu{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,oN(t)&&t.add(this)):this.destination=LB}static create(t,e,r){return new eC(t,e,r)}next(t){this.isStopped?EO(function(n){return vO("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?EO(function(n){return vO("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?EO(OB,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const kB=Function.prototype.bind;function CO(n,t){return kB.call(n,t)}class NB{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){ZD(r)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){ZD(r)}else ZD(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){ZD(e)}}}class eC extends bO{constructor(t,e,r){let a;if(super(),Lr(t)||!t)a={next:null!=t?t:void 0,error:null!=e?e:void 0,complete:null!=r?r:void 0};else{let c;this&&zp.useDeprecatedNextContext?(c=Object.create(t),c.unsubscribe=()=>this.unsubscribe(),a={next:t.next&&CO(t.next,c),error:t.error&&CO(t.error,c),complete:t.complete&&CO(t.complete,c)}):a=t}this.destination=new NB(a)}}function ZD(n){zp.useDeprecatedSynchronousErrorHandling?function(n){zp.useDeprecatedSynchronousErrorHandling&&Wp&&(Wp.errorThrown=!0,Wp.error=n)}(n):lN(n)}function EO(n,t){const{onStoppedNotification:e}=zp;e&&WD.setTimeout(()=>e(n,t))}const LB={closed:!0,next:yO,error:function(n){throw n},complete:yO},wO="function"==typeof Symbol&&Symbol.observable||"@@observable";function DO(n){return n}let Mo=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,a){const c=function(n){return n&&n instanceof bO||function(n){return n&&Lr(n.next)&&Lr(n.error)&&Lr(n.complete)}(n)&&oN(n)}(e)?e:new eC(e,r,a);return YD(()=>{const{operator:f,source:_}=this;c.add(f?f.call(c,_):_?this._subscribe(c):this._trySubscribe(c))}),c}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=uN(r))((a,c)=>{const f=new eC({next:_=>{try{e(_)}catch(b){c(b),f.unsubscribe()}},error:c,complete:a});this.subscribe(f)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[wO](){return this}pipe(...e){return function(n){return 0===n.length?DO:1===n.length?n[0]:function(e){return n.reduce((r,a)=>a(r),e)}}(e)(this)}toPromise(e){return new(e=uN(e))((r,a)=>{let c;this.subscribe(f=>c=f,f=>a(f),()=>r(c))})}}return n.create=t=>new n(t),n})();function uN(n){var t;return null!==(t=null!=n?n:zp.Promise)&&void 0!==t?t:Promise}const UB=gO(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let qD=(()=>{class n extends Mo{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new dN(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new UB}next(e){YD(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){YD(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){YD(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:a,observers:c}=this;return r||a?sN:(this.currentObservers=null,c.push(e),new Yu(()=>{this.currentObservers=null,_O(c,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:a,isStopped:c}=this;r?e.error(a):c&&e.complete()}asObservable(){const e=new Mo;return e.source=this,e}}return n.create=(t,e)=>new dN(t,e),n})();class dN extends qD{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)}error(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:sN}}class hN extends qD{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function Da(n){return t=>{if(function(n){return Lr(null==n?void 0:n.lift)}(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Cl(n,t,e,r,a){return new HB(n,t,e,r,a)}class HB extends bO{constructor(t,e,r,a,c,f){super(t),this.onFinalize=c,this.shouldUnsubscribe=f,this._next=e?function(_){try{e(_)}catch(b){t.error(b)}}:super._next,this._error=a?function(_){try{a(_)}catch(b){t.error(b)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(_){t.error(_)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function x_(n,t){return Da((e,r)=>{let a=0;e.subscribe(Cl(r,c=>n.call(t,c,a++)&&r.next(c)))})}const fN=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function pN(n){return Lr(null==n?void 0:n.then)}function gN(n){return Lr(n[wO])}function mN(n){return Symbol.asyncIterator&&Lr(null==n?void 0:n[Symbol.asyncIterator])}function _N(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const yN="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function vN(n){return Lr(null==n?void 0:n[yN])}function bN(n){return(0,Dc.FC)(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:r,done:a}=yield(0,Dc.qq)(e.read());if(a)return yield(0,Dc.qq)(void 0);yield yield(0,Dc.qq)(r)}}finally{e.releaseLock()}})}function CN(n){return Lr(null==n?void 0:n.getReader)}function tC(n){if(n instanceof Mo)return n;if(null!=n){if(gN(n))return function(n){return new Mo(t=>{const e=n[wO]();if(Lr(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(fN(n))return function(n){return new Mo(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(pN(n))return function(n){return new Mo(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,lN)})}(n);if(mN(n))return EN(n);if(vN(n))return function(n){return new Mo(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(CN(n))return function(n){return EN(bN(n))}(n)}throw _N(n)}function EN(n){return new Mo(t=>{(function(n,t){var e,r,a,c;return(0,Dc.mG)(this,void 0,void 0,function*(){try{for(e=(0,Dc.KL)(n);!(r=yield e.next()).done;)if(t.next(r.value),t.closed)return}catch(f){a={error:f}}finally{try{r&&!r.done&&(c=e.return)&&(yield c.call(e))}finally{if(a)throw a.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function SO(n,t){return Da((e,r)=>{let a=null,c=0,f=!1;const _=()=>f&&!a&&r.complete();e.subscribe(Cl(r,b=>{null==a||a.unsubscribe();let w=0;const O=c++;tC(n(b,O)).subscribe(a=Cl(r,x=>r.next(t?t(b,x,O,w++):x),()=>{a=null,_()}))},()=>{f=!0,_()}))})}const wN=new Mo(yO);function Yp(n,t,e,r=0,a=!1){const c=t.schedule(function(){e(),a?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(c),!a)return c}function DN(n,t=0){return Da((e,r)=>{e.subscribe(Cl(r,a=>Yp(r,n,()=>r.next(a),t),()=>Yp(r,n,()=>r.complete(),t),a=>Yp(r,n,()=>r.error(a),t)))})}function SN(n,t=0){return Da((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function TN(n,t){if(!n)throw new Error("Iterable cannot be null");return new Mo(e=>{Yp(e,t,()=>{const r=n[Symbol.asyncIterator]();Yp(e,t,()=>{r.next().then(a=>{a.done?e.complete():e.next(a.value)})},0,!0)})})}function IN(n,t){return t?function(n,t){if(null!=n){if(gN(n))return function(n,t){return tC(n).pipe(SN(t),DN(t))}(n,t);if(fN(n))return function(n,t){return new Mo(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}(n,t);if(pN(n))return function(n,t){return tC(n).pipe(SN(t),DN(t))}(n,t);if(mN(n))return TN(n,t);if(vN(n))return function(n,t){return new Mo(e=>{let r;return Yp(e,t,()=>{r=n[yN](),Yp(e,t,()=>{let a,c;try{({value:a,done:c}=r.next())}catch(f){return void e.error(f)}c?e.complete():e.next(a)},0,!0)}),()=>Lr(null==r?void 0:r.return)&&r.return()})}(n,t);if(CN(n))return function(n,t){return TN(bN(n),t)}(n,t)}throw _N(n)}(n,t):tC(n)}function AN(...n){return IN(n,function(n){return function(n){return n&&Lr(n.schedule)}(function(n){return n[n.length-1]}(n))?n.pop():void 0}(n))}function KD(n,t,e){const r=Lr(n)||t||e?{next:n,error:t,complete:e}:n;return r?Da((a,c)=>{var f;null===(f=r.subscribe)||void 0===f||f.call(r);let _=!0;a.subscribe(Cl(c,b=>{var w;null===(w=r.next)||void 0===w||w.call(r,b),c.next(b)},()=>{var b;_=!1,null===(b=r.complete)||void 0===b||b.call(r),c.complete()},b=>{var w;_=!1,null===(w=r.error)||void 0===w||w.call(r,b),c.error(b)},()=>{var b,w;_&&(null===(b=r.unsubscribe)||void 0===b||b.call(r)),null===(w=r.finalize)||void 0===w||w.call(r)}))}):DO}const IO=gO(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),MN=new Mo(n=>n.complete());function ON(n){return n<=0?()=>MN:Da((t,e)=>{let r=0;t.subscribe(Cl(e,a=>{++r<=n&&(e.next(a),n<=r&&e.complete())}))})}function o2(n){return Da((t,e)=>{let r=!1;t.subscribe(Cl(e,a=>{r=!0,e.next(a)},()=>{r||e.next(n),e.complete()}))})}function a2(n=l2){return Da((t,e)=>{let r=!1;t.subscribe(Cl(e,a=>{r=!0,e.next(a)},()=>r?e.complete():e.error(n())))})}function l2(){return new IO}function RN(n,t){return Da((e,r)=>{let a=0;e.subscribe(Cl(r,c=>{r.next(n.call(t,c,a++))}))})}const xN={now:()=>(xN.delegate||Date).now(),delegate:void 0};class u2 extends qD{constructor(t=1/0,e=1/0,r=xN){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:a,_timestampProvider:c,_windowTime:f}=this;e||(r.push(t),!a&&r.push(c.now()+f)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:a}=this,c=a.slice();for(let f=0;f<c.length&&!t.closed;f+=r?1:2)t.next(c[f]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:a}=this,c=(a?1:2)*t;if(t<1/0&&c<r.length&&r.splice(0,r.length-c),!a){const f=e.now();let _=0;for(let b=1;b<r.length&&r[b]<=f;b+=2)_=b;_&&r.splice(0,_+1)}}}function AO(n,t,...e){return!0===t?(n(),null):!1===t?null:t(...e).pipe(ON(1)).subscribe(()=>n())}function PN(...n){const t=n.length;if(0===t)throw new Error("list of properties cannot be empty.");return RN(e=>{let r=e;for(let a=0;a<t;a++){const c=null==r?void 0:r[n[a]];if(void 0===c)return;r=c}return r})}function QD(n,t){const e="object"==typeof t;return new Promise((r,a)=>{const c=new eC({next:f=>{r(f),c.unsubscribe()},error:a,complete:()=>{e?r(t.defaultValue):a(new IO)}});n.subscribe(c)})}function kN(n){return Da((t,e)=>{let c,r=null,a=!1;r=t.subscribe(Cl(e,void 0,void 0,f=>{c=tC(n(f,kN(n)(t))),r?(r.unsubscribe(),r=null,c.subscribe(e)):a=!0})),a&&(r.unsubscribe(),r=null,c.subscribe(e))})}class NN{}class FN{}class Zu{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const a=e.slice(0,r),c=a.toLowerCase(),f=e.slice(r+1).trim();this.maybeSetNormalizedName(a,c),this.headers.has(c)?this.headers.get(c).push(f):this.headers.set(c,[f])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const a=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(a,r),this.maybeSetNormalizedName(e,a))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Zu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Zu;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Zu?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const a=("a"===t.op?this.headers.get(e):void 0)||[];a.push(...r),this.headers.set(e,a);break;case"d":const c=t.value;if(c){let f=this.headers.get(e);if(!f)return;f=f.filter(_=>-1===c.indexOf(_)),0===f.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,f)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class p2{encodeKey(t){return LN(t)}encodeValue(t){return LN(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const m2=/%(\d[a-f0-9])/gi,_2={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function LN(n){return encodeURIComponent(n).replace(m2,(t,e)=>{var r;return null!==(r=_2[e])&&void 0!==r?r:t})}function VN(n){return`${n}`}class Wh{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new p2,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(a=>{const c=a.indexOf("="),[f,_]=-1==c?[t.decodeKey(a),""]:[t.decodeKey(a.slice(0,c)),t.decodeValue(a.slice(c+1))],b=e.get(f)||[];b.push(_),e.set(f,b)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e];this.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const a=t[r];Array.isArray(a)?a.forEach(c=>{e.push({param:r,value:c,op:"a"})}):e.push({param:r,value:a,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Wh({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(VN(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const a=r.indexOf(VN(t.value));-1!==a&&r.splice(a,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class y2{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function BN(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function UN(n){return"undefined"!=typeof Blob&&n instanceof Blob}function jN(n){return"undefined"!=typeof FormData&&n instanceof FormData}class nC{constructor(t,e,r,a){let c;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==r?r:null,c=a):c=r,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new Zu),this.context||(this.context=new y2),this.params){const f=this.params.toString();if(0===f.length)this.urlWithParams=e;else{const _=e.indexOf("?");this.urlWithParams=e+(-1===_?"?":_<e.length-1?"&":"")+f}}else this.params=new Wh,this.urlWithParams=e}serializeBody(){return null===this.body?null:BN(this.body)||UN(this.body)||jN(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Wh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||jN(this.body)?null:UN(this.body)?this.body.type||null:BN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Wh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const r=t.method||this.method,a=t.url||this.url,c=t.responseType||this.responseType,f=void 0!==t.body?t.body:this.body,_=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,b=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let w=t.headers||this.headers,O=t.params||this.params;const x=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(w=Object.keys(t.setHeaders).reduce((z,Y)=>z.set(Y,t.setHeaders[Y]),w)),t.setParams&&(O=Object.keys(t.setParams).reduce((z,Y)=>z.set(Y,t.setParams[Y]),O)),new nC(r,a,f,{params:O,headers:w,context:x,reportProgress:b,responseType:c,withCredentials:_})}}var wr=(()=>((wr=wr||{})[wr.Sent=0]="Sent",wr[wr.UploadProgress=1]="UploadProgress",wr[wr.ResponseHeader=2]="ResponseHeader",wr[wr.DownloadProgress=3]="DownloadProgress",wr[wr.Response=4]="Response",wr[wr.User=5]="User",wr))();class MO{constructor(t,e=200,r="OK"){this.headers=t.headers||new Zu,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class OO extends MO{constructor(t={}){super(t),this.type=wr.ResponseHeader}clone(t={}){return new OO({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class JD extends MO{constructor(t={}){super(t),this.type=wr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new JD({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class HN extends MO{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function RO(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let $N=(()=>{class n{constructor(e){this.handler=e}request(e,r,a={}){let c;if(e instanceof nC)c=e;else{let b,w;b=a.headers instanceof Zu?a.headers:new Zu(a.headers),a.params&&(w=a.params instanceof Wh?a.params:new Wh({fromObject:a.params})),c=new nC(e,r,void 0!==a.body?a.body:null,{headers:b,context:a.context,params:w,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const f=(0,Ge.of)(c).pipe(Qo(b=>this.handler.handle(b)));if(e instanceof nC||"events"===a.observe)return f;const _=f.pipe(Zn(b=>b instanceof JD));switch(a.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return _.pipe((0,wt.U)(b=>{if(null!==b.body&&!(b.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return b.body}));case"blob":return _.pipe((0,wt.U)(b=>{if(null!==b.body&&!(b.body instanceof Blob))throw new Error("Response is not a Blob.");return b.body}));case"text":return _.pipe((0,wt.U)(b=>{if(null!==b.body&&"string"!=typeof b.body)throw new Error("Response is not a string.");return b.body}));case"json":default:return _.pipe((0,wt.U)(b=>b.body))}case"response":return _;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Wh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,a={}){return this.request("PATCH",e,RO(a,r))}post(e,r,a={}){return this.request("POST",e,RO(a,r))}put(e,r,a={}){return this.request("PUT",e,RO(a,r))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(NN))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class GN{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const zN=new u.OlP("HTTP_INTERCEPTORS");let C2=(()=>{class n{intercept(e,r){return r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const E2=/^\)\]\}',?\n/;let WN=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new sn.y(r=>{const a=this.xhrFactory.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((Y,ae)=>a.setRequestHeader(Y,ae.join(","))),e.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const Y=e.detectContentTypeHeader();null!==Y&&a.setRequestHeader("Content-Type",Y)}if(e.responseType){const Y=e.responseType.toLowerCase();a.responseType="json"!==Y?Y:"text"}const c=e.serializeBody();let f=null;const _=()=>{if(null!==f)return f;const Y=1223===a.status?204:a.status,ae=a.statusText||"OK",Re=new Zu(a.getAllResponseHeaders()),Ve=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(a)||e.url;return f=new OO({headers:Re,status:Y,statusText:ae,url:Ve}),f},b=()=>{let{headers:Y,status:ae,statusText:Re,url:Ve}=_(),qe=null;204!==ae&&(qe=void 0===a.response?a.responseText:a.response),0===ae&&(ae=qe?200:0);let rt=ae>=200&&ae<300;if("json"===e.responseType&&"string"==typeof qe){const Nt=qe;qe=qe.replace(E2,"");try{qe=""!==qe?JSON.parse(qe):null}catch(vt){qe=Nt,rt&&(rt=!1,qe={error:vt,text:qe})}}rt?(r.next(new JD({body:qe,headers:Y,status:ae,statusText:Re,url:Ve||void 0})),r.complete()):r.error(new HN({error:qe,headers:Y,status:ae,statusText:Re,url:Ve||void 0}))},w=Y=>{const{url:ae}=_(),Re=new HN({error:Y,status:a.status||0,statusText:a.statusText||"Unknown Error",url:ae||void 0});r.error(Re)};let O=!1;const x=Y=>{O||(r.next(_()),O=!0);let ae={type:wr.DownloadProgress,loaded:Y.loaded};Y.lengthComputable&&(ae.total=Y.total),"text"===e.responseType&&!!a.responseText&&(ae.partialText=a.responseText),r.next(ae)},z=Y=>{let ae={type:wr.UploadProgress,loaded:Y.loaded};Y.lengthComputable&&(ae.total=Y.total),r.next(ae)};return a.addEventListener("load",b),a.addEventListener("error",w),a.addEventListener("timeout",w),a.addEventListener("abort",w),e.reportProgress&&(a.addEventListener("progress",x),null!==c&&a.upload&&a.upload.addEventListener("progress",z)),a.send(c),r.next({type:wr.Sent}),()=>{a.removeEventListener("error",w),a.removeEventListener("abort",w),a.removeEventListener("load",b),a.removeEventListener("timeout",w),e.reportProgress&&(a.removeEventListener("progress",x),null!==c&&a.upload&&a.upload.removeEventListener("progress",z)),a.readyState!==a.DONE&&a.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Pa))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const xO=new u.OlP("XSRF_COOKIE_NAME"),PO=new u.OlP("XSRF_HEADER_NAME");class YN{}let D2=(()=>{class n{constructor(e,r,a){this.doc=e,this.platform=r,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Hn(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ie),u.LFG(u.Lbi),u.LFG(xO))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),kO=(()=>{class n{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const a=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||a.startsWith("http://")||a.startsWith("https://"))return r.handle(e);const c=this.tokenService.getToken();return null!==c&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,c)})),r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(YN),u.LFG(PO))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),S2=(()=>{class n{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(zN,[]);this.chain=r.reduceRight((a,c)=>new GN(a,c),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(FN),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),T2=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:kO,useClass:C2}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:xO,useValue:e.cookieName}:[],e.headerName?{provide:PO,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[kO,{provide:zN,useExisting:kO,multi:!0},{provide:YN,useClass:D2},{provide:xO,useValue:"XSRF-TOKEN"},{provide:PO,useValue:"X-XSRF-TOKEN"}]}),n})(),I2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[$N,{provide:NN,useClass:S2},WN,{provide:FN,useExisting:WN}],imports:[[T2.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const XD={useTransferState:!0,alwaysMonitor:!1,manualIdle:!1,baseURIForScullyContent:"http://localhost:1668"},ZN=new u.OlP("scullyLibConfig",{factory:()=>XD}),NO=n=>(n.includes("#")&&(n=n.split("#")[0]),n.includes("?")&&(n=n.split("?")[0]),n.endsWith("/")?n.slice(0,-1):n),FO=()=>window&&"running"===window.ScullyIO,LO=()=>window&&"generated"===window.ScullyIO;function qN(n,t){return(n=null!=n?n:"").endsWith("/")&&t.startsWith("/")?`${n}${t.substr(1)}`:n.endsWith("/")||t.startsWith("/")?`${n}${t}`:`${n}/${t}`}const VO="ScullyIO-transfer-state",BO="/** ___SCULLY_STATE_START___ */",UO="/** ___SCULLY_STATE_END___ */";let M2=(()=>{class n{constructor(e,r,a){this.document=e,this.router=r,this.http=a,this.inlineOnly=!1,this.currentBaseUrl="//",this.stateBS=new hN({}),this.state$=this.stateBS.pipe(x_(c=>void 0!==c)),this.nextUrl=this.router.events.pipe(x_(c=>c instanceof U),SO(c=>NO(this.initialUrl)===NO(c.url)?(this.initialUrl="__done__with__Initial__navigation__",wN):AN(c)),KD(()=>this.stateBS.next(void 0)),SO(c=>this.router.events.pipe(x_(f=>f instanceof Mt&&f.url===c.url),function(n,t){const e=arguments.length>=2;return r=>r.pipe(n?x_((a,c)=>n(a,c,r)):DO,ON(1),e?o2(t):a2(()=>new IO))}())),RN(c=>NO(c.urlAfterRedirects||c.url)),function(n,t,e){let r,a=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:t=1/0,refCount:a=!1,scheduler:e}=n):r=null!=n?n:1/0,function(n={}){const{connector:t=(()=>new qD),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:a=!0}=n;return c=>{let f=null,_=null,b=null,w=0,O=!1,x=!1;const z=()=>{null==_||_.unsubscribe(),_=null},Y=()=>{z(),f=b=null,O=x=!1},ae=()=>{const Re=f;Y(),null==Re||Re.unsubscribe()};return Da((Re,Ve)=>{w++,!x&&!O&&z();const qe=b=null!=b?b:t();Ve.add(()=>{w--,0===w&&!x&&!O&&(_=AO(ae,a))}),qe.subscribe(Ve),f||(f=new eC({next:rt=>qe.next(rt),error:rt=>{x=!0,z(),_=AO(Y,e,rt),qe.error(rt)},complete:()=>{O=!0,z(),_=AO(Y,r),qe.complete()}}),IN(Re).subscribe(f))})(c)}}({connector:()=>new u2(r,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}(1))}startMonitoring(){window&&window["ScullyIO-injected"]&&window["ScullyIO-injected"].inlineStateOnly&&(this.inlineOnly=!0),this.setupEnvForTransferState(),this.setupStartNavMonitoring()}setupEnvForTransferState(){if(FO()){this.injectScript();const e=window["ScullyIO-exposed"]||{};e.transferState&&(this.stateBS.next(e.transferState),this.saveState(e.transferState))}else this.initialUrl=window.location.pathname||"__no_NO_no__",this.initialUrl="/"!==this.initialUrl&&this.initialUrl.endsWith("/")?this.initialUrl.slice(0,-1):this.initialUrl,LO()&&this.stateBS.next(window&&window[VO]||{})}injectScript(){this.script=this.document.createElement("script"),this.script.setAttribute("id",VO);let e=this.document.body.lastChild;for(;"SCRIPT"===e.previousSibling.nodeName;)e=e.previousSibling;this.document.body.insertBefore(this.script,e)}getState(e){return this.fetchTransferState(),this.state$.pipe(PN(e))}stateHasKey(e){return this.stateBS.value&&this.stateBS.value.hasOwnProperty(e)}stateKeyHasValue(e){return this.stateBS.value&&this.stateBS.value.hasOwnProperty(e)&&null!=this.stateBS.value[e]}setState(e,r){const a=Object.assign(Object.assign({},this.stateBS.value),{[e]:r});this.stateBS.next(a),this.saveState(a)}saveState(e){FO()&&(this.script.textContent=`{window['${VO}']=_u(\`${BO}${function(n){const t={"'":"_~q~",$:"_~o~","`":"_~b~","/":"_~s~","<":"_~l~",">":"_~g~"};return n.replace(/[\$`'<>\/]/g,e=>t[e]).replace(/\\\"/g,"_~d~")}(JSON.stringify(e))}${UO}\`);function _u(t){t=t.split('${BO}')[1].split('${UO}')[0];const u={'_~b~': "\`",'_~q~': "'",'_~o~': '$','_~s~': '/','_~l~': '<','_~g~': '>'};return JSON.parse(t.replace(/_~d~/g,'\\\\"').replace(/_~[^]~/g, (s) => u[s]).replace(/\\n/g,'\\\\n').replace(/\\t/g,'\\\\t').replace(/\\r/g,'\\\\r'));}}`)}setupStartNavMonitoring(){!LO()||this.nextUrl.subscribe()}useScullyTransferState(e,r){return LO()?this.getState(e):r.pipe(KD(a=>this.setState(e,a)))}fetchTransferState(){return(0,Dc.mG)(this,void 0,void 0,function*(){const e=c=>c.split("/").filter(f=>""!==f.trim())[0];yield new Promise(c=>setTimeout(c,0));const r=yield QD(this.nextUrl),a=e(r);this.currentBaseUrl!==a&&(this.currentBaseUrl=a,this.nextUrl.pipe(function(n,t=!1){return Da((e,r)=>{let a=0;e.subscribe(Cl(r,c=>{const f=n(c,a++);(f||t)&&r.next(c),!f&&r.complete()}))})}(c=>e(c)===this.currentBaseUrl),SO(c=>this.inlineOnly?this.readFromIndex(c):this.readFromJson(c)),kN(c=>(console.warn("Error while loading of parsing Scully state:",c),AN({}))),KD(c=>{this.stateBS.next(c)})).subscribe({complete:()=>{this.currentBaseUrl="//"}}))})}readFromJson(e){return QD(this.http.get(KN(qN(e,"/data.json"))))}readFromIndex(e){return QD(this.http.get(KN(qN(e,"/index.html")),{responseType:"text"})).then(r=>{const a=r.split(BO)[1].split(UO)[0];return JSON.parse(function(n){const t={"_~q~":"'","_~b~":"`","_~o~":"$","_~s~":"/","_~l~":"<","_~g~":">"};return n.replace(/_~d~/g,'\\"').replace(/_~[^]~/g,e=>t[e]).replace(/\n/g,"\\n").replace(/\r/g,"\\r")}(a))})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ie),u.LFG(zr),u.LFG($N))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KN(n){return n.startsWith("/")?n.slice(1):n}let x2=(()=>{class n{constructor(e,r,a,c,f){this.zone=e,this.router=r,this.document=c,this.initialUrl=function(n){return n.endsWith("/")?n.slice(0,-1):n}(window&&window.location&&window.location.pathname)||"",this.imState=new hN({idle:!1,timeOut:5e3}),this.idle$=this.imState.pipe(PN("idle")),this.initApp=new Event("AngularInitialized",{bubbles:!0,cancelable:!1}),this.appReady=new Event("AngularReady",{bubbles:!0,cancelable:!1}),this.appTimeout=new Event("AngularTimeout",{bubbles:!0,cancelable:!1}),this.scullyLibConfig=Object.assign({},XD,a);const b=!!(window["ScullyIO-exposed"]||{}).manualIdle;!this.scullyLibConfig.manualIdle&&window&&(this.scullyLibConfig.alwaysMonitor||FO())&&(this.document.dispatchEvent(this.initApp),this.router.events.pipe(x_(w=>w instanceof te&&void 0!==w.urlAfterRedirects),x_(w=>!b||w.urlAfterRedirects!==this.initialUrl),KD(()=>this.zoneIdleCheck())).subscribe()),this.scullyLibConfig.manualIdle&&this.document.dispatchEvent(this.initApp),this.scullyLibConfig.useTransferState&&f.startMonitoring()}fireManualMyAppReadyEvent(){return(0,Dc.mG)(this,void 0,void 0,function*(){return this.document.dispatchEvent(this.appReady)})}init(){return QD(this.idle$)}zoneIdleCheck(){return(0,Dc.mG)(this,void 0,void 0,function*(){if(void 0===Zone)return this.simpleTimeout();const e=Zone.current.get("TaskTrackingZone");if(void 0===e)return this.simpleTimeout();this.imState.value.idle&&(yield this.setState("idle",!1)),this.zone.runOutsideAngular(()=>{let r,a=0;const c=Date.now(),f=()=>{clearTimeout(r),Date.now()-c>3e4?this.document.dispatchEvent(this.appTimeout):e.macroTasks.length>0&&void 0!==e.macroTasks.find(_=>_.source.includes("XMLHttpRequest"))||a<1?r=setTimeout(()=>{a+=1,f()},50):this.zone.run(()=>{setTimeout(()=>{this.document.dispatchEvent(this.appReady),this.setState("idle",!0)},250)})};f()})})}simpleTimeout(){return(0,Dc.mG)(this,void 0,void 0,function*(){console.warn("Scully is using timeouts, add the needed polyfills instead!"),yield new Promise(e=>setTimeout(e,this.imState.value.timeOut)),this.document.dispatchEvent(this.appReady)})}setPupeteerTimeoutValue(e){this.imState.next(Object.assign(Object.assign({},this.imState.value),{timeOut:e}))}setState(e,r){this.imState.next(Object.assign(Object.assign({},this.imState.value),{[e]:r}))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.R0b),u.LFG(zr),u.LFG(ZN),u.LFG(ie),u.LFG(M2))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),k2=(()=>{class n{constructor(e){this.idle=e}static forRoot(e=XD){return e=Object.assign({},XD,e),{ngModule:n,providers:[{provide:ZN,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(x2))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[QN,I2],QN]}),n})(),N2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[MB]}),n.\u0275inj=u.cJS({providers:[pO],imports:[[$c,mS,lL,dV,XP,aB,oB,rs.hO.initializeApp(iN_firebaseConfig),Kv,k2,v0,eA]]}),n})();(0,u.G48)(),Xs().bootstrapModule(N2).catch(n=>console.error(n))},4762:(Ye,Te,V)=>{"use strict";function he(ue,fe){var De={};for(var ye in ue)Object.prototype.hasOwnProperty.call(ue,ye)&&fe.indexOf(ye)<0&&(De[ye]=ue[ye]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var ke=0;for(ye=Object.getOwnPropertySymbols(ue);ke<ye.length;ke++)fe.indexOf(ye[ke])<0&&Object.prototype.propertyIsEnumerable.call(ue,ye[ke])&&(De[ye[ke]]=ue[ye[ke]])}return De}function Q(ue,fe,De,ye){return new(De||(De=Promise))(function(ve,ct){function Ut(kt){try{ut(ye.next(kt))}catch(dt){ct(dt)}}function Pn(kt){try{ut(ye.throw(kt))}catch(dt){ct(dt)}}function ut(kt){kt.done?ve(kt.value):function(ve){return ve instanceof De?ve:new De(function(ct){ct(ve)})}(kt.value).then(Ut,Pn)}ut((ye=ye.apply(ue,fe||[])).next())})}function _e(ue){return this instanceof _e?(this.v=ue,this):new _e(ue)}function se(ue,fe,De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,ye=De.apply(ue,fe||[]),ve=[];return ke={},ct("next"),ct("throw"),ct("return"),ke[Symbol.asyncIterator]=function(){return this},ke;function ct(Vt){ye[Vt]&&(ke[Vt]=function(Bn){return new Promise(function(Br,jt){ve.push([Vt,Bn,Br,jt])>1||Ut(Vt,Bn)})})}function Ut(Vt,Bn){try{!function(Vt){Vt.value instanceof _e?Promise.resolve(Vt.value.v).then(ut,kt):dt(ve[0][2],Vt)}(ye[Vt](Bn))}catch(Br){dt(ve[0][3],Br)}}function ut(Vt){Ut("next",Vt)}function kt(Vt){Ut("throw",Vt)}function dt(Vt,Bn){Vt(Bn),ve.shift(),ve.length&&Ut(ve[0][0],ve[0][1])}}function Ne(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,fe=ue[Symbol.asyncIterator];return fe?fe.call(ue):(ue=function(ue){var fe="function"==typeof Symbol&&Symbol.iterator,De=fe&&ue[fe],ye=0;if(De)return De.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&ye>=ue.length&&(ue=void 0),{value:ue&&ue[ye++],done:!ue}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),De={},ye("next"),ye("throw"),ye("return"),De[Symbol.asyncIterator]=function(){return this},De);function ye(ve){De[ve]=ue[ve]&&function(ct){return new Promise(function(Ut,Pn){!function(ve,ct,Ut,Pn){Promise.resolve(Pn).then(function(ut){ve({value:ut,done:Ut})},ct)}(Ut,Pn,(ct=ue[ve](ct)).done,ct.value)})}}}V.d(Te,{_T:()=>he,mG:()=>Q,qq:()=>_e,FC:()=>se,KL:()=>Ne})},3394:(Ye,Te,V)=>{"use strict";V.d(Te,{Z:()=>Ee});var u=V(3854),re=V(3910),L=V(8026),he=V(5422);class le{constructor(_e,se){this._delegate=_e,this.firebase=se,(0,L._addComponent)(_e,new re.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(_e,se=L._DEFAULT_ENTRY_NAME){var we;this._delegate.checkDestroyed();const Ne=this._delegate.container.getProvider(_e);return!Ne.isInitialized()&&"EXPLICIT"===(null===(we=Ne.getComponent())||void 0===we?void 0:we.instantiationMode)&&Ne.initialize(),Ne.getImmediate({identifier:se})}_removeServiceInstance(_e,se=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(se)}_addComponent(_e){(0,L._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,L._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function X(){const Ce=function(Ce){const _e={},se={__esModule:!0,initializeApp:function(mt,Ae={}){const ue=L.initializeApp(mt,Ae);if((0,u.r3)(_e,ue.name))return _e[ue.name];const fe=new Ce(ue,se);return _e[ue.name]=fe,fe},app:Ne,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function(mt){const Ae=mt.name,ue=Ae.replace("-compat","");if(L._registerComponent(mt)&&"PUBLIC"===mt.type){const fe=(De=Ne())=>{if("function"!=typeof De[ue])throw ie.create("invalid-app-argument",{appName:Ae});return De[ue]()};void 0!==mt.serviceProps&&(0,u.ZB)(fe,mt.serviceProps),se[ue]=fe,Ce.prototype[ue]=function(...De){return this._getService.bind(this,Ae).apply(this,mt.multipleInstances?De:[])}}return"PUBLIC"===mt.type?se[ue]:null},removeApp:function(mt){delete _e[mt]},useAsService:function(mt,Ae){return"serverAuth"===Ae?null:Ae},modularAPIs:L}};function Ne(mt){if(!(0,u.r3)(_e,mt=mt||L._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:mt});return _e[mt]}return se.default=se,Object.defineProperty(se,"apps",{get:function(){return Object.keys(_e).map(mt=>_e[mt])}}),Ne.App=Ce,se}(le);return Ce.INTERNAL=Object.assign(Object.assign({},Ce.INTERNAL),{createFirebaseNamespace:X,extendNamespace:function(se){(0,u.ZB)(Ce,se)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Ce}(),j=new he.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ce=self.firebase.SDK_VERSION;Ce&&Ce.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ee=F;(0,L.registerVersion)("@firebase/app-compat","0.1.19",undefined)},8026:(Ye,Te,V)=>{"use strict";V.r(Te),V.d(Te,{FirebaseError:()=>he.ZR,SDK_VERSION:()=>fs,_DEFAULT_ENTRY_NAME:()=>ut,_addComponent:()=>Bn,_addOrOverwriteComponent:()=>Br,_apps:()=>dt,_clearComponents:()=>Un,_components:()=>Vt,_getProvider:()=>Kt,_registerComponent:()=>jt,_removeServiceInstance:()=>Tt,deleteApp:()=>Ys,getApp:()=>fr,getApps:()=>qr,initializeApp:()=>Ni,onLog:()=>Tr,registerVersion:()=>an,setLogLevel:()=>pr});var u=V(8239),re=V(3910),L=V(5422),he=V(3854),le=V(6676);class ee{constructor(be){this.container=be}getPlatformInfoString(){return this.container.getProviders().map(Le=>{if(function(Me){const be=Me.getComponent();return"VERSION"===(null==be?void 0:be.type)}(Le)){const We=Le.getImmediate();return`${We.library}/${We.version}`}return null}).filter(Le=>Le).join(" ")}}const Q="@firebase/app",X="0.7.18",F=new L.Yd("@firebase/app"),ut="[DEFAULT]",kt={[Q]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},dt=new Map,Vt=new Map;function Bn(Me,be){try{Me.container.addComponent(be)}catch(Le){F.debug(`Component ${be.name} failed to register with FirebaseApp ${Me.name}`,Le)}}function Br(Me,be){Me.container.addOrOverwriteComponent(be)}function jt(Me){const be=Me.name;if(Vt.has(be))return F.debug(`There were multiple attempts to register component ${be}.`),!1;Vt.set(be,Me);for(const Le of dt.values())Bn(Le,Me);return!0}function Kt(Me,be){const Le=Me.container.getProvider("heartbeat").getImmediate({optional:!0});return Le&&Le.triggerHeartbeat(),Me.container.getProvider(be)}function Tt(Me,be,Le=ut){Kt(Me,be).clearInstance(Le)}function Un(){Vt.clear()}const Gn=new he.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Sr{constructor(be,Le,We){this._isDeleted=!1,this._options=Object.assign({},be),this._config=Object.assign({},Le),this._name=Le.name,this._automaticDataCollectionEnabled=Le.automaticDataCollectionEnabled,this._container=We,this.container.addComponent(new re.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this.checkDestroyed(),this._automaticDataCollectionEnabled=be}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(be){this._isDeleted=be}checkDestroyed(){if(this.isDeleted)throw Gn.create("app-deleted",{appName:this._name})}}const fs="9.6.8";function Ni(Me,be={}){"object"!=typeof be&&(be={name:be});const Le=Object.assign({name:ut,automaticDataCollectionEnabled:!1},be),We=Le.name;if("string"!=typeof We||!We)throw Gn.create("bad-app-name",{appName:String(We)});const bt=dt.get(We);if(bt){if((0,he.vZ)(Me,bt.options)&&(0,he.vZ)(Le,bt.config))return bt;throw Gn.create("duplicate-app",{appName:We})}const tt=new re.H0(We);for(const dn of Vt.values())tt.addComponent(dn);const Ht=new Sr(Me,Le,tt);return dt.set(We,Ht),Ht}function fr(Me=ut){const be=dt.get(Me);if(!be)throw Gn.create("no-app",{appName:Me});return be}function qr(){return Array.from(dt.values())}function Ys(Me){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,u.Z)(function*(Me){const be=Me.name;dt.has(be)&&(dt.delete(be),yield Promise.all(Me.container.getProviders().map(Le=>Le.delete())),Me.isDeleted=!0)})).apply(this,arguments)}function an(Me,be,Le){var We;let bt=null!==(We=kt[Me])&&void 0!==We?We:Me;Le&&(bt+=`-${Le}`);const tt=bt.match(/\s|\//),Ht=be.match(/\s|\//);if(tt||Ht){const dn=[`Unable to register library "${bt}" with version "${be}":`];return tt&&dn.push(`library name "${bt}" contains illegal characters (whitespace or "/")`),tt&&Ht&&dn.push("and"),Ht&&dn.push(`version name "${be}" contains illegal characters (whitespace or "/")`),void F.warn(dn.join(" "))}jt(new re.wA(`${bt}-version`,()=>({library:bt,version:be}),"VERSION"))}function Tr(Me,be){if(null!==Me&&"function"!=typeof Me)throw Gn.create("invalid-log-argument");(0,L.Am)(Me,be)}function pr(Me){(0,L.Ub)(Me)}const Sn="firebase-heartbeat-store";let tn=null;function ps(){return tn||(tn=(0,le.openDb)("firebase-heartbeat-database",1,Me=>{switch(Me.oldVersion){case 0:Me.createObjectStore(Sn)}}).catch(Me=>{throw Gn.create("storage-open",{originalErrorMessage:Me.message})})),tn}function Ue(){return(Ue=(0,u.Z)(function*(Me){try{return(yield ps()).transaction(Sn).objectStore(Sn).get(Lt(Me))}catch(be){throw Gn.create("storage-get",{originalErrorMessage:be.message})}})).apply(this,arguments)}function st(Me,be){return tr.apply(this,arguments)}function tr(){return(tr=(0,u.Z)(function*(Me,be){try{const We=(yield ps()).transaction(Sn,"readwrite");return yield We.objectStore(Sn).put(be,Lt(Me)),We.complete}catch(Le){throw Gn.create("storage-set",{originalErrorMessage:Le.message})}})).apply(this,arguments)}function nr(){return(nr=(0,u.Z)(function*(Me){try{const Le=(yield ps()).transaction(Sn,"readwrite");return yield Le.objectStore(Sn).delete(Lt(Me)),Le.complete}catch(be){throw Gn.create("storage-delete",{originalErrorMessage:be.message})}})).apply(this,arguments)}function Lt(Me){return`${Me.name}!${Me.options.appId}`}class W{constructor(be){this.container=be,this._heartbeatsCache=null;const Le=this.container.getProvider("app").getImmediate();this._storage=new Ie(Le),this._heartbeatsCachePromise=this._storage.read().then(We=>(this._heartbeatsCache=We,We))}triggerHeartbeat(){var be=this;return(0,u.Z)(function*(){const We=be.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),bt=(new Date).toISOString().substring(0,10);if(null===be._heartbeatsCache&&(be._heartbeatsCache=yield be._heartbeatsCachePromise),!be._heartbeatsCache.some(tt=>tt.date===bt))return be._heartbeatsCache.push({date:bt,userAgent:We}),be._heartbeatsCache=be._heartbeatsCache.filter(tt=>{const Ht=new Date(tt.date).valueOf();return Date.now()-Ht<=2592e6}),be._storage.overwrite(be._heartbeatsCache)})()}getHeartbeatsHeader(){var be=this;return(0,u.Z)(function*(){if(null===be._heartbeatsCache&&(yield be._heartbeatsCachePromise),null===be._heartbeatsCache)return"";const{heartbeatsToSend:Le,unsentEntries:We}=function(Me,be=1024){const Le=[];let We=Me.slice();for(const bt of Me){const tt=Le.find(Ht=>Ht.userAgent===bt.userAgent);if(tt){if(tt.dates.push(bt.date),de(Le)>be){tt.dates.pop();break}}else if(Le.push({userAgent:bt.userAgent,dates:[bt.date]}),de(Le)>be){Le.pop();break}We=We.slice(1)}return{heartbeatsToSend:Le,unsentEntries:We}}(be._heartbeatsCache),bt=(0,he.h$)(JSON.stringify({version:2,heartbeats:Le}));return We.length>0?(be._heartbeatsCache=We,yield be._storage.overwrite(be._heartbeatsCache)):(be._heartbeatsCache=null,be._storage.deleteAll()),bt})()}}class Ie{constructor(be){this.app=be,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,he.hl)()&&(0,he.eu)().then(()=>!0).catch(()=>!1)})()}read(){var be=this;return(0,u.Z)(function*(){if(yield be._canUseIndexedDBPromise){const We=yield function(Me){return Ue.apply(this,arguments)}(be.app);return(null==We?void 0:We.heartbeats)||[]}return[]})()}overwrite(be){var Le=this;return(0,u.Z)(function*(){if(yield Le._canUseIndexedDBPromise)return st(Le.app,{heartbeats:be})})()}add(be){var Le=this;return(0,u.Z)(function*(){if(yield Le._canUseIndexedDBPromise){const bt=yield Le.read();return st(Le.app,{heartbeats:[...bt,...be]})}})()}delete(be){var Le=this;return(0,u.Z)(function*(){if(yield Le._canUseIndexedDBPromise){const bt=yield Le.read();return st(Le.app,{heartbeats:bt.filter(tt=>!be.includes(tt))})}})()}deleteAll(){var be=this;return(0,u.Z)(function*(){if(yield be._canUseIndexedDBPromise)return function(Me){return nr.apply(this,arguments)}(be.app)})()}}function de(Me){return(0,he.h$)(JSON.stringify({version:2,heartbeats:Me})).length}jt(new re.wA("platform-logger",be=>new ee(be),"PRIVATE")),jt(new re.wA("heartbeat",be=>new W(be),"PRIVATE")),an(Q,X,""),an(Q,X,"esm2017"),an("fire-js","")},3910:(Ye,Te,V)=>{"use strict";V.d(Te,{wA:()=>L,H0:()=>Q,zt:()=>le});var u=V(8239),re=V(3854);class L{constructor(F,j,H){this.name=F,this.instanceFactory=j,this.type=H,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(F){return this.instantiationMode=F,this}setMultipleInstances(F){return this.multipleInstances=F,this}setServiceProps(F){return this.serviceProps=F,this}setInstanceCreatedCallback(F){return this.onInstanceCreated=F,this}}const he="[DEFAULT]";class le{constructor(F,j){this.name=F,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(F){const j=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(j)){const H=new re.BH;if(this.instancesDeferred.set(j,H),this.isInitialized(j)||this.shouldAutoInitialize())try{const ce=this.getOrInitializeService({instanceIdentifier:j});ce&&H.resolve(ce)}catch(ce){}}return this.instancesDeferred.get(j).promise}getImmediate(F){var j;const H=this.normalizeInstanceIdentifier(null==F?void 0:F.identifier),ce=null!==(j=null==F?void 0:F.optional)&&void 0!==j&&j;if(!this.isInitialized(H)&&!this.shouldAutoInitialize()){if(ce)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:H})}catch(oe){if(ce)return null;throw oe}}getComponent(){return this.component}setComponent(F){if(F.name!==this.name)throw Error(`Mismatching Component ${F.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=F,this.shouldAutoInitialize()){if("EAGER"===F.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:he})}catch(j){}for(const[j,H]of this.instancesDeferred.entries()){const ce=this.normalizeInstanceIdentifier(j);try{const oe=this.getOrInitializeService({instanceIdentifier:ce});H.resolve(oe)}catch(oe){}}}}clearInstance(F=he){this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)}delete(){var F=this;return(0,u.Z)(function*(){const j=Array.from(F.instances.values());yield Promise.all([...j.filter(H=>"INTERNAL"in H).map(H=>H.INTERNAL.delete()),...j.filter(H=>"_delete"in H).map(H=>H._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(F=he){return this.instances.has(F)}getOptions(F=he){return this.instancesOptions.get(F)||{}}initialize(F={}){const{options:j={}}=F,H=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(H))throw Error(`${this.name}(${H}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ce=this.getOrInitializeService({instanceIdentifier:H,options:j});for(const[oe,Ee]of this.instancesDeferred.entries())H===this.normalizeInstanceIdentifier(oe)&&Ee.resolve(ce);return ce}onInit(F,j){var H;const ce=this.normalizeInstanceIdentifier(j),oe=null!==(H=this.onInitCallbacks.get(ce))&&void 0!==H?H:new Set;oe.add(F),this.onInitCallbacks.set(ce,oe);const Ee=this.instances.get(ce);return Ee&&F(Ee,ce),()=>{oe.delete(F)}}invokeOnInitCallbacks(F,j){const H=this.onInitCallbacks.get(j);if(H)for(const ce of H)try{ce(F,j)}catch(oe){}}getOrInitializeService({instanceIdentifier:F,options:j={}}){let H=this.instances.get(F);if(!H&&this.component&&(H=this.component.instanceFactory(this.container,{instanceIdentifier:(X=F,X===he?void 0:X),options:j}),this.instances.set(F,H),this.instancesOptions.set(F,j),this.invokeOnInitCallbacks(H,F),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,F,H)}catch(ce){}var X;return H||null}normalizeInstanceIdentifier(F=he){return this.component?this.component.multipleInstances?F:he:F}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Q{constructor(F){this.name=F,this.providers=new Map}addComponent(F){const j=this.getProvider(F.name);if(j.isComponentSet())throw new Error(`Component ${F.name} has already been registered with ${this.name}`);j.setComponent(F)}addOrOverwriteComponent(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)}getProvider(F){if(this.providers.has(F))return this.providers.get(F);const j=new le(F,this);return this.providers.set(F,j),j}getProviders(){return Array.from(this.providers.values())}}},5422:(Ye,Te,V)=>{"use strict";V.d(Te,{in:()=>re,Yd:()=>ie,Ub:()=>Q,Am:()=>X});const u=[];var re=(()=>{return(F=re||(re={}))[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT",re;var F})();const L={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},he=re.INFO,le={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},ee=(F,j,...H)=>{if(j<F.logLevel)return;const ce=(new Date).toISOString(),oe=le[j];if(!oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[oe](`[${ce}]  ${F.name}:`,...H)};class ie{constructor(j){this.name=j,this._logLevel=he,this._logHandler=ee,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in re))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?L[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...j),this._logHandler(this,re.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...j),this._logHandler(this,re.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,re.INFO,...j),this._logHandler(this,re.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,re.WARN,...j),this._logHandler(this,re.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...j),this._logHandler(this,re.ERROR,...j)}}function Q(F){u.forEach(j=>{j.setLogLevel(F)})}function X(F,j){for(const H of u){let ce=null;j&&j.level&&(ce=L[j.level]),H.userLogHandler=null===F?null:(oe,Ee,...Ce)=>{const _e=Ce.map(se=>{if(null==se)return null;if("string"==typeof se)return se;if("number"==typeof se||"boolean"==typeof se)return se.toString();if(se instanceof Error)return se.message;try{return JSON.stringify(se)}catch(we){return null}}).filter(se=>se).join(" ");Ee>=(null!=ce?ce:oe.logLevel)&&F({level:re[Ee].toLowerCase(),message:_e,args:Ce,type:oe.name})}}}},8239:(Ye,Te,V)=>{"use strict";function u(L,he,le,ee,ie,Q,X){try{var F=L[Q](X),j=F.value}catch(H){return void le(H)}F.done?he(j):Promise.resolve(j).then(ee,ie)}function re(L){return function(){var he=this,le=arguments;return new Promise(function(ee,ie){var Q=L.apply(he,le);function X(j){u(Q,ee,ie,X,F,"next",j)}function F(j){u(Q,ee,ie,X,F,"throw",j)}X(void 0)})}}V.d(Te,{Z:()=>re})}},Ye=>{Ye(Ye.s=6463)}]);